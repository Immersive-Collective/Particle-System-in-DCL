"use strict";var Wd=Object.create;var Br=Object.defineProperty;var Vd=Object.getOwnPropertyDescriptor;var Gd=Object.getOwnPropertyNames;var Hd=Object.getPrototypeOf,qd=Object.prototype.hasOwnProperty;var $e=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),jd=(e,n)=>{for(var r in n)Br(e,r,{get:n[r],enumerable:!0})},Rc=(e,n,r,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Gd(n))!qd.call(e,i)&&i!==r&&Br(e,i,{get:()=>n[i],enumerable:!(t=Vd(n,i))||t.enumerable});return e};var fe=(e,n,r)=>(r=e!=null?Wd(Hd(e)):{},Rc(n||!e||!e.__esModule?Br(r,"default",{value:e,enumerable:!0}):r,e)),$d=e=>Rc(Br({},"__esModule",{value:!0}),e);var Ac=$e((f0,kc)=>{"use strict";kc.exports=Yd;function Yd(e,n){for(var r=new Array(arguments.length-1),t=0,i=2,o=!0;i<arguments.length;)r[t++]=arguments[i++];return new Promise(function(c,a){r[t]=function(d){if(o)if(o=!1,d)a(d);else{for(var g=new Array(arguments.length-1),E=0;E<g.length;)g[E++]=arguments[E];c.apply(null,g)}};try{e.apply(n||null,r)}catch(f){o&&(o=!1,a(f))}})}});var Oc=$e(Nc=>{"use strict";var Mr=Nc;Mr.length=function(n){var r=n.length;if(!r)return 0;for(var t=0;--r%4>1&&n.charAt(r)==="=";)++t;return Math.ceil(n.length*3)/4-t};var Vn=new Array(64),Ic=new Array(123);for(wt=0;wt<64;)Ic[Vn[wt]=wt<26?wt+65:wt<52?wt+71:wt<62?wt-4:wt-59|43]=wt++;var wt;Mr.encode=function(n,r,t){for(var i=null,o=[],s=0,c=0,a;r<t;){var f=n[r++];switch(c){case 0:o[s++]=Vn[f>>2],a=(f&3)<<4,c=1;break;case 1:o[s++]=Vn[a|f>>4],a=(f&15)<<2,c=2;break;case 2:o[s++]=Vn[a|f>>6],o[s++]=Vn[f&63],c=0;break}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0)}return c&&(o[s++]=Vn[a],o[s++]=61,c===1&&(o[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var wc="invalid encoding";Mr.decode=function(n,r,t){for(var i=t,o=0,s,c=0;c<n.length;){var a=n.charCodeAt(c++);if(a===61&&o>1)break;if((a=Ic[a])===void 0)throw Error(wc);switch(o){case 0:s=a,o=1;break;case 1:r[t++]=s<<2|(a&48)>>4,s=a,o=2;break;case 2:r[t++]=(s&15)<<4|(a&60)>>2,s=a,o=3;break;case 3:r[t++]=(s&3)<<6|a,o=0;break}}if(o===1)throw Error(wc);return t-i};Mr.test=function(n){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(n)}});var Pc=$e((d0,Cc)=>{"use strict";Cc.exports=zr;function zr(){this._listeners={}}zr.prototype.on=function(n,r,t){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:r,ctx:t||this}),this};zr.prototype.off=function(n,r){if(n===void 0)this._listeners={};else if(r===void 0)this._listeners[n]=[];else for(var t=this._listeners[n],i=0;i<t.length;)t[i].fn===r?t.splice(i,1):++i;return this};zr.prototype.emit=function(n){var r=this._listeners[n];if(r){for(var t=[],i=1;i<arguments.length;)t.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,t)}return this}});var Lc=$e((l0,Fc)=>{"use strict";Fc.exports=Bc(Bc);function Bc(e){return typeof Float32Array<"u"?function(){var n=new Float32Array([-0]),r=new Uint8Array(n.buffer),t=r[3]===128;function i(a,f,d){n[0]=a,f[d]=r[0],f[d+1]=r[1],f[d+2]=r[2],f[d+3]=r[3]}function o(a,f,d){n[0]=a,f[d]=r[3],f[d+1]=r[2],f[d+2]=r[1],f[d+3]=r[0]}e.writeFloatLE=t?i:o,e.writeFloatBE=t?o:i;function s(a,f){return r[0]=a[f],r[1]=a[f+1],r[2]=a[f+2],r[3]=a[f+3],n[0]}function c(a,f){return r[3]=a[f],r[2]=a[f+1],r[1]=a[f+2],r[0]=a[f+3],n[0]}e.readFloatLE=t?s:c,e.readFloatBE=t?c:s}():function(){function n(t,i,o,s){var c=i<0?1:0;if(c&&(i=-i),i===0)t(1/i>0?0:2147483648,o,s);else if(isNaN(i))t(2143289344,o,s);else if(i>34028234663852886e22)t((c<<31|2139095040)>>>0,o,s);else if(i<11754943508222875e-54)t((c<<31|Math.round(i/1401298464324817e-60))>>>0,o,s);else{var a=Math.floor(Math.log(i)/Math.LN2),f=Math.round(i*Math.pow(2,-a)*8388608)&8388607;t((c<<31|a+127<<23|f)>>>0,o,s)}}e.writeFloatLE=n.bind(null,Mc),e.writeFloatBE=n.bind(null,zc);function r(t,i,o){var s=t(i,o),c=(s>>31)*2+1,a=s>>>23&255,f=s&8388607;return a===255?f?NaN:c*(1/0):a===0?c*1401298464324817e-60*f:c*Math.pow(2,a-150)*(f+8388608)}e.readFloatLE=r.bind(null,vc),e.readFloatBE=r.bind(null,Uc)}(),typeof Float64Array<"u"?function(){var n=new Float64Array([-0]),r=new Uint8Array(n.buffer),t=r[7]===128;function i(a,f,d){n[0]=a,f[d]=r[0],f[d+1]=r[1],f[d+2]=r[2],f[d+3]=r[3],f[d+4]=r[4],f[d+5]=r[5],f[d+6]=r[6],f[d+7]=r[7]}function o(a,f,d){n[0]=a,f[d]=r[7],f[d+1]=r[6],f[d+2]=r[5],f[d+3]=r[4],f[d+4]=r[3],f[d+5]=r[2],f[d+6]=r[1],f[d+7]=r[0]}e.writeDoubleLE=t?i:o,e.writeDoubleBE=t?o:i;function s(a,f){return r[0]=a[f],r[1]=a[f+1],r[2]=a[f+2],r[3]=a[f+3],r[4]=a[f+4],r[5]=a[f+5],r[6]=a[f+6],r[7]=a[f+7],n[0]}function c(a,f){return r[7]=a[f],r[6]=a[f+1],r[5]=a[f+2],r[4]=a[f+3],r[3]=a[f+4],r[2]=a[f+5],r[1]=a[f+6],r[0]=a[f+7],n[0]}e.readDoubleLE=t?s:c,e.readDoubleBE=t?c:s}():function(){function n(t,i,o,s,c,a){var f=s<0?1:0;if(f&&(s=-s),s===0)t(0,c,a+i),t(1/s>0?0:2147483648,c,a+o);else if(isNaN(s))t(0,c,a+i),t(2146959360,c,a+o);else if(s>17976931348623157e292)t(0,c,a+i),t((f<<31|2146435072)>>>0,c,a+o);else{var d;if(s<22250738585072014e-324)d=s/5e-324,t(d>>>0,c,a+i),t((f<<31|d/4294967296)>>>0,c,a+o);else{var g=Math.floor(Math.log(s)/Math.LN2);g===1024&&(g=1023),d=s*Math.pow(2,-g),t(d*4503599627370496>>>0,c,a+i),t((f<<31|g+1023<<20|d*1048576&1048575)>>>0,c,a+o)}}}e.writeDoubleLE=n.bind(null,Mc,0,4),e.writeDoubleBE=n.bind(null,zc,4,0);function r(t,i,o,s,c){var a=t(s,c+i),f=t(s,c+o),d=(f>>31)*2+1,g=f>>>20&2047,E=4294967296*(f&1048575)+a;return g===2047?E?NaN:d*(1/0):g===0?d*5e-324*E:d*Math.pow(2,g-1075)*(E+4503599627370496)}e.readDoubleLE=r.bind(null,vc,0,4),e.readDoubleBE=r.bind(null,Uc,4,0)}(),e}function Mc(e,n,r){n[r]=e&255,n[r+1]=e>>>8&255,n[r+2]=e>>>16&255,n[r+3]=e>>>24}function zc(e,n,r){n[r]=e>>>24,n[r+1]=e>>>16&255,n[r+2]=e>>>8&255,n[r+3]=e&255}function vc(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0}function Uc(e,n){return(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])>>>0}});var Dc=$e((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var vr=$e(Wc=>{"use strict";var Sa=Wc;Sa.length=function(n){for(var r=0,t=0,i=0;i<n.length;++i)t=n.charCodeAt(i),t<128?r+=1:t<2048?r+=2:(t&64512)===55296&&(n.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};Sa.read=function(n,r,t){var i=t-r;if(i<1)return"";for(var o=null,s=[],c=0,a;r<t;)a=n[r++],a<128?s[c++]=a:a>191&&a<224?s[c++]=(a&31)<<6|n[r++]&63:a>239&&a<365?(a=((a&7)<<18|(n[r++]&63)<<12|(n[r++]&63)<<6|n[r++]&63)-65536,s[c++]=55296+(a>>10),s[c++]=56320+(a&1023)):s[c++]=(a&15)<<12|(n[r++]&63)<<6|n[r++]&63,c>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),c=0);return o?(c&&o.push(String.fromCharCode.apply(String,s.slice(0,c))),o.join("")):String.fromCharCode.apply(String,s.slice(0,c))};Sa.write=function(n,r,t){for(var i=t,o,s,c=0;c<n.length;++c)o=n.charCodeAt(c),o<128?r[t++]=o:o<2048?(r[t++]=o>>6|192,r[t++]=o&63|128):(o&64512)===55296&&((s=n.charCodeAt(c+1))&64512)===56320?(o=65536+((o&1023)<<10)+(s&1023),++c,r[t++]=o>>18|240,r[t++]=o>>12&63|128,r[t++]=o>>6&63|128,r[t++]=o&63|128):(r[t++]=o>>12|224,r[t++]=o>>6&63|128,r[t++]=o&63|128);return t-i}});var Gc=$e((m0,Vc)=>{"use strict";Vc.exports=Jd;function Jd(e,n,r){var t=r||8192,i=t>>>1,o=null,s=t;return function(a){if(a<1||a>i)return e(a);s+a>t&&(o=e(t),s=0);var f=n.call(o,s,s+=a);return s&7&&(s=(s|7)+1),f}}});var qc=$e((h0,Hc)=>{"use strict";Hc.exports=Ye;var $o=Kt();function Ye(e,n){this.lo=e>>>0,this.hi=n>>>0}var An=Ye.zero=new Ye(0,0);An.toNumber=function(){return 0};An.zzEncode=An.zzDecode=function(){return this};An.length=function(){return 1};var Zd=Ye.zeroHash="\0\0\0\0\0\0\0\0";Ye.fromNumber=function(n){if(n===0)return An;var r=n<0;r&&(n=-n);var t=n>>>0,i=(n-t)/4294967296>>>0;return r&&(i=~i>>>0,t=~t>>>0,++t>4294967295&&(t=0,++i>4294967295&&(i=0))),new Ye(t,i)};Ye.from=function(n){if(typeof n=="number")return Ye.fromNumber(n);if($o.isString(n))if($o.Long)n=$o.Long.fromString(n);else return Ye.fromNumber(parseInt(n,10));return n.low||n.high?new Ye(n.low>>>0,n.high>>>0):An};Ye.prototype.toNumber=function(n){if(!n&&this.hi>>>31){var r=~this.lo+1>>>0,t=~this.hi>>>0;return r||(t=t+1>>>0),-(r+t*4294967296)}return this.lo+this.hi*4294967296};Ye.prototype.toLong=function(n){return $o.Long?new $o.Long(this.lo|0,this.hi|0,!!n):{low:this.lo|0,high:this.hi|0,unsigned:!!n}};var Qt=String.prototype.charCodeAt;Ye.fromHash=function(n){return n===Zd?An:new Ye((Qt.call(n,0)|Qt.call(n,1)<<8|Qt.call(n,2)<<16|Qt.call(n,3)<<24)>>>0,(Qt.call(n,4)|Qt.call(n,5)<<8|Qt.call(n,6)<<16|Qt.call(n,7)<<24)>>>0)};Ye.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Ye.prototype.zzEncode=function(){var n=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^n)>>>0,this.lo=(this.lo<<1^n)>>>0,this};Ye.prototype.zzDecode=function(){var n=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^n)>>>0,this.hi=(this.hi>>>1^n)>>>0,this};Ye.prototype.length=function(){var n=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?r===0?n<16384?n<128?1:2:n<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:t<128?9:10}});var Kt=$e(Ta=>{"use strict";var te=Ta;te.asPromise=Ac();te.base64=Oc();te.EventEmitter=Pc();te.float=Lc();te.inquire=Dc();te.utf8=vr();te.pool=Gc();te.LongBits=qc();te.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);te.global=te.isNode&&global||!1||typeof self<"u"&&self||Ta;te.emptyArray=Object.freeze?Object.freeze([]):[];te.emptyObject=Object.freeze?Object.freeze({}):{};te.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};te.isString=function(n){return typeof n=="string"||n instanceof String};te.isObject=function(n){return n&&typeof n=="object"};te.isset=te.isSet=function(n,r){var t=n[r];return t!=null&&n.hasOwnProperty(r)?typeof t!="object"||(Array.isArray(t)?t.length:Object.keys(t).length)>0:!1};te.Buffer=function(){try{var e=te.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();te._Buffer_from=null;te._Buffer_allocUnsafe=null;te.newBuffer=function(n){return typeof n=="number"?te.Buffer?te._Buffer_allocUnsafe(n):new te.Array(n):te.Buffer?te._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)};te.Array=typeof Uint8Array<"u"?Uint8Array:Array;te.Long=te.global.dcodeIO&&te.global.dcodeIO.Long||te.global.Long||te.inquire("long");te.key2Re=/^true|false|0|1$/;te.key32Re=/^-?(?:0|[1-9][0-9]*)$/;te.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;te.longToHash=function(n){return n?te.LongBits.from(n).toHash():te.LongBits.zeroHash};te.longFromHash=function(n,r){var t=te.LongBits.fromHash(n);return te.Long?te.Long.fromBits(t.lo,t.hi,r):t.toNumber(!!r)};function jc(e,n,r){for(var t=Object.keys(n),i=0;i<t.length;++i)(e[t[i]]===void 0||!r)&&(e[t[i]]=n[t[i]]);return e}te.merge=jc;te.lcFirst=function(n){return n.charAt(0).toLowerCase()+n.substring(1)};function $c(e){function n(r,t){if(!(this instanceof n))return new n(r,t);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),t&&jc(this,t)}return n.prototype=Object.create(Error.prototype,{constructor:{value:n,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),n}te.newError=$c;te.ProtocolError=$c("ProtocolError");te.oneOfGetter=function(n){for(var r={},t=0;t<n.length;++t)r[n[t]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(r[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};te.oneOfSetter=function(n){return function(r){for(var t=0;t<n.length;++t)n[t]!==r&&delete this[n[t]]}};te.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};te._configure=function(){var e=te.Buffer;if(!e){te._Buffer_from=te._Buffer_allocUnsafe=null;return}te._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,t){return new e(r,t)},te._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var Ia=$e((b0,Xc)=>{"use strict";Xc.exports=Te;var Tt=Kt(),ga,Ur=Tt.LongBits,Yc=Tt.base64,Jc=Tt.utf8;function Yo(e,n,r){this.fn=e,this.len=n,this.next=void 0,this.val=r}function Ra(){}function Xd(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Te(){this.len=0,this.head=new Yo(Ra,0,0),this.tail=this.head,this.states=null}var Zc=function(){return Tt.Buffer?function(){return(Te.create=function(){return new ga})()}:function(){return new Te}};Te.create=Zc();Te.alloc=function(n){return new Tt.Array(n)};Tt.Array!==Array&&(Te.alloc=Tt.pool(Te.alloc,Tt.Array.prototype.subarray));Te.prototype._push=function(n,r,t){return this.tail=this.tail.next=new Yo(n,r,t),this.len+=r,this};function ka(e,n,r){n[r]=e&255}function Qd(e,n,r){for(;e>127;)n[r++]=e&127|128,e>>>=7;n[r]=e}function Aa(e,n){this.len=e,this.next=void 0,this.val=n}Aa.prototype=Object.create(Yo.prototype);Aa.prototype.fn=Qd;Te.prototype.uint32=function(n){return this.len+=(this.tail=this.tail.next=new Aa((n=n>>>0)<128?1:n<16384?2:n<2097152?3:n<268435456?4:5,n)).len,this};Te.prototype.int32=function(n){return n<0?this._push(wa,10,Ur.fromNumber(n)):this.uint32(n)};Te.prototype.sint32=function(n){return this.uint32((n<<1^n>>31)>>>0)};function wa(e,n,r){for(;e.hi;)n[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)n[r++]=e.lo&127|128,e.lo=e.lo>>>7;n[r++]=e.lo}Te.prototype.uint64=function(n){var r=Ur.from(n);return this._push(wa,r.length(),r)};Te.prototype.int64=Te.prototype.uint64;Te.prototype.sint64=function(n){var r=Ur.from(n).zzEncode();return this._push(wa,r.length(),r)};Te.prototype.bool=function(n){return this._push(ka,1,n?1:0)};function _a(e,n,r){n[r]=e&255,n[r+1]=e>>>8&255,n[r+2]=e>>>16&255,n[r+3]=e>>>24}Te.prototype.fixed32=function(n){return this._push(_a,4,n>>>0)};Te.prototype.sfixed32=Te.prototype.fixed32;Te.prototype.fixed64=function(n){var r=Ur.from(n);return this._push(_a,4,r.lo)._push(_a,4,r.hi)};Te.prototype.sfixed64=Te.prototype.fixed64;Te.prototype.float=function(n){return this._push(Tt.float.writeFloatLE,4,n)};Te.prototype.double=function(n){return this._push(Tt.float.writeDoubleLE,8,n)};var Kd=Tt.Array.prototype.set?function(n,r,t){r.set(n,t)}:function(n,r,t){for(var i=0;i<n.length;++i)r[t+i]=n[i]};Te.prototype.bytes=function(n){var r=n.length>>>0;if(!r)return this._push(ka,1,0);if(Tt.isString(n)){var t=Te.alloc(r=Yc.length(n));Yc.decode(n,t,0),n=t}return this.uint32(r)._push(Kd,r,n)};Te.prototype.string=function(n){var r=Jc.length(n);return r?this.uint32(r)._push(Jc.write,r,n):this._push(ka,1,0)};Te.prototype.fork=function(){return this.states=new Xd(this),this.head=this.tail=new Yo(Ra,0,0),this.len=0,this};Te.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Yo(Ra,0,0),this.len=0),this};Te.prototype.ldelim=function(){var n=this.head,r=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=n.next,this.tail=r,this.len+=t),this};Te.prototype.finish=function(){for(var n=this.head.next,r=this.constructor.alloc(this.len),t=0;n;)n.fn(n.val,r,t),t+=n.len,n=n.next;return r};Te._configure=function(e){ga=e,Te.create=Zc(),ga._configure()}});var es=$e((E0,Kc)=>{"use strict";Kc.exports=zt;var Qc=Ia();(zt.prototype=Object.create(Qc.prototype)).constructor=zt;var en=Kt();function zt(){Qc.call(this)}zt._configure=function(){zt.alloc=en._Buffer_allocUnsafe,zt.writeBytesBuffer=en.Buffer&&en.Buffer.prototype instanceof Uint8Array&&en.Buffer.prototype.set.name==="set"?function(n,r,t){r.set(n,t)}:function(n,r,t){if(n.copy)n.copy(r,t,0,n.length);else for(var i=0;i<n.length;)r[t++]=n[i++]}};zt.prototype.bytes=function(n){en.isString(n)&&(n=en._Buffer_from(n,"base64"));var r=n.length>>>0;return this.uint32(r),r&&this._push(zt.writeBytesBuffer,r,n),this};function el(e,n,r){e.length<40?en.utf8.write(e,n,r):n.utf8Write?n.utf8Write(e,r):n.write(e,r)}zt.prototype.string=function(n){var r=en.Buffer.byteLength(n);return this.uint32(r),r&&this._push(el,r,n),this};zt._configure()});var Ca=$e((x0,is)=>{"use strict";is.exports=Ve;var It=Kt(),Oa,os=It.LongBits,tl=It.utf8;function Nt(e,n){return RangeError("index out of range: "+e.pos+" + "+(n||1)+" > "+e.len)}function Ve(e){this.buf=e,this.pos=0,this.len=e.length}var ts=typeof Uint8Array<"u"?function(n){if(n instanceof Uint8Array||Array.isArray(n))return new Ve(n);throw Error("illegal buffer")}:function(n){if(Array.isArray(n))return new Ve(n);throw Error("illegal buffer")},rs=function(){return It.Buffer?function(r){return(Ve.create=function(i){return It.Buffer.isBuffer(i)?new Oa(i):ts(i)})(r)}:ts};Ve.create=rs();Ve.prototype._slice=It.Array.prototype.subarray||It.Array.prototype.slice;Ve.prototype.uint32=function(){var n=4294967295;return function(){if(n=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(n=(n|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return n;if((this.pos+=5)>this.len)throw this.pos=this.len,Nt(this,10);return n}}();Ve.prototype.int32=function(){return this.uint32()|0};Ve.prototype.sint32=function(){var n=this.uint32();return n>>>1^-(n&1)|0};function Na(){var e=new os(0,0),n=0;if(this.len-this.pos>4){for(;n<4;++n)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;n=0}else{for(;n<3;++n){if(this.pos>=this.len)throw Nt(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<n*7)>>>0,e}if(this.len-this.pos>4){for(;n<5;++n)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;n<5;++n){if(this.pos>=this.len)throw Nt(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}Ve.prototype.bool=function(){return this.uint32()!==0};function Fr(e,n){return(e[n-4]|e[n-3]<<8|e[n-2]<<16|e[n-1]<<24)>>>0}Ve.prototype.fixed32=function(){if(this.pos+4>this.len)throw Nt(this,4);return Fr(this.buf,this.pos+=4)};Ve.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Nt(this,4);return Fr(this.buf,this.pos+=4)|0};function ns(){if(this.pos+8>this.len)throw Nt(this,8);return new os(Fr(this.buf,this.pos+=4),Fr(this.buf,this.pos+=4))}Ve.prototype.float=function(){if(this.pos+4>this.len)throw Nt(this,4);var n=It.float.readFloatLE(this.buf,this.pos);return this.pos+=4,n};Ve.prototype.double=function(){if(this.pos+8>this.len)throw Nt(this,4);var n=It.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,n};Ve.prototype.bytes=function(){var n=this.uint32(),r=this.pos,t=this.pos+n;if(t>this.len)throw Nt(this,n);if(this.pos+=n,Array.isArray(this.buf))return this.buf.slice(r,t);if(r===t){var i=It.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,t)};Ve.prototype.string=function(){var n=this.bytes();return tl.read(n,0,n.length)};Ve.prototype.skip=function(n){if(typeof n=="number"){if(this.pos+n>this.len)throw Nt(this,n);this.pos+=n}else do if(this.pos>=this.len)throw Nt(this);while(this.buf[this.pos++]&128);return this};Ve.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};Ve._configure=function(e){Oa=e,Ve.create=rs(),Oa._configure();var n=It.Long?"toLong":"toNumber";It.merge(Ve.prototype,{int64:function(){return Na.call(this)[n](!1)},uint64:function(){return Na.call(this)[n](!0)},sint64:function(){return Na.call(this).zzDecode()[n](!1)},fixed64:function(){return ns.call(this)[n](!0)},sfixed64:function(){return ns.call(this)[n](!1)}})}});var fs=$e((S0,ss)=>{"use strict";ss.exports=wn;var cs=Ca();(wn.prototype=Object.create(cs.prototype)).constructor=wn;var as=Kt();function wn(e){cs.call(this,e)}wn._configure=function(){as.Buffer&&(wn.prototype._slice=as.Buffer.prototype.slice)};wn.prototype.string=function(){var n=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+n,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+n,this.len))};wn._configure()});var ds=$e((T0,us)=>{"use strict";us.exports=Jo;var Pa=Kt();(Jo.prototype=Object.create(Pa.EventEmitter.prototype)).constructor=Jo;function Jo(e,n,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");Pa.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!n,this.responseDelimited=!!r}Jo.prototype.rpcCall=function e(n,r,t,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return Pa.asPromise(e,s,n,r,t,i);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(n,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(a,f){if(a)return s.emit("error",a,n),o(a);if(f===null){s.end(!0);return}if(!(f instanceof t))try{f=t[s.responseDelimited?"decodeDelimited":"decode"](f)}catch(d){return s.emit("error",d,n),o(d)}return s.emit("data",f,n),o(null,f)})}catch(c){s.emit("error",c,n),setTimeout(function(){o(c)},0);return}};Jo.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var ps=$e(ls=>{"use strict";var nl=ls;nl.Service=ds()});var hs=$e((_0,ms)=>{"use strict";ms.exports={}});var Es=$e(bs=>{"use strict";var it=bs;it.build="minimal";it.Writer=Ia();it.BufferWriter=es();it.Reader=Ca();it.BufferReader=fs();it.util=Kt();it.rpc=ps();it.roots=hs();it.configure=ys;function ys(){it.util._configure(),it.Writer._configure(it.BufferWriter),it.Reader._configure(it.BufferReader)}ys()});var ue=$e((k0,xs)=>{"use strict";xs.exports=Es()});var c0={};jd(c0,{main:()=>ra,onStart:()=>a0,onUpdate:()=>i0,rendererTransport:()=>aa});module.exports=$d(c0);var In=fe(ue());function ol(){return{states:[]}}var Gn;(function(e){function n(t,i=In.default.Writer.create()){for(let o of t.states)Lr.encode(o,i.uint32(10).fork()).ldelim();return i}e.encode=n;function r(t,i){let o=t instanceof In.default.Reader?t:In.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=ol();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.states.push(Lr.decode(o,o.uint32()));continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Gn||(Gn={}));function rl(){return{clip:"",playing:void 0,weight:void 0,speed:void 0,loop:void 0,shouldReset:void 0}}var Lr;(function(e){function n(t,i=In.default.Writer.create()){return t.clip!==""&&i.uint32(18).string(t.clip),t.playing!==void 0&&i.uint32(24).bool(t.playing),t.weight!==void 0&&i.uint32(37).float(t.weight),t.speed!==void 0&&i.uint32(45).float(t.speed),t.loop!==void 0&&i.uint32(48).bool(t.loop),t.shouldReset!==void 0&&i.uint32(56).bool(t.shouldReset),i}e.encode=n;function r(t,i){let o=t instanceof In.default.Reader?t:In.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=rl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 2:if(a!==18)break;c.clip=o.string();continue;case 3:if(a!==24)break;c.playing=o.bool();continue;case 4:if(a!==37)break;c.weight=o.float();continue;case 5:if(a!==45)break;c.speed=o.float();continue;case 6:if(a!==48)break;c.loop=o.bool();continue;case 7:if(a!==56)break;c.shouldReset=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Lr||(Lr={}));var Ss={COMPONENT_ID:1042,serialize(e,n){let r=Gn.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return Gn.decode(e.buffer(),e.remainingBytes())},create(){return Gn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"}};var Dr=fe(ue());function il(){return{playing:void 0,volume:void 0,loop:void 0,pitch:void 0,audioClipUrl:""}}var Hn;(function(e){function n(t,i=Dr.default.Writer.create()){return t.playing!==void 0&&i.uint32(8).bool(t.playing),t.volume!==void 0&&i.uint32(21).float(t.volume),t.loop!==void 0&&i.uint32(24).bool(t.loop),t.pitch!==void 0&&i.uint32(37).float(t.pitch),t.audioClipUrl!==""&&i.uint32(42).string(t.audioClipUrl),i}e.encode=n;function r(t,i){let o=t instanceof Dr.default.Reader?t:Dr.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=il();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.playing=o.bool();continue;case 2:if(a!==21)break;c.volume=o.float();continue;case 3:if(a!==24)break;c.loop=o.bool();continue;case 4:if(a!==37)break;c.pitch=o.float();continue;case 5:if(a!==42)break;c.audioClipUrl=o.string();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Hn||(Hn={}));var Ts={COMPONENT_ID:1020,serialize(e,n){let r=Hn.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return Hn.decode(e.buffer(),e.remainingBytes())},create(){return Hn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioSource"}};var Wr=fe(ue());function al(){return{playing:void 0,volume:void 0,url:""}}var qn;(function(e){function n(t,i=Wr.default.Writer.create()){return t.playing!==void 0&&i.uint32(8).bool(t.playing),t.volume!==void 0&&i.uint32(21).float(t.volume),t.url!==""&&i.uint32(26).string(t.url),i}e.encode=n;function r(t,i){let o=t instanceof Wr.default.Reader?t:Wr.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=al();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.playing=o.bool();continue;case 2:if(a!==21)break;c.volume=o.float();continue;case 3:if(a!==26)break;c.url=o.string();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(qn||(qn={}));var gs={COMPONENT_ID:1021,serialize(e,n){let r=qn.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return qn.decode(e.buffer(),e.remainingBytes())},create(){return qn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioStream"}};var Vr=fe(ue());var jn;(function(e){e[e.AAPT_POSITION=0]="AAPT_POSITION",e[e.AAPT_NAME_TAG=1]="AAPT_NAME_TAG",e[e.AAPT_LEFT_HAND=2]="AAPT_LEFT_HAND",e[e.AAPT_RIGHT_HAND=3]="AAPT_RIGHT_HAND"})(jn||(jn={}));function cl(){return{avatarId:void 0,anchorPointId:0}}var $n;(function(e){function n(t,i=Vr.default.Writer.create()){return t.avatarId!==void 0&&i.uint32(10).string(t.avatarId),t.anchorPointId!==0&&i.uint32(16).int32(t.anchorPointId),i}e.encode=n;function r(t,i){let o=t instanceof Vr.default.Reader?t:Vr.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=cl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.avatarId=o.string();continue;case 2:if(a!==16)break;c.anchorPointId=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})($n||($n={}));var _s={COMPONENT_ID:1073,serialize(e,n){let r=$n.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return $n.decode(e.buffer(),e.remainingBytes())},create(){return $n.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarAttach"}};var Gr=fe(ue());var ut=fe(ue());function sl(){return{x:0,y:0,z:0}}var Rs;(function(e){function n(t,i=ut.default.Writer.create()){return t.x!==0&&i.uint32(13).float(t.x),t.y!==0&&i.uint32(21).float(t.y),t.z!==0&&i.uint32(29).float(t.z),i}e.encode=n;function r(t,i){let o=t instanceof ut.default.Reader?t:ut.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=sl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.x=o.float();continue;case 2:if(a!==21)break;c.y=o.float();continue;case 3:if(a!==29)break;c.z=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Rs||(Rs={}));function fl(){return{x:0,y:0,z:0}}var he;(function(e){function n(t,i=ut.default.Writer.create()){return t.x!==0&&i.uint32(13).float(t.x),t.y!==0&&i.uint32(21).float(t.y),t.z!==0&&i.uint32(29).float(t.z),i}e.encode=n;function r(t,i){let o=t instanceof ut.default.Reader?t:ut.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=fl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.x=o.float();continue;case 2:if(a!==21)break;c.y=o.float();continue;case 3:if(a!==29)break;c.z=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(he||(he={}));function ul(){return{x:0,y:0}}var ks;(function(e){function n(t,i=ut.default.Writer.create()){return t.x!==0&&i.uint32(13).float(t.x),t.y!==0&&i.uint32(21).float(t.y),i}e.encode=n;function r(t,i){let o=t instanceof ut.default.Reader?t:ut.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=ul();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.x=o.float();continue;case 2:if(a!==21)break;c.y=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ks||(ks={}));function dl(){return{x:0,y:0,z:0,w:0}}var Nn;(function(e){function n(t,i=ut.default.Writer.create()){return t.x!==0&&i.uint32(13).float(t.x),t.y!==0&&i.uint32(21).float(t.y),t.z!==0&&i.uint32(29).float(t.z),t.w!==0&&i.uint32(37).float(t.w),i}e.encode=n;function r(t,i){let o=t instanceof ut.default.Reader?t:ut.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=dl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.x=o.float();continue;case 2:if(a!==21)break;c.y=o.float();continue;case 3:if(a!==29)break;c.z=o.float();continue;case 4:if(a!==37)break;c.w=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Nn||(Nn={}));var As;(function(e){e[e.AMT_HIDE_AVATARS=0]="AMT_HIDE_AVATARS",e[e.AMT_DISABLE_PASSPORTS=1]="AMT_DISABLE_PASSPORTS"})(As||(As={}));function ll(){return{area:void 0,excludeIds:[],modifiers:[]}}var Yn;(function(e){function n(t,i=Gr.default.Writer.create()){t.area!==void 0&&he.encode(t.area,i.uint32(10).fork()).ldelim();for(let o of t.excludeIds)i.uint32(18).string(o);i.uint32(26).fork();for(let o of t.modifiers)i.int32(o);return i.ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof Gr.default.Reader?t:Gr.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=ll();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.area=he.decode(o,o.uint32());continue;case 2:if(a!==18)break;c.excludeIds.push(o.string());continue;case 3:if(a===24){c.modifiers.push(o.int32());continue}if(a===26){let f=o.uint32()+o.pos;for(;o.pos<f;)c.modifiers.push(o.int32());continue}break}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Yn||(Yn={}));var ws={COMPONENT_ID:1070,serialize(e,n){let r=Yn.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return Yn.decode(e.buffer(),e.remainingBytes())},create(){return Yn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarModifierArea"}};var gt=null;try{gt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Oe(e,n,r){this.low=e|0,this.high=n|0,this.unsigned=!!r}Oe.prototype.__isLong__;Object.defineProperty(Oe.prototype,"__isLong__",{value:!0});function Ke(e){return(e&&e.__isLong__)===!0}function Is(e){var n=Math.clz32(e&-e);return e?31-n:n}Oe.isLong=Ke;var Ns={},Os={};function On(e,n){var r,t,i;return n?(e>>>=0,(i=0<=e&&e<256)&&(t=Os[e],t)?t:(r=ge(e,0,!0),i&&(Os[e]=r),r)):(e|=0,(i=-128<=e&&e<128)&&(t=Ns[e],t)?t:(r=ge(e,e<0?-1:0,!1),i&&(Ns[e]=r),r))}Oe.fromInt=On;function _t(e,n){if(isNaN(e))return n?Ht:Ot;if(n){if(e<0)return Ht;if(e>=Ms)return Us}else{if(e<=-Ps)return at;if(e+1>=Ps)return vs}return e<0?_t(-e,n).neg():ge(e%Zn|0,e/Zn|0,n)}Oe.fromNumber=_t;function ge(e,n,r){return new Oe(e,n,r)}Oe.fromBits=ge;var Hr=Math.pow;function Ma(e,n,r){if(e.length===0)throw Error("empty string");if(typeof n=="number"?(r=n,n=!1):n=!!n,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return n?Ht:Ot;if(r=r||10,r<2||36<r)throw RangeError("radix");var t;if((t=e.indexOf("-"))>0)throw Error("interior hyphen");if(t===0)return Ma(e.substring(1),n,r).neg();for(var i=_t(Hr(r,8)),o=Ot,s=0;s<e.length;s+=8){var c=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+c),r);if(c<8){var f=_t(Hr(r,c));o=o.mul(f).add(_t(a))}else o=o.mul(i),o=o.add(_t(a))}return o.unsigned=n,o}Oe.fromString=Ma;function Ct(e,n){return typeof e=="number"?_t(e,n):typeof e=="string"?Ma(e,n):ge(e.low,e.high,typeof n=="boolean"?n:e.unsigned)}Oe.fromValue=Ct;var Cs=65536,pl=1<<24,Zn=Cs*Cs,Ms=Zn*Zn,Ps=Ms/2,Bs=On(pl),Ot=On(0);Oe.ZERO=Ot;var Ht=On(0,!0);Oe.UZERO=Ht;var Jn=On(1);Oe.ONE=Jn;var zs=On(1,!0);Oe.UONE=zs;var Ba=On(-1);Oe.NEG_ONE=Ba;var vs=ge(-1,2147483647,!1);Oe.MAX_VALUE=vs;var Us=ge(-1,-1,!0);Oe.MAX_UNSIGNED_VALUE=Us;var at=ge(0,-2147483648,!1);Oe.MIN_VALUE=at;var W=Oe.prototype;W.toInt=function(){return this.unsigned?this.low>>>0:this.low};W.toNumber=function(){return this.unsigned?(this.high>>>0)*Zn+(this.low>>>0):this.high*Zn+(this.low>>>0)};W.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(at)){var r=_t(n),t=this.div(r),i=t.mul(r).sub(this);return t.toString(n)+i.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var o=_t(Hr(n,6),this.unsigned),s=this,c="";;){var a=s.div(o),f=s.sub(a.mul(o)).toInt()>>>0,d=f.toString(n);if(s=a,s.isZero())return d+c;for(;d.length<6;)d="0"+d;c=""+d+c}};W.getHighBits=function(){return this.high};W.getHighBitsUnsigned=function(){return this.high>>>0};W.getLowBits=function(){return this.low};W.getLowBitsUnsigned=function(){return this.low>>>0};W.getNumBitsAbs=function(){if(this.isNegative())return this.eq(at)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,r=31;r>0&&!(n&1<<r);r--);return this.high!=0?r+33:r+1};W.isZero=function(){return this.high===0&&this.low===0};W.eqz=W.isZero;W.isNegative=function(){return!this.unsigned&&this.high<0};W.isPositive=function(){return this.unsigned||this.high>=0};W.isOdd=function(){return(this.low&1)===1};W.isEven=function(){return(this.low&1)===0};W.equals=function(n){return Ke(n)||(n=Ct(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};W.eq=W.equals;W.notEquals=function(n){return!this.eq(n)};W.neq=W.notEquals;W.ne=W.notEquals;W.lessThan=function(n){return this.comp(n)<0};W.lt=W.lessThan;W.lessThanOrEqual=function(n){return this.comp(n)<=0};W.lte=W.lessThanOrEqual;W.le=W.lessThanOrEqual;W.greaterThan=function(n){return this.comp(n)>0};W.gt=W.greaterThan;W.greaterThanOrEqual=function(n){return this.comp(n)>=0};W.gte=W.greaterThanOrEqual;W.ge=W.greaterThanOrEqual;W.compare=function(n){if(Ke(n)||(n=Ct(n)),this.eq(n))return 0;var r=this.isNegative(),t=n.isNegative();return r&&!t?-1:!r&&t?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};W.comp=W.compare;W.negate=function(){return!this.unsigned&&this.eq(at)?at:this.not().add(Jn)};W.neg=W.negate;W.add=function(n){Ke(n)||(n=Ct(n));var r=this.high>>>16,t=this.high&65535,i=this.low>>>16,o=this.low&65535,s=n.high>>>16,c=n.high&65535,a=n.low>>>16,f=n.low&65535,d=0,g=0,E=0,C=0;return C+=o+f,E+=C>>>16,C&=65535,E+=i+a,g+=E>>>16,E&=65535,g+=t+c,d+=g>>>16,g&=65535,d+=r+s,d&=65535,ge(E<<16|C,d<<16|g,this.unsigned)};W.subtract=function(n){return Ke(n)||(n=Ct(n)),this.add(n.neg())};W.sub=W.subtract;W.multiply=function(n){if(this.isZero())return this;if(Ke(n)||(n=Ct(n)),gt){var r=gt.mul(this.low,this.high,n.low,n.high);return ge(r,gt.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?Ht:Ot;if(this.eq(at))return n.isOdd()?at:Ot;if(n.eq(at))return this.isOdd()?at:Ot;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(Bs)&&n.lt(Bs))return _t(this.toNumber()*n.toNumber(),this.unsigned);var t=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,c=n.high>>>16,a=n.high&65535,f=n.low>>>16,d=n.low&65535,g=0,E=0,C=0,S=0;return S+=s*d,C+=S>>>16,S&=65535,C+=o*d,E+=C>>>16,C&=65535,C+=s*f,E+=C>>>16,C&=65535,E+=i*d,g+=E>>>16,E&=65535,E+=o*f,g+=E>>>16,E&=65535,E+=s*a,g+=E>>>16,E&=65535,g+=t*d+i*f+o*a+s*c,g&=65535,ge(C<<16|S,g<<16|E,this.unsigned)};W.mul=W.multiply;W.divide=function(n){if(Ke(n)||(n=Ct(n)),n.isZero())throw Error("division by zero");if(gt){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var r=(this.unsigned?gt.div_u:gt.div_s)(this.low,this.high,n.low,n.high);return ge(r,gt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ht:Ot;var t,i,o;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return Ht;if(n.gt(this.shru(1)))return zs;o=Ht}else{if(this.eq(at)){if(n.eq(Jn)||n.eq(Ba))return at;if(n.eq(at))return Jn;var s=this.shr(1);return t=s.div(n).shl(1),t.eq(Ot)?n.isNegative()?Jn:Ba:(i=this.sub(n.mul(t)),o=t.add(i.div(n)),o)}else if(n.eq(at))return this.unsigned?Ht:Ot;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();o=Ot}for(i=this;i.gte(n);){t=Math.max(1,Math.floor(i.toNumber()/n.toNumber()));for(var c=Math.ceil(Math.log(t)/Math.LN2),a=c<=48?1:Hr(2,c-48),f=_t(t),d=f.mul(n);d.isNegative()||d.gt(i);)t-=a,f=_t(t,this.unsigned),d=f.mul(n);f.isZero()&&(f=Jn),o=o.add(f),i=i.sub(d)}return o};W.div=W.divide;W.modulo=function(n){if(Ke(n)||(n=Ct(n)),gt){var r=(this.unsigned?gt.rem_u:gt.rem_s)(this.low,this.high,n.low,n.high);return ge(r,gt.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};W.mod=W.modulo;W.rem=W.modulo;W.not=function(){return ge(~this.low,~this.high,this.unsigned)};W.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};W.clz=W.countLeadingZeros;W.countTrailingZeros=function(){return this.low?Is(this.low):Is(this.high)+32};W.ctz=W.countTrailingZeros;W.and=function(n){return Ke(n)||(n=Ct(n)),ge(this.low&n.low,this.high&n.high,this.unsigned)};W.or=function(n){return Ke(n)||(n=Ct(n)),ge(this.low|n.low,this.high|n.high,this.unsigned)};W.xor=function(n){return Ke(n)||(n=Ct(n)),ge(this.low^n.low,this.high^n.high,this.unsigned)};W.shiftLeft=function(n){return Ke(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?ge(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):ge(0,this.low<<n-32,this.unsigned)};W.shl=W.shiftLeft;W.shiftRight=function(n){return Ke(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?ge(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):ge(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};W.shr=W.shiftRight;W.shiftRightUnsigned=function(n){return Ke(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?ge(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?ge(this.high,0,this.unsigned):ge(this.high>>>n-32,0,this.unsigned)};W.shru=W.shiftRightUnsigned;W.shr_u=W.shiftRightUnsigned;W.rotateLeft=function(n){var r;return Ke(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?ge(this.high,this.low,this.unsigned):n<32?(r=32-n,ge(this.low<<n|this.high>>>r,this.high<<n|this.low>>>r,this.unsigned)):(n-=32,r=32-n,ge(this.high<<n|this.low>>>r,this.low<<n|this.high>>>r,this.unsigned))};W.rotl=W.rotateLeft;W.rotateRight=function(n){var r;return Ke(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?ge(this.high,this.low,this.unsigned):n<32?(r=32-n,ge(this.high<<r|this.low>>>n,this.low<<r|this.high>>>n,this.unsigned)):(n-=32,r=32-n,ge(this.low<<r|this.high>>>n,this.high<<r|this.low>>>n,this.unsigned))};W.rotr=W.rotateRight;W.toSigned=function(){return this.unsigned?ge(this.low,this.high,!1):this};W.toUnsigned=function(){return this.unsigned?this:ge(this.low,this.high,!0)};W.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};W.toBytesLE=function(){var n=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};W.toBytesBE=function(){var n=this.high,r=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};Oe.fromBytes=function(n,r,t){return t?Oe.fromBytesLE(n,r):Oe.fromBytesBE(n,r)};Oe.fromBytesLE=function(n,r){return new Oe(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,r)};Oe.fromBytesBE=function(n,r){return new Oe(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],r)};var za=Oe;var Pn=fe(ue());var Cn=fe(ue());function ml(){return{r:0,g:0,b:0}}var ve;(function(e){function n(t,i=Cn.default.Writer.create()){return t.r!==0&&i.uint32(13).float(t.r),t.g!==0&&i.uint32(21).float(t.g),t.b!==0&&i.uint32(29).float(t.b),i}e.encode=n;function r(t,i){let o=t instanceof Cn.default.Reader?t:Cn.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=ml();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.r=o.float();continue;case 2:if(a!==21)break;c.g=o.float();continue;case 3:if(a!==29)break;c.b=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ve||(ve={}));function hl(){return{r:0,g:0,b:0,a:0}}var Pe;(function(e){function n(t,i=Cn.default.Writer.create()){return t.r!==0&&i.uint32(13).float(t.r),t.g!==0&&i.uint32(21).float(t.g),t.b!==0&&i.uint32(29).float(t.b),t.a!==0&&i.uint32(37).float(t.a),i}e.encode=n;function r(t,i){let o=t instanceof Cn.default.Reader?t:Cn.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=hl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.r=o.float();continue;case 2:if(a!==21)break;c.g=o.float();continue;case 3:if(a!==29)break;c.b=o.float();continue;case 4:if(a!==37)break;c.a=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Pe||(Pe={}));function yl(){return{id:"",name:void 0,bodyShape:void 0,skinColor:void 0,hairColor:void 0,eyeColor:void 0,expressionTriggerId:void 0,expressionTriggerTimestamp:void 0,talking:void 0,wearables:[],emotes:[]}}var Xn;(function(e){function n(t,i=Pn.default.Writer.create()){t.id!==""&&i.uint32(10).string(t.id),t.name!==void 0&&i.uint32(18).string(t.name),t.bodyShape!==void 0&&i.uint32(26).string(t.bodyShape),t.skinColor!==void 0&&ve.encode(t.skinColor,i.uint32(34).fork()).ldelim(),t.hairColor!==void 0&&ve.encode(t.hairColor,i.uint32(42).fork()).ldelim(),t.eyeColor!==void 0&&ve.encode(t.eyeColor,i.uint32(50).fork()).ldelim(),t.expressionTriggerId!==void 0&&i.uint32(58).string(t.expressionTriggerId),t.expressionTriggerTimestamp!==void 0&&i.uint32(64).int64(t.expressionTriggerTimestamp),t.talking!==void 0&&i.uint32(72).bool(t.talking);for(let o of t.wearables)i.uint32(82).string(o);for(let o of t.emotes)i.uint32(90).string(o);return i}e.encode=n;function r(t,i){let o=t instanceof Pn.default.Reader?t:Pn.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=yl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.id=o.string();continue;case 2:if(a!==18)break;c.name=o.string();continue;case 3:if(a!==26)break;c.bodyShape=o.string();continue;case 4:if(a!==34)break;c.skinColor=ve.decode(o,o.uint32());continue;case 5:if(a!==42)break;c.hairColor=ve.decode(o,o.uint32());continue;case 6:if(a!==50)break;c.eyeColor=ve.decode(o,o.uint32());continue;case 7:if(a!==58)break;c.expressionTriggerId=o.string();continue;case 8:if(a!==64)break;c.expressionTriggerTimestamp=El(o.int64());continue;case 9:if(a!==72)break;c.talking=o.bool();continue;case 10:if(a!==82)break;c.wearables.push(o.string());continue;case 11:if(a!==90)break;c.emotes.push(o.string());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Xn||(Xn={}));var bl=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function El(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new bl.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}Pn.default.util.Long!==za&&(Pn.default.util.Long=za,Pn.default.configure());var Fs={COMPONENT_ID:1080,serialize(e,n){let r=Xn.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return Xn.decode(e.buffer(),e.remainingBytes())},create(){return Xn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarShape"}};var qr=fe(ue());var Ls;(function(e){e[e.BM_NONE=0]="BM_NONE",e[e.BM_X=1]="BM_X",e[e.BM_Y=2]="BM_Y",e[e.BM_Z=4]="BM_Z",e[e.BM_ALL=7]="BM_ALL"})(Ls||(Ls={}));function xl(){return{billboardMode:void 0}}var Qn;(function(e){function n(t,i=qr.default.Writer.create()){return t.billboardMode!==void 0&&i.uint32(8).int32(t.billboardMode),i}e.encode=n;function r(t,i){let o=t instanceof qr.default.Reader?t:qr.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=xl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.billboardMode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Qn||(Qn={}));var Ds={COMPONENT_ID:1090,serialize(e,n){let r=Qn.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return Qn.decode(e.buffer(),e.remainingBytes())},create(){return Qn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBBillboard"}};var jr=fe(ue());function Sl(){return{mode:0}}var Kn;(function(e){function n(t,i=jr.default.Writer.create()){return t.mode!==0&&i.uint32(8).int32(t.mode),i}e.encode=n;function r(t,i){let o=t instanceof jr.default.Reader?t:jr.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Sl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.mode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Kn||(Kn={}));var Ws={COMPONENT_ID:1072,serialize(e,n){let r=Kn.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return Kn.decode(e.buffer(),e.remainingBytes())},create(){return Kn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraMode"}};var $r=fe(ue());function Tl(){return{area:void 0,mode:0}}var eo;(function(e){function n(t,i=$r.default.Writer.create()){return t.area!==void 0&&he.encode(t.area,i.uint32(10).fork()).ldelim(),t.mode!==0&&i.uint32(16).int32(t.mode),i}e.encode=n;function r(t,i){let o=t instanceof $r.default.Reader?t:$r.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Tl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.area=he.decode(o,o.uint32());continue;case 2:if(a!==16)break;c.mode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(eo||(eo={}));var Vs={COMPONENT_ID:1071,serialize(e,n){let r=eo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return eo.decode(e.buffer(),e.remainingBytes())},create(){return eo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraModeArea"}};var Yr=fe(ue());function gl(){return{frameNumber:0,totalRuntime:0,tickNumber:0}}var to;(function(e){function n(t,i=Yr.default.Writer.create()){return t.frameNumber!==0&&i.uint32(8).uint32(t.frameNumber),t.totalRuntime!==0&&i.uint32(21).float(t.totalRuntime),t.tickNumber!==0&&i.uint32(24).uint32(t.tickNumber),i}e.encode=n;function r(t,i){let o=t instanceof Yr.default.Reader?t:Yr.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=gl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.frameNumber=o.uint32();continue;case 2:if(a!==21)break;c.totalRuntime=o.float();continue;case 3:if(a!==24)break;c.tickNumber=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(to||(to={}));var Gs={COMPONENT_ID:1048,serialize(e,n){let r=to.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return to.decode(e.buffer(),e.remainingBytes())},create(){return to.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBEngineInfo"}};var Jr=fe(ue());function _l(){return{src:"",visibleMeshesCollisionMask:void 0,invisibleMeshesCollisionMask:void 0}}var no;(function(e){function n(t,i=Jr.default.Writer.create()){return t.src!==""&&i.uint32(10).string(t.src),t.visibleMeshesCollisionMask!==void 0&&i.uint32(32).uint32(t.visibleMeshesCollisionMask),t.invisibleMeshesCollisionMask!==void 0&&i.uint32(40).uint32(t.invisibleMeshesCollisionMask),i}e.encode=n;function r(t,i){let o=t instanceof Jr.default.Reader?t:Jr.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=_l();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.src=o.string();continue;case 4:if(a!==32)break;c.visibleMeshesCollisionMask=o.uint32();continue;case 5:if(a!==40)break;c.invisibleMeshesCollisionMask=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(no||(no={}));var Hs={COMPONENT_ID:1041,serialize(e,n){let r=no.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return no.decode(e.buffer(),e.remainingBytes())},create(){return no.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"}};var Zr=fe(ue());function Rl(){return{currentState:0}}var oo;(function(e){function n(t,i=Zr.default.Writer.create()){return t.currentState!==0&&i.uint32(8).int32(t.currentState),i}e.encode=n;function r(t,i){let o=t instanceof Zr.default.Reader?t:Zr.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Rl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.currentState=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(oo||(oo={}));var qs={COMPONENT_ID:1049,serialize(e,n){let r=oo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return oo.decode(e.buffer(),e.remainingBytes())},create(){return oo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainerLoadingState"}};var vt=fe(ue());var dt=fe(ue());var js;(function(e){e[e.TWM_REPEAT=0]="TWM_REPEAT",e[e.TWM_CLAMP=1]="TWM_CLAMP",e[e.TWM_MIRROR=2]="TWM_MIRROR"})(js||(js={}));var $s;(function(e){e[e.TFM_POINT=0]="TFM_POINT",e[e.TFM_BILINEAR=1]="TFM_BILINEAR",e[e.TFM_TRILINEAR=2]="TFM_TRILINEAR"})($s||($s={}));function kl(){return{src:"",wrapMode:void 0,filterMode:void 0}}var Xr;(function(e){function n(t,i=dt.default.Writer.create()){return t.src!==""&&i.uint32(10).string(t.src),t.wrapMode!==void 0&&i.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&i.uint32(24).int32(t.filterMode),i}e.encode=n;function r(t,i){let o=t instanceof dt.default.Reader?t:dt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=kl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.src=o.string();continue;case 2:if(a!==16)break;c.wrapMode=o.int32();continue;case 3:if(a!==24)break;c.filterMode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Xr||(Xr={}));function Al(){return{userId:"",wrapMode:void 0,filterMode:void 0}}var Qr;(function(e){function n(t,i=dt.default.Writer.create()){return t.userId!==""&&i.uint32(10).string(t.userId),t.wrapMode!==void 0&&i.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&i.uint32(24).int32(t.filterMode),i}e.encode=n;function r(t,i){let o=t instanceof dt.default.Reader?t:dt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Al();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.userId=o.string();continue;case 2:if(a!==16)break;c.wrapMode=o.int32();continue;case 3:if(a!==24)break;c.filterMode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Qr||(Qr={}));function wl(){return{videoPlayerEntity:0,wrapMode:void 0,filterMode:void 0}}var Kr;(function(e){function n(t,i=dt.default.Writer.create()){return t.videoPlayerEntity!==0&&i.uint32(8).uint32(t.videoPlayerEntity),t.wrapMode!==void 0&&i.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&i.uint32(24).int32(t.filterMode),i}e.encode=n;function r(t,i){let o=t instanceof dt.default.Reader?t:dt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=wl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.videoPlayerEntity=o.uint32();continue;case 2:if(a!==16)break;c.wrapMode=o.int32();continue;case 3:if(a!==24)break;c.filterMode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Kr||(Kr={}));function Il(){return{tex:void 0}}var et;(function(e){function n(t,i=dt.default.Writer.create()){switch(t.tex?.$case){case"texture":Xr.encode(t.tex.texture,i.uint32(10).fork()).ldelim();break;case"avatarTexture":Qr.encode(t.tex.avatarTexture,i.uint32(18).fork()).ldelim();break;case"videoTexture":Kr.encode(t.tex.videoTexture,i.uint32(26).fork()).ldelim();break}return i}e.encode=n;function r(t,i){let o=t instanceof dt.default.Reader?t:dt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Il();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.tex={$case:"texture",texture:Xr.decode(o,o.uint32())};continue;case 2:if(a!==18)break;c.tex={$case:"avatarTexture",avatarTexture:Qr.decode(o,o.uint32())};continue;case 3:if(a!==26)break;c.tex={$case:"videoTexture",videoTexture:Kr.decode(o,o.uint32())};continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(et||(et={}));var Ys;(function(e){e[e.MTM_OPAQUE=0]="MTM_OPAQUE",e[e.MTM_ALPHA_TEST=1]="MTM_ALPHA_TEST",e[e.MTM_ALPHA_BLEND=2]="MTM_ALPHA_BLEND",e[e.MTM_ALPHA_TEST_AND_ALPHA_BLEND=3]="MTM_ALPHA_TEST_AND_ALPHA_BLEND",e[e.MTM_AUTO=4]="MTM_AUTO"})(Ys||(Ys={}));function Nl(){return{material:void 0}}var ro;(function(e){function n(t,i=vt.default.Writer.create()){switch(t.material?.$case){case"unlit":ei.encode(t.material.unlit,i.uint32(10).fork()).ldelim();break;case"pbr":ti.encode(t.material.pbr,i.uint32(18).fork()).ldelim();break}return i}e.encode=n;function r(t,i){let o=t instanceof vt.default.Reader?t:vt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Nl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.material={$case:"unlit",unlit:ei.decode(o,o.uint32())};continue;case 2:if(a!==18)break;c.material={$case:"pbr",pbr:ti.decode(o,o.uint32())};continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ro||(ro={}));function Ol(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,diffuseColor:void 0}}var ei;(function(e){function n(t,i=vt.default.Writer.create()){return t.texture!==void 0&&et.encode(t.texture,i.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&i.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&i.uint32(24).bool(t.castShadows),t.diffuseColor!==void 0&&Pe.encode(t.diffuseColor,i.uint32(34).fork()).ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof vt.default.Reader?t:vt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Ol();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.texture=et.decode(o,o.uint32());continue;case 2:if(a!==21)break;c.alphaTest=o.float();continue;case 3:if(a!==24)break;c.castShadows=o.bool();continue;case 4:if(a!==34)break;c.diffuseColor=Pe.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ei||(ei={}));function Cl(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,alphaTexture:void 0,emissiveTexture:void 0,bumpTexture:void 0,albedoColor:void 0,emissiveColor:void 0,reflectivityColor:void 0,transparencyMode:void 0,metallic:void 0,roughness:void 0,specularIntensity:void 0,emissiveIntensity:void 0,directIntensity:void 0}}var ti;(function(e){function n(t,i=vt.default.Writer.create()){return t.texture!==void 0&&et.encode(t.texture,i.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&i.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&i.uint32(24).bool(t.castShadows),t.alphaTexture!==void 0&&et.encode(t.alphaTexture,i.uint32(34).fork()).ldelim(),t.emissiveTexture!==void 0&&et.encode(t.emissiveTexture,i.uint32(42).fork()).ldelim(),t.bumpTexture!==void 0&&et.encode(t.bumpTexture,i.uint32(50).fork()).ldelim(),t.albedoColor!==void 0&&Pe.encode(t.albedoColor,i.uint32(58).fork()).ldelim(),t.emissiveColor!==void 0&&ve.encode(t.emissiveColor,i.uint32(66).fork()).ldelim(),t.reflectivityColor!==void 0&&ve.encode(t.reflectivityColor,i.uint32(74).fork()).ldelim(),t.transparencyMode!==void 0&&i.uint32(80).int32(t.transparencyMode),t.metallic!==void 0&&i.uint32(93).float(t.metallic),t.roughness!==void 0&&i.uint32(101).float(t.roughness),t.specularIntensity!==void 0&&i.uint32(117).float(t.specularIntensity),t.emissiveIntensity!==void 0&&i.uint32(125).float(t.emissiveIntensity),t.directIntensity!==void 0&&i.uint32(133).float(t.directIntensity),i}e.encode=n;function r(t,i){let o=t instanceof vt.default.Reader?t:vt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Cl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.texture=et.decode(o,o.uint32());continue;case 2:if(a!==21)break;c.alphaTest=o.float();continue;case 3:if(a!==24)break;c.castShadows=o.bool();continue;case 4:if(a!==34)break;c.alphaTexture=et.decode(o,o.uint32());continue;case 5:if(a!==42)break;c.emissiveTexture=et.decode(o,o.uint32());continue;case 6:if(a!==50)break;c.bumpTexture=et.decode(o,o.uint32());continue;case 7:if(a!==58)break;c.albedoColor=Pe.decode(o,o.uint32());continue;case 8:if(a!==66)break;c.emissiveColor=ve.decode(o,o.uint32());continue;case 9:if(a!==74)break;c.reflectivityColor=ve.decode(o,o.uint32());continue;case 10:if(a!==80)break;c.transparencyMode=o.int32();continue;case 11:if(a!==93)break;c.metallic=o.float();continue;case 12:if(a!==101)break;c.roughness=o.float();continue;case 14:if(a!==117)break;c.specularIntensity=o.float();continue;case 15:if(a!==125)break;c.emissiveIntensity=o.float();continue;case 16:if(a!==133)break;c.directIntensity=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ti||(ti={}));var Js={COMPONENT_ID:1017,serialize(e,n){let r=ro.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return ro.decode(e.buffer(),e.remainingBytes())},create(){return ro.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"}};var tt=fe(ue());var Zs;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(Zs||(Zs={}));function Pl(){return{collisionMask:void 0,mesh:void 0}}var io;(function(e){function n(t,i=tt.default.Writer.create()){switch(t.collisionMask!==void 0&&i.uint32(8).uint32(t.collisionMask),t.mesh?.$case){case"box":ni.encode(t.mesh.box,i.uint32(18).fork()).ldelim();break;case"sphere":ii.encode(t.mesh.sphere,i.uint32(26).fork()).ldelim();break;case"cylinder":oi.encode(t.mesh.cylinder,i.uint32(34).fork()).ldelim();break;case"plane":ri.encode(t.mesh.plane,i.uint32(42).fork()).ldelim();break}return i}e.encode=n;function r(t,i){let o=t instanceof tt.default.Reader?t:tt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Pl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.collisionMask=o.uint32();continue;case 2:if(a!==18)break;c.mesh={$case:"box",box:ni.decode(o,o.uint32())};continue;case 3:if(a!==26)break;c.mesh={$case:"sphere",sphere:ii.decode(o,o.uint32())};continue;case 4:if(a!==34)break;c.mesh={$case:"cylinder",cylinder:oi.decode(o,o.uint32())};continue;case 5:if(a!==42)break;c.mesh={$case:"plane",plane:ri.decode(o,o.uint32())};continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(io||(io={}));function Bl(){return{}}var ni;(function(e){function n(t,i=tt.default.Writer.create()){return i}e.encode=n;function r(t,i){let o=t instanceof tt.default.Reader?t:tt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Bl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ni||(ni={}));function Ml(){return{radiusTop:void 0,radiusBottom:void 0}}var oi;(function(e){function n(t,i=tt.default.Writer.create()){return t.radiusTop!==void 0&&i.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&i.uint32(21).float(t.radiusBottom),i}e.encode=n;function r(t,i){let o=t instanceof tt.default.Reader?t:tt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Ml();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.radiusTop=o.float();continue;case 2:if(a!==21)break;c.radiusBottom=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(oi||(oi={}));function zl(){return{}}var ri;(function(e){function n(t,i=tt.default.Writer.create()){return i}e.encode=n;function r(t,i){let o=t instanceof tt.default.Reader?t:tt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=zl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ri||(ri={}));function vl(){return{}}var ii;(function(e){function n(t,i=tt.default.Writer.create()){return i}e.encode=n;function r(t,i){let o=t instanceof tt.default.Reader?t:tt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=vl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ii||(ii={}));var Xs={COMPONENT_ID:1019,serialize(e,n){let r=io.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return io.decode(e.buffer(),e.remainingBytes())},create(){return io.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"}};var nt=fe(ue());function Ul(){return{mesh:void 0}}var ao;(function(e){function n(t,i=nt.default.Writer.create()){switch(t.mesh?.$case){case"box":ai.encode(t.mesh.box,i.uint32(10).fork()).ldelim();break;case"sphere":fi.encode(t.mesh.sphere,i.uint32(18).fork()).ldelim();break;case"cylinder":ci.encode(t.mesh.cylinder,i.uint32(26).fork()).ldelim();break;case"plane":si.encode(t.mesh.plane,i.uint32(34).fork()).ldelim();break}return i}e.encode=n;function r(t,i){let o=t instanceof nt.default.Reader?t:nt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Ul();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.mesh={$case:"box",box:ai.decode(o,o.uint32())};continue;case 2:if(a!==18)break;c.mesh={$case:"sphere",sphere:fi.decode(o,o.uint32())};continue;case 3:if(a!==26)break;c.mesh={$case:"cylinder",cylinder:ci.decode(o,o.uint32())};continue;case 4:if(a!==34)break;c.mesh={$case:"plane",plane:si.decode(o,o.uint32())};continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ao||(ao={}));function Fl(){return{uvs:[]}}var ai;(function(e){function n(t,i=nt.default.Writer.create()){i.uint32(10).fork();for(let o of t.uvs)i.float(o);return i.ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof nt.default.Reader?t:nt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Fl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a===13){c.uvs.push(o.float());continue}if(a===10){let f=o.uint32()+o.pos;for(;o.pos<f;)c.uvs.push(o.float());continue}break}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ai||(ai={}));function Ll(){return{radiusTop:void 0,radiusBottom:void 0}}var ci;(function(e){function n(t,i=nt.default.Writer.create()){return t.radiusTop!==void 0&&i.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&i.uint32(21).float(t.radiusBottom),i}e.encode=n;function r(t,i){let o=t instanceof nt.default.Reader?t:nt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Ll();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.radiusTop=o.float();continue;case 2:if(a!==21)break;c.radiusBottom=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ci||(ci={}));function Dl(){return{uvs:[]}}var si;(function(e){function n(t,i=nt.default.Writer.create()){i.uint32(10).fork();for(let o of t.uvs)i.float(o);return i.ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof nt.default.Reader?t:nt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Dl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a===13){c.uvs.push(o.float());continue}if(a===10){let f=o.uint32()+o.pos;for(;o.pos<f;)c.uvs.push(o.float());continue}break}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(si||(si={}));function Wl(){return{}}var fi;(function(e){function n(t,i=nt.default.Writer.create()){return i}e.encode=n;function r(t,i){let o=t instanceof nt.default.Reader?t:nt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Wl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(fi||(fi={}));var Qs={COMPONENT_ID:1018,serialize(e,n){let r=ao.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return ao.decode(e.buffer(),e.remainingBytes())},create(){return ao.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"}};var ui=fe(ue());var Ks;(function(e){e[e.NFT_CLASSIC=0]="NFT_CLASSIC",e[e.NFT_BAROQUE_ORNAMENT=1]="NFT_BAROQUE_ORNAMENT",e[e.NFT_DIAMOND_ORNAMENT=2]="NFT_DIAMOND_ORNAMENT",e[e.NFT_MINIMAL_WIDE=3]="NFT_MINIMAL_WIDE",e[e.NFT_MINIMAL_GREY=4]="NFT_MINIMAL_GREY",e[e.NFT_BLOCKY=5]="NFT_BLOCKY",e[e.NFT_GOLD_EDGES=6]="NFT_GOLD_EDGES",e[e.NFT_GOLD_CARVED=7]="NFT_GOLD_CARVED",e[e.NFT_GOLD_WIDE=8]="NFT_GOLD_WIDE",e[e.NFT_GOLD_ROUNDED=9]="NFT_GOLD_ROUNDED",e[e.NFT_METAL_MEDIUM=10]="NFT_METAL_MEDIUM",e[e.NFT_METAL_WIDE=11]="NFT_METAL_WIDE",e[e.NFT_METAL_SLIM=12]="NFT_METAL_SLIM",e[e.NFT_METAL_ROUNDED=13]="NFT_METAL_ROUNDED",e[e.NFT_PINS=14]="NFT_PINS",e[e.NFT_MINIMAL_BLACK=15]="NFT_MINIMAL_BLACK",e[e.NFT_MINIMAL_WHITE=16]="NFT_MINIMAL_WHITE",e[e.NFT_TAPE=17]="NFT_TAPE",e[e.NFT_WOOD_SLIM=18]="NFT_WOOD_SLIM",e[e.NFT_WOOD_WIDE=19]="NFT_WOOD_WIDE",e[e.NFT_WOOD_TWIGS=20]="NFT_WOOD_TWIGS",e[e.NFT_CANVAS=21]="NFT_CANVAS",e[e.NFT_NONE=22]="NFT_NONE"})(Ks||(Ks={}));function Vl(){return{urn:"",style:void 0,color:void 0}}var co;(function(e){function n(t,i=ui.default.Writer.create()){return t.urn!==""&&i.uint32(10).string(t.urn),t.style!==void 0&&i.uint32(16).int32(t.style),t.color!==void 0&&ve.encode(t.color,i.uint32(26).fork()).ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof ui.default.Reader?t:ui.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Vl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.urn=o.string();continue;case 2:if(a!==16)break;c.style=o.int32();continue;case 3:if(a!==26)break;c.color=ve.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(co||(co={}));var ef={COMPONENT_ID:1040,serialize(e,n){let r=co.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return co.decode(e.buffer(),e.remainingBytes())},create(){return co.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"}};var Ut=fe(ue());function Gl(){return{pointerEvents:[]}}var so;(function(e){function n(t,i=Ut.default.Writer.create()){for(let o of t.pointerEvents)li.encode(o,i.uint32(10).fork()).ldelim();return i}e.encode=n;function r(t,i){let o=t instanceof Ut.default.Reader?t:Ut.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Gl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.pointerEvents.push(li.decode(o,o.uint32()));continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(so||(so={}));function Hl(){return{button:void 0,hoverText:void 0,maxDistance:void 0,showFeedback:void 0}}var di;(function(e){function n(t,i=Ut.default.Writer.create()){return t.button!==void 0&&i.uint32(8).int32(t.button),t.hoverText!==void 0&&i.uint32(18).string(t.hoverText),t.maxDistance!==void 0&&i.uint32(29).float(t.maxDistance),t.showFeedback!==void 0&&i.uint32(32).bool(t.showFeedback),i}e.encode=n;function r(t,i){let o=t instanceof Ut.default.Reader?t:Ut.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Hl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.button=o.int32();continue;case 2:if(a!==18)break;c.hoverText=o.string();continue;case 3:if(a!==29)break;c.maxDistance=o.float();continue;case 4:if(a!==32)break;c.showFeedback=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(di||(di={}));function ql(){return{eventType:0,eventInfo:void 0}}var li;(function(e){function n(t,i=Ut.default.Writer.create()){return t.eventType!==0&&i.uint32(8).int32(t.eventType),t.eventInfo!==void 0&&di.encode(t.eventInfo,i.uint32(18).fork()).ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof Ut.default.Reader?t:Ut.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=ql();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.eventType=o.int32();continue;case 2:if(a!==18)break;c.eventInfo=di.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(li||(li={}));var tf={COMPONENT_ID:1062,serialize(e,n){let r=so.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return so.decode(e.buffer(),e.remainingBytes())},create(){return so.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"}};var mi=fe(ue());var pi=fe(ue());function jl(){return{position:void 0,globalOrigin:void 0,direction:void 0,normalHit:void 0,length:0,meshName:void 0,entityId:void 0}}var tn;(function(e){function n(t,i=pi.default.Writer.create()){return t.position!==void 0&&he.encode(t.position,i.uint32(10).fork()).ldelim(),t.globalOrigin!==void 0&&he.encode(t.globalOrigin,i.uint32(18).fork()).ldelim(),t.direction!==void 0&&he.encode(t.direction,i.uint32(26).fork()).ldelim(),t.normalHit!==void 0&&he.encode(t.normalHit,i.uint32(34).fork()).ldelim(),t.length!==0&&i.uint32(45).float(t.length),t.meshName!==void 0&&i.uint32(50).string(t.meshName),t.entityId!==void 0&&i.uint32(56).uint32(t.entityId),i}e.encode=n;function r(t,i){let o=t instanceof pi.default.Reader?t:pi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=jl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.position=he.decode(o,o.uint32());continue;case 2:if(a!==18)break;c.globalOrigin=he.decode(o,o.uint32());continue;case 3:if(a!==26)break;c.direction=he.decode(o,o.uint32());continue;case 4:if(a!==34)break;c.normalHit=he.decode(o,o.uint32());continue;case 5:if(a!==45)break;c.length=o.float();continue;case 6:if(a!==50)break;c.meshName=o.string();continue;case 7:if(a!==56)break;c.entityId=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(tn||(tn={}));function $l(){return{button:0,hit:void 0,state:0,timestamp:0,analog:void 0,tickNumber:0}}var fo;(function(e){function n(t,i=mi.default.Writer.create()){return t.button!==0&&i.uint32(8).int32(t.button),t.hit!==void 0&&tn.encode(t.hit,i.uint32(18).fork()).ldelim(),t.state!==0&&i.uint32(32).int32(t.state),t.timestamp!==0&&i.uint32(40).uint32(t.timestamp),t.analog!==void 0&&i.uint32(53).float(t.analog),t.tickNumber!==0&&i.uint32(56).uint32(t.tickNumber),i}e.encode=n;function r(t,i){let o=t instanceof mi.default.Reader?t:mi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=$l();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.button=o.int32();continue;case 2:if(a!==18)break;c.hit=tn.decode(o,o.uint32());continue;case 4:if(a!==32)break;c.state=o.int32();continue;case 5:if(a!==40)break;c.timestamp=o.uint32();continue;case 6:if(a!==53)break;c.analog=o.float();continue;case 7:if(a!==56)break;c.tickNumber=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(fo||(fo={}));var nf={COMPONENT_ID:1063,serialize(e,n){let r=fo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return fo.decode(e.buffer(),e.remainingBytes())},create(){return fo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEventsResult"}};var hi=fe(ue());function Yl(){return{isPointerLocked:!1}}var uo;(function(e){function n(t,i=hi.default.Writer.create()){return t.isPointerLocked===!0&&i.uint32(8).bool(t.isPointerLocked),i}e.encode=n;function r(t,i){let o=t instanceof hi.default.Reader?t:hi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Yl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.isPointerLocked=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(uo||(uo={}));var of={COMPONENT_ID:1074,serialize(e,n){let r=uo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return uo.decode(e.buffer(),e.remainingBytes())},create(){return uo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerLock"}};var yi=fe(ue());var rf;(function(e){e[e.RQT_HIT_FIRST=0]="RQT_HIT_FIRST",e[e.RQT_QUERY_ALL=1]="RQT_QUERY_ALL",e[e.RQT_NONE=2]="RQT_NONE"})(rf||(rf={}));function Jl(){return{timestamp:void 0,originOffset:void 0,direction:void 0,maxDistance:0,queryType:0,continuous:void 0,collisionMask:void 0}}var lo;(function(e){function n(t,i=yi.default.Writer.create()){switch(t.timestamp!==void 0&&i.uint32(8).uint32(t.timestamp),t.originOffset!==void 0&&he.encode(t.originOffset,i.uint32(18).fork()).ldelim(),t.direction?.$case){case"localDirection":he.encode(t.direction.localDirection,i.uint32(50).fork()).ldelim();break;case"globalDirection":he.encode(t.direction.globalDirection,i.uint32(26).fork()).ldelim();break;case"globalTarget":he.encode(t.direction.globalTarget,i.uint32(58).fork()).ldelim();break;case"targetEntity":i.uint32(80).uint32(t.direction.targetEntity);break}return t.maxDistance!==0&&i.uint32(37).float(t.maxDistance),t.queryType!==0&&i.uint32(40).int32(t.queryType),t.continuous!==void 0&&i.uint32(64).bool(t.continuous),t.collisionMask!==void 0&&i.uint32(72).uint32(t.collisionMask),i}e.encode=n;function r(t,i){let o=t instanceof yi.default.Reader?t:yi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Jl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.timestamp=o.uint32();continue;case 2:if(a!==18)break;c.originOffset=he.decode(o,o.uint32());continue;case 6:if(a!==50)break;c.direction={$case:"localDirection",localDirection:he.decode(o,o.uint32())};continue;case 3:if(a!==26)break;c.direction={$case:"globalDirection",globalDirection:he.decode(o,o.uint32())};continue;case 7:if(a!==58)break;c.direction={$case:"globalTarget",globalTarget:he.decode(o,o.uint32())};continue;case 10:if(a!==80)break;c.direction={$case:"targetEntity",targetEntity:o.uint32()};continue;case 4:if(a!==37)break;c.maxDistance=o.float();continue;case 5:if(a!==40)break;c.queryType=o.int32();continue;case 8:if(a!==64)break;c.continuous=o.bool();continue;case 9:if(a!==72)break;c.collisionMask=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(lo||(lo={}));var af={COMPONENT_ID:1067,serialize(e,n){let r=lo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return lo.decode(e.buffer(),e.remainingBytes())},create(){return lo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycast"}};var bi=fe(ue());function Zl(){return{timestamp:void 0,globalOrigin:void 0,direction:void 0,hits:[],tickNumber:0}}var po;(function(e){function n(t,i=bi.default.Writer.create()){t.timestamp!==void 0&&i.uint32(8).uint32(t.timestamp),t.globalOrigin!==void 0&&he.encode(t.globalOrigin,i.uint32(18).fork()).ldelim(),t.direction!==void 0&&he.encode(t.direction,i.uint32(26).fork()).ldelim();for(let o of t.hits)tn.encode(o,i.uint32(34).fork()).ldelim();return t.tickNumber!==0&&i.uint32(40).uint32(t.tickNumber),i}e.encode=n;function r(t,i){let o=t instanceof bi.default.Reader?t:bi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Zl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.timestamp=o.uint32();continue;case 2:if(a!==18)break;c.globalOrigin=he.decode(o,o.uint32());continue;case 3:if(a!==26)break;c.direction=he.decode(o,o.uint32());continue;case 4:if(a!==34)break;c.hits.push(tn.decode(o,o.uint32()));continue;case 5:if(a!==40)break;c.tickNumber=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(po||(po={}));var cf={COMPONENT_ID:1068,serialize(e,n){let r=po.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return po.decode(e.buffer(),e.remainingBytes())},create(){return po.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycastResult"}};var Ei=fe(ue());function Xl(){return{text:"",font:void 0,fontSize:void 0,fontAutoSize:void 0,textAlign:void 0,width:void 0,height:void 0,paddingTop:void 0,paddingRight:void 0,paddingBottom:void 0,paddingLeft:void 0,lineSpacing:void 0,lineCount:void 0,textWrapping:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,outlineWidth:void 0,shadowColor:void 0,outlineColor:void 0,textColor:void 0}}var mo;(function(e){function n(t,i=Ei.default.Writer.create()){return t.text!==""&&i.uint32(10).string(t.text),t.font!==void 0&&i.uint32(16).int32(t.font),t.fontSize!==void 0&&i.uint32(29).float(t.fontSize),t.fontAutoSize!==void 0&&i.uint32(32).bool(t.fontAutoSize),t.textAlign!==void 0&&i.uint32(40).int32(t.textAlign),t.width!==void 0&&i.uint32(53).float(t.width),t.height!==void 0&&i.uint32(61).float(t.height),t.paddingTop!==void 0&&i.uint32(69).float(t.paddingTop),t.paddingRight!==void 0&&i.uint32(77).float(t.paddingRight),t.paddingBottom!==void 0&&i.uint32(85).float(t.paddingBottom),t.paddingLeft!==void 0&&i.uint32(93).float(t.paddingLeft),t.lineSpacing!==void 0&&i.uint32(101).float(t.lineSpacing),t.lineCount!==void 0&&i.uint32(104).int32(t.lineCount),t.textWrapping!==void 0&&i.uint32(112).bool(t.textWrapping),t.shadowBlur!==void 0&&i.uint32(125).float(t.shadowBlur),t.shadowOffsetX!==void 0&&i.uint32(133).float(t.shadowOffsetX),t.shadowOffsetY!==void 0&&i.uint32(141).float(t.shadowOffsetY),t.outlineWidth!==void 0&&i.uint32(149).float(t.outlineWidth),t.shadowColor!==void 0&&ve.encode(t.shadowColor,i.uint32(154).fork()).ldelim(),t.outlineColor!==void 0&&ve.encode(t.outlineColor,i.uint32(162).fork()).ldelim(),t.textColor!==void 0&&Pe.encode(t.textColor,i.uint32(170).fork()).ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof Ei.default.Reader?t:Ei.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Xl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.text=o.string();continue;case 2:if(a!==16)break;c.font=o.int32();continue;case 3:if(a!==29)break;c.fontSize=o.float();continue;case 4:if(a!==32)break;c.fontAutoSize=o.bool();continue;case 5:if(a!==40)break;c.textAlign=o.int32();continue;case 6:if(a!==53)break;c.width=o.float();continue;case 7:if(a!==61)break;c.height=o.float();continue;case 8:if(a!==69)break;c.paddingTop=o.float();continue;case 9:if(a!==77)break;c.paddingRight=o.float();continue;case 10:if(a!==85)break;c.paddingBottom=o.float();continue;case 11:if(a!==93)break;c.paddingLeft=o.float();continue;case 12:if(a!==101)break;c.lineSpacing=o.float();continue;case 13:if(a!==104)break;c.lineCount=o.int32();continue;case 14:if(a!==112)break;c.textWrapping=o.bool();continue;case 15:if(a!==125)break;c.shadowBlur=o.float();continue;case 16:if(a!==133)break;c.shadowOffsetX=o.float();continue;case 17:if(a!==141)break;c.shadowOffsetY=o.float();continue;case 18:if(a!==149)break;c.outlineWidth=o.float();continue;case 19:if(a!==154)break;c.shadowColor=ve.decode(o,o.uint32());continue;case 20:if(a!==162)break;c.outlineColor=ve.decode(o,o.uint32());continue;case 21:if(a!==170)break;c.textColor=Pe.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(mo||(mo={}));var sf={COMPONENT_ID:1030,serialize(e,n){let r=mo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return mo.decode(e.buffer(),e.remainingBytes())},create(){return mo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTextShape"}};var lt=fe(ue());var ff;(function(e){e[e.EF_LINEAR=0]="EF_LINEAR",e[e.EF_EASEINQUAD=1]="EF_EASEINQUAD",e[e.EF_EASEOUTQUAD=2]="EF_EASEOUTQUAD",e[e.EF_EASEQUAD=3]="EF_EASEQUAD",e[e.EF_EASEINSINE=4]="EF_EASEINSINE",e[e.EF_EASEOUTSINE=5]="EF_EASEOUTSINE",e[e.EF_EASESINE=6]="EF_EASESINE",e[e.EF_EASEINEXPO=7]="EF_EASEINEXPO",e[e.EF_EASEOUTEXPO=8]="EF_EASEOUTEXPO",e[e.EF_EASEEXPO=9]="EF_EASEEXPO",e[e.EF_EASEINELASTIC=10]="EF_EASEINELASTIC",e[e.EF_EASEOUTELASTIC=11]="EF_EASEOUTELASTIC",e[e.EF_EASEELASTIC=12]="EF_EASEELASTIC",e[e.EF_EASEINBOUNCE=13]="EF_EASEINBOUNCE",e[e.EF_EASEOUTBOUNCE=14]="EF_EASEOUTBOUNCE",e[e.EF_EASEBOUNCE=15]="EF_EASEBOUNCE",e[e.EF_EASEINCUBIC=16]="EF_EASEINCUBIC",e[e.EF_EASEOUTCUBIC=17]="EF_EASEOUTCUBIC",e[e.EF_EASECUBIC=18]="EF_EASECUBIC",e[e.EF_EASEINQUART=19]="EF_EASEINQUART",e[e.EF_EASEOUTQUART=20]="EF_EASEOUTQUART",e[e.EF_EASEQUART=21]="EF_EASEQUART",e[e.EF_EASEINQUINT=22]="EF_EASEINQUINT",e[e.EF_EASEOUTQUINT=23]="EF_EASEOUTQUINT",e[e.EF_EASEQUINT=24]="EF_EASEQUINT",e[e.EF_EASEINCIRC=25]="EF_EASEINCIRC",e[e.EF_EASEOUTCIRC=26]="EF_EASEOUTCIRC",e[e.EF_EASECIRC=27]="EF_EASECIRC",e[e.EF_EASEINBACK=28]="EF_EASEINBACK",e[e.EF_EASEOUTBACK=29]="EF_EASEOUTBACK",e[e.EF_EASEBACK=30]="EF_EASEBACK"})(ff||(ff={}));function Ql(){return{duration:0,easingFunction:0,mode:void 0,playing:void 0,currentTime:void 0}}var qt;(function(e){function n(t,i=lt.default.Writer.create()){switch(t.duration!==0&&i.uint32(13).float(t.duration),t.easingFunction!==0&&i.uint32(16).int32(t.easingFunction),t.mode?.$case){case"move":xi.encode(t.mode.move,i.uint32(26).fork()).ldelim();break;case"rotate":Si.encode(t.mode.rotate,i.uint32(34).fork()).ldelim();break;case"scale":Ti.encode(t.mode.scale,i.uint32(42).fork()).ldelim();break}return t.playing!==void 0&&i.uint32(48).bool(t.playing),t.currentTime!==void 0&&i.uint32(61).float(t.currentTime),i}e.encode=n;function r(t,i){let o=t instanceof lt.default.Reader?t:lt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Ql();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.duration=o.float();continue;case 2:if(a!==16)break;c.easingFunction=o.int32();continue;case 3:if(a!==26)break;c.mode={$case:"move",move:xi.decode(o,o.uint32())};continue;case 4:if(a!==34)break;c.mode={$case:"rotate",rotate:Si.decode(o,o.uint32())};continue;case 5:if(a!==42)break;c.mode={$case:"scale",scale:Ti.decode(o,o.uint32())};continue;case 6:if(a!==48)break;c.playing=o.bool();continue;case 7:if(a!==61)break;c.currentTime=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(qt||(qt={}));function Kl(){return{start:void 0,end:void 0,faceDirection:void 0}}var xi;(function(e){function n(t,i=lt.default.Writer.create()){return t.start!==void 0&&he.encode(t.start,i.uint32(10).fork()).ldelim(),t.end!==void 0&&he.encode(t.end,i.uint32(18).fork()).ldelim(),t.faceDirection!==void 0&&i.uint32(24).bool(t.faceDirection),i}e.encode=n;function r(t,i){let o=t instanceof lt.default.Reader?t:lt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=Kl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.start=he.decode(o,o.uint32());continue;case 2:if(a!==18)break;c.end=he.decode(o,o.uint32());continue;case 3:if(a!==24)break;c.faceDirection=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(xi||(xi={}));function ep(){return{start:void 0,end:void 0}}var Si;(function(e){function n(t,i=lt.default.Writer.create()){return t.start!==void 0&&Nn.encode(t.start,i.uint32(10).fork()).ldelim(),t.end!==void 0&&Nn.encode(t.end,i.uint32(18).fork()).ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof lt.default.Reader?t:lt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=ep();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.start=Nn.decode(o,o.uint32());continue;case 2:if(a!==18)break;c.end=Nn.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Si||(Si={}));function tp(){return{start:void 0,end:void 0}}var Ti;(function(e){function n(t,i=lt.default.Writer.create()){return t.start!==void 0&&he.encode(t.start,i.uint32(10).fork()).ldelim(),t.end!==void 0&&he.encode(t.end,i.uint32(18).fork()).ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof lt.default.Reader?t:lt.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=tp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.start=he.decode(o,o.uint32());continue;case 2:if(a!==18)break;c.end=he.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Ti||(Ti={}));var uf={COMPONENT_ID:1102,serialize(e,n){let r=qt.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return qt.decode(e.buffer(),e.remainingBytes())},create(){return qt.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTween"}};var gi=fe(ue());var df;(function(e){e[e.TL_RESTART=0]="TL_RESTART",e[e.TL_YOYO=1]="TL_YOYO"})(df||(df={}));function np(){return{sequence:[],loop:void 0}}var ho;(function(e){function n(t,i=gi.default.Writer.create()){for(let o of t.sequence)qt.encode(o,i.uint32(10).fork()).ldelim();return t.loop!==void 0&&i.uint32(16).int32(t.loop),i}e.encode=n;function r(t,i){let o=t instanceof gi.default.Reader?t:gi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=np();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.sequence.push(qt.decode(o,o.uint32()));continue;case 2:if(a!==16)break;c.loop=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ho||(ho={}));var lf={COMPONENT_ID:1104,serialize(e,n){let r=ho.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return ho.decode(e.buffer(),e.remainingBytes())},create(){return ho.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenSequence"}};var _i=fe(ue());var pf;(function(e){e[e.TS_ACTIVE=0]="TS_ACTIVE",e[e.TS_COMPLETED=1]="TS_COMPLETED",e[e.TS_PAUSED=2]="TS_PAUSED"})(pf||(pf={}));function op(){return{state:0,currentTime:0}}var yo;(function(e){function n(t,i=_i.default.Writer.create()){return t.state!==0&&i.uint32(8).int32(t.state),t.currentTime!==0&&i.uint32(21).float(t.currentTime),i}e.encode=n;function r(t,i){let o=t instanceof _i.default.Reader?t:_i.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=op();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.state=o.int32();continue;case 2:if(a!==21)break;c.currentTime=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(yo||(yo={}));var mf={COMPONENT_ID:1103,serialize(e,n){let r=yo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return yo.decode(e.buffer(),e.remainingBytes())},create(){return yo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenState"}};var Ri=fe(ue());var Bn=fe(ue());function rp(){return{top:0,left:0,right:0,bottom:0}}var nn;(function(e){function n(t,i=Bn.default.Writer.create()){return t.top!==0&&i.uint32(13).float(t.top),t.left!==0&&i.uint32(21).float(t.left),t.right!==0&&i.uint32(29).float(t.right),t.bottom!==0&&i.uint32(37).float(t.bottom),i}e.encode=n;function r(t,i){let o=t instanceof Bn.default.Reader?t:Bn.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=rp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.top=o.float();continue;case 2:if(a!==21)break;c.left=o.float();continue;case 3:if(a!==29)break;c.right=o.float();continue;case 4:if(a!==37)break;c.bottom=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(nn||(nn={}));function ip(){return{x:0,y:0,width:0,height:0}}var hf;(function(e){function n(t,i=Bn.default.Writer.create()){return t.x!==0&&i.uint32(13).float(t.x),t.y!==0&&i.uint32(21).float(t.y),t.width!==0&&i.uint32(29).float(t.width),t.height!==0&&i.uint32(37).float(t.height),i}e.encode=n;function r(t,i){let o=t instanceof Bn.default.Reader?t:Bn.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=ip();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.x=o.float();continue;case 2:if(a!==21)break;c.y=o.float();continue;case 3:if(a!==29)break;c.width=o.float();continue;case 4:if(a!==37)break;c.height=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(hf||(hf={}));var yf;(function(e){e[e.NINE_SLICES=0]="NINE_SLICES",e[e.CENTER=1]="CENTER",e[e.STRETCH=2]="STRETCH"})(yf||(yf={}));function ap(){return{color:void 0,texture:void 0,textureMode:0,textureSlices:void 0,uvs:[]}}var bo;(function(e){function n(t,i=Ri.default.Writer.create()){t.color!==void 0&&Pe.encode(t.color,i.uint32(10).fork()).ldelim(),t.texture!==void 0&&et.encode(t.texture,i.uint32(18).fork()).ldelim(),t.textureMode!==0&&i.uint32(24).int32(t.textureMode),t.textureSlices!==void 0&&nn.encode(t.textureSlices,i.uint32(34).fork()).ldelim(),i.uint32(42).fork();for(let o of t.uvs)i.float(o);return i.ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof Ri.default.Reader?t:Ri.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=ap();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.color=Pe.decode(o,o.uint32());continue;case 2:if(a!==18)break;c.texture=et.decode(o,o.uint32());continue;case 3:if(a!==24)break;c.textureMode=o.int32();continue;case 4:if(a!==34)break;c.textureSlices=nn.decode(o,o.uint32());continue;case 5:if(a===45){c.uvs.push(o.float());continue}if(a===42){let f=o.uint32()+o.pos;for(;o.pos<f;)c.uvs.push(o.float());continue}break}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(bo||(bo={}));var bf={COMPONENT_ID:1053,serialize(e,n){let r=bo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return bo.decode(e.buffer(),e.remainingBytes())},create(){return bo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiBackground"}};var ki=fe(ue());function cp(){return{devicePixelRatio:0,width:0,height:0,interactableArea:void 0}}var Eo;(function(e){function n(t,i=ki.default.Writer.create()){return t.devicePixelRatio!==0&&i.uint32(13).float(t.devicePixelRatio),t.width!==0&&i.uint32(16).int32(t.width),t.height!==0&&i.uint32(24).int32(t.height),t.interactableArea!==void 0&&nn.encode(t.interactableArea,i.uint32(34).fork()).ldelim(),i}e.encode=n;function r(t,i){let o=t instanceof ki.default.Reader?t:ki.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=cp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.devicePixelRatio=o.float();continue;case 2:if(a!==16)break;c.width=o.int32();continue;case 3:if(a!==24)break;c.height=o.int32();continue;case 4:if(a!==34)break;c.interactableArea=nn.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Eo||(Eo={}));var Ef={COMPONENT_ID:1054,serialize(e,n){let r=Eo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return Eo.decode(e.buffer(),e.remainingBytes())},create(){return Eo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiCanvasInformation"}};var Ai=fe(ue());function sp(){return{acceptEmpty:!1,emptyLabel:void 0,options:[],selectedIndex:void 0,disabled:!1,color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var xo;(function(e){function n(t,i=Ai.default.Writer.create()){t.acceptEmpty===!0&&i.uint32(8).bool(t.acceptEmpty),t.emptyLabel!==void 0&&i.uint32(18).string(t.emptyLabel);for(let o of t.options)i.uint32(26).string(o);return t.selectedIndex!==void 0&&i.uint32(32).int32(t.selectedIndex),t.disabled===!0&&i.uint32(40).bool(t.disabled),t.color!==void 0&&Pe.encode(t.color,i.uint32(50).fork()).ldelim(),t.textAlign!==void 0&&i.uint32(80).int32(t.textAlign),t.font!==void 0&&i.uint32(88).int32(t.font),t.fontSize!==void 0&&i.uint32(96).int32(t.fontSize),i}e.encode=n;function r(t,i){let o=t instanceof Ai.default.Reader?t:Ai.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=sp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.acceptEmpty=o.bool();continue;case 2:if(a!==18)break;c.emptyLabel=o.string();continue;case 3:if(a!==26)break;c.options.push(o.string());continue;case 4:if(a!==32)break;c.selectedIndex=o.int32();continue;case 5:if(a!==40)break;c.disabled=o.bool();continue;case 6:if(a!==50)break;c.color=Pe.decode(o,o.uint32());continue;case 10:if(a!==80)break;c.textAlign=o.int32();continue;case 11:if(a!==88)break;c.font=o.int32();continue;case 12:if(a!==96)break;c.fontSize=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(xo||(xo={}));var xf={COMPONENT_ID:1094,serialize(e,n){let r=xo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return xo.decode(e.buffer(),e.remainingBytes())},create(){return xo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdown"}};var wi=fe(ue());function fp(){return{value:0}}var So;(function(e){function n(t,i=wi.default.Writer.create()){return t.value!==0&&i.uint32(8).int32(t.value),i}e.encode=n;function r(t,i){let o=t instanceof wi.default.Reader?t:wi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=fp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.value=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(So||(So={}));var Sf={COMPONENT_ID:1096,serialize(e,n){let r=So.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return So.decode(e.buffer(),e.remainingBytes())},create(){return So.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdownResult"}};var Ii=fe(ue());function up(){return{placeholder:"",color:void 0,placeholderColor:void 0,disabled:!1,textAlign:void 0,font:void 0,fontSize:void 0,value:void 0}}var To;(function(e){function n(t,i=Ii.default.Writer.create()){return t.placeholder!==""&&i.uint32(10).string(t.placeholder),t.color!==void 0&&Pe.encode(t.color,i.uint32(18).fork()).ldelim(),t.placeholderColor!==void 0&&Pe.encode(t.placeholderColor,i.uint32(26).fork()).ldelim(),t.disabled===!0&&i.uint32(32).bool(t.disabled),t.textAlign!==void 0&&i.uint32(80).int32(t.textAlign),t.font!==void 0&&i.uint32(88).int32(t.font),t.fontSize!==void 0&&i.uint32(96).int32(t.fontSize),t.value!==void 0&&i.uint32(106).string(t.value),i}e.encode=n;function r(t,i){let o=t instanceof Ii.default.Reader?t:Ii.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=up();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.placeholder=o.string();continue;case 2:if(a!==18)break;c.color=Pe.decode(o,o.uint32());continue;case 3:if(a!==26)break;c.placeholderColor=Pe.decode(o,o.uint32());continue;case 4:if(a!==32)break;c.disabled=o.bool();continue;case 10:if(a!==80)break;c.textAlign=o.int32();continue;case 11:if(a!==88)break;c.font=o.int32();continue;case 12:if(a!==96)break;c.fontSize=o.int32();continue;case 13:if(a!==106)break;c.value=o.string();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(To||(To={}));var Tf={COMPONENT_ID:1093,serialize(e,n){let r=To.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return To.decode(e.buffer(),e.remainingBytes())},create(){return To.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInput"}};var Ni=fe(ue());function dp(){return{value:""}}var go;(function(e){function n(t,i=Ni.default.Writer.create()){return t.value!==""&&i.uint32(10).string(t.value),i}e.encode=n;function r(t,i){let o=t instanceof Ni.default.Reader?t:Ni.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=dp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.value=o.string();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(go||(go={}));var gf={COMPONENT_ID:1095,serialize(e,n){let r=go.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return go.decode(e.buffer(),e.remainingBytes())},create(){return go.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInputResult"}};var Oi=fe(ue());function lp(){return{value:"",color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var _o;(function(e){function n(t,i=Oi.default.Writer.create()){return t.value!==""&&i.uint32(10).string(t.value),t.color!==void 0&&Pe.encode(t.color,i.uint32(18).fork()).ldelim(),t.textAlign!==void 0&&i.uint32(24).int32(t.textAlign),t.font!==void 0&&i.uint32(32).int32(t.font),t.fontSize!==void 0&&i.uint32(40).int32(t.fontSize),i}e.encode=n;function r(t,i){let o=t instanceof Oi.default.Reader?t:Oi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=lp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.value=o.string();continue;case 2:if(a!==18)break;c.color=Pe.decode(o,o.uint32());continue;case 3:if(a!==24)break;c.textAlign=o.int32();continue;case 4:if(a!==32)break;c.font=o.int32();continue;case 5:if(a!==40)break;c.fontSize=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(_o||(_o={}));var _f={COMPONENT_ID:1052,serialize(e,n){let r=_o.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return _o.decode(e.buffer(),e.remainingBytes())},create(){return _o.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiText"}};var Ci=fe(ue());var Rf;(function(e){e[e.YGPT_RELATIVE=0]="YGPT_RELATIVE",e[e.YGPT_ABSOLUTE=1]="YGPT_ABSOLUTE"})(Rf||(Rf={}));var kf;(function(e){e[e.YGA_AUTO=0]="YGA_AUTO",e[e.YGA_FLEX_START=1]="YGA_FLEX_START",e[e.YGA_CENTER=2]="YGA_CENTER",e[e.YGA_FLEX_END=3]="YGA_FLEX_END",e[e.YGA_STRETCH=4]="YGA_STRETCH",e[e.YGA_BASELINE=5]="YGA_BASELINE",e[e.YGA_SPACE_BETWEEN=6]="YGA_SPACE_BETWEEN",e[e.YGA_SPACE_AROUND=7]="YGA_SPACE_AROUND"})(kf||(kf={}));var Af;(function(e){e[e.YGU_UNDEFINED=0]="YGU_UNDEFINED",e[e.YGU_POINT=1]="YGU_POINT",e[e.YGU_PERCENT=2]="YGU_PERCENT",e[e.YGU_AUTO=3]="YGU_AUTO"})(Af||(Af={}));var wf;(function(e){e[e.YGFD_ROW=0]="YGFD_ROW",e[e.YGFD_COLUMN=1]="YGFD_COLUMN",e[e.YGFD_COLUMN_REVERSE=2]="YGFD_COLUMN_REVERSE",e[e.YGFD_ROW_REVERSE=3]="YGFD_ROW_REVERSE"})(wf||(wf={}));var If;(function(e){e[e.YGW_NO_WRAP=0]="YGW_NO_WRAP",e[e.YGW_WRAP=1]="YGW_WRAP",e[e.YGW_WRAP_REVERSE=2]="YGW_WRAP_REVERSE"})(If||(If={}));var Nf;(function(e){e[e.YGJ_FLEX_START=0]="YGJ_FLEX_START",e[e.YGJ_CENTER=1]="YGJ_CENTER",e[e.YGJ_FLEX_END=2]="YGJ_FLEX_END",e[e.YGJ_SPACE_BETWEEN=3]="YGJ_SPACE_BETWEEN",e[e.YGJ_SPACE_AROUND=4]="YGJ_SPACE_AROUND",e[e.YGJ_SPACE_EVENLY=5]="YGJ_SPACE_EVENLY"})(Nf||(Nf={}));var Of;(function(e){e[e.YGO_VISIBLE=0]="YGO_VISIBLE",e[e.YGO_HIDDEN=1]="YGO_HIDDEN",e[e.YGO_SCROLL=2]="YGO_SCROLL"})(Of||(Of={}));var Cf;(function(e){e[e.YGD_FLEX=0]="YGD_FLEX",e[e.YGD_NONE=1]="YGD_NONE"})(Cf||(Cf={}));var Pf;(function(e){e[e.YGE_LEFT=0]="YGE_LEFT",e[e.YGE_TOP=1]="YGE_TOP",e[e.YGE_RIGHT=2]="YGE_RIGHT",e[e.YGE_BOTTOM=3]="YGE_BOTTOM",e[e.YGE_START=4]="YGE_START",e[e.YGE_END=5]="YGE_END",e[e.YGE_HORIZONTAL=6]="YGE_HORIZONTAL",e[e.YGE_VERTICAL=7]="YGE_VERTICAL",e[e.YGE_ALL=8]="YGE_ALL"})(Pf||(Pf={}));function pp(){return{parent:0,rightOf:0,alignContent:void 0,alignItems:void 0,flexWrap:void 0,flexShrink:void 0,positionType:0,alignSelf:0,flexDirection:0,justifyContent:0,overflow:0,display:0,flexBasisUnit:0,flexBasis:0,flexGrow:0,widthUnit:0,width:0,heightUnit:0,height:0,minWidthUnit:0,minWidth:0,minHeightUnit:0,minHeight:0,maxWidthUnit:0,maxWidth:0,maxHeightUnit:0,maxHeight:0,positionLeftUnit:0,positionLeft:0,positionTopUnit:0,positionTop:0,positionRightUnit:0,positionRight:0,positionBottomUnit:0,positionBottom:0,marginLeftUnit:0,marginLeft:0,marginTopUnit:0,marginTop:0,marginRightUnit:0,marginRight:0,marginBottomUnit:0,marginBottom:0,paddingLeftUnit:0,paddingLeft:0,paddingTopUnit:0,paddingTop:0,paddingRightUnit:0,paddingRight:0,paddingBottomUnit:0,paddingBottom:0}}var Ro;(function(e){function n(t,i=Ci.default.Writer.create()){return t.parent!==0&&i.uint32(8).int32(t.parent),t.rightOf!==0&&i.uint32(16).int32(t.rightOf),t.alignContent!==void 0&&i.uint32(24).int32(t.alignContent),t.alignItems!==void 0&&i.uint32(32).int32(t.alignItems),t.flexWrap!==void 0&&i.uint32(40).int32(t.flexWrap),t.flexShrink!==void 0&&i.uint32(53).float(t.flexShrink),t.positionType!==0&&i.uint32(56).int32(t.positionType),t.alignSelf!==0&&i.uint32(64).int32(t.alignSelf),t.flexDirection!==0&&i.uint32(72).int32(t.flexDirection),t.justifyContent!==0&&i.uint32(80).int32(t.justifyContent),t.overflow!==0&&i.uint32(88).int32(t.overflow),t.display!==0&&i.uint32(96).int32(t.display),t.flexBasisUnit!==0&&i.uint32(104).int32(t.flexBasisUnit),t.flexBasis!==0&&i.uint32(117).float(t.flexBasis),t.flexGrow!==0&&i.uint32(125).float(t.flexGrow),t.widthUnit!==0&&i.uint32(128).int32(t.widthUnit),t.width!==0&&i.uint32(141).float(t.width),t.heightUnit!==0&&i.uint32(144).int32(t.heightUnit),t.height!==0&&i.uint32(157).float(t.height),t.minWidthUnit!==0&&i.uint32(160).int32(t.minWidthUnit),t.minWidth!==0&&i.uint32(173).float(t.minWidth),t.minHeightUnit!==0&&i.uint32(176).int32(t.minHeightUnit),t.minHeight!==0&&i.uint32(189).float(t.minHeight),t.maxWidthUnit!==0&&i.uint32(192).int32(t.maxWidthUnit),t.maxWidth!==0&&i.uint32(205).float(t.maxWidth),t.maxHeightUnit!==0&&i.uint32(208).int32(t.maxHeightUnit),t.maxHeight!==0&&i.uint32(221).float(t.maxHeight),t.positionLeftUnit!==0&&i.uint32(224).int32(t.positionLeftUnit),t.positionLeft!==0&&i.uint32(237).float(t.positionLeft),t.positionTopUnit!==0&&i.uint32(240).int32(t.positionTopUnit),t.positionTop!==0&&i.uint32(253).float(t.positionTop),t.positionRightUnit!==0&&i.uint32(256).int32(t.positionRightUnit),t.positionRight!==0&&i.uint32(269).float(t.positionRight),t.positionBottomUnit!==0&&i.uint32(272).int32(t.positionBottomUnit),t.positionBottom!==0&&i.uint32(285).float(t.positionBottom),t.marginLeftUnit!==0&&i.uint32(288).int32(t.marginLeftUnit),t.marginLeft!==0&&i.uint32(301).float(t.marginLeft),t.marginTopUnit!==0&&i.uint32(304).int32(t.marginTopUnit),t.marginTop!==0&&i.uint32(317).float(t.marginTop),t.marginRightUnit!==0&&i.uint32(320).int32(t.marginRightUnit),t.marginRight!==0&&i.uint32(333).float(t.marginRight),t.marginBottomUnit!==0&&i.uint32(336).int32(t.marginBottomUnit),t.marginBottom!==0&&i.uint32(349).float(t.marginBottom),t.paddingLeftUnit!==0&&i.uint32(352).int32(t.paddingLeftUnit),t.paddingLeft!==0&&i.uint32(365).float(t.paddingLeft),t.paddingTopUnit!==0&&i.uint32(368).int32(t.paddingTopUnit),t.paddingTop!==0&&i.uint32(381).float(t.paddingTop),t.paddingRightUnit!==0&&i.uint32(384).int32(t.paddingRightUnit),t.paddingRight!==0&&i.uint32(397).float(t.paddingRight),t.paddingBottomUnit!==0&&i.uint32(400).int32(t.paddingBottomUnit),t.paddingBottom!==0&&i.uint32(413).float(t.paddingBottom),i}e.encode=n;function r(t,i){let o=t instanceof Ci.default.Reader?t:Ci.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=pp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.parent=o.int32();continue;case 2:if(a!==16)break;c.rightOf=o.int32();continue;case 3:if(a!==24)break;c.alignContent=o.int32();continue;case 4:if(a!==32)break;c.alignItems=o.int32();continue;case 5:if(a!==40)break;c.flexWrap=o.int32();continue;case 6:if(a!==53)break;c.flexShrink=o.float();continue;case 7:if(a!==56)break;c.positionType=o.int32();continue;case 8:if(a!==64)break;c.alignSelf=o.int32();continue;case 9:if(a!==72)break;c.flexDirection=o.int32();continue;case 10:if(a!==80)break;c.justifyContent=o.int32();continue;case 11:if(a!==88)break;c.overflow=o.int32();continue;case 12:if(a!==96)break;c.display=o.int32();continue;case 13:if(a!==104)break;c.flexBasisUnit=o.int32();continue;case 14:if(a!==117)break;c.flexBasis=o.float();continue;case 15:if(a!==125)break;c.flexGrow=o.float();continue;case 16:if(a!==128)break;c.widthUnit=o.int32();continue;case 17:if(a!==141)break;c.width=o.float();continue;case 18:if(a!==144)break;c.heightUnit=o.int32();continue;case 19:if(a!==157)break;c.height=o.float();continue;case 20:if(a!==160)break;c.minWidthUnit=o.int32();continue;case 21:if(a!==173)break;c.minWidth=o.float();continue;case 22:if(a!==176)break;c.minHeightUnit=o.int32();continue;case 23:if(a!==189)break;c.minHeight=o.float();continue;case 24:if(a!==192)break;c.maxWidthUnit=o.int32();continue;case 25:if(a!==205)break;c.maxWidth=o.float();continue;case 26:if(a!==208)break;c.maxHeightUnit=o.int32();continue;case 27:if(a!==221)break;c.maxHeight=o.float();continue;case 28:if(a!==224)break;c.positionLeftUnit=o.int32();continue;case 29:if(a!==237)break;c.positionLeft=o.float();continue;case 30:if(a!==240)break;c.positionTopUnit=o.int32();continue;case 31:if(a!==253)break;c.positionTop=o.float();continue;case 32:if(a!==256)break;c.positionRightUnit=o.int32();continue;case 33:if(a!==269)break;c.positionRight=o.float();continue;case 34:if(a!==272)break;c.positionBottomUnit=o.int32();continue;case 35:if(a!==285)break;c.positionBottom=o.float();continue;case 36:if(a!==288)break;c.marginLeftUnit=o.int32();continue;case 37:if(a!==301)break;c.marginLeft=o.float();continue;case 38:if(a!==304)break;c.marginTopUnit=o.int32();continue;case 39:if(a!==317)break;c.marginTop=o.float();continue;case 40:if(a!==320)break;c.marginRightUnit=o.int32();continue;case 41:if(a!==333)break;c.marginRight=o.float();continue;case 42:if(a!==336)break;c.marginBottomUnit=o.int32();continue;case 43:if(a!==349)break;c.marginBottom=o.float();continue;case 44:if(a!==352)break;c.paddingLeftUnit=o.int32();continue;case 45:if(a!==365)break;c.paddingLeft=o.float();continue;case 46:if(a!==368)break;c.paddingTopUnit=o.int32();continue;case 47:if(a!==381)break;c.paddingTop=o.float();continue;case 48:if(a!==384)break;c.paddingRightUnit=o.int32();continue;case 49:if(a!==397)break;c.paddingRight=o.float();continue;case 50:if(a!==400)break;c.paddingBottomUnit=o.int32();continue;case 51:if(a!==413)break;c.paddingBottom=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Ro||(Ro={}));var Bf={COMPONENT_ID:1050,serialize(e,n){let r=Ro.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return Ro.decode(e.buffer(),e.remainingBytes())},create(){return Ro.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiTransform"}};var Pi=fe(ue());var Mf;(function(e){e[e.VS_NONE=0]="VS_NONE",e[e.VS_ERROR=1]="VS_ERROR",e[e.VS_LOADING=2]="VS_LOADING",e[e.VS_READY=3]="VS_READY",e[e.VS_PLAYING=4]="VS_PLAYING",e[e.VS_BUFFERING=5]="VS_BUFFERING",e[e.VS_SEEKING=6]="VS_SEEKING",e[e.VS_PAUSED=7]="VS_PAUSED"})(Mf||(Mf={}));function mp(){return{timestamp:0,tickNumber:0,currentOffset:0,videoLength:0,state:0}}var ko;(function(e){function n(t,i=Pi.default.Writer.create()){return t.timestamp!==0&&i.uint32(8).uint32(t.timestamp),t.tickNumber!==0&&i.uint32(16).uint32(t.tickNumber),t.currentOffset!==0&&i.uint32(29).float(t.currentOffset),t.videoLength!==0&&i.uint32(37).float(t.videoLength),t.state!==0&&i.uint32(40).int32(t.state),i}e.encode=n;function r(t,i){let o=t instanceof Pi.default.Reader?t:Pi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=mp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.timestamp=o.uint32();continue;case 2:if(a!==16)break;c.tickNumber=o.uint32();continue;case 3:if(a!==29)break;c.currentOffset=o.float();continue;case 4:if(a!==37)break;c.videoLength=o.float();continue;case 5:if(a!==40)break;c.state=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(ko||(ko={}));var zf={COMPONENT_ID:1044,serialize(e,n){let r=ko.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return ko.decode(e.buffer(),e.remainingBytes())},create(){return ko.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoEvent"}};var Bi=fe(ue());function hp(){return{src:"",playing:void 0,position:void 0,volume:void 0,playbackRate:void 0,loop:void 0}}var Ao;(function(e){function n(t,i=Bi.default.Writer.create()){return t.src!==""&&i.uint32(10).string(t.src),t.playing!==void 0&&i.uint32(16).bool(t.playing),t.position!==void 0&&i.uint32(29).float(t.position),t.volume!==void 0&&i.uint32(37).float(t.volume),t.playbackRate!==void 0&&i.uint32(45).float(t.playbackRate),t.loop!==void 0&&i.uint32(48).bool(t.loop),i}e.encode=n;function r(t,i){let o=t instanceof Bi.default.Reader?t:Bi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=hp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.src=o.string();continue;case 2:if(a!==16)break;c.playing=o.bool();continue;case 3:if(a!==29)break;c.position=o.float();continue;case 4:if(a!==37)break;c.volume=o.float();continue;case 5:if(a!==45)break;c.playbackRate=o.float();continue;case 6:if(a!==48)break;c.loop=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(Ao||(Ao={}));var vf={COMPONENT_ID:1043,serialize(e,n){let r=Ao.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return Ao.decode(e.buffer(),e.remainingBytes())},create(){return Ao.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"}};var Mi=fe(ue());function yp(){return{visible:void 0}}var wo;(function(e){function n(t,i=Mi.default.Writer.create()){return t.visible!==void 0&&i.uint32(8).bool(t.visible),i}e.encode=n;function r(t,i){let o=t instanceof Mi.default.Reader?t:Mi.default.Reader.create(t),s=i===void 0?o.len:o.pos+i,c=yp();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.visible=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=r})(wo||(wo={}));var Uf={COMPONENT_ID:1081,serialize(e,n){let r=wo.encode(e),t=new Uint8Array(r.finish(),0,r.len);n.writeBuffer(t,!1)},deserialize(e){return wo.decode(e.buffer(),e.remainingBytes())},create(){return wo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"}};var Ff=e=>e.defineComponentFromSchema("core::Animator",Ss),va=e=>e.defineComponentFromSchema("core::AudioSource",Ts),Lf=e=>e.defineComponentFromSchema("core::AudioStream",gs),Ua=e=>e.defineComponentFromSchema("core::AvatarAttach",_s),Df=e=>e.defineComponentFromSchema("core::AvatarModifierArea",ws),Wf=e=>e.defineComponentFromSchema("core::AvatarShape",Fs),Vf=e=>e.defineComponentFromSchema("core::Billboard",Ds),Gf=e=>e.defineComponentFromSchema("core::CameraMode",Ws),Hf=e=>e.defineComponentFromSchema("core::CameraModeArea",Vs),qf=e=>e.defineComponentFromSchema("core::EngineInfo",Gs),Fa=e=>e.defineComponentFromSchema("core::GltfContainer",Hs),jf=e=>e.defineComponentFromSchema("core::GltfContainerLoadingState",qs),La=e=>e.defineComponentFromSchema("core::Material",Js),Da=e=>e.defineComponentFromSchema("core::MeshCollider",Xs),Wa=e=>e.defineComponentFromSchema("core::MeshRenderer",Qs),$f=e=>e.defineComponentFromSchema("core::NftShape",ef),Zo=e=>e.defineComponentFromSchema("core::PointerEvents",tf),zi=e=>e.defineValueSetComponentFromSchema("core::PointerEventsResult",nf,{timestampFunction:n=>n.timestamp,maxElements:100}),Yf=e=>e.defineComponentFromSchema("core::PointerLock",of),Va=e=>e.defineComponentFromSchema("core::Raycast",af),Ga=e=>e.defineComponentFromSchema("core::RaycastResult",cf),Jf=e=>e.defineComponentFromSchema("core::TextShape",sf),Ha=e=>e.defineComponentFromSchema("core::Tween",uf),vi=e=>e.defineComponentFromSchema("core::TweenSequence",lf),Ui=e=>e.defineComponentFromSchema("core::TweenState",mf),Zf=e=>e.defineComponentFromSchema("core::UiBackground",bf),Xf=e=>e.defineComponentFromSchema("core::UiCanvasInformation",Ef),Qf=e=>e.defineComponentFromSchema("core::UiDropdown",xf),Kf=e=>e.defineComponentFromSchema("core::UiDropdownResult",Sf),eu=e=>e.defineComponentFromSchema("core::UiInput",Tf),tu=e=>e.defineComponentFromSchema("core::UiInputResult",gf),nu=e=>e.defineComponentFromSchema("core::UiText",_f),ou=e=>e.defineComponentFromSchema("core::UiTransform",Bf),qa=e=>e.defineValueSetComponentFromSchema("core::VideoEvent",zf,{timestampFunction:n=>n.timestamp,maxElements:100}),ja=e=>e.defineComponentFromSchema("core::VideoPlayer",vf),$a=e=>e.defineComponentFromSchema("core::VisibilityComponent",Uf),Ya={"core::Animator":Ff,"core::AudioSource":va,"core::AudioStream":Lf,"core::AvatarAttach":Ua,"core::AvatarModifierArea":Df,"core::AvatarShape":Wf,"core::Billboard":Vf,"core::CameraMode":Gf,"core::CameraModeArea":Hf,"core::EngineInfo":qf,"core::GltfContainer":Fa,"core::GltfContainerLoadingState":jf,"core::Material":La,"core::MeshCollider":Da,"core::MeshRenderer":Wa,"core::NftShape":$f,"core::PointerEvents":Zo,"core::PointerEventsResult":zi,"core::PointerLock":Yf,"core::Raycast":Va,"core::RaycastResult":Ga,"core::TextShape":Jf,"core::Tween":Ha,"core::TweenSequence":vi,"core::TweenState":Ui,"core::UiBackground":Zf,"core::UiCanvasInformation":Xf,"core::UiDropdown":Qf,"core::UiDropdownResult":Kf,"core::UiInput":eu,"core::UiInputResult":tu,"core::UiText":nu,"core::UiTransform":ou,"core::VideoEvent":qa,"core::VideoPlayer":ja,"core::VisibilityComponent":$a};var Ep={Common(e){return{tex:{$case:"texture",texture:e}}},Avatar(e){return{tex:{$case:"avatarTexture",avatarTexture:e}}},Video(e){return{tex:{$case:"videoTexture",videoTexture:e}}}};function ru(e){let n=La(e);return{...n,Texture:Ep,setBasicMaterial(r,t){n.createOrReplace(r,{material:{$case:"unlit",unlit:t}})},setPbrMaterial(r,t){n.createOrReplace(r,{material:{$case:"pbr",pbr:t}})}}}function iu(e){let n=Da(e);function r(t){if(Array.isArray(t))return t.map(i=>i).reduce((i,o)=>i|o,0);if(t)return t}return{...n,setBox(t,i){n.createOrReplace(t,{mesh:{$case:"box",box:{}},collisionMask:r(i)})},setPlane(t,i){n.createOrReplace(t,{mesh:{$case:"plane",plane:{}},collisionMask:r(i)})},setCylinder(t,i,o,s){n.createOrReplace(t,{mesh:{$case:"cylinder",cylinder:{radiusBottom:i,radiusTop:o}},collisionMask:r(s)})},setSphere(t,i){n.createOrReplace(t,{mesh:{$case:"sphere",sphere:{}},collisionMask:r(i)})}}}function au(e){let n=Wa(e);return{...n,setBox(r,t){n.createOrReplace(r,{mesh:{$case:"box",box:{uvs:t||[]}}})},setPlane(r,t){n.createOrReplace(r,{mesh:{$case:"plane",plane:{uvs:t||[]}}})},setCylinder(r,t,i){n.createOrReplace(r,{mesh:{$case:"cylinder",cylinder:{radiusBottom:t,radiusTop:i}}})},setSphere(r){n.createOrReplace(r,{mesh:{$case:"sphere",sphere:{}}})}}}var xp={Move(e){return{$case:"move",move:e}},Rotate(e){return{$case:"rotate",rotate:e}},Scale(e){return{$case:"scale",scale:e}}};function cu(e){return{...Ha(e),Mode:xp}}var Fi=e=>({serialize(n,r){r.writeUint32(n.length);for(let t of n)e.serialize(t,r)},deserialize(n){let r=[],t=n.readUint32();for(let i=0;i<t;i++)r.push(e.deserialize(n));return r},create(){return[]},jsonSchema:{type:"array",items:e.jsonSchema,serializationType:"array"}});var Xo={serialize(e,n){n.writeInt8(e?1:0)},deserialize(e){return e.readInt8()===1},create(){return!1},jsonSchema:{type:"boolean",serializationType:"boolean"}};var Qo={serialize(e,n){n.writeInt64(BigInt(e))},deserialize(e){return Number(e.readInt64())},create(){return 0},jsonSchema:{type:"integer",serializationType:"int64"}},on={serialize(e,n){n.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int32"}},Ko={serialize(e,n){n.writeInt16(e)},deserialize(e){return e.readInt16()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int16"}},er={serialize(e,n){n.writeInt8(e)},deserialize(e){return e.readInt8()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int8"}};var Li={serialize(e,n){n.writeUtf8String(e)},deserialize(e){return e.readUtf8String()},create(){return""},jsonSchema:{type:"string",serializationType:"utf8-string"}},tr=Li;function Sp(e){let t=0,i=0;for(let o in e){if(typeof e[o]=="number"){if(e[o]>2147483647||e[o]<-2147483648)throw new Error("Enum member values must be numbers within the range of -2147483648 to 2147483647.");t++}i++}if(i!==t*2)throw new Error("All enum member values must be of numeric type.")}function Tp(e){for(let n in e)if(typeof e[n]!="string")throw new Error("All enum member values must be of string type.")}var gp="enum-int",Di=(e,n)=>(Sp(e),{serialize(r,t){on.serialize(r,t)},deserialize(r){return on.deserialize(r)},create(){return n},jsonSchema:{type:"integer",enum:Object.values(e).filter(r=>Number.isInteger(r)),default:n,serializationType:gp,enumObject:e}}),_p="enum-string",Wi=(e,n)=>(Tp(e),{serialize(r,t){Li.serialize(r,t)},deserialize(r){return Li.deserialize(r)},create(){return n},jsonSchema:{type:"string",enum:Object.values(e),default:n,serializationType:_p,enumObject:e}});var Io={serialize(e,n){n.writeFloat32(e)},deserialize(e){return e.readFloat32()},create(){return 0},jsonSchema:{type:"number",serializationType:"float32"}},nr={serialize(e,n){n.writeFloat64(e)},deserialize(e){return e.readFloat64()},create(){return 0},jsonSchema:{type:"number",serializationType:"float64"}};var or={serialize(e,n){n.writeFloat32(e.r),n.writeFloat32(e.g),n.writeFloat32(e.b)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32()}},create(){return{r:0,g:0,b:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"}},serializationType:"color3"}};var rr={serialize(e,n){n.writeFloat32(e.r),n.writeFloat32(e.g),n.writeFloat32(e.b),n.writeFloat32(e.a)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32(),a:e.readFloat32()}},create(){return{r:0,g:0,b:0,a:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"},a:{type:"number"}},serializationType:"color4"}};var ir={serialize(e,n){n.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"entity"}};var ar={serialize(e,n){n.writeFloat32(e.x),n.writeFloat32(e.y),n.writeFloat32(e.z),n.writeFloat32(e.w)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32(),w:e.readFloat32()}},create(){return{x:0,y:0,z:0,w:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"quaternion"}};var cr={serialize(e,n){n.writeFloat32(e.x),n.writeFloat32(e.y),n.writeFloat32(e.z)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32()}},create(){return{x:0,y:0,z:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"vector3"}};var Vi=(e,n)=>{let r=Object.keys(e).reduce((t,i)=>(t[i]=e[i].jsonSchema,t),{});return{serialize(t,i){for(let o in e)e[o].serialize(t[o],i)},deserialize(t){let i={};for(let o in e)i[o]=e[o].deserialize(t);return i},create(){let t={};for(let i in e)t[i]=e[i].create();return{...t,...n}},extend:t=>{let i={};for(let o in e)i[o]=e[o].create();return{...i,...n,...t}},jsonSchema:{type:"object",properties:r,serializationType:"map"}}};var Gi=e=>({serialize(n,r){n?(r.writeInt8(1),e.serialize(n,r)):r.writeInt8(0)},deserialize(n){if(n.readInt8())return e.deserialize(n)},create(){},jsonSchema:{type:e.jsonSchema.type,serializationType:"optional",optionalJsonSchema:e.jsonSchema}});var Hi=e=>{let n=Object.keys(e),r=n.reduce((i,o,s)=>(i[o]=s,i),{}),t=n.reduce((i,o)=>(i[o]=e[o].jsonSchema,i),{});return{serialize({$case:i,value:o},s){let c=r[i.toString()]+1;s.writeUint8(c),e[i].serialize(o,s)},deserialize(i){let o=n[i.readInt8()-1],s=e[o].deserialize(i);return{$case:o,value:s}},create(){return{}},jsonSchema:{type:"object",properties:t,serializationType:"one-of"}}};var su=(e,n)=>n.includes(e.serializationType),Rp=e=>su(e,["one-of"]),kp=()=>({type:{type:"object",serializationType:"unknown"},value:void 0}),qi=e=>su(e,["array","map"]),Ja=(e,n,r)=>{let t=e[r],i=n[r];if(Rp(t)){let o=i;if(!o.$case)return kp();let s=t.properties[o.$case];return qi(s)&&(n[r]={[o.$case]:o.value}),{type:s,value:o.value}}return{type:t,value:i}};var fu={[Xo.jsonSchema.serializationType]:Xo,[tr.jsonSchema.serializationType]:tr,[Io.jsonSchema.serializationType]:Io,[nr.jsonSchema.serializationType]:nr,[er.jsonSchema.serializationType]:er,[Ko.jsonSchema.serializationType]:Ko,[on.jsonSchema.serializationType]:on,[Qo.jsonSchema.serializationType]:Qo,[cr.jsonSchema.serializationType]:cr,[ar.jsonSchema.serializationType]:ar,[or.jsonSchema.serializationType]:or,[rr.jsonSchema.serializationType]:rr,[ir.jsonSchema.serializationType]:ir};function No(e){if(fu[e.serializationType])return fu[e.serializationType];if(e.serializationType==="map"){let n=e,r={};for(let t in n.properties)r[t]=No(n.properties[t]);return Vi(r)}if(e.serializationType==="optional")return Gi(No(e.optionalJsonSchema));if(e.serializationType==="array")return Fi(No(e.items));if(e.serializationType==="enum-int"){let n=e;return Di(n.enumObject,n.default)}if(e.serializationType==="enum-string"){let n=e;return Wi(n.enumObject,n.default)}if(e.serializationType==="one-of"){let n=e,r={};for(let t in n.properties)r[t]=No(n.properties[t]);return Hi(r)}throw new Error(`${e.serializationType} is not supported as reverse schema generation.`)}function ji(e,n,r){if(e.serializationType==="map"){let{properties:t}=e,i=n;for(let o in t){let{type:s,value:c}=Ja(t,i,o);if(s.serializationType!=="unknown")if(qi(s))ji(s,c,r);else{let a=r(c,s);a.changed&&(i[o]=a.value)}}}else if(e.serializationType==="array"){let{items:t}=e,i=n;for(let o=0,s=i.length;o<s;o++){let{type:c,value:a}=Ja({items:t},{items:i[o]},"items");if(qi(c))ji(c,a,r);else{let f=r(a,c);f.changed&&(i[o]=f.value)}}}}var H;(function(e){e.Boolean=Xo,e.String=tr,e.Float=Io,e.Double=nr,e.Byte=er,e.Short=Ko,e.Int=on,e.Int64=Qo,e.Number=Io,e.Vector3=cr,e.Quaternion=ar,e.Color3=or,e.Color4=rr,e.Entity=ir,e.EnumNumber=Di,e.EnumString=Wi,e.Array=Fi,e.Map=Vi,e.Optional=Gi,e.OneOf=Hi,e.fromJson=No,e.mutateNestedValues=ji})(H||(H={}));function Ap(e){return e.defineComponent("core-schema::Name",{value:H.String})}var uu=Ap;var Za={serialize(e,n){let r=n.incrementWriteOffset(44);n.setFloat32(r,e.position.x),n.setFloat32(r+4,e.position.y),n.setFloat32(r+8,e.position.z),n.setFloat32(r+12,e.rotation.x),n.setFloat32(r+16,e.rotation.y),n.setFloat32(r+20,e.rotation.z),n.setFloat32(r+24,e.rotation.w),n.setFloat32(r+28,e.scale.x),n.setFloat32(r+32,e.scale.y),n.setFloat32(r+36,e.scale.z),n.setUint32(r+40,e.parent||0)},deserialize(e){let n=e.incrementReadOffset(44);return{position:{x:e.getFloat32(n),y:e.getFloat32(n+4),z:e.getFloat32(n+8)},rotation:{x:e.getFloat32(n+12),y:e.getFloat32(n+16),z:e.getFloat32(n+20),w:e.getFloat32(n+24)},scale:{x:e.getFloat32(n+28),y:e.getFloat32(n+32),z:e.getFloat32(n+36)},parent:e.getUint32(n+40)}},create(){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},extend(e){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0,...e}},jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"}};function du(e){let n=e.defineComponentFromSchema("core::Transform",Za);return{...n,create(r,t){return n.create(r,Za.extend(t))},createOrReplace(r,t){return n.createOrReplace(r,Za.extend(t))}}}var Mn=e=>du(e),lu=e=>ru(e);var pu=e=>au(e),mu=e=>iu(e),Xa=e=>cu(e),$i=e=>uu(e);var Qa={"core::Transform":1,"core::Animator":1042,"core::AudioSource":1020,"core::AudioStream":1021,"core::AvatarAttach":1073,"core::AvatarBase":1087,"core::AvatarEmoteCommand":1088,"core::AvatarEquippedData":1091,"core::AvatarModifierArea":1070,"core::AvatarShape":1080,"core::Billboard":1090,"core::CameraMode":1072,"core::CameraModeArea":1071,"core::EngineInfo":1048,"core::GltfContainer":1041,"core::GltfContainerLoadingState":1049,"core::Material":1017,"core::MeshCollider":1019,"core::MeshRenderer":1018,"core::NftShape":1040,"core::PlayerIdentityData":1089,"core::PointerEvents":1062,"core::PointerEventsResult":1063,"core::PointerLock":1074,"core::Raycast":1067,"core::RaycastResult":1068,"core::TextShape":1030,"core::Tween":1102,"core::TweenSequence":1104,"core::TweenState":1103,"core::UiBackground":1053,"core::UiCanvasInformation":1054,"core::UiDropdown":1094,"core::UiDropdownResult":1096,"core::UiInput":1093,"core::UiInputResult":1095,"core::UiText":1052,"core::UiTransform":1050,"core::VideoEvent":1044,"core::VideoPlayer":1043,"core::VisibilityComponent":1081};var yu=fe(vr());var wp=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Ip(e,n){let r=~~n^-1;for(let t=0;t<e.length;t++)r=wp[(r^e[t])&255]^r>>>8;return r^-1}function hu(e,n=0){return Ip(e,n)>>>0}var Ka=2048;function Ft(e){if(Qa[e])return Qa[e];let n=new Uint8Array(128);return yu.write(e,n,0),(hu(n)+Ka&4294967295)>>>0}var ec=typeof process=="object"&&!1||!1;function sr(e,n){if(ec&&e&&typeof e=="object"&&typeof e.then=="function")throw new Error(n);return e}function bu(){let e=new Map;return{addTo(n,r){if(r<0)return!1;let t=e.get(n);return t!==void 0&&t>=r||e.set(n,r),!0},has(n,r){let t=e.get(n);return t!==void 0&&t>=r},getMap(){return e}}}var zn=65535,Np=4294901760,$b=zn+1,tc=zn,Yi=512,Op=tc,Pt;(function(e){function n(t){return[(t&zn)>>>0,((t&Np)>>16&zn)>>>0]}e.fromEntityId=n;function r(t,i){return(t&zn|(i&zn)<<16)>>>0}e.toEntityId=r})(Pt||(Pt={}));var Ge;(function(e){e[e.Unknown=0]="Unknown",e[e.UsedEntity=1]="UsedEntity",e[e.Removed=2]="Removed",e[e.Reserved=3]="Reserved"})(Ge||(Ge={}));function Eu(){let e=Yi,n,r,t=new Set,i=[],o=bu(),s=Op;function c(l,x){s=l,r=x,n=x[0]}function a(l){if(e>tc-1)throw new Error(`It fails trying to generate an entity out of range ${tc}.`);if(l&&n>r[1])throw new Error(`Max amount of network entities reached ${r[1]} `);if(!l&&e>=s)throw new Error(`Max amount of local entities reached ${s}`);let x=l?n++:e++,b=o.getMap().has(x)?o.getMap().get(x)+1:0,_=Pt.toEntityId(x,b);return t.has(_)?a():(t.add(_),_)}function f(l){if(l&&!r)throw new Error("Network entities ranged not initialized. Connect to a CRDT Server");let x=(r&&[...t.values()].filter(_=>{let[M]=Pt.fromEntityId(_);return M>=r[0]&&M<=r[1]}).length)??0,b=t.size-x;if(!l&&b+Yi>=e||l&&x+r[0]>=n)return a(l);for(let[_,M]of o.getMap())if(M<zn){if(l&&(_<r[0]||_>r[1])||!l&&_>=s)continue;let $=Pt.toEntityId(_,M+1);if(!t.has($)&&!i.includes($))return t.add($),$}return a(l)}function d(l){return l<Yi?!1:(t.has(l)?(t.delete(l),i.push(l)):E(l),!0)}function g(){let l=i;if(l.length){i=[];for(let x of l){let[b,_]=Pt.fromEntityId(x);o.addTo(b,_)}}return l}function E(l){let[x,b]=Pt.fromEntityId(l);o.addTo(x,b);for(let _=0;_<=b;_++)t.delete(Pt.toEntityId(x,_));return!0}function C(l){let[x,b]=Pt.fromEntityId(l);if(o.has(x,b))return!1;if(b>0){for(let _=0;_<=b-1;_++)t.delete(Pt.toEntityId(x,_));o.addTo(x,b-1)}return t.add(l),!0}function S(l){let[x,b]=Pt.fromEntityId(l);if(x<Yi)return Ge.Reserved;if(t.has(l))return Ge.UsedEntity;let _=o.getMap().get(x);return _!==void 0&&_>=b?Ge.Removed:Ge.Unknown}return{setNetworkEntitiesRange:c,generateEntity:f,removeEntity:d,getExistingEntities(){return new Set(t)},getEntityState:S,releaseRemovedEntities:g,updateRemovedEntity:E,updateUsedEntity:C}}var Oo=fe(vr()),ke=function(e,n,r,t){if(r==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!t:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?t:r==="a"?t.call(e):t?t.value:n.get(e)},_e,ct,Je;function Cp(e,n){let r=Math.max(e,n)+1024;return Math.ceil(r/1024)*1024}var Pp=10240,Ue=class{constructor(n,r,t){_e.add(this),this._buffer=n||new Uint8Array(Pp),this.view=new DataView(this._buffer.buffer,this._buffer.byteOffset),this.woffset=t??(n?this._buffer.length:null)??0,this.roffset=r??0}buffer(){return this._buffer}bufferLength(){return this._buffer.length}resetBuffer(){this.roffset=0,this.woffset=0}currentReadOffset(){return this.roffset}currentWriteOffset(){return this.woffset}incrementReadOffset(n){return ke(this,_e,"m",Je).call(this,n)}remainingBytes(){return this.woffset-this.roffset}readFloat32(){return this.view.getFloat32(ke(this,_e,"m",Je).call(this,4),!0)}readFloat64(){return this.view.getFloat64(ke(this,_e,"m",Je).call(this,8),!0)}readInt8(){return this.view.getInt8(ke(this,_e,"m",Je).call(this,1))}readInt16(){return this.view.getInt16(ke(this,_e,"m",Je).call(this,2),!0)}readInt32(){return this.view.getInt32(ke(this,_e,"m",Je).call(this,4),!0)}readInt64(){return this.view.getBigInt64(ke(this,_e,"m",Je).call(this,8),!0)}readUint8(){return this.view.getUint8(ke(this,_e,"m",Je).call(this,1))}readUint16(){return this.view.getUint16(ke(this,_e,"m",Je).call(this,2),!0)}readUint32(){return this.view.getUint32(ke(this,_e,"m",Je).call(this,4),!0)}readUint64(){return this.view.getBigUint64(ke(this,_e,"m",Je).call(this,8),!0)}readBuffer(){let n=this.view.getUint32(ke(this,_e,"m",Je).call(this,4),!0);return this._buffer.subarray(ke(this,_e,"m",Je).call(this,n),ke(this,_e,"m",Je).call(this,0))}readUtf8String(){let n=this.view.getUint32(ke(this,_e,"m",Je).call(this,4),!0);return Oo.read(this._buffer,ke(this,_e,"m",Je).call(this,n),ke(this,_e,"m",Je).call(this,0))}incrementWriteOffset(n){return ke(this,_e,"m",ct).call(this,n)}toBinary(){return this._buffer.subarray(0,this.woffset)}toCopiedBinary(){return new Uint8Array(this.toBinary())}writeBuffer(n,r=!0){r&&this.writeUint32(n.byteLength);let t=ke(this,_e,"m",ct).call(this,n.byteLength);this._buffer.set(n,t)}writeUtf8String(n,r=!0){let t=Oo.length(n);r&&this.writeUint32(t);let i=ke(this,_e,"m",ct).call(this,t);Oo.write(n,this._buffer,i)}writeFloat32(n){let r=ke(this,_e,"m",ct).call(this,4);this.view.setFloat32(r,n,!0)}writeFloat64(n){let r=ke(this,_e,"m",ct).call(this,8);this.view.setFloat64(r,n,!0)}writeInt8(n){let r=ke(this,_e,"m",ct).call(this,1);this.view.setInt8(r,n)}writeInt16(n){let r=ke(this,_e,"m",ct).call(this,2);this.view.setInt16(r,n,!0)}writeInt32(n){let r=ke(this,_e,"m",ct).call(this,4);this.view.setInt32(r,n,!0)}writeInt64(n){let r=ke(this,_e,"m",ct).call(this,8);this.view.setBigInt64(r,n,!0)}writeUint8(n){let r=ke(this,_e,"m",ct).call(this,1);this.view.setUint8(r,n)}writeUint16(n){let r=ke(this,_e,"m",ct).call(this,2);this.view.setUint16(r,n,!0)}writeUint32(n){let r=ke(this,_e,"m",ct).call(this,4);this.view.setUint32(r,n,!0)}writeUint64(n){let r=ke(this,_e,"m",ct).call(this,8);this.view.setBigUint64(r,n,!0)}getFloat32(n){return this.view.getFloat32(n,!0)}getFloat64(n){return this.view.getFloat64(n,!0)}getInt8(n){return this.view.getInt8(n)}getInt16(n){return this.view.getInt16(n,!0)}getInt32(n){return this.view.getInt32(n,!0)}getInt64(n){return this.view.getBigInt64(n,!0)}getUint8(n){return this.view.getUint8(n)}getUint16(n){return this.view.getUint16(n,!0)}getUint32(n){return this.view.getUint32(n,!0)}getUint64(n){return this.view.getBigUint64(n,!0)}setFloat32(n,r){this.view.setFloat32(n,r,!0)}setFloat64(n,r){this.view.setFloat64(n,r,!0)}setInt8(n,r){this.view.setInt8(n,r)}setInt16(n,r){this.view.setInt16(n,r,!0)}setInt32(n,r){this.view.setInt32(n,r,!0)}setInt64(n,r){this.view.setBigInt64(n,r,!0)}setUint8(n,r){this.view.setUint8(n,r)}setUint16(n,r){this.view.setUint16(n,r,!0)}setUint32(n,r){this.view.setUint32(n,r,!0)}setUint64(n,r){this.view.setBigUint64(n,r,!0)}};_e=new WeakSet,ct=function(n){if(this.woffset+n>this._buffer.byteLength){let r=Cp(this._buffer.byteLength,this.woffset+n),t=new Uint8Array(r);t.set(this._buffer);let i=this._buffer.byteOffset;this._buffer=t,this.view=new DataView(this._buffer.buffer,i)}return this.woffset+=n,this.woffset-n},Je=function(n){if(this.roffset+n>this.woffset)throw new Error("Outside of the bounds of writen data.");return this.roffset+=n,this.roffset-n};var pe;(function(e){e[e.RESERVED=0]="RESERVED",e[e.PUT_COMPONENT=1]="PUT_COMPONENT",e[e.DELETE_COMPONENT=2]="DELETE_COMPONENT",e[e.DELETE_ENTITY=3]="DELETE_ENTITY",e[e.APPEND_VALUE=4]="APPEND_VALUE",e[e.MAX_MESSAGE_TYPE=5]="MAX_MESSAGE_TYPE"})(pe||(pe={}));var Rt=8,pt;(function(e){e[e.StateUpdatedTimestamp=1]="StateUpdatedTimestamp",e[e.StateOutdatedTimestamp=2]="StateOutdatedTimestamp",e[e.NoChanges=3]="NoChanges",e[e.StateOutdatedData=4]="StateOutdatedData",e[e.StateUpdatedData=5]="StateUpdatedData",e[e.EntityWasDeleted=6]="EntityWasDeleted",e[e.EntityDeleted=7]="EntityDeleted"})(pt||(pt={}));var kt;(function(e){function n(o){let s=o.remainingBytes();if(s<Rt)return!1;let c=o.getUint32(o.currentReadOffset());return!(s<c)}e.validate=n;function r(o){return n(o)?{length:o.readUint32(),type:o.readUint32()}:null}e.readHeader=r;function t(o){if(!n(o))return null;let s=o.currentReadOffset();return{length:o.getUint32(s),type:o.getUint32(s+4)}}e.getHeader=t;function i(o){let s=t(o);return s?(o.incrementReadOffset(s.length),!0):!1}e.consumeMessage=i})(kt||(kt={}));var rn;(function(e){e.MESSAGE_HEADER_LENGTH=12;function n(t,i,o,s){let c=Rt+e.MESSAGE_HEADER_LENGTH,a=s.incrementWriteOffset(c);s.setUint32(a,c),s.setUint32(a+4,pe.DELETE_COMPONENT),s.setUint32(a+8,t),s.setUint32(a+12,i),s.setUint32(a+16,o)}e.write=n;function r(t){let i=kt.readHeader(t);if(!i)return null;if(i.type!==pe.DELETE_COMPONENT)throw new Error("DeleteComponentOperation tried to read another message type.");return{...i,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32()}}e.read=r})(rn||(rn={}));var vn;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,i,o,s,c){let a=c.incrementWriteOffset(Rt+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(s,!1);let f=c.currentWriteOffset()-a;c.setUint32(a,f),c.setUint32(a+4,pe.APPEND_VALUE),c.setUint32(a+8,t),c.setUint32(a+12,o),c.setUint32(a+16,i);let d=f-e.MESSAGE_HEADER_LENGTH-Rt;c.setUint32(a+20,d)}e.write=n;function r(t){let i=kt.readHeader(t);if(!i)return null;if(i.type!==pe.APPEND_VALUE)throw new Error("AppendValueOperation tried to read another message type.");return{...i,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=r})(vn||(vn={}));var fr;(function(e){e.MESSAGE_HEADER_LENGTH=4;function n(t,i){i.writeUint32(Rt+4),i.writeUint32(pe.DELETE_ENTITY),i.writeUint32(t)}e.write=n;function r(t){let i=kt.readHeader(t);if(!i)return null;if(i.type!==pe.DELETE_ENTITY)throw new Error("DeleteEntity tried to read another message type.");return{...i,entityId:t.readUint32()}}e.read=r})(fr||(fr={}));var an;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,i,o,s,c){let a=c.incrementWriteOffset(Rt+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(s,!1);let f=c.currentWriteOffset()-a;c.setUint32(a,f),c.setUint32(a+4,pe.PUT_COMPONENT),c.setUint32(a+8,t),c.setUint32(a+12,o),c.setUint32(a+16,i);let d=f-e.MESSAGE_HEADER_LENGTH-Rt;c.setUint32(a+20,d)}e.write=n;function r(t){let i=kt.readHeader(t);if(!i)return null;if(i.type!==pe.PUT_COMPONENT)throw new Error("PutComponentOperation tried to read another message type.");return{...i,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=r})(an||(an={}));function xu(e,n){let r=[],t=[],i=[],o=[];function s(g){return function(C){let S=new Ue(C),l;for(;l=kt.getHeader(S);){let x=S.currentReadOffset();if(l.type===pe.DELETE_COMPONENT){let b=rn.read(S);t.push({...b,transportId:g,messageBuffer:S.buffer().subarray(x,S.currentReadOffset())})}else if(l.type===pe.PUT_COMPONENT){let b=an.read(S);t.push({...b,transportId:g,messageBuffer:S.buffer().subarray(x,S.currentReadOffset())})}else if(l.type===pe.DELETE_ENTITY){let b=fr.read(S);t.push({...b,transportId:g,messageBuffer:S.buffer().subarray(x,S.currentReadOffset())})}else if(l.type===pe.APPEND_VALUE){let b=vn.read(S);t.push({...b,transportId:g,messageBuffer:S.buffer().subarray(x,S.currentReadOffset())})}else S.incrementReadOffset(l.length)}}}function c(g){return g.splice(0,g.length)}async function a(){let g=c(t),E=new Ue,C=[];for(let S of g)if(S.type===pe.DELETE_ENTITY)C.push(S.entityId),i.push(S);else{let l=e.entityContainer.getEntityState(S.entityId);if(l===Ge.Removed)continue;l===Ge.Unknown&&e.entityContainer.updateUsedEntity(S.entityId);let x=e.getComponentOrNull(S.componentId);if(x){let[b,_]=x.updateFromCrdt(S);if(b){let M=E.currentWriteOffset();b.type===pe.PUT_COMPONENT?an.write(S.entityId,b.timestamp,b.componentId,b.data,E):b.type===pe.DELETE_COMPONENT&&rn.write(S.entityId,x.componentId,b.timestamp,E),o.push({...S,messageBuffer:E.buffer().subarray(M,E.currentWriteOffset())})}else i.push(S),n&&n(S.entityId,S.type,x,_)}else i.push(S)}for(let S of C){for(let l=o.length-1;l>=0;l--)o[l].entityId===S&&o[l].type!==pe.DELETE_ENTITY&&o.splice(l,1);for(let l of e.componentsIter())l.entityDeleted(S,!0);e.entityContainer.updateRemovedEntity(S),n&&n(S,pe.DELETE_ENTITY)}}async function f(g){let E=c(i),C=c(o),S=new Ue;for(let x of e.componentsIter())for(let b of x.getCrdtUpdates()){let _=S.currentWriteOffset();if(r.some(M=>M.filter(b))&&(b.type===pe.PUT_COMPONENT?an.write(b.entityId,b.timestamp,b.componentId,b.data,S):b.type===pe.DELETE_COMPONENT?rn.write(b.entityId,x.componentId,b.timestamp,S):b.type===pe.APPEND_VALUE&&vn.write(b.entityId,b.timestamp,b.componentId,b.data,S),E.push({...b,messageBuffer:S.buffer().subarray(_,S.currentWriteOffset())}),n)){let M=b.type===pe.PUT_COMPONENT||b.type===pe.APPEND_VALUE?x.get(b.entityId):void 0;n(b.entityId,b.type,x,M)}}for(let x of g){let b=S.currentWriteOffset();fr.write(x,S),E.push({type:pe.DELETE_ENTITY,entityId:x,messageBuffer:S.buffer().subarray(b,S.currentWriteOffset())}),n&&n(x,pe.DELETE_ENTITY)}let l=new Ue;for(let x in r){let b=Number(x),_=r[b];l.resetBuffer();for(let $ of C)$.transportId===b&&!E.find(de=>de.entityId===$.entityId&&de.componentId&&de.componentId===$.componentId)&&l.writeBuffer($.messageBuffer,!1);for(let $ of E)$.transportId!==b&&_.filter($)&&l.writeBuffer($.messageBuffer,!1);let M=l.currentWriteOffset()?l.toBinary():new Uint8Array([]);await _.send(M)}}function d(g){let E=r.push(g)-1;g.onmessage=s(E)}return{sendMessages:f,receiveMessages:a,addTransport:d}}var Su;(function(e){let n;(function(r){r[r.NETWORKED=0]="NETWORKED",r[r.RENDERER=1]="RENDERER"})(n=e.SynchronizedEntityType||(e.SynchronizedEntityType={}))})(Su||(Su={}));function ur(e,n){if(e===n)return 0;if(e===null&&n!==null)return-1;if(e!==null&&n===null)return 1;if(e instanceof Uint8Array&&n instanceof Uint8Array){let r=e.byteLength-n.byteLength;if(r!==0)return r>0?1:-1;let t;for(let i=0,o=e.byteLength;i<o;i++)if(t=e[i]-n[i],t!==0)return t>0?1:-1;return 0}if(typeof e=="string"){let r=e.length-n.length;return r!==0?r>0?1:-1:e.localeCompare(n)}return e>n?1:-1}function nc(e){return Object.freeze({...e})}function Bp(e,n){let r=(n.get(e)||0)+1;return n.set(e,r),r}function Mp(e,n,r,t){return function(o,s){for(let[c,a]of n)if(!(s&&!s(c)))if(t.has(c)){let f=t.get(c),d=new Ue;r.serialize(f,d),an.write(c,a,e,d.toBinary(),o)}else rn.write(c,e,a,o)}}function zp(e,n,r,t){function i(o){let{entityId:s,timestamp:c}=o,a=n.get(s);if(a===void 0||a<c)return pt.StateUpdatedTimestamp;if(a>c)return pt.StateOutdatedTimestamp;if(o.type===pe.DELETE_COMPONENT&&!t.has(s))return pt.NoChanges;let f=0;if(t.has(s)){let d=new Ue;r.serialize(t.get(s),d),f=ur(d.toBinary(),o.data||null)}else f=ur(null,o.data);return f===0?pt.NoChanges:f>0?pt.StateOutdatedData:pt.StateUpdatedData}return o=>{if(o.type!==pe.PUT_COMPONENT&&o.type!==pe.DELETE_COMPONENT)return[null,t.get(o.entityId)];let s=i(o),c=o.entityId;switch(s){case pt.StateUpdatedData:case pt.StateUpdatedTimestamp:{if(n.set(c,o.timestamp),o.type===pe.PUT_COMPONENT){let a=new Ue(o.data);t.set(c,r.deserialize(a))}else t.delete(c);return[null,t.get(c)]}case pt.StateOutdatedTimestamp:case pt.StateOutdatedData:if(t.has(c)){let a=new Ue;return r.serialize(t.get(c),a),[{type:pe.PUT_COMPONENT,componentId:e,data:a.toBinary(),entityId:c,timestamp:n.get(c)},t.get(c)]}else return[{type:pe.DELETE_COMPONENT,componentId:e,entityId:c,timestamp:n.get(c)},void 0]}return[null,t.get(c)]}}function vp(e,n,r,t,i){return function*(){for(let o of r){let s=Bp(o,n);if(i.has(o)){let c=new Ue;t.serialize(i.get(o),c),yield{type:pe.PUT_COMPONENT,componentId:e,entityId:o,data:c.toBinary(),timestamp:s}}else yield{type:pe.DELETE_COMPONENT,componentId:e,entityId:o,timestamp:s}}r.clear()}}function oc(e,n,r){let t=new Map,i=new Set,o=new Map;return{get componentId(){return n},get componentName(){return e},get componentType(){return 0},schema:r,has(s){return t.has(s)},deleteFrom(s,c=!0){let a=t.get(s);return t.delete(s)&&c&&i.add(s),a||null},entityDeleted(s,c){t.delete(s)&&c&&i.add(s)},getOrNull(s){let c=t.get(s);return c?nc(c):null},get(s){let c=t.get(s);if(!c)throw new Error(`[getFrom] Component ${e} for entity #${s} not found`);return nc(c)},create(s,c){if(t.get(s))throw new Error(`[create] Component ${e} for ${s} already exists`);let f=c===void 0?r.create():r.extend?r.extend(c):c;return t.set(s,f),i.add(s),f},createOrReplace(s,c){let a=c===void 0?r.create():r.extend?r.extend(c):c;return t.set(s,a),i.add(s),a},getMutableOrNull(s){let c=t.get(s);return c?(i.add(s),c):null},getOrCreateMutable(s,c){let a=t.get(s);return a?(i.add(s),a):this.create(s,c)},getMutable(s){let c=this.getMutableOrNull(s);if(c===null)throw new Error(`[mutable] Component ${e} for ${s} not found`);return c},*iterator(){for(let[s,c]of t)yield[s,c]},*dirtyIterator(){for(let s of i)yield s},getCrdtUpdates:vp(n,o,i,r,t),updateFromCrdt:zp(n,o,r,t),dumpCrdtStateToBuffer:Mp(n,o,r,t)}}function Tu(){let e=[];function n(){e.sort((i,o)=>o.priority-i.priority)}function r(i,o,s){let c=s??i.name;if(e.find(a=>a.fn===i))throw new Error(`System ${JSON.stringify(c)} already added to the engine`);e.push({fn:i,priority:o,name:c}),n()}function t(i){let o=-1;return typeof i=="string"?o=e.findIndex(s=>s.name===i):o=e.findIndex(s=>s.fn===i),o===-1?!1:(e.splice(o,1),n(),!0)}return{add:r,remove:t,getSystems(){return e}}}var rc=_u(new Set);function gu(){throw new Error("The set is frozen")}function _u(e){return e.add=gu,e.clear=gu,e}function Up(e,n){return e.timestamp>n.timestamp?1:-1}function Ru(e,n,r,t){let i=new Map,o=new Set,s=[];function c(g){let E=g.raw.length;return E>1&&g.raw[E-1].timestamp<=g.raw[E-2].timestamp}function a(g){let E=i.get(g);if(E){for(c(E)&&E.raw.sort(Up);E.raw.length>t.maxElements;)E.raw.shift();let C=_u(new Set(E?.raw.map(S=>S.value)));return E.frozenSet=C,C}else return rc}function f(g,E){let C=i.get(g);C||(C={raw:[],frozenSet:rc},i.set(g,C));let S=r.extend?r.extend(E):E,l=t.timestampFunction(S);return ec&&Object.freeze(S),C.raw.push({value:S,timestamp:l}),{set:a(g),value:S}}return{get componentId(){return n},get componentName(){return e},get componentType(){return 1},schema:r,has(g){return i.has(g)},entityDeleted(g){i.delete(g)},get(g){let E=i.get(g);return E?E.frozenSet:rc},addValue(g,E){let{set:C,value:S}=f(g,E);o.add(g);let l=new Ue;return r.serialize(S,l),s.push({componentId:n,data:l.toBinary(),entityId:g,timestamp:0,type:pe.APPEND_VALUE}),C},*iterator(){for(let[g,E]of i)yield[g,E.frozenSet]},*dirtyIterator(){for(let g of o)yield g},getCrdtUpdates(){return o.clear(),s.splice(0,s.length)},updateFromCrdt(g){if(g.type===pe.APPEND_VALUE){let E=new Ue(g.data);f(g.entityId,r.deserialize(E))}return[null,void 0]},dumpCrdtStateToBuffer:function(g,E){for(let[C,{raw:S}]of i)if(!(E&&!E(C)))for(let l of S){let x=new Ue;r.serialize(l.value,x),vn.write(C,0,n,x.toBinary(),g)}}}}function*ku(e,n){if(n.has(e)){n.delete(e);for(let[r,t]of n)t.parent===e&&(yield*ku(r,n));yield e}}function Fp(e,n,r){let t=new Map(e.getEntitiesWith(r));return ku(n,t)}function Au(e,n){let r=Mn(e);for(let t of Fp(e,n,r))e.removeEntity(t)}var wu=[0,1,2,4,5,6,7,8,9,10,11,12,13],Lp=1<<20;function Iu(e){let n=zi(e),r={previousFrameMaxTimestamp:0,currentFrameMaxTimestamp:0,buttonState:new Map,thisFrameCommands:[]};function t(l,x,b){let _=n.get(b);for(let M of Array.from(_).reverse())if(M.button===x&&M.state===l)return M}function*i(l,x){let b=n.get(x);for(let _ of Array.from(b).reverse())_.button===l&&(yield _)}function o(){let l=r.currentFrameMaxTimestamp;r.previousFrameMaxTimestamp=l,r.thisFrameCommands.length&&(r.thisFrameCommands=[]);for(let[,x]of e.getEntitiesWith(n)){let b=Array.from(x);for(let _=b.length-1;_>=0;_--){let M=b[_];if(M.timestamp>l&&(l=M.timestamp),M.timestamp>r.previousFrameMaxTimestamp&&r.thisFrameCommands.push(M),M.state===0||M.state===1){let $=r.buttonState.get(M.button);if(!$||M.timestamp>$.timestamp)r.buttonState.set(M.button,M);else break}}}r.currentFrameMaxTimestamp=l}e.addSystem(o,Lp,"@dcl/ecs#inputSystem");function s(l){return l>r.previousFrameMaxTimestamp&&l<=r.currentFrameMaxTimestamp}function c(l,x){if(l!==3)return a(l,x);for(let b of wu){let _=a(b,x);if(_)return _}return null}function a(l,x){let b=null,_=null;for(let M of i(l,x))if(_){if(!b&&M.state===1){b=M;break}}else if(M.state===0){_=M;continue}return!_||!b?null:b.timestamp<_.timestamp&&s(_.timestamp)?{up:_,down:b}:null}function f(l,x,b){if(l!==3)return g(l,x,b);for(let _ of wu){let M=g(_,x,b);if(M)return M}return null}function d(l,x,b){if(b)return f(l,x,b);for(let _ of r.thisFrameCommands)if((_.button===l||l===3)&&_.state===x)return _;return null}function g(l,x,b){let _=t(x,l,b);return _&&s(_.timestamp)?_:null}function E(l,x){return c(l,x)!==null}function C(l,x,b){if(b){let _=t(x,l,b);return _&&s(_.timestamp)||!1}else{for(let _ of r.thisFrameCommands)if((_.button===l||l===3)&&_.state===x)return!0;return!1}}function S(l){return r.buttonState.get(l)?.state===1}return{isPressed:S,getClick:c,getInputCommand:d,isClicked:E,isTriggered:C}}var Nu;(function(e){e[e.LastWriteWinElementSet=0]="LastWriteWinElementSet",e[e.GrowOnlyValueSet=1]="GrowOnlyValueSet"})(Nu||(Nu={}));function Wp(){let e=Eu(),n=new Map,r=Tu(),t,i=!1;function o(F,Y=1e5,k){r.add(F,Y,k)}function s(F){return r.remove(F)}function c(){if(!t)throw new Error("Network manager not initialized. Start CRDT Server");return t}function a(F,Y){return e.setNetworkEntitiesRange(F,Y),t={addEntity:()=>e.generateEntity(!0)},t}function f(){return e.generateEntity()}function d(F){for(let[,Y]of n)Y.entityDeleted(F,!0);return e.removeEntity(F)}function g(F){return Au({removeEntity:d,defineComponentFromSchema:C,getEntitiesWith:_},F)}function E(F,Y){if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let k=Ft(F);if(n.get(k))throw new Error(`Component number ${k} was already registered.`);if(Y.componentName!==F)throw new Error(`Component name doesn't match componentDefinition.componentName ${F} != ${Y.componentName}`);if(Y.componentId!==k)throw new Error(`Component number doesn't match componentDefinition.componentId ${k} != ${Y.componentId}`);return n.set(k,Y),Y}function C(F,Y){let k=Ft(F),N=n.get(k);if(N)return N;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let L=oc(F,k,Y);return n.set(k,L),L}function S(F,Y,k){let N=Ft(F),L=n.get(N);if(L)return L;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let X=Ru(F,N,Y,k);return n.set(N,X),X}function l(F,Y,k){let N=Ft(F),L=n.get(N);if(L)return L;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let X=H.Map(Y,k),ee=oc(F,N,X),le={...ee,create(ye,be){return ee.create(ye,be)},createOrReplace(ye,be){return ee.createOrReplace(ye,be)}};return n.set(N,le),le}function x(F){let Y=typeof F=="number"?F:Ft(F),k=n.get(Y);if(!k)throw new Error(`Component ${Y} not found. You need to declare the components at the beginnig of the engine declaration`);return k}function b(F){let Y=typeof F=="number"?F:Ft(F);return n.get(Y)??null}function*_(...F){for(let[Y,...k]of $(...F))yield[Y,...k.map(N=>N.get(Y))]}function M(F){let Y=$i({defineComponent:l});for(let[k,N]of _(Y))if(N.value===F)return k;return null}function*$(...F){let[Y,...k]=F;for(let[N]of Y.iterator()){let L=!0;for(let X of k)if(!X.has(N)){L=!1;break}L&&(yield[N,...F])}}function de(){return r.getSystems()}function U(){return n.values()}function D(F){if(i)throw new Error("Engine is already sealed. No components can be removed at this stage");let Y=typeof F=="number"?F:Ft(F);n.delete(Y)}Mn({defineComponentFromSchema:C});function Z(){i||(i=!0)}return{addEntity:f,removeEntity:d,removeEntityWithChildren:g,addSystem:o,getSystems:de,removeSystem:s,defineComponent:l,defineComponentFromSchema:C,defineValueSetComponentFromSchema:S,getEntitiesWith:_,getComponent:x,getComponentOrNull:b,getEntityOrNullByName:M,removeComponentDefinition:D,registerComponentDefinition:E,entityContainer:e,componentsIter:U,seal:Z,addNetworkManager:a,getNetworkManager:c}}function Ou(e){let n=Wp(),r=xu(n,e?.onChangeFunction||null);async function t(i){await r.receiveMessages();for(let s of n.getSystems()){let c=s.fn(i);sr(c,`A system (${s.name||"anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`)}let o=n.entityContainer.releaseRemovedEntities();await r.sendMessages(o)}return{addEntity:n.addEntity,removeEntity:n.removeEntity,removeEntityWithChildren:n.removeEntityWithChildren,addSystem:n.addSystem,removeSystem:n.removeSystem,defineComponent:n.defineComponent,defineComponentFromSchema:n.defineComponentFromSchema,defineValueSetComponentFromSchema:n.defineValueSetComponentFromSchema,registerComponentDefinition:n.registerComponentDefinition,getEntitiesWith:n.getEntitiesWith,getComponent:n.getComponent,getComponentOrNull:n.getComponentOrNull,removeComponentDefinition:n.removeComponentDefinition,componentsIter:n.componentsIter,seal:n.seal,getEntityOrNullByName:n.getEntityOrNullByName,update:t,RootEntity:0,PlayerEntity:1,CameraEntity:2,getEntityState:n.entityContainer.getEntityState,addTransport:r.addTransport,entityContainer:n.entityContainer,addNetworkManager:n.addNetworkManager,getNetworkManager:n.getNetworkManager}}function Cu(e,n){let r=Zo(e),t;(function(C){C[C.Click=0]="Click",C[C.Down=1]="Down",C[C.Up=2]="Up"})(t||(t={}));let i=(C={})=>({button:3,...C}),o=new Map;function s(C){return o.get(C)||o.set(C,new Map).get(C)}function c(C,S,l){(l.hoverText||l.showFeedback)&&(r.getMutableOrNull(C)||r.create(C)).pointerEvents.push({eventType:S,eventInfo:{button:l.button,showFeedback:l.showFeedback,hoverText:l.hoverText,maxDistance:l.maxDistance}})}function a(C,S,l){let x=r.getMutableOrNull(C);x&&(x.pointerEvents=x.pointerEvents.filter(b=>!(b.eventInfo?.button===l&&b.eventType===S)))}function f(C){return C===t.Up?0:1}function d(C,S){let l=s(C),x=l.get(S);x?.opts.hoverText&&a(C,f(S),x.opts.button),l.delete(S)}e.addSystem(function(){for(let[S,l]of o){if(e.getEntityState(S)===Ge.Removed){o.delete(S);continue}for(let[x,{cb:b,opts:_}]of l){if(x===t.Click){let M=n.getClick(_.button,S);M&&sr(b(M.up),"Click event returned a thenable. Only synchronous functions are allowed")}if(x===t.Down||x===t.Up){let M=n.getInputCommand(_.button,f(x),S);M&&sr(b(M),"Event handler returned a thenable. Only synchronous functions are allowed")}}}});let g=(...C)=>{let[S,l,x]=C;if(typeof S=="number")return g({entity:S,opts:x??{}},l);let{entity:b,opts:_}=S,M=i(_);d(b,t.Down),s(b).set(t.Down,{cb:l,opts:M}),c(b,1,M)},E=(...C)=>{let[S,l,x]=C;if(typeof S=="number")return E({entity:S,opts:x??{}},l);let{entity:b,opts:_}=S,M=i(_);d(b,t.Up),s(b).set(t.Up,{cb:l,opts:M}),c(b,0,M)};return{removeOnClick(C){d(C,t.Click)},removeOnPointerDown(C){d(C,t.Down)},removeOnPointerUp(C){d(C,t.Up)},onClick(C,S){let{entity:l}=C,x=i(C.opts);d(l,t.Click),s(l).set(t.Click,{cb:S,opts:x}),c(l,1,x)},onPointerDown:g,onPointerUp:E}}function Pu(e){let n=Xa(e),r=Ui(e),t=vi(e),i=new Map;function o(f){let d=r.getOrNull(f),g=n.getOrNull(f),E=i.get(f);return!d||!g?!1:!!((s(f)||d.state===1)&&!E?.completed&&(E?.frames??0)>2)}function s(f){let d=n.getOrNull(f),g=i.get(f)?.tween;if(d&&!g||!d&&g)return!0;let E=new Ue;return n.schema.serialize(d,E),ur(E.toBinary(),g)}let c=[];e.addSystem(()=>{for(let f of c)f();c.length=0;for(let[f,d]of e.getEntitiesWith(n)){if(s(f)){let E=new Ue;n.schema.serialize(d,E),i.set(f,{tween:E.toBinary(),frames:0,completed:!1,changed:!0});continue}let g=i.get(f);if(g.frames+=1,g.changed=!1,o(f)){g.frames=0,g.completed=!0;let E=t.getOrNull(f);if(!E)continue;let{sequence:C}=E;if(C&&C.length){let[S,...l]=C;n.createOrReplace(f,S);let x=t.getMutable(f);x.sequence=l,E.loop===0&&x.sequence.push(d)}else E.loop===1?n.createOrReplace(f,a(d)):E.loop===0&&(n.deleteFrom(f),i.delete(f),c.push(()=>{n.createOrReplace(f,d)}))}}},Number.NEGATIVE_INFINITY);function a(f){if(f.mode?.$case==="move"&&f.mode.move)return{...f,mode:{...f.mode,move:{start:f.mode.move.end,end:f.mode.move.start}}};if(f.mode?.$case==="rotate"&&f.mode.rotate)return{...f,mode:{...f.mode,rotate:{start:f.mode.rotate.end,end:f.mode.rotate.start}}};if(f.mode?.$case==="scale"&&f.mode.scale)return{...f,mode:{...f.mode,scale:{start:f.mode.scale.end,end:f.mode.scale.start}}};throw new Error("Invalid tween")}return{tweenCompleted:o}}var V=Ou(),ic=Iu(V),ac=Cu(V,ic);var _E=Pu(V);var $t=va(V);var Ji=Ua(V);var cn=Fa(V);var Un=Zo(V);var cc=$a(V);var Bu;(function(e){e[e.CT_FIRST_PERSON=0]="CT_FIRST_PERSON",e[e.CT_THIRD_PERSON=1]="CT_THIRD_PERSON",e[e.CT_CINEMATIC=2]="CT_CINEMATIC"})(Bu||(Bu={}));var dr;(function(e){e[e.IA_POINTER=0]="IA_POINTER",e[e.IA_PRIMARY=1]="IA_PRIMARY",e[e.IA_SECONDARY=2]="IA_SECONDARY",e[e.IA_ANY=3]="IA_ANY",e[e.IA_FORWARD=4]="IA_FORWARD",e[e.IA_BACKWARD=5]="IA_BACKWARD",e[e.IA_RIGHT=6]="IA_RIGHT",e[e.IA_LEFT=7]="IA_LEFT",e[e.IA_JUMP=8]="IA_JUMP",e[e.IA_WALK=9]="IA_WALK",e[e.IA_ACTION_3=10]="IA_ACTION_3",e[e.IA_ACTION_4=11]="IA_ACTION_4",e[e.IA_ACTION_5=12]="IA_ACTION_5",e[e.IA_ACTION_6=13]="IA_ACTION_6"})(dr||(dr={}));var sn;(function(e){e[e.PET_UP=0]="PET_UP",e[e.PET_DOWN=1]="PET_DOWN",e[e.PET_HOVER_ENTER=2]="PET_HOVER_ENTER",e[e.PET_HOVER_LEAVE=3]="PET_HOVER_LEAVE"})(sn||(sn={}));var Mu;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.NOT_FOUND=2]="NOT_FOUND",e[e.FINISHED_WITH_ERROR=3]="FINISHED_WITH_ERROR",e[e.FINISHED=4]="FINISHED"})(Mu||(Mu={}));var zu;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(zu||(zu={}));var vu;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(vu||(vu={}));function sc(e){let n=e.getComponentOrNull("composite::root");return n||e.defineComponent("composite::root",{src:H.String,entities:H.Array(H.Map({src:H.Entity,dest:H.Entity}))})}var Vp="/";function Gp(e,n=!1){let r="",t=0,i=-1,o=0,s;for(let c=0;c<=e.length;++c){if(c<e.length)s=e.charCodeAt(c);else{if(s===47)break;s=47}if(s===47){if(!(i===c-1||o===1))if(i!==c-1&&o===2){if(r.length<2||t!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){let a=r.lastIndexOf("/");if(a!==r.length-1){a===-1?(r="",t=0):(r=r.slice(0,a),t=r.length-1-r.lastIndexOf("/")),i=c,o=0;continue}}else if(r.length===2||r.length===1){r="",t=0,i=c,o=0;continue}}n&&(r.length>0?r+="/..":r="..",t=2)}else r.length>0?r+="/"+e.slice(i+1,c):r=e.slice(i+1,c),t=c-i-1;i=c,o=0}else s===46&&o!==-1?++o:o=-1}return r}function Zi(...e){let n="",r=!1,t;for(let i=e.length-1;i>=-1&&!r;i--){let o;i>=0?o=e[i]:(t===void 0&&(t=Vp),o=t),o.length!==0&&(n=o+"/"+n,r=o.charCodeAt(0)===47)}return n=Gp(n,!r),r?n.length>0?"/"+n:"/":n.length>0?n:"."}function Uu(e){if(e.length===0)return".";let n=e.charCodeAt(0),r=n===47,t=-1,i=!0;for(let o=e.length-1;o>=1;--o)if(n=e.charCodeAt(o),n===47){if(!i){t=o;break}}else i=!1;return t===-1?r?"/":".":r&&t===1?"//":e.slice(0,t)}function Xi(e,n){return(e.startsWith(".")?Zi(n,e):Zi(e)).substring(1)}var Co;(function(e){e[e.EMM_NONE=0]="EMM_NONE",e[e.EMM_NEXT_AVAILABLE=1]="EMM_NEXT_AVAILABLE",e[e.EMM_DIRECT_MAPPING=2]="EMM_DIRECT_MAPPING"})(Co||(Co={}));function Fu(e,n){return n.data?.$case==="json"?n.data.json:e.schema.deserialize(new Ue(n.data?.binary))}function qp(e,n){let r=e.getComponentOrNull(n.name);if(r)return r;if(n.name.startsWith("core::")){if(n.name in Ya)return Ya[n.name](e);throw new Error(`The core component ${n.name} was not found.`)}else{if(n.jsonSchema)return e.defineComponentFromSchema(n.name,H.fromJson(n.jsonSchema));throw new Error(`${n.name} is not defined and there is no schema to define it.`)}}function jp(e,n,r,{entityMapping:t}){let i=r.get(n);if(i)return i;if(t?.type===Co.EMM_DIRECT_MAPPING){let s=t.getCompositeEntity(n);return r.set(n,s),s}let o=t?.type===Co.EMM_NEXT_AVAILABLE?t.getNextAvailableEntity():e.addEntity();if(o===null)throw new Error("There is no more entities to allocate");return r.set(n,o),o}function fc(e,n,r,t){let{rootEntity:i,alreadyRequestedSrc:o,entityMapping:s}=t,c=o||new Set,a=Uu(Zi(n.src)),f=Ft("core::Transform"),d=sc(e),g=new Map,E=x=>jp(e,x,g,t),C=i??E(0);i&&g.set(0,i);let S=n.composite.components.find(x=>x.name===d.componentName);if(S)for(let[x,b]of S.data){let _=Fu(d,b),M=Xi(_.src,a),$=r.getCompositeOrNull(M),de=E(x);if($){if(c.has($.src)||$.src===n.src)throw new Error(`Composite ${n.src} has a recursive instanciation while try to instance ${$.src}. Previous instances: ${c.toString()}`);fc(e,$,r,{rootEntity:de,alreadyRequestedSrc:new Set(c).add($.src),entityMapping:s?.type===Co.EMM_NEXT_AVAILABLE?s:void 0})}}for(let x of n.composite.components){if(x.name===d.componentName)continue;let b=qp(e,x);for(let[_,M]of x.data){let $=Fu(b,M),de=E(_),U=b.create(de,$);if(b.componentId===f){let D=U;D.parent?D.parent=E(D.parent):D.parent=E(0)}else H.mutateNestedValues(b.schema.jsonSchema,U,(D,Z)=>Z.serializationType==="entity"?{changed:!0,value:E(D)}:{changed:!1})}}let l=d.getMutableOrNull(C)||d.create(C);for(let[x,b]of g)l.entities.push({src:x,dest:b});return l.src=n.src,C}var ht=fe(ue());var mt=fe(ue());var Lu;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(Lu||(Lu={}));function $p(e){switch(e){case 0:case"NULL_VALUE":return 0;default:throw new Gu.Error("Unrecognized enum value "+e+" for enum NullValue")}}function Yp(e){switch(e){case 0:return"NULL_VALUE";default:throw new Gu.Error("Unrecognized enum value "+e+" for enum NullValue")}}function Du(){return{fields:new Map}}var Po;(function(e){function n(c,a=mt.default.Writer.create()){return c.fields.forEach((f,d)=>{f!==void 0&&Qi.encode({key:d,value:f},a.uint32(10).fork()).ldelim()}),a}e.encode=n;function r(c,a){let f=c instanceof mt.default.Reader?c:mt.default.Reader.create(c),d=a===void 0?f.len:f.pos+a,g=Du();for(;f.pos<d;){let E=f.uint32();switch(E>>>3){case 1:if(E!==10)break;let C=Qi.decode(f,f.uint32());C.value!==void 0&&g.fields.set(C.key,C.value);continue}if((E&7)===4||E===0)break;f.skipType(E&7)}return g}e.decode=r;function t(c){return{fields:Zp(c.fields)?Object.entries(c.fields).reduce((a,[f,d])=>(a.set(f,d),a),new Map):new Map}}e.fromJSON=t;function i(c){let a={};return a.fields={},c.fields&&c.fields.forEach((f,d)=>{a.fields[d]=f}),a}e.toJSON=i;function o(c){let a=Du();return c!==void 0&&Object.keys(c).forEach(f=>{a.fields.set(f,c[f])}),a}e.wrap=o;function s(c){let a={};return[...c.fields.keys()].forEach(f=>{a[f]=c.fields.get(f)}),a}e.unwrap=s})(Po||(Po={}));function Jp(){return{key:"",value:void 0}}var Qi;(function(e){function n(o,s=mt.default.Writer.create()){return o.key!==""&&s.uint32(10).string(o.key),o.value!==void 0&&je.encode(je.wrap(o.value),s.uint32(18).fork()).ldelim(),s}e.encode=n;function r(o,s){let c=o instanceof mt.default.Reader?o:mt.default.Reader.create(o),a=s===void 0?c.len:c.pos+s,f=Jp();for(;c.pos<a;){let d=c.uint32();switch(d>>>3){case 1:if(d!==10)break;f.key=c.string();continue;case 2:if(d!==18)break;f.value=je.unwrap(je.decode(c,c.uint32()));continue}if((d&7)===4||d===0)break;c.skipType(d&7)}return f}e.decode=r;function t(o){return{key:fn(o.key)?String(o.key):"",value:fn(o?.value)?o.value:void 0}}e.fromJSON=t;function i(o){let s={};return o.key!==void 0&&(s.key=o.key),o.value!==void 0&&(s.value=o.value),s}e.toJSON=i})(Qi||(Qi={}));function Wu(){return{kind:void 0}}var je;(function(e){function n(c,a=mt.default.Writer.create()){switch(c.kind?.$case){case"nullValue":a.uint32(8).int32(c.kind.nullValue);break;case"numberValue":a.uint32(17).double(c.kind.numberValue);break;case"stringValue":a.uint32(26).string(c.kind.stringValue);break;case"boolValue":a.uint32(32).bool(c.kind.boolValue);break;case"structValue":Po.encode(Po.wrap(c.kind.structValue),a.uint32(42).fork()).ldelim();break;case"listValue":Bo.encode(Bo.wrap(c.kind.listValue),a.uint32(50).fork()).ldelim();break}return a}e.encode=n;function r(c,a){let f=c instanceof mt.default.Reader?c:mt.default.Reader.create(c),d=a===void 0?f.len:f.pos+a,g=Wu();for(;f.pos<d;){let E=f.uint32();switch(E>>>3){case 1:if(E!==8)break;g.kind={$case:"nullValue",nullValue:f.int32()};continue;case 2:if(E!==17)break;g.kind={$case:"numberValue",numberValue:f.double()};continue;case 3:if(E!==26)break;g.kind={$case:"stringValue",stringValue:f.string()};continue;case 4:if(E!==32)break;g.kind={$case:"boolValue",boolValue:f.bool()};continue;case 5:if(E!==42)break;g.kind={$case:"structValue",structValue:Po.unwrap(Po.decode(f,f.uint32()))};continue;case 6:if(E!==50)break;g.kind={$case:"listValue",listValue:Bo.unwrap(Bo.decode(f,f.uint32()))};continue}if((E&7)===4||E===0)break;f.skipType(E&7)}return g}e.decode=r;function t(c){return{kind:fn(c.nullValue)?{$case:"nullValue",nullValue:$p(c.nullValue)}:fn(c.numberValue)?{$case:"numberValue",numberValue:Number(c.numberValue)}:fn(c.stringValue)?{$case:"stringValue",stringValue:String(c.stringValue)}:fn(c.boolValue)?{$case:"boolValue",boolValue:!!c.boolValue}:fn(c.structValue)?{$case:"structValue",structValue:c.structValue}:fn(c.listValue)?{$case:"listValue",listValue:[...c.listValue]}:void 0}}e.fromJSON=t;function i(c){let a={};return c.kind?.$case==="nullValue"&&(a.nullValue=c.kind?.nullValue!==void 0?Yp(c.kind?.nullValue):void 0),c.kind?.$case==="numberValue"&&(a.numberValue=c.kind?.numberValue),c.kind?.$case==="stringValue"&&(a.stringValue=c.kind?.stringValue),c.kind?.$case==="boolValue"&&(a.boolValue=c.kind?.boolValue),c.kind?.$case==="structValue"&&(a.structValue=c.kind?.structValue),c.kind?.$case==="listValue"&&(a.listValue=c.kind?.listValue),a}e.toJSON=i;function o(c){let a=Wu();if(c===null)a.kind={$case:"nullValue",nullValue:0};else if(typeof c=="boolean")a.kind={$case:"boolValue",boolValue:c};else if(typeof c=="number")a.kind={$case:"numberValue",numberValue:c};else if(typeof c=="string")a.kind={$case:"stringValue",stringValue:c};else if(Array.isArray(c))a.kind={$case:"listValue",listValue:c};else if(typeof c=="object")a.kind={$case:"structValue",structValue:c};else if(typeof c<"u")throw new Error("Unsupported any value type: "+typeof c);return a}e.wrap=o;function s(c){return c.kind?.$case==="nullValue"?null:c.kind?.$case==="numberValue"?c.kind?.numberValue:c.kind?.$case==="stringValue"?c.kind?.stringValue:c.kind?.$case==="boolValue"?c.kind?.boolValue:c.kind?.$case==="structValue"?c.kind?.structValue:c.kind?.$case==="listValue"?c.kind?.listValue:void 0}e.unwrap=s})(je||(je={}));function Vu(){return{values:[]}}var Bo;(function(e){function n(c,a=mt.default.Writer.create()){for(let f of c.values)je.encode(je.wrap(f),a.uint32(10).fork()).ldelim();return a}e.encode=n;function r(c,a){let f=c instanceof mt.default.Reader?c:mt.default.Reader.create(c),d=a===void 0?f.len:f.pos+a,g=Vu();for(;f.pos<d;){let E=f.uint32();switch(E>>>3){case 1:if(E!==10)break;g.values.push(je.unwrap(je.decode(f,f.uint32())));continue}if((E&7)===4||E===0)break;f.skipType(E&7)}return g}e.decode=r;function t(c){return{values:Array.isArray(c?.values)?[...c.values]:[]}}e.fromJSON=t;function i(c){let a={};return c.values?a.values=c.values.map(f=>f):a.values=[],a}e.toJSON=i;function o(c){let a=Vu();return a.values=c??[],a}e.wrap=o;function s(c){return c?.hasOwnProperty("values")&&Array.isArray(c.values)?c.values:c}e.unwrap=s})(Bo||(Bo={}));var Gu=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Zp(e){return typeof e=="object"&&e!==null}function fn(e){return e!=null}function Xp(){return{data:void 0}}var un;(function(e){function n(o,s=ht.default.Writer.create()){switch(o.data?.$case){case"json":je.encode(je.wrap(o.data.json),s.uint32(10).fork()).ldelim();break;case"binary":s.uint32(18).bytes(o.data.binary);break}return s}e.encode=n;function r(o,s){let c=o instanceof ht.default.Reader?o:ht.default.Reader.create(o),a=s===void 0?c.len:c.pos+s,f=Xp();for(;c.pos<a;){let d=c.uint32();switch(d>>>3){case 1:if(d!==10)break;f.data={$case:"json",json:je.unwrap(je.decode(c,c.uint32()))};continue;case 2:if(d!==18)break;f.data={$case:"binary",binary:c.bytes()};continue}if((d&7)===4||d===0)break;c.skipType(d&7)}return f}e.decode=r;function t(o){return{data:Ln(o.json)?{$case:"json",json:o.json}:Ln(o.binary)?{$case:"binary",binary:tm(o.binary)}:void 0}}e.fromJSON=t;function i(o){let s={};return o.data?.$case==="json"&&(s.json=o.data?.json),o.data?.$case==="binary"&&(s.binary=o.data?.binary!==void 0?nm(o.data?.binary):void 0),s}e.toJSON=i})(un||(un={}));function Qp(){return{name:"",jsonSchema:void 0,data:new Map}}var Mo;(function(e){function n(o,s=ht.default.Writer.create()){return o.name!==""&&s.uint32(10).string(o.name),o.jsonSchema!==void 0&&je.encode(je.wrap(o.jsonSchema),s.uint32(18).fork()).ldelim(),o.data.forEach((c,a)=>{Ki.encode({key:a,value:c},s.uint32(26).fork()).ldelim()}),s}e.encode=n;function r(o,s){let c=o instanceof ht.default.Reader?o:ht.default.Reader.create(o),a=s===void 0?c.len:c.pos+s,f=Qp();for(;c.pos<a;){let d=c.uint32();switch(d>>>3){case 1:if(d!==10)break;f.name=c.string();continue;case 2:if(d!==18)break;f.jsonSchema=je.unwrap(je.decode(c,c.uint32()));continue;case 3:if(d!==26)break;let g=Ki.decode(c,c.uint32());g.value!==void 0&&f.data.set(g.key,g.value);continue}if((d&7)===4||d===0)break;c.skipType(d&7)}return f}e.decode=r;function t(o){return{name:Ln(o.name)?String(o.name):"",jsonSchema:Ln(o?.jsonSchema)?o.jsonSchema:void 0,data:om(o.data)?Object.entries(o.data).reduce((s,[c,a])=>(s.set(Number(c),un.fromJSON(a)),s),new Map):new Map}}e.fromJSON=t;function i(o){let s={};return o.name!==void 0&&(s.name=o.name),o.jsonSchema!==void 0&&(s.jsonSchema=o.jsonSchema),s.data={},o.data&&o.data.forEach((c,a)=>{s.data[a]=un.toJSON(c)}),s}e.toJSON=i})(Mo||(Mo={}));function Kp(){return{key:0,value:void 0}}var Ki;(function(e){function n(o,s=ht.default.Writer.create()){return o.key!==0&&s.uint32(8).int32(o.key),o.value!==void 0&&un.encode(o.value,s.uint32(18).fork()).ldelim(),s}e.encode=n;function r(o,s){let c=o instanceof ht.default.Reader?o:ht.default.Reader.create(o),a=s===void 0?c.len:c.pos+s,f=Kp();for(;c.pos<a;){let d=c.uint32();switch(d>>>3){case 1:if(d!==8)break;f.key=c.int32();continue;case 2:if(d!==18)break;f.value=un.decode(c,c.uint32());continue}if((d&7)===4||d===0)break;c.skipType(d&7)}return f}e.decode=r;function t(o){return{key:Ln(o.key)?Number(o.key):0,value:Ln(o.value)?un.fromJSON(o.value):void 0}}e.fromJSON=t;function i(o){let s={};return o.key!==void 0&&(s.key=Math.round(o.key)),o.value!==void 0&&(s.value=o.value?un.toJSON(o.value):void 0),s}e.toJSON=i})(Ki||(Ki={}));function em(){return{version:0,components:[]}}var Fn;(function(e){function n(o,s=ht.default.Writer.create()){o.version!==0&&s.uint32(8).int32(o.version);for(let c of o.components)Mo.encode(c,s.uint32(18).fork()).ldelim();return s}e.encode=n;function r(o,s){let c=o instanceof ht.default.Reader?o:ht.default.Reader.create(o),a=s===void 0?c.len:c.pos+s,f=em();for(;c.pos<a;){let d=c.uint32();switch(d>>>3){case 1:if(d!==8)break;f.version=c.int32();continue;case 2:if(d!==18)break;f.components.push(Mo.decode(c,c.uint32()));continue}if((d&7)===4||d===0)break;c.skipType(d&7)}return f}e.decode=r;function t(o){return{version:Ln(o.version)?Number(o.version):0,components:Array.isArray(o?.components)?o.components.map(s=>Mo.fromJSON(s)):[]}}e.fromJSON=t;function i(o){let s={};return o.version!==void 0&&(s.version=Math.round(o.version)),o.components?s.components=o.components.map(c=>c?Mo.toJSON(c):void 0):s.components=[],s}e.toJSON=i})(Fn||(Fn={}));var zo=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function tm(e){if(zo.Buffer)return Uint8Array.from(zo.Buffer.from(e,"base64"));{let n=zo.atob(e),r=new Uint8Array(n.length);for(let t=0;t<n.length;++t)r[t]=n.charCodeAt(t);return r}}function nm(e){if(zo.Buffer)return zo.Buffer.from(e).toString("base64");{let n=[];return e.forEach(r=>{n.push(String.fromCharCode(r))}),zo.btoa(n.join(""))}}function om(e){return typeof e=="object"&&e!==null}function Ln(e){return e!=null}var dn;(function(e){function n(c){return Fn.fromJSON(c)}e.fromJson=n;function r(c){return Fn.decode(c)}e.fromBinary=r;function t(c){return Fn.toJSON(c)}e.toJson=t;function i(c){return Fn.encode(c).finish()}e.toBinary=i;function o(c,a,f,d={}){fc(c,a,f,d)}e.instance=o;function s(c,a="/"){return Xi(c,a)}e.resolveAndNormalizePath=s})(dn||(dn={}));var oe=Mn(V);var Yt=lu(V),Lt=pu(V),Dn=mu(V),mx=$i(V);var ln=.45454545454545453,pn=2.2,Hu=1e-6,lr=Math.PI/180,pr=360/(Math.PI*2);var Ae;(function(e){e.TwoPi=Math.PI*2;function n(U,D,Z=1401298e-51){let F=U-D;return-Z<=F&&F<=Z}e.withinEpsilon=n;function r(U){let D=U.toString(16);return U<=15?("0"+D).toUpperCase():D.toUpperCase()}e.toHex=r;function t(U){let D=+U;return D===0||isNaN(D)?D:D>0?1:-1}e.sign=t;function i(U,D=0,Z=1){return Math.min(Z,Math.max(D,U))}e.clamp=i;function o(U){return Math.log(U)*Math.LOG2E}e.log2=o;function s(U,D){return U-Math.floor(U/D)*D}e.repeat=s;function c(U,D,Z){return(U-D)/(Z-D)}e.normalize=c;function a(U,D,Z){return U*(Z-D)+D}e.denormalize=a;function f(U,D){let Z=s(D-U,360);return Z>180&&(Z-=360),Z}e.deltaAngle=f;function d(U,D){let Z=s(U,D*2);return D-Math.abs(Z-D)}e.pingPong=d;function g(U,D,Z){let F=i(Z);return F=-2*F*F*F+3*F*F,D*F+U*(1-F)}e.smoothStep=g;function E(U,D,Z){let F=0;return Math.abs(D-U)<=Z?F=D:F=U+t(D-U)*Z,F}e.moveTowards=E;function C(U,D,Z){let F=f(U,D),Y=0;return-Z<F&&F<Z?Y=D:Y=E(U,U+F,Z),Y}e.moveTowardsAngle=C;function S(U,D,Z){return U+(D-U)*Z}e.lerp=S;function l(U,D,Z){let F=s(D-U,360);return F>180&&(F-=360),U+F*i(Z)}e.lerpAngle=l;function x(U,D,Z){let F=0;return U!==D?F=i((Z-U)/(D-U)):F=0,F}e.inverseLerp=x;function b(U,D,Z,F,Y){let k=Y*Y,N=Y*k,L=2*N-3*k+1,X=-2*N+3*k,ee=N-2*k+Y,le=N-k;return U*L+Z*X+D*ee+F*le}e.hermite=b;function _(U,D){return U===D?U:Math.random()*(D-U)+U}e.randomRange=_;function M(U,D,Z){return(U-D)/(Z-D)}e.rangeToPercent=M;function $(U,D,Z){return(Z-D)*U+D}e.percentToRange=$;function de(U){return U-e.TwoPi*Math.floor((U+Math.PI)/e.TwoPi)}e.normalizeRadians=de})(Ae||(Ae={}));var O;(function(e){function n(m){let T=Math.abs(m.x),I=Math.abs(m.y);if(T!==I)return!0;let J=Math.abs(m.z);return T!==J}e.isNonUniform=n;function r(m=0,T=0,I=0){return{x:m,y:T,z:I}}e.create=r;function t(m,T){return{x:m.x+T.x,y:m.y+T.y,z:m.z+T.z}}e.add=t;function i(m,T,I){I.x=m.x+T.x,I.y=m.y+T.y,I.z=m.z+T.z}e.addToRef=i;function o(m,T){return{x:m.x-T.x,y:m.y-T.y,z:m.z-T.z}}e.subtract=o;function s(m,T,I){I.x=m.x-T.x,I.y=m.y-T.y,I.z=m.z-T.z}e.subtractToRef=s;function c(m,T,I,J,q){q.x=m.x-T,q.y=m.y-I,q.z=m.z-J}e.subtractFromFloatsToRef=c;function a(m){return{x:-m.x,y:-m.y,z:-m.z}}e.negate=a;function f(m,T){T.x=m.x,T.y=m.y,T.z=m.z}e.copyFrom=f;function d(m,T,I,J){J.x=m,J.y=T,J.z=I}e.copyFromFloats=d;function g(m){return r(m.x,m.y,m.z)}e.clone=g;function E(m,T,I,J){let q=Y(m,I)-J,Q=Y(T,I)-J;return q/(q-Q)}e.getClipFactor=E;function C(m,T,I){let J=Z(m),q=Z(T),Q=Y(J,q),ae=r();return be(J,q,ae),Y(ae,I)>0?Math.acos(Q):-Math.acos(Q)}e.getAngleBetweenVectors=C;function S(m,T=0){return r(m[T],m[T+1],m[T+2])}e.fromArray=S;function l(m,T){return S(m,T)}e.fromFloatArray=l;function x(m,T,I){I.x=m[T],I.y=m[T+1],I.z=m[T+2]}e.fromArrayToRef=x;function b(m,T,I){return x(m,T,I)}e.fromFloatArrayToRef=b;function _(m){return Math.sqrt(m.x*m.x+m.y*m.y+m.z*m.z)}e.length=_;function M(m){return m.x*m.x+m.y*m.y+m.z*m.z}e.lengthSquared=M;function $(m,T,I){I.x=m.x*T,I.y=m.y*T,I.z=m.z*T}e.scaleToRef=$;function de(m,T){return r(m.x*T,m.y*T,m.z*T)}e.scale=de;function U(m,T){let I=r(0,0,0);return D(m,T,I),I}e.normalizeFromLength=U;function D(m,T,I){if(T===0||T===1){f(m,I);return}$(m,1/T,I)}e.normalizeFromLengthToRef=D;function Z(m){return U(m,_(m))}e.normalize=Z;function F(m,T){D(m,_(m),T)}e.normalizeToRef=F;function Y(m,T){return m.x*T.x+m.y*T.y+m.z*T.z}e.dot=Y;function k(m,T){let I=g(m);return N(m,T,I),I}e.applyMatrix4=k;function N(m,T,I){let{x:J,y:q,z:Q}=m,ae=T._m,He=1/(ae[3]*J+ae[7]*q+ae[11]*Q+ae[15]);I.x=(ae[0]*J+ae[4]*q+ae[8]*Q+ae[12])*He,I.y=(ae[1]*J+ae[5]*q+ae[9]*Q+ae[13])*He,I.z=(ae[2]*J+ae[6]*q+ae[10]*Q+ae[14])*He}e.applyMatrix4ToRef=N;function L(m,T){let I=r();return X(m,T,I),I}e.rotate=L;function X(m,T,I){let{x:J,y:q,z:Q}=m,{x:ae,y:He,z:Qe,w:Fe}=T,Dt=Fe*J+He*Q-Qe*q,hn=Fe*q+Qe*J-ae*Q,Xt=Fe*Q+ae*q-He*J,yn=-ae*J-He*q-Qe*Q;I.x=Dt*Fe+yn*-ae+hn*-Qe-Xt*-He,I.y=hn*Fe+yn*-He+Xt*-ae-Dt*-Qe,I.z=Xt*Fe+yn*-Qe+Dt*-He-hn*-ae}e.rotateToRef=X;function ee(m,T,I){let J=r(0,0,0);return le(m,T,I,J),J}e.lerp=ee;function le(m,T,I,J){J.x=m.x+(T.x-m.x)*I,J.y=m.y+(T.y-m.y)*I,J.z=m.z+(T.z-m.z)*I}e.lerpToRef=le;function ye(m,T){let I=mn();return be(m,T,I),I}e.cross=ye;function be(m,T,I){I.x=m.y*T.z-m.z*T.y,I.y=m.z*T.x-m.x*T.z,I.z=m.x*T.y-m.y*T.x}e.crossToRef=be;function Se(m,T){let I=mn();return xe(m,T,I),I}e.transformCoordinates=Se;function xe(m,T,I){return we(m.x,m.y,m.z,T,I)}e.transformCoordinatesToRef=xe;function we(m,T,I,J,q){let Q=J._m,ae=m*Q[0]+T*Q[4]+I*Q[8]+Q[12],He=m*Q[1]+T*Q[5]+I*Q[9]+Q[13],Qe=m*Q[2]+T*Q[6]+I*Q[10]+Q[14],Fe=1/(m*Q[3]+T*Q[7]+I*Q[11]+Q[15]);q.x=ae*Fe,q.y=He*Fe,q.z=Qe*Fe}e.transformCoordinatesFromFloatsToRef=we;function Ie(m,T){let I=mn();return Be(m,T,I),I}e.transformNormal=Ie;function Be(m,T,I){Ee(m.x,m.y,m.z,T,I)}e.transformNormalToRef=Be;function Ee(m,T,I,J,q){let Q=J._m;q.x=m*Q[0]+T*Q[4]+I*Q[8],q.y=m*Q[1]+T*Q[5]+I*Q[9],q.z=m*Q[2]+T*Q[6]+I*Q[10]}e.transformNormalFromFloatsToRef=Ee;function ft(m,T,I,J,q){let Q=q*q,ae=q*Q,He=.5*(2*T.x+(-m.x+I.x)*q+(2*m.x-5*T.x+4*I.x-J.x)*Q+(-m.x+3*T.x-3*I.x+J.x)*ae),Qe=.5*(2*T.y+(-m.y+I.y)*q+(2*m.y-5*T.y+4*I.y-J.y)*Q+(-m.y+3*T.y-3*I.y+J.y)*ae),Fe=.5*(2*T.z+(-m.z+I.z)*q+(2*m.z-5*T.z+4*I.z-J.z)*Q+(-m.z+3*T.z-3*I.z+J.z)*ae);return r(He,Qe,Fe)}e.catmullRom=ft;function w(m,T,I){let J=r();return z(m,T,I,J),J}e.clamp=w;function z(m,T,I,J){let q=m.x;q=q>I.x?I.x:q,q=q<T.x?T.x:q;let Q=m.y;Q=Q>I.y?I.y:Q,Q=Q<T.y?T.y:Q;let ae=m.z;ae=ae>I.z?I.z:ae,ae=ae<T.z?T.z:ae,d(q,Q,ae,J)}e.clampToRef=z;function j(m,T,I,J,q){let Q=q*q,ae=q*Q,He=2*ae-3*Q+1,Qe=-2*ae+3*Q,Fe=ae-2*Q+q,Dt=ae-Q,hn=m.x*He+I.x*Qe+T.x*Fe+J.x*Dt,Xt=m.y*He+I.y*Qe+T.y*Fe+J.y*Dt,yn=m.z*He+I.z*Qe+T.z*Fe+J.z*Dt;return r(hn,Xt,yn)}e.hermite=j;function A(m,T){let I=r();return Nr(T,m.x,m.y,m.z,I),I}e.minimize=A;function P(m,T){let I=r();return Ir(m,T.x,T.y,T.z,I),I}e.maximize=P;function ne(m,T){return Math.sqrt(Ne(m,T))}e.distance=ne;function Ne(m,T){let I=m.x-T.x,J=m.y-T.y,q=m.z-T.z;return I*I+J*J+q*q}e.distanceSquared=Ne;function ca(m,T){let I=t(m,T);return $(I,.5,I),I}e.center=ca;function sa(m,T,I){let J=mn();return Rr(m,T,I,J),J}e.rotationFromAxis=sa;function Rr(m,T,I,J){let q=me.create();me.fromAxisToRotationQuaternionToRef(m,T,I,q),f(me.toEulerAngles(q),J)}e.rotationFromAxisToRef=Rr;function fa(m){return`(${m.x}, ${m.y}, ${m.z})`}e.toString=fa;function Ho(m){let T=m.x||0;return T=T*397^(m.y||0),T=T*397^(m.z||0),T}e.getHashCode=Ho;function ua(m,T){return m.x===T.x&&m.y===T.y&&m.z===T.z}e.equals=ua;function kr(m,T,I=Hu){return Ae.withinEpsilon(m.x,T.x,I)&&Ae.withinEpsilon(m.y,T.y,I)&&Ae.withinEpsilon(m.z,T.z,I)}e.equalsWithEpsilon=kr;function da(m,T,I,J){return m.x===T&&m.y===I&&m.z===J}e.equalsToFloats=da;function qo(m,T){let I=r();return Me(m,T,I),I}e.multiply=qo;function Me(m,T,I){I.x=m.x*T.x,I.y=m.y*T.y,I.z=m.z*T.z}e.multiplyToRef=Me;function Ar(m,T,I,J,q){q.x=m.x*T,q.y=m.y*I,q.z=m.z*J}e.multiplyByFloatsToRef=Ar;function la(m,T,I,J){let q=r();return Ar(m,T,I,J,q),q}e.multiplyByFloats=la;function wr(m,T){return{x:m.x/T.x,y:m.y/T.y,z:m.z/T.z}}e.divide=wr;function pa(m,T,I){I.x=m.x/T.x,I.y=m.y/T.y,I.z=m.z/T.z}e.divideToRef=pa;function Ir(m,T,I,J,q){T>m.x?q.x=T:q.x=m.x,I>m.y?q.y=I:q.y=m.y,J>m.z?q.z=J:q.z=m.z}e.maximizeInPlaceFromFloatsToRef=Ir;function Nr(m,T,I,J,q){T<m.x?q.x=T:q.x=m.x,I<m.y?q.y=I:q.y=m.y,J<m.z?q.z=J:q.z=m.z}e.minimizeInPlaceFromFloatsToRef=Nr;function ma(m){return r(Math.floor(m.x),Math.floor(m.y),Math.floor(m.z))}e.floor=ma;function Or(m){return r(m.x-Math.floor(m.x),m.y-Math.floor(m.y),m.z-Math.floor(m.z))}e.fract=Or;function mn(){return r(0,0,0)}e.Zero=mn;function ha(){return r(1,1,1)}e.One=ha;function jo(){return r(0,1,0)}e.Up=jo;function ya(){return r(0,-1,0)}e.Down=ya;function ba(){return r(0,0,1)}e.Forward=ba;function Cr(){return r(0,0,-1)}e.Backward=Cr;function Pr(){return r(1,0,0)}e.Right=Pr;function Ea(){return r(-1,0,0)}e.Left=Ea;function xa(){return r(Math.random(),Math.random(),Math.random())}e.Random=xa})(O||(O={}));var ea;(function(e){function n(l,x,b,_){return{normal:O.create(l,x,b),d:_}}e.create=n;function r(l){return n(l[0],l[1],l[2],l[3])}e.fromArray=r;function t(l,x,b){return n(0,0,0,0)}e.fromPoints=t;function i(l,x){let b=n(0,0,0,0);return b.normal=O.normalize(x),b.d=-(x.x*l.x+x.y*l.y+x.z*l.z),b}e.romPositionAndNormal=i;function o(l,x,b){let _=-(x.x*l.x+x.y*l.y+x.z*l.z);return O.dot(b,x)+_}e.signedDistanceToPlaneFromPositionAndNormal=o;function s(l){return[l.normal.x,l.normal.y,l.normal.z,l.d]}e.asArray=s;function c(l){return n(l.normal.x,l.normal.y,l.normal.z,l.d)}e.clone=c;function a(l){return 0}e.getHashCode=a;function f(l){let x=n(0,0,0,0),b=Math.sqrt(l.normal.x*l.normal.x+l.normal.y*l.normal.y+l.normal.z*l.normal.z),_=0;return b!==0&&(_=1/b),x.normal.x=l.normal.x*_,x.normal.y=l.normal.y*_,x.normal.z=l.normal.z*_,x.d*=_,l}e.normalize=f;function d(l,x){let b=Bt.create();Bt.transposeToRef(x,b);let _=b._m,M=l.normal.x,$=l.normal.y,de=l.normal.z,U=l.d,D=M*_[0]+$*_[1]+de*_[2]+U*_[3],Z=M*_[4]+$*_[5]+de*_[6]+U*_[7],F=M*_[8]+$*_[9]+de*_[10]+U*_[11],Y=M*_[12]+$*_[13]+de*_[14]+U*_[15];return n(D,Z,F,Y)}e.transform=d;function g(l,x){return l.normal.x*x.x+l.normal.y*x.y+l.normal.z*x.z+l.d}e.dotCoordinate=g;function E(l,x,b){let _=x.x-l.x,M=x.y-l.y,$=x.z-l.z,de=b.x-l.x,U=b.y-l.y,D=b.z-l.z,Z=M*D-$*U,F=$*de-_*D,Y=_*U-M*de,k=Math.sqrt(Z*Z+F*F+Y*Y),N;k!==0?N=1/k:N=0;let L=O.create(Z*N,F*N,Y*N);return{normal:L,d:-(L.x*l.x+L.y*l.y+L.z*l.z)}}e.copyFromPoints=E;function C(l,x,b){return O.dot(l.normal,x)<=b}e.isFrontFacingTo=C;function S(l,x){return O.dot(x,l.normal)+l.d}e.signedDistanceTo=S})(ea||(ea={}));var Bt;(function(e){function n(u){return u._m}e.m=n;let r=0,t={};function i(){return t}e.IdentityReadonly=i;function o(){let u={updateFlag:0,isIdentity:!1,isIdentity3x2:!0,_isIdentityDirty:!0,_isIdentity3x2Dirty:!0,_m:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return Ze(u,!1),u}e.create=o;function s(u,p=0){let h=o();return c(u,p,h),h}e.fromArray=s;function c(u,p,h){for(let y=0;y<16;y++)h._m[y]=u[y+p];Me(h)}e.fromArrayToRef=c;function a(u,p,h,y){for(let R=0;R<16;R++)y._m[R]=u[R+p]*h;Me(y)}e.fromFloatArrayToRefScaled=a;function f(u,p,h,y,R,v,B,G,K,re,ce,Re,se,Le,De,qe,ze){let ie=ze._m;ie[0]=u,ie[1]=p,ie[2]=h,ie[3]=y,ie[4]=R,ie[5]=v,ie[6]=B,ie[7]=G,ie[8]=K,ie[9]=re,ie[10]=ce,ie[11]=Re,ie[12]=se,ie[13]=Le,ie[14]=De,ie[15]=qe,Me(ze)}e.fromValuesToRef=f;function d(u,p,h,y,R,v,B,G,K,re,ce,Re,se,Le,De,qe){let ze=o(),ie=ze._m;return ie[0]=u,ie[1]=p,ie[2]=h,ie[3]=y,ie[4]=R,ie[5]=v,ie[6]=B,ie[7]=G,ie[8]=K,ie[9]=re,ie[10]=ce,ie[11]=Re,ie[12]=se,ie[13]=Le,ie[14]=De,ie[15]=qe,Me(ze),ze}e.fromValues=d;function g(u,p,h){let y=o();return E(u,p,h,y),y}e.compose=g;function E(u,p,h,y){let R=[o(),o(),o()];k(u.x,u.y,u.z,R[1]),qo(p,R[0]),q(R[1],R[0],y),Pr(y,h)}e.composeToRef=E;function C(){let u=d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return Ze(u,!0),u}e.Identity=C;function S(u){f(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,u),Ze(u,!0)}e.IdentityToRef=S;function l(){let u=d(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return Ze(u,!1),u}e.Zero=l;function x(u){let p=o();return b(u,p),p}e.RotationX=x;function b(u,p){let h=Math.sin(u),y=Math.cos(u);f(1,0,0,0,0,y,h,0,0,-h,y,0,0,0,0,1,p),Ze(p,y===1&&h===0)}e.rotationXToRef=b;function _(u){let p=o();return M(u,p),p}e.rotationY=_;function M(u,p){let h=Math.sin(u),y=Math.cos(u);f(y,0,-h,0,0,1,0,0,h,0,y,0,0,0,0,1,p),Ze(p,y===1&&h===0)}e.rotationYToRef=M;function $(u){let p=o();return de(u,p),p}e.rotationZ=$;function de(u,p){let h=Math.sin(u),y=Math.cos(u);f(y,h,0,0,-h,y,0,0,0,0,1,0,0,0,0,1,p),Ze(p,y===1&&h===0)}e.rotationZToRef=de;function U(u,p){let h=o();return D(u,p,h),h}e.rotationAxis=U;function D(u,p,h){let y=Math.sin(-p),R=Math.cos(-p),v=1-R,B=O.normalize(u),G=h._m;G[0]=B.x*B.x*v+R,G[1]=B.x*B.y*v-B.z*y,G[2]=B.x*B.z*v+B.y*y,G[3]=0,G[4]=B.y*B.x*v+B.z*y,G[5]=B.y*B.y*v+R,G[6]=B.y*B.z*v-B.x*y,G[7]=0,G[8]=B.z*B.x*v-B.y*y,G[9]=B.z*B.y*v+B.x*y,G[10]=B.z*B.z*v+R,G[11]=0,G[12]=0,G[13]=0,G[14]=0,G[15]=1,Me(h)}e.rotationAxisToRef=D;function Z(u,p,h){let y=o();return F(u,p,h,y),y}e.rotationYawPitchRoll=Z;function F(u,p,h,y){let R=me.Zero();me.fromRotationYawPitchRollToRef(u,p,h,R),qo(R,y)}e.rotationYawPitchRollToRef=F;function Y(u,p,h){let y=o();return k(u,p,h,y),y}e.scaling=Y;function k(u,p,h,y){f(u,0,0,0,0,p,0,0,0,0,h,0,0,0,0,1,y),Ze(y,u===1&&p===1&&h===1)}e.scalingToRef=k;function N(u,p,h){let y=o();return L(u,p,h,y),y}e.translation=N;function L(u,p,h,y){f(1,0,0,0,0,1,0,0,0,0,1,0,u,p,h,1,y),Ze(y,u===0&&p===0&&h===0)}e.translationToRef=L;function X(u,p,h){let y=o();return ee(u,p,h,y),y}e.lerp=X;function ee(u,p,h,y){for(let R=0;R<16;R++)y._m[R]=u._m[R]*(1-h)+p._m[R]*h;Me(y)}e.lerpToRef=ee;function le(u,p,h){let y=o();return ye(u,p,h,y),y}e.decomposeLerp=le;function ye(u,p,h,y){let R=O.Zero(),v=me.Zero(),B=O.Zero();Fe(u,R,v,B);let G=O.Zero(),K=me.Zero(),re=O.Zero();Fe(p,G,K,re);let ce=O.Zero();O.lerpToRef(R,G,h,ce);let Re=me.Zero();me.slerpToRef(v,K,h,Re);let se=O.Zero();O.lerpToRef(B,re,h,se),E(ce,Re,se,y)}e.decomposeLerpToRef=ye;function be(u,p,h){let y=o();return Se(u,p,h,y),y}e.LookAtLH=be;function Se(u,p,h,y){let R=O.Zero(),v=O.Zero(),B=O.Zero();O.subtractToRef(p,u,B),O.normalizeToRef(B,B),O.crossToRef(h,B,R);let G=O.lengthSquared(R);G===0?R.x=1:O.normalizeFromLengthToRef(R,Math.sqrt(G),R),O.crossToRef(B,R,v),O.normalizeToRef(v,v);let K=-O.dot(R,u),re=-O.dot(v,u),ce=-O.dot(B,u);f(R.x,v.x,B.x,0,R.y,v.y,B.y,0,R.z,v.z,B.z,0,K,re,ce,1,y)}e.lookAtLHToRef=Se;function xe(u,p,h){let y=o();return we(u,p,h,y),y}e.lookAtRH=xe;function we(u,p,h,y){let R=O.Zero(),v=O.Zero(),B=O.Zero();O.subtractToRef(u,p,B),O.normalizeToRef(B,B),O.crossToRef(h,B,R);let G=O.lengthSquared(R);G===0?R.x=1:O.normalizeFromLengthToRef(R,Math.sqrt(G),R),O.crossToRef(B,R,v),O.normalizeToRef(v,v);let K=-O.dot(R,u),re=-O.dot(v,u),ce=-O.dot(B,u);f(R.x,v.x,B.x,0,R.y,v.y,B.y,0,R.z,v.z,B.z,0,K,re,ce,1,y)}e.lookAtRHToRef=we;function Ie(u,p,h,y){let R=o();return Be(u,p,h,y,R),R}e.orthoLH=Ie;function Be(u,p,h,y,R){let v=h,B=y,G=2/u,K=2/p,re=2/(B-v),ce=-(B+v)/(B-v);f(G,0,0,0,0,K,0,0,0,0,re,0,0,0,ce,1,R),Ze(R,G===1&&K===1&&re===1&&ce===0)}e.orthoLHToRef=Be;function Ee(u,p,h,y,R,v){let B=o();return ft(u,p,h,y,R,v,B),B}e.OrthoOffCenterLH=Ee;function ft(u,p,h,y,R,v,B){let G=R,K=v,re=2/(p-u),ce=2/(y-h),Re=2/(K-G),se=-(K+G)/(K-G),Le=(u+p)/(u-p),De=(y+h)/(h-y);f(re,0,0,0,0,ce,0,0,0,0,Re,0,Le,De,se,1,B),Me(B)}e.orthoOffCenterLHToRef=ft;function w(u,p,h,y,R,v){let B=o();return z(u,p,h,y,R,v,B),B}e.orthoOffCenterRH=w;function z(u,p,h,y,R,v,B){ft(u,p,h,y,R,v,B),B._m[10]*=-1}e.orthoOffCenterRHToRef=z;function j(u,p,h,y){let R=o(),v=h,B=y,G=2*v/u,K=2*v/p,re=(B+v)/(B-v),ce=-2*B*v/(B-v);return f(G,0,0,0,0,K,0,0,0,0,re,1,0,0,ce,0,R),Ze(R,!1),R}e.perspectiveLH=j;function A(u,p,h,y){let R=o();return P(u,p,h,y,R),R}e.perspectiveFovLH=A;function P(u,p,h,y,R,v=!0){let B=h,G=y,K=1/Math.tan(u*.5),re=v?K/p:K,ce=v?K:K*p,Re=(G+B)/(G-B),se=-2*G*B/(G-B);f(re,0,0,0,0,ce,0,0,0,0,Re,1,0,0,se,0,R),Ze(R,!1)}e.perspectiveFovLHToRef=P;function ne(u,p,h,y){let R=o();return Ne(u,p,h,y,R),R}e.PerspectiveFovRH=ne;function Ne(u,p,h,y,R,v=!0){let B=h,G=y,K=1/Math.tan(u*.5),re=v?K/p:K,ce=v?K:K*p,Re=-(G+B)/(G-B),se=-2*G*B/(G-B);f(re,0,0,0,0,ce,0,0,0,0,Re,-1,0,0,se,0,R),Ze(R,!1)}e.perspectiveFovRHToRef=Ne;function ca(u,p,h,y,R=!1){let v=R?-1:1,B=Math.tan(u.upDegrees*Math.PI/180),G=Math.tan(u.downDegrees*Math.PI/180),K=Math.tan(u.leftDegrees*Math.PI/180),re=Math.tan(u.rightDegrees*Math.PI/180),ce=2/(K+re),Re=2/(B+G),se=y._m;se[0]=ce,se[1]=se[2]=se[3]=se[4]=0,se[5]=Re,se[6]=se[7]=0,se[8]=(K-re)*ce*.5,se[9]=-((B-G)*Re*.5),se[10]=-h/(p-h),se[11]=1*v,se[12]=se[13]=se[15]=0,se[14]=-(2*h*p)/(h-p),Me(y)}e.perspectiveFovWebVRToRef=ca;function sa(u){return[u._m[0],u._m[1],u._m[4],u._m[5]]}e.GetAsMatrix2x2=sa;function Rr(u){return[u._m[0],u._m[1],u._m[2],u._m[4],u._m[5],u._m[6],u._m[8],u._m[9],u._m[10]]}e.GetAsMatrix3x3=Rr;function fa(u){let p=o();return Ho(u,p),p}e.transpose=fa;function Ho(u,p){let h=p._m,y=u._m;h[0]=y[0],h[1]=y[4],h[2]=y[8],h[3]=y[12],h[4]=y[1],h[5]=y[5],h[6]=y[9],h[7]=y[13],h[8]=y[2],h[9]=y[6],h[10]=y[10],h[11]=y[14],h[12]=y[3],h[13]=y[7],h[14]=y[11],h[15]=y[15],Ze(p,u.isIdentity,u._isIdentityDirty)}e.transposeToRef=Ho;function ua(u){let p=o();return kr(u,p),p}e.reflection=ua;function kr(u,p){let h=ea.normalize(u),y=h.normal.x,R=h.normal.y,v=h.normal.z,B=-2*y,G=-2*R,K=-2*v;f(B*y+1,G*y,K*y,0,B*R,G*R+1,K*R,0,B*v,G*v,K*v+1,0,B*h.d,G*h.d,K*h.d,1,p)}e.reflectionToRef=kr;function da(u,p,h,y){f(u.x,u.y,u.z,0,p.x,p.y,p.z,0,h.x,h.y,h.z,0,0,0,0,1,y)}e.fromXYZAxesToRef=da;function qo(u,p){let h=u.x*u.x,y=u.y*u.y,R=u.z*u.z,v=u.x*u.y,B=u.z*u.w,G=u.z*u.x,K=u.y*u.w,re=u.y*u.z,ce=u.x*u.w;p._m[0]=1-2*(y+R),p._m[1]=2*(v+B),p._m[2]=2*(G-K),p._m[3]=0,p._m[4]=2*(v-B),p._m[5]=1-2*(R+h),p._m[6]=2*(re+ce),p._m[7]=0,p._m[8]=2*(G+K),p._m[9]=2*(re-ce),p._m[10]=1-2*(y+h),p._m[11]=0,p._m[12]=0,p._m[13]=0,p._m[14]=0,p._m[15]=1,Me(p)}e.fromQuaternionToRef=qo;function Me(u){u.updateFlag=r++,u.isIdentity=!1,u.isIdentity3x2=!1,u._isIdentityDirty=!0,u._isIdentity3x2Dirty=!0}function Ar(u){if(u._isIdentityDirty){u._isIdentityDirty=!1;let p=u._m;u.isIdentity=p[0]===1&&p[1]===0&&p[2]===0&&p[3]===0&&p[4]===0&&p[5]===1&&p[6]===0&&p[7]===0&&p[8]===0&&p[9]===0&&p[10]===1&&p[11]===0&&p[12]===0&&p[13]===0&&p[14]===0&&p[15]===1}return u.isIdentity}e.isIdentityUpdate=Ar;function la(u){return u._isIdentity3x2Dirty&&(u._isIdentity3x2Dirty=!1,u._m[0]!==1||u._m[5]!==1||u._m[15]!==1||u._m[1]!==0||u._m[2]!==0||u._m[3]!==0||u._m[4]!==0||u._m[6]!==0||u._m[7]!==0||u._m[8]!==0||u._m[9]!==0||u._m[10]!==0||u._m[11]!==0||u._m[12]!==0||u._m[13]!==0||u._m[14]!==0?u.isIdentity3x2=!1:u.isIdentity3x2=!0),u.isIdentity3x2}e.isIdentityAs3x2Update=la;function wr(u){if(u.isIdentity===!0)return 1;let p=u._m,h=p[0],y=p[1],R=p[2],v=p[3],B=p[4],G=p[5],K=p[6],re=p[7],ce=p[8],Re=p[9],se=p[10],Le=p[11],De=p[12],qe=p[13],ze=p[14],ie=p[15],rt=se*ie-ze*Le,yt=Re*ie-qe*Le,bt=Re*ze-qe*se,Et=ce*ie-De*Le,xt=ce*ze-se*De,St=ce*qe-De*Re,At=+(G*rt-K*yt+re*bt),Wt=-(B*rt-K*Et+re*xt),Vt=+(B*yt-G*Et+re*St),Gt=-(B*bt-G*xt+K*St);return h*At+y*Wt+R*Vt+v*Gt}e.determinant=wr;function pa(u){return u._m}e.toArray=pa;function Ir(u){return u._m}e.asArray=Ir;function Nr(u){f(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u),Ze(u,!1)}e.reset=Nr;function ma(u,p){let h=o();return Or(u,p,h),h}e.add=ma;function Or(u,p,h){for(let y=0;y<16;y++)h._m[y]=u._m[y]+p._m[y];Me(h)}e.addToRef=Or;function mn(u,p){for(let h=0;h<16;h++)u._m[h]+=p._m[h];Me(u)}e.addToSelf=mn;function ha(u){let p=o();return jo(u,p),p}e.invert=ha;function jo(u,p){if(u.isIdentity===!0){I(u,p);return}let h=u._m,y=h[0],R=h[1],v=h[2],B=h[3],G=h[4],K=h[5],re=h[6],ce=h[7],Re=h[8],se=h[9],Le=h[10],De=h[11],qe=h[12],ze=h[13],ie=h[14],rt=h[15],yt=Le*rt-ie*De,bt=se*rt-ze*De,Et=se*ie-ze*Le,xt=Re*rt-qe*De,St=Re*ie-Le*qe,At=Re*ze-qe*se,Wt=+(K*yt-re*bt+ce*Et),Vt=-(G*yt-re*xt+ce*St),Gt=+(G*bt-K*xt+ce*At),bn=-(G*Et-K*St+re*At),En=y*Wt+R*Vt+v*Gt+B*bn;if(En===0){I(u,p);return}let We=1/En,xn=re*rt-ie*ce,Sn=K*rt-ze*ce,Tn=K*ie-ze*re,gn=G*rt-qe*ce,_n=G*ie-qe*re,Rn=G*ze-qe*K,kn=re*De-Le*ce,xc=K*De-se*ce,Sc=K*Le-se*re,Tc=G*De-Re*ce,gc=G*Le-Re*re,_c=G*se-Re*K,Nd=-(R*yt-v*bt+B*Et),Od=+(y*yt-v*xt+B*St),Cd=-(y*bt-R*xt+B*At),Pd=+(y*Et-R*St+v*At),Bd=+(R*xn-v*Sn+B*Tn),Md=-(y*xn-v*gn+B*_n),zd=+(y*Sn-R*gn+B*Rn),vd=-(y*Tn-R*_n+v*Rn),Ud=-(R*kn-v*xc+B*Sc),Fd=+(y*kn-v*Tc+B*gc),Ld=-(y*xc-R*Tc+B*_c),Dd=+(y*Sc-R*gc+v*_c);f(Wt*We,Nd*We,Bd*We,Ud*We,Vt*We,Od*We,Md*We,Fd*We,Gt*We,Cd*We,zd*We,Ld*We,bn*We,Pd*We,vd*We,Dd*We,p)}e.invertToRef=jo;function ya(u,p,h){u._m[p]+=h,Me(u)}e.addAtIndex=ya;function ba(u,p,h){return u._m[p]*=h,Me(u),u}e.multiplyAtIndex=ba;function Cr(u,p,h,y){u._m[12]=p,u._m[13]=h,u._m[14]=y,Me(u)}e.setTranslationFromFloats=Cr;function Pr(u,p){Cr(u,p.x,p.y,p.z)}e.setTranslation=Pr;function Ea(u){return O.create(u._m[12],u._m[13],u._m[14])}e.getTranslation=Ea;function xa(u,p){p.x=u._m[12],p.y=u._m[13],p.z=u._m[14]}e.getTranslationToRef=xa;function m(u){let p=u._m;return f(1,0,0,0,0,1,0,0,0,0,1,0,p[12],p[13],p[14],p[15],u),Ze(u,p[12]===0&&p[13]===0&&p[14]===0&&p[15]===1),u}e.removeRotationAndScaling=m;function T(u,p){let h=o();return q(u,p,h),h}e.multiply=T;function I(u,p){J(u,p._m),Ze(p,u.isIdentity,u._isIdentityDirty,u.isIdentity3x2,u._isIdentity3x2Dirty)}e.copy=I;function J(u,p,h=0){for(let y=0;y<16;y++)p[h+y]=u._m[y]}e.copyToArray=J;function q(u,p,h){if(u.isIdentity){I(p,h);return}if(p.isIdentity){I(u,h);return}Q(u,p,h._m,0),Me(h)}e.multiplyToRef=q;function Q(u,p,h,y){let R=u._m,v=p._m,B=R[0],G=R[1],K=R[2],re=R[3],ce=R[4],Re=R[5],se=R[6],Le=R[7],De=R[8],qe=R[9],ze=R[10],ie=R[11],rt=R[12],yt=R[13],bt=R[14],Et=R[15],xt=v[0],St=v[1],At=v[2],Wt=v[3],Vt=v[4],Gt=v[5],bn=v[6],En=v[7],We=v[8],xn=v[9],Sn=v[10],Tn=v[11],gn=v[12],_n=v[13],Rn=v[14],kn=v[15];h[y]=B*xt+G*Vt+K*We+re*gn,h[y+1]=B*St+G*Gt+K*xn+re*_n,h[y+2]=B*At+G*bn+K*Sn+re*Rn,h[y+3]=B*Wt+G*En+K*Tn+re*kn,h[y+4]=ce*xt+Re*Vt+se*We+Le*gn,h[y+5]=ce*St+Re*Gt+se*xn+Le*_n,h[y+6]=ce*At+Re*bn+se*Sn+Le*Rn,h[y+7]=ce*Wt+Re*En+se*Tn+Le*kn,h[y+8]=De*xt+qe*Vt+ze*We+ie*gn,h[y+9]=De*St+qe*Gt+ze*xn+ie*_n,h[y+10]=De*At+qe*bn+ze*Sn+ie*Rn,h[y+11]=De*Wt+qe*En+ze*Tn+ie*kn,h[y+12]=rt*xt+yt*Vt+bt*We+Et*gn,h[y+13]=rt*St+yt*Gt+bt*xn+Et*_n,h[y+14]=rt*At+yt*bn+bt*Sn+Et*Rn,h[y+15]=rt*Wt+yt*En+bt*Tn+Et*kn}e.multiplyToArray=Q;function ae(u,p){let h=p;if(!h)return!1;if((u.isIdentity||h.isIdentity)&&!u._isIdentityDirty&&!h._isIdentityDirty)return u.isIdentity&&h.isIdentity;let y=u._m,R=h._m;return y[0]===R[0]&&y[1]===R[1]&&y[2]===R[2]&&y[3]===R[3]&&y[4]===R[4]&&y[5]===R[5]&&y[6]===R[6]&&y[7]===R[7]&&y[8]===R[8]&&y[9]===R[9]&&y[10]===R[10]&&y[11]===R[11]&&y[12]===R[12]&&y[13]===R[13]&&y[14]===R[14]&&y[15]===R[15]}e.equals=ae;function He(u){let p=o();return I(u,p),p}e.clone=He;function Qe(u){let p=u._m[0]||0;for(let h=1;h<16;h++)p=p*397^(u._m[h]||0);return p}e.getHashCode=Qe;function Fe(u,p,h,y){if(u.isIdentity)return y&&(y.x=0,y.y=0,y.z=0),p&&(p.x=1,p.y=1,p.z=1),h&&(h.w=1,h.x=0,h.y=0,h.z=0),!0;let R=u._m;y&&(y.x=R[12],y.y=R[13],y.z=R[14]);let v=p||O.Zero();if(v.x=Math.sqrt(R[0]*R[0]+R[1]*R[1]+R[2]*R[2]),v.y=Math.sqrt(R[4]*R[4]+R[5]*R[5]+R[6]*R[6]),v.z=Math.sqrt(R[8]*R[8]+R[9]*R[9]+R[10]*R[10]),wr(u)<=0&&(v.y*=-1),v.x===0||v.y===0||v.z===0)return h&&(h.w=1,h.x=0,h.y=0,h.z=0),!1;if(h){let B=1/v.x,G=1/v.y,K=1/v.z,re=o();f(R[0]*B,R[1]*B,R[2]*B,0,R[4]*G,R[5]*G,R[6]*G,0,R[8]*K,R[9]*K,R[10]*K,0,0,0,0,1,re),me.fromRotationMatrixToRef(re,h)}return!0}e.decompose=Fe;function Dt(u,p,h,y,R,v){if(p<0||p>3)return;let B=p*4;u._m[B+0]=h,u._m[B+1]=y,u._m[B+2]=R,u._m[B+3]=v,Me(u)}e.setRowFromFloats=Dt;function hn(u,p){let h=o();return Xt(u,p,h),h}e.scale=hn;function Xt(u,p,h){for(let y=0;y<16;y++)h._m[y]=u._m[y]*p;Me(h)}e.scaleToRef=Xt;function yn(u,p,h){for(let y=0;y<16;y++)h._m[y]+=u._m[y]*p;Me(h)}e.scaleAndAddToRef=yn;function kd(u,p){let h=o();jo(u,h),Ho(h,p);let y=p._m;f(y[0],y[1],y[2],0,y[4],y[5],y[6],0,y[8],y[9],y[10],0,0,0,0,1,p)}e.normalMatrixToRef=kd;function Ad(u){let p=o();return Ec(u,p),p}e.getRotationMatrix=Ad;function Ec(u,p){let h=O.Zero();if(!Fe(u,h)){p=C();return}let y=u._m,R=1/h.x,v=1/h.y,B=1/h.z;f(y[0]*R,y[1]*R,y[2]*R,0,y[4]*v,y[5]*v,y[6]*v,0,y[8]*B,y[9]*B,y[10]*B,0,0,0,0,1,p)}e.getRotationMatrixToRef=Ec;function wd(u){u._m[2]*=-1,u._m[6]*=-1,u._m[8]*=-1,u._m[9]*=-1,u._m[14]*=-1,Me(u)}e.toggleModelMatrixHandInPlace=wd;function Id(u){u._m[8]*=-1,u._m[9]*=-1,u._m[10]*=-1,u._m[11]*=-1,Me(u)}e.toggleProjectionMatrixHandInPlace=Id;function Ze(u,p,h=!1,y=!1,R=!0){u.updateFlag=r++,u.isIdentity=p,u.isIdentity3x2=p||y,u._isIdentityDirty=u.isIdentity?!1:h,u._isIdentity3x2Dirty=u.isIdentity3x2?!1:R}})(Bt||(Bt={}));var me;(function(e){function n(k=0,N=0,L=0,X=1){return{x:k,y:N,z:L,w:X}}e.create=n;function r(k,N){return{x:k.x+N.x,y:k.y+N.y,z:k.z+N.z,w:k.w+N.w}}e.add=r;function t(k,N,L){let X=N*.5,ee=k*.5,le=L*.5,ye=Math.cos(X),be=Math.cos(ee),Se=Math.cos(le),xe=Math.sin(X),we=Math.sin(ee),Ie=Math.sin(le);return n(be*xe*Se+we*ye*Ie,we*ye*Se-be*xe*Ie,be*ye*Ie-we*xe*Se,be*ye*Se+we*xe*Ie)}e.fromRotationYawPitchRoll=t;function i(k,N,L){return t(N*lr,k*lr,L*lr)}e.fromEulerDegrees=i;function o(k){return Math.sqrt(s(k))}e.length=o;function s(k){return k.x*k.x+k.y*k.y+k.z*k.z+k.w*k.w}e.lengthSquared=s;function c(k,N){return k.x*N.x+k.y*N.y+k.z*N.z+k.w*N.w}e.dot=c;function a(k,N){let L=c(k,N);return Math.acos(Math.min(Math.abs(L),1))*2*pr}e.angle=a;function f(k,N,L){let X=a(k,N);if(X===0)return N;let ee=Math.min(1,L/X);return b(k,N,ee)}e.rotateTowards=f;function d(k,N={x:0,y:1,z:0}){let L=O.normalize(k),X=O.normalize(O.cross(N,L)),ee=O.cross(L,X),le=X.x,ye=X.y,be=X.z,Se=ee.x,xe=ee.y,we=ee.z,Ie=L.x,Be=L.y,Ee=L.z,ft=le+xe+Ee,w=n();if(ft>0){let A=Math.sqrt(ft+1);return w.w=A*.5,A=.5/A,w.x=(we-Be)*A,w.y=(Ie-be)*A,w.z=(ye-Se)*A,w}if(le>=xe&&le>=Ee){let A=Math.sqrt(1+le-xe-Ee),P=.5/A;return w.x=.5*A,w.y=(ye+Se)*P,w.z=(be+Ie)*P,w.w=(we-Be)*P,w}if(xe>Ee){let A=Math.sqrt(1+xe-le-Ee),P=.5/A;return w.x=(Se+ye)*P,w.y=.5*A,w.z=(Be+we)*P,w.w=(Ie-be)*P,w}let z=Math.sqrt(1+Ee-le-xe),j=.5/z;return w.x=(Ie+be)*j,w.y=(Be+we)*j,w.z=.5*z,w.w=(ye-Se)*j,w}e.lookRotation=d;function g(k){let N=1/o(k);return n(k.x*N,k.y*N,k.z*N,k.w*N)}e.normalize=g;function E(k,N,L=O.Up()){let X=O.normalize(k),ee=O.normalize(N),le=O.cross(X,ee),ye=Math.sqrt(O.lengthSquared(X)*O.lengthSquared(ee))+O.dot(X,ee);return O.lengthSquared(le)<1e-4?Math.abs(ye)<1e-4?g(n(L.x,L.y,L.z,0)):C():g(n(le.x,le.y,le.z,ye))}e.fromToRotation=E;function C(){return n(0,0,0,1)}e.Identity=C;function S(k){let N=O.create(),L=k.x*k.x+k.y*k.y+k.z*k.z+k.w*k.w,X=k.x*k.w-k.y*k.z;return X>.4995*L?(N.x=Math.PI/2,N.y=2*Math.atan2(k.y,k.x),N.z=0):X<-.4995*L?(N.x=-Math.PI/2,N.y=-2*Math.atan2(k.y,k.x),N.z=0):(N.x=Math.asin(2*(k.w*k.x-k.y*k.z)),N.y=Math.atan2(2*k.w*k.y+2*k.z*k.x,1-2*(k.x*k.x+k.y*k.y)),N.z=Math.atan2(2*k.w*k.z+2*k.x*k.y,1-2*(k.z*k.z+k.x*k.x))),N.x*=pr,N.y*=pr,N.z*=pr,N.x=Ae.repeat(N.x,360),N.y=Ae.repeat(N.y,360),N.z=Ae.repeat(N.z,360),N}e.toEulerAngles=S;function l(k,N,L,X){let ee=N*.5,le=k*.5,ye=L*.5,be=Math.cos(ee),Se=Math.cos(le),xe=Math.cos(ye),we=Math.sin(ee),Ie=Math.sin(le),Be=Math.sin(ye);X.x=Se*we*xe+Ie*be*Be,X.y=Ie*be*xe-Se*we*Be,X.z=Se*be*Be-Ie*we*xe,X.w=Se*be*xe+Ie*we*Be}e.fromRotationYawPitchRollToRef=l;function x(k,N){let L=k._m,X=L[0],ee=L[4],le=L[8],ye=L[1],be=L[5],Se=L[9],xe=L[2],we=L[6],Ie=L[10],Be=X+be+Ie,Ee;Be>0?(Ee=.5/Math.sqrt(Be+1),N.w=.25/Ee,N.x=(we-Se)*Ee,N.y=(le-xe)*Ee,N.z=(ye-ee)*Ee):X>be&&X>Ie?(Ee=2*Math.sqrt(1+X-be-Ie),N.w=(we-Se)/Ee,N.x=.25*Ee,N.y=(ee+ye)/Ee,N.z=(le+xe)/Ee):be>Ie?(Ee=2*Math.sqrt(1+be-X-Ie),N.w=(le-xe)/Ee,N.x=(ee+ye)/Ee,N.y=.25*Ee,N.z=(Se+we)/Ee):(Ee=2*Math.sqrt(1+Ie-X-be),N.w=(ye-ee)/Ee,N.x=(le+xe)/Ee,N.y=(Se+we)/Ee,N.z=.25*Ee)}e.fromRotationMatrixToRef=x;function b(k,N,L){let X=e.Identity();return e.slerpToRef(k,N,L,X),X}e.slerp=b;function _(k,N,L,X){let ee,le,ye=k.x*N.x+k.y*N.y+k.z*N.z+k.w*N.w,be=!1;if(ye<0&&(be=!0,ye=-ye),ye>.999999)le=1-L,ee=be?-L:L;else{let Se=Math.acos(ye),xe=1/Math.sin(Se);le=Math.sin((1-L)*Se)*xe,ee=be?-Math.sin(L*Se)*xe:Math.sin(L*Se)*xe}X.x=le*k.x+ee*N.x,X.y=le*k.y+ee*N.y,X.z=le*k.z+ee*N.z,X.w=le*k.w+ee*N.w}e.slerpToRef=_;function M(k,N){let L=n(0,0,0,1);return $(k,N,L),L}e.multiply=M;function $(k,N,L){L.x=k.x*N.w+k.y*N.z-k.z*N.y+k.w*N.x,L.y=-k.x*N.z+k.y*N.w+k.z*N.x+k.w*N.y,L.z=k.x*N.y-k.y*N.x+k.z*N.w+k.w*N.z,L.w=-k.x*N.x-k.y*N.y-k.z*N.z+k.w*N.w}e.multiplyToRef=$;function de(k,N){if(O.lengthSquared(N)===0)return e.Identity();let L=C(),X=k*lr;X*=.5;let ee=O.normalize(N);return O.scaleToRef(ee,Math.sin(X),ee),L.x=ee.x,L.y=ee.y,L.z=ee.z,L.w=Math.cos(X),g(L)}e.fromAngleAxis=de;function U(k,N,L){let X=e.create(0,0,0,0);return D(k,N,L,X),X}e.fromAxisToRotationQuaternion=U;function D(k,N,L,X){let ee=Bt.create();Bt.fromXYZAxesToRef(O.normalize(k),O.normalize(N),O.normalize(L),ee),e.fromRotationMatrixToRef(ee,X)}e.fromAxisToRotationQuaternionToRef=D;function Z(){return n(0,0,0,0)}e.Zero=Z;function F(k,N,L=O.Up()){let X=e.Identity();return Y(k,N,L,X),X}e.fromLookAt=F;function Y(k,N,L=O.Up(),X){let ee=Bt.Identity();Bt.lookAtLHToRef(k,N,L,ee),Bt.invertToRef(ee,ee),e.fromRotationMatrixToRef(ee,X)}e.fromLookAtToRef=Y})(me||(me={}));var ot;(function(e){function n(w=0,z=0,j=0,A=1){return{r:w,g:z,b:j,a:A}}e.create=n;function r(w){if(w.substring(0,1)!=="#"||w.length!==7&&w.length!==9)return n(0,0,0,1);let z=parseInt(w.substring(1,3),16),j=parseInt(w.substring(3,5),16),A=parseInt(w.substring(5,7),16),P=w.substring(7,9),ne=P?parseInt(P,16):255;return e.fromInts(z,j,A,ne)}e.fromHexString=r;function t(w,z,j){let A=n(0,0,0,0);return e.lerpToRef(w,z,j,A),A}e.lerp=t;function i(w,z,j,A){A.r=w.r+(z.r-w.r)*j,A.g=w.g+(z.g-w.g)*j,A.b=w.b+(z.b-w.b)*j,A.a=w.a+(z.a-w.a)*j}e.lerpToRef=i;function o(){return n(1,0,0,1)}e.Red=o;function s(){return n(0,1,0,1)}e.Green=s;function c(){return n(0,0,1,1)}e.Blue=c;function a(){return n(0,0,0,1)}e.Black=a;function f(){return n(1,1,1,1)}e.White=f;function d(){return n(.5,0,.5,1)}e.Purple=d;function g(){return n(1,0,1,1)}e.Magenta=g;function E(){return n(1,1,0,1)}e.Yellow=E;function C(){return n(.5,.5,.5,1)}e.Gray=C;function S(){return n(0,1,1,1)}e.Teal=S;function l(){return n(0,0,0,0)}e.Clear=l;function x(w,z=1){return n(w.r,w.g,w.b,z)}e.fromColor3=x;function b(w,z=0){return n(w[z],w[z+1],w[z+2],w[z+3])}e.fromArray=b;function _(w,z,j,A){return n(w/255,z/255,j/255,A/255)}e.fromInts=_;function M(w,z){if(w.length===z*3){let j=[];for(let A=0;A<w.length;A+=3){let P=A/3*4;j[P]=w[A],j[P+1]=w[A+1],j[P+2]=w[A+2],j[P+3]=1}return j}return w}e.checkColors4=M;function $(w,z,j){j.r=w.r+z.r,j.g=w.g+z.g,j.b=w.b+z.b,j.a=w.a+z.a}e.addToRef=$;function de(w,z,j=0){z[j]=w.r,z[j+1]=w.g,z[j+2]=w.b,z[j+3]=w.a}e.toArray=de;function U(w,z){let j=l();return $(w,z,j),j}e.add=U;function D(w,z){let j=l();return Z(w,z,j),j}e.subtract=D;function Z(w,z,j){j.r=w.r-z.r,j.g=w.g-z.g,j.b=w.b-z.b,j.a=w.a-z.a}e.subtractToRef=Z;function F(w,z){return n(w.r*z,w.g*z,w.b*z,w.a*z)}e.scale=F;function Y(w,z,j){j.r=w.r*z,j.g=w.g*z,j.b=w.b*z,j.a=w.a*z}e.scaleToRef=Y;function k(w,z,j){j.r+=w.r*z,j.g+=w.g*z,j.b+=w.b*z,j.a+=w.a*z}e.scaleAndAddToRef=k;function N(w,z=0,j=1,A){A.r=Ae.clamp(w.r,z,j),A.g=Ae.clamp(w.g,z,j),A.b=Ae.clamp(w.b,z,j),A.a=Ae.clamp(w.a,z,j)}e.clampToRef=N;function L(w,z){return n(w.r*z.r,w.g*z.g,w.b*z.b,w.a*z.a)}e.multiply=L;function X(w,z,j){j.r=w.r*z.r,j.g=w.g*z.g,j.b=w.b*z.b,j.a=w.a*z.a}e.multiplyToRef=X;function ee(w){return"{R: "+w.r+" G:"+w.g+" B:"+w.b+" A:"+w.a+"}"}e.toString=ee;function le(w){let z=w.r||0;return z=z*397^(w.g||0),z=z*397^(w.b||0),z=z*397^(w.a||0),z}e.getHashCode=le;function ye(w){return n(w.r,w.g,w.b,w.a)}e.clone=ye;function be(w,z){z.r=w.r,z.g=w.g,z.b=w.b,z.a=w.a}e.copyFrom=be;function Se(w,z,j,A,P){P.r=w,P.g=z,P.b=j,P.a=A}e.copyFromFloats=Se;function xe(w,z,j,A,P){P.r=w,P.g=z,P.b=j,P.a=A}e.set=xe;function we(w){let z=w.r*255|0,j=w.g*255|0,A=w.b*255|0,P=w.a*255|0;return"#"+Ae.toHex(z)+Ae.toHex(j)+Ae.toHex(A)+Ae.toHex(P)}e.toHexString=we;function Ie(w){let z=n();return Be(w,z),z}e.toLinearSpace=Ie;function Be(w,z){z.r=Math.pow(w.r,pn),z.g=Math.pow(w.g,pn),z.b=Math.pow(w.b,pn),z.a=w.a}e.toLinearSpaceToRef=Be;function Ee(w){let z=n();return ft(w,z),z}e.toGammaSpace=Ee;function ft(w,z){z.r=Math.pow(w.r,ln),z.g=Math.pow(w.g,ln),z.b=Math.pow(w.b,ln),z.a=w.a}e.toGammaSpaceToRef=ft})(ot||(ot={}));var vo;(function(e){function n(A=0,P=0,ne=0){return{r:A,g:P,b:ne}}e.create=n;function r(A){if(A.substring(0,1)!=="#"||A.length!==7)return n(0,0,0);let P=parseInt(A.substring(1,3),16),ne=parseInt(A.substring(3,5),16),Ne=parseInt(A.substring(5,7),16);return i(P,ne,Ne)}e.fromHexString=r;function t(A,P=0){return n(A[P],A[P+1],A[P+2])}e.fromArray=t;function i(A,P,ne){return n(A/255,P/255,ne/255)}e.fromInts=i;function o(A,P,ne){let Ne=n(0,0,0);return e.lerpToRef(A,P,ne,Ne),Ne}e.lerp=o;function s(A,P,ne,Ne){Ne.r=A.r+(P.r-A.r)*ne,Ne.g=A.g+(P.g-A.g)*ne,Ne.b=A.b+(P.b-A.b)*ne}e.lerpToRef=s;function c(){return n(1,0,0)}e.Red=c;function a(){return n(0,1,0)}e.Green=a;function f(){return n(0,0,1)}e.Blue=f;function d(){return n(0,0,0)}e.Black=d;function g(){return n(1,1,1)}e.White=g;function E(){return n(.5,0,.5)}e.Purple=E;function C(){return n(1,0,1)}e.Magenta=C;function S(){return n(1,1,0)}e.Yellow=S;function l(){return n(.5,.5,.5)}e.Gray=l;function x(){return n(0,1,1)}e.Teal=x;function b(){return n(Math.random(),Math.random(),Math.random())}e.Random=b;function _(A){return"{R: "+A.r+" G:"+A.g+" B:"+A.b+"}"}e.toString=_;function M(A){let P=A.r||0;return P=P*397^(A.g||0),P=P*397^(A.b||0),P}e.getHashCode=M;function $(A,P,ne=0){P[ne]=A.r,P[ne+1]=A.g,P[ne+2]=A.b}e.toArray=$;function de(A,P=1){return ot.create(A.r,A.g,A.b,P)}e.toColor4=de;function U(A){let P=new Array;return $(A,P,0),P}e.asArray=U;function D(A){return A.r*.3+A.g*.59+A.b*.11}e.toLuminance=D;function Z(A,P){return n(A.r*P.r,A.g*P.g,A.b*P.b)}e.multiply=Z;function F(A,P,ne){ne.r=A.r*P.r,ne.g=A.g*P.g,ne.b=A.b*P.b}e.multiplyToRef=F;function Y(A,P){return P&&A.r===P.r&&A.g===P.g&&A.b===P.b}e.equals=Y;function k(A,P,ne,Ne){return A.r===P&&A.g===ne&&A.b===Ne}e.equalsFloats=k;function N(A,P){return n(A.r*P,A.g*P,A.b*P)}e.scale=N;function L(A,P,ne){ne.r=A.r*P,ne.g=A.g*P,ne.b=A.b*P}e.scaleToRef=L;function X(A,P,ne){ne.r+=A.r*P,ne.g+=A.g*P,ne.b+=A.b*P}e.scaleAndAddToRef=X;function ee(A,P=0,ne=1,Ne){Ne.r=Ae.clamp(A.r,P,ne),Ne.g=Ae.clamp(A.g,P,ne),Ne.b=Ae.clamp(A.b,P,ne)}e.clampToRef=ee;function le(A,P=0,ne=1){let Ne=e.Black();return ee(A,P,ne,Ne),Ne}e.clamp=le;function ye(A,P){return n(A.r+P.r,A.g+P.g,A.b+P.b)}e.add=ye;function be(A,P,ne){ne.r=A.r+P.r,ne.g=A.g+P.g,ne.b=A.b+P.b}e.addToRef=be;function Se(A,P){return n(A.r-P.r,A.g-P.g,A.b-P.b)}e.subtract=Se;function xe(A,P,ne){ne.r=A.r-P.r,ne.g=A.g-P.g,ne.b=A.b-P.b}e.subtractToRef=xe;function we(A){return n(A.r,A.g,A.b)}e.clone=we;function Ie(A,P){P.r=A.r,P.g=A.g,P.b=A.b}e.copyFrom=Ie;function Be(A,P,ne,Ne){A.r=P,A.g=ne,A.b=Ne}e.set=Be;function Ee(A){let P=A.r*255|0,ne=A.g*255|0,Ne=A.b*255|0;return"#"+Ae.toHex(P)+Ae.toHex(ne)+Ae.toHex(Ne)}e.toHexString=Ee;function ft(A){let P=n();return w(A,P),P}e.toLinearSpace=ft;function w(A,P){P.r=Math.pow(A.r,pn),P.g=Math.pow(A.g,pn),P.b=Math.pow(A.b,pn)}e.toLinearSpaceToRef=w;function z(A){let P=n();return j(A,P),P}e.toGammaSpace=z;function j(A,P){P.r=Math.pow(A.r,ln),P.g=Math.pow(A.g,ln),P.b=Math.pow(A.b,ln)}e.toGammaSpaceToRef=j})(vo||(vo={}));var rm=0,im={ACTIVE:"ACTIVE",DROPPING:"DROPPING",INACTIVE:"INACTIVE"},qu=[.3,.2,.2,.1,.2],ju=[.1,.3,.5,.8,1],$u=[.5,1,1.5,2];var Yu=[.1,.5,1,2,5],mr=V.defineComponent("Particle",{angle:H.Float,radius:H.Float,speed:H.Number,spiralOffset:H.Float,state:H.String,markovStep:H.Int});function Ju(e){rm+=e;for(let[n]of V.getEntitiesWith(mr,oe)){let r=mr.getMutable(n);if(r.angle+=e*r.speed,r.angle>=2*Math.PI){r.angle=0;let f=Math.random(),d=0;for(let g of qu)if(d+=g,f<=d){r.markovStep=qu.indexOf(g);break}r.speed=$u[r.markovStep%$u.length]}let t=oe.getMutable(n),i=r.angle*ju[r.markovStep%ju.length],o=r.radius*Math.cos(i+r.spiralOffset),s=r.radius*Math.sin(i+r.spiralOffset),c=r.radius*Math.sin(i);t.position=O.create(o,c,s);let a=Yu[r.markovStep%Yu.length]}}var am={metallic:1,albedoColor:ot.create(.5,1.5,2),emissiveColor:ot.create(.2,.5,2)},Zu=V.addEntity();oe.create(Zu,{position:O.create(7.97,10,4.37),rotation:me.fromEulerDegrees(0,90,0)});var cm=80,Xu=10,sm=2*Math.PI/Xu;for(let e=0;e<Xu;e++)for(let n=0;n<cm;n++){let r=V.addEntity();Lt.setPlane(r),Yt.setPbrMaterial(r,am),mr.create(r,{angle:n*.2,radius:n*.3,speed:2,spiralOffset:e*sm,state:im.ACTIVE,markovStep:0}),oe.create(r,{scale:O.create(.2,5,.2),parent:Zu})}var fm=0,um={ACTIVE:"ACTIVE",DROPPING:"DROPPING",INACTIVE:"INACTIVE"},Qu=[.3,.2,.2,.1,.2],Ku=[.1,.3,.5,.8,1],ed=[.5,1,1.5,2];var td=[.1,.5,1,2,5],hr=V.defineComponent("Particle",{angle:H.Float,radius:H.Float,speed:H.Number,spiralOffset:H.Float,state:H.String,markovStep:H.Int});function nd(e){fm+=e;for(let[n]of V.getEntitiesWith(hr,oe)){let r=hr.getMutable(n);if(r.angle+=e*r.speed,r.angle>=2*Math.PI){r.angle=0;let f=Math.random(),d=0;for(let g of Qu)if(d+=g,f<=d){r.markovStep=Qu.indexOf(g);break}r.speed=ed[r.markovStep%ed.length]}let t=oe.getMutable(n),i=r.angle*Ku[r.markovStep%Ku.length],o=r.radius*Math.cos(i+r.spiralOffset),s=r.radius*Math.sin(i+r.spiralOffset),c=r.radius*Math.sin(i);t.position=O.create(o,c,s);let a=td[r.markovStep%td.length];t.scale=O.create(a,a,a)}}var dm={metallic:1,albedoColor:ot.create(.5,1.5,2),emissiveColor:ot.create(.2,.5,2)},od=V.addEntity();oe.create(od,{position:O.create(7.97,10,4.37),rotation:me.fromEulerDegrees(0,90,0)});var lm=80,rd=10,pm=2*Math.PI/rd;for(let e=0;e<rd;e++)for(let n=0;n<lm;n++){let r=V.addEntity();Lt.setBox(r),Yt.setPbrMaterial(r,dm),hr.create(r,{angle:n*.2,radius:n*.3,speed:2,spiralOffset:e*pm,state:um.ACTIVE,markovStep:0}),oe.create(r,{scale:O.create(.2,5,.2),parent:od})}var mm=0,hm={ACTIVE:"ACTIVE",DROPPING:"DROPPING",INACTIVE:"INACTIVE"},id=[.3,.2,.2,.1,.2],ad=[.1,.3,.5,.8,1],cd=[.5,1,1.5,2];var sd=[.1,.5,1,2,5],yr=V.defineComponent("Particle",{angle:H.Float,radius:H.Float,speed:H.Number,spiralOffset:H.Float,state:H.String,markovStep:H.Int});function fd(e){mm+=e;for(let[n]of V.getEntitiesWith(yr,oe)){let r=yr.getMutable(n);if(r.angle+=e*r.speed,r.angle>=2*Math.PI){r.angle=0;let f=Math.random(),d=0;for(let g of id)if(d+=g,f<=d){r.markovStep=id.indexOf(g);break}r.speed=cd[r.markovStep%cd.length]}let t=oe.getMutable(n),i=r.angle*ad[r.markovStep%ad.length],o=r.radius*Math.cos(i+r.spiralOffset),s=r.radius*Math.sin(i+r.spiralOffset),c=r.radius*Math.sin(i);t.position=O.create(o,c,s);let a=sd[r.markovStep%sd.length];t.scale=O.create(o,a,s)}}var ym={metallic:1,albedoColor:ot.create(.5,1.5,2),emissiveColor:ot.create(.2,.5,2)},ud=V.addEntity();oe.create(ud,{position:O.create(7.97,10,4.37),rotation:me.fromEulerDegrees(0,90,0)});var bm=80,dd=10,Em=2*Math.PI/dd;for(let e=0;e<dd;e++)for(let n=0;n<bm;n++){let r=V.addEntity();Lt.setPlane(r),Yt.setPbrMaterial(r,ym),yr.create(r,{angle:n*.2,radius:n*.3,speed:2,spiralOffset:e*Em,state:hm.ACTIVE,markovStep:0}),oe.create(r,{scale:O.create(.2,5,.2),parent:ud})}function ta(e){let n=$t.getMutable(e);n?(n.playing=!0,n.loop=!0,console.log("Audio should be playing")):console.log("Audio source is undefined")}function Uo(e){let n=$t.getMutable(e);n?(n.playing=!1,n.loop=!1,console.log("Audio should be playing")):console.log("Audio source is undefined")}function br(e){let n=$t.getMutable(e);n?(n.playing=!0,n.loop=!1,console.log("Audio should be playing")):console.log("Audio source is undefined")}var Er=V.addEntity();Dn.setBox(Er);$t.create(Er,{audioClipUrl:"sounds/lobbyOFFair.mp3",playing:!0});oe.create(Er,{position:{x:8,y:6,z:-9},scale:{x:1,y:1,z:1}});var Wn=V.addEntity();Dn.setBox(Wn);$t.create(Wn,{audioClipUrl:"sounds/ambient1!.mp3",playing:!0});oe.create(Wn,{position:{x:7.8,y:4,z:1.68},scale:{x:1,y:1,z:1}});var Fo=V.addEntity();$t.create(Fo,{audioClipUrl:"sounds/flower.mp3",playing:!0});Ji.createOrReplace(Fo,{anchorPointId:jn.AAPT_NAME_TAG});var Lo=V.addEntity();Dn.setBox(Lo);$t.create(Lo,{audioClipUrl:"sounds/powerDown!.mp3",playing:!0});oe.create(Lo,{position:{x:7.8,y:8,z:1.68},scale:{x:1,y:1,z:1}});function xr(e){let n=oe.getOrNull(e);if(!n)return O.Zero();let r=n.parent;if(r){let t=oe.get(r).rotation;return O.add(xr(r),O.rotate(n.position,t))}else return n.position}function Sr(e){let n=oe.getOrNull(e);if(!n)return me.Identity();let r=n.parent;return r?me.multiply(n.rotation,Sr(r)):n.rotation}var Ce;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(Ce||(Ce={}));function uc(e,n){switch(e){case Ce.LINEAR:return n;case Ce.EASEINQUAD:return xm(n);case Ce.EASEOUTQUAD:return Sm(n);case Ce.EASEQUAD:return Tm(n);case Ce.EASEINSINE:return gm(n);case Ce.EASEOUTSINE:return _m(n);case Ce.EASESINE:return Rm(n);case Ce.EASEINEXPO:return km(n);case Ce.EASEOUTEXPO:return Am(n);case Ce.EASEEXPO:return wm(n);case Ce.EASEINELASTIC:return Im(n);case Ce.EASEOUTELASTIC:return Nm(n);case Ce.EASEELASTIC:return Om(n);case Ce.EASEINBOUNCE:return Cm(n);case Ce.EASEOUTEBOUNCE:return Pm(n);case Ce.EASEBOUNCE:return Bm(n);default:return n}}function xm(e){return e*e}function Sm(e){return e*(2-e)}function Tm(e){return e*e/(2*(e*e-e)+1)}function gm(e){return 1-Math.cos(e*Math.PI/2)}function _m(e){return Math.sin(e*Math.PI/2)}function Rm(e){return-(Math.cos(Math.PI*e)-1)/2}function km(e){return e===0?0:Math.pow(2,10*e-10)}function Am(e){return e===1?1:1-Math.pow(2,-10*e)}function wm(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}function Im(e){let n=2*Math.PI/3;return e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*n)}function Nm(e){let n=2*Math.PI/3;return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*n)+1}function Om(e){let n=2*Math.PI/4.5;return e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*n))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*n)/2+1}function Cm(e){return 1-na(1-e)}function Pm(e){return na(e)}function Bm(e){return e<.5?(1-na(1-2*e))/2:(1+na(2*e-1))/2}function na(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function ld(e,n,r){let t=new Array,i=1/n,o=0;if(r){let s=e.length;for(let c=0;c<s;c++){o=0;for(let a=0;a<n;a++)t.push(O.catmullRom(e[c%s],e[(c+1)%s],e[(c+2)%s],e[(c+3)%s],o)),o+=i}t.push(t[0])}else{let s=new Array;s.push(O.clone(e[0])),Array.prototype.push.apply(s,e),s.push(O.clone(e[e.length-1]));let c=0;for(;c<s.length-3;c++){o=0;for(let a=0;a<n;a++)t.push(O.catmullRom(s[c],s[c+1],s[c+2],s[c+3],o)),o+=i}c--,t.push(O.catmullRom(s[c],s[c+1],s[c+2],s[c+3],o))}return t}function pd(e,n,r,t){return e.x<=t.x&&n.x>=r.x&&e.y<=t.y&&n.y>=r.y&&e.z<=t.z&&n.z>=r.z}function md(e,n,r,t){let i=O.distanceSquared(e,r),o=n+t;return i<o*o}function dc(e,n,r,t){let i=0;return r.x<e.x&&(i+=(e.x-r.x)*(e.x-r.x)),r.x>n.x&&(i+=(r.x-n.x)*(r.x-n.x)),r.y<e.y&&(i+=(e.y-r.y)*(e.y-r.y)),r.y>n.y&&(i+=(r.y-n.y)*(r.y-n.y)),r.z<e.z&&(i+=(e.z-r.z)*(e.z-r.z)),r.z>n.z&&(i+=(r.z-n.z)*(r.z-n.z)),i<t*t}var Xe;(function(e){e.TimerSystemPriority=1e5+256,e.TweenSystemPriority=1e5+192,e.PerpetualMotionSystemPriority=1e5+192,e.PathSystemPriority=1e5+192,e.TriggerSystemPriority=1e5+128,e.ActionSystemPriority=1e5+64})(Xe||(Xe={}));function Mm(e){let n=new Map,r=0;function t(i){let o=[],s=[];for(let[c,a]of n)a.accumulatedTime+=1e3*i,!(a.accumulatedTime<a.interval)&&(s.push(a.callback),a.recurrent?a.accumulatedTime-=Math.floor(a.accumulatedTime/a.interval)*a.interval:o.push(c));for(let c of o)n.delete(c);for(let c of s)c()}return e.addSystem(t,Xe.TimerSystemPriority),{setTimeout(i,o){let s=r++;return n.set(s,{callback:i,interval:o,recurrent:!1,accumulatedTime:0}),s},clearTimeout(i){n.delete(i)},setInterval(i,o){let s=r++;return n.set(s,{callback:i,interval:o,recurrent:!0,accumulatedTime:0}),s},clearInterval(i){n.delete(i)}}}var lc=Mm(V);var Do;(function(e){e[e.Off=0]="Off",e[e.On=1]="On"})(Do||(Do={}));function zm(e,n){let r=e.defineComponent("dcl.utils.Toggle",{state:H.EnumNumber(Do,Do.Off)}),t=new Map;return n.setInterval(function(){for(let i of t.keys())(e.getEntityState(i)==Ge.Removed||!r.has(i))&&t.delete(i)},5e3),{addToggle(i,o,s){t.set(i,s),r.createOrReplace(i,{state:o})},removeToggle(i){t.delete(i),r.deleteFrom(i)},setCallback(i,o){t.set(i,o)},set(i,o){if(r.get(i).state!=o){r.getMutable(i).state=o;let c=t.get(i);c&&c(o)}},flip(i){this.set(i,1-r.get(i).state)},isOn(i){return r.get(i).state==Do.On}}}var vm=zm(V,lc);function Um(e){let n={start:H.Vector3,end:H.Vector3,interpolationType:H.EnumString(Ce,Ce.LINEAR),speed:H.Float,normalizedTime:H.Float},r=e.defineComponent("dcl.utils.PositionTween",n),t=e.defineComponent("dcl.utils.ScaleTween",n),i=e.defineComponent("dcl.utils.RotationTween",{start:H.Quaternion,end:H.Quaternion,interpolationType:H.EnumString(Ce,Ce.LINEAR),speed:H.Float,normalizedTime:H.Float}),o=new Map,s=new Map,c=new Map;function a(E,C,S){return function(x){let b=[];for(let _ of C.keys()){if(e.getEntityState(_)==Ge.Removed||!E.has(_)){C.delete(_);continue}let M=E.getMutable(_);M.normalizedTime=Ae.clamp(M.normalizedTime+x*M.speed,0,1);let $=uc(M.interpolationType,M.normalizedTime);S(oe.getMutable(_),M.start,M.end,$),M.normalizedTime>=1&&b.push(_)}for(let _ of b){let M=C.get(_);E.deleteFrom(_),C.delete(_),M&&M()}}}function f(E,C){return function(S){E.deleteFrom(S),C.delete(S)}}function d(E,C){return function(S,l,x,b,_=Ce.LINEAR,M){C.set(S,M),E.createOrReplace(S,{start:l,end:x,speed:b==0?0:1/b,interpolationType:_,normalizedTime:b==0?1:0})}}function g(E){return function(C){if(!E.has(C))throw new Error(`Entity ${C} is not registered with tweens system`);return E.get(C)}}return e.addSystem(a(r,o,function(E,C,S,l){E.position=O.lerp(C,S,l)}),Xe.TweenSystemPriority),e.addSystem(a(i,s,function(E,C,S,l){E.rotation=me.slerp(C,S,l)}),Xe.TweenSystemPriority),e.addSystem(a(t,c,function(E,C,S,l){E.scale=O.lerp(C,S,l)}),Xe.TweenSystemPriority),{startTranslation:d(r,o),stopTranslation:f(r,o),startRotation:d(i,s),stopRotation:f(i,s),startScaling:d(t,c),stopScaling:f(t,c),getTranslationOnFinishCallback:g(o),getRotationOnFinishCallback:g(s),getScalingOnFinishCallback:g(c)}}var Fm=Um(V);function Lm(e){let n=e.defineComponent("dcl.utils.PerpetualRotation",{velocity:H.Quaternion});function r(t){for(let[i,o]of e.getEntitiesWith(n,oe)){let s=me.slerp(me.Identity(),o.velocity,t),c=oe.getMutable(i);c.rotation=me.normalize(me.multiply(c.rotation,s))}}return e.addSystem(r,Xe.PerpetualMotionSystemPriority),{startRotation(t,i){n.createOrReplace(t,{velocity:i})},stopRotation(t){n.deleteFrom(t)}}}var Dm=Lm(V);function Wm(e){let n=e.defineComponent("dcl.utils.FollowPath",{points:H.Array(H.Vector3),faceDirection:H.Boolean,speed:H.Number,normalizedTime:H.Number,currentIndex:H.Number,segmentTimes:H.Array(H.Number),curveSegmentCount:H.Number}),r=new Map,t=new Map;function i(c){r.delete(c),t.delete(c),n.deleteFrom(c)}function o(c){let a=[],f=[];for(let d of r.keys()){if(e.getEntityState(d)==Ge.Removed||!n.has(d)){i(d);continue}let g=oe.getMutable(d),E=n.getMutable(d);for(E.normalizedTime=Ae.clamp(E.normalizedTime+c*E.speed,0,1),E.normalizedTime>=1&&a.push(d);E.normalizedTime>=E.segmentTimes[E.currentIndex]&&E.currentIndex<E.points.length-1;){if(E.faceDirection){let l=O.subtract(E.points[E.currentIndex+1],E.points[E.currentIndex]);g.rotation=me.lookRotation(l)}if(E.currentIndex>0&&E.currentIndex%E.curveSegmentCount==0){let l=E.currentIndex/E.curveSegmentCount,x=E.points[E.currentIndex],b=E.points[E.currentIndex+E.curveSegmentCount];f.push({entity:d,index:l,coords:x,nextCoords:b})}E.currentIndex+=1}let C=E.segmentTimes[E.currentIndex]-E.segmentTimes[E.currentIndex-1],S=(E.segmentTimes[E.currentIndex]-E.normalizedTime)/C;g.position=O.lerp(E.points[E.currentIndex],E.points[E.currentIndex-1],S)}for(let d of f){let g=t.get(d.entity);g&&g(d.index,d.coords,d.nextCoords)}for(let d of a){let g=r.get(d);i(d),g&&g()}}e.addSystem(o,Xe.PathSystemPriority);function s(c,a,f,d,g,E,C){if(a.length<2)throw new Error("At least 2 points are required to form a path.");if(f==0)throw new Error("Path duration must not be zero");if(g){let b=O.equals(a[0],a[a.length-1]);b&&(a.pop(),a.unshift(a.pop())),a=ld(a,g,b)}else g=1;r.set(c,E),t.set(c,C);let S=0,l=[];for(let b=0;b<a.length-1;b++){let _=O.distance(a[b],a[b+1]);S+=_,l.push(_)}let x=[0];for(let b=0;b<l.length;b++)x.push(l[b]/S+x[b]);n.createOrReplace(c,{points:a,segmentTimes:x,curveSegmentCount:g,speed:1/f,normalizedTime:0,currentIndex:0,faceDirection:d})}return{startStraightPath(c,a,f,d,g,E){return s(c,a,f,d,0,g,E)},startSmoothPath(c,a,f,d,g,E,C){if(d<2||!Number.isInteger(d))throw new Error(`segmentCount must be an integer that is greater than 2, got: ${d}`);return s(c,a,f,g,d,E,C)},stopPath(c){i(c)},getOnFinishCallback(c){if(!r.has(c))throw new Error(`Entity ${c} is not registered in triggers system`);return r.get(c)}}}var Vm=Wm(V);var hd=1;var Jt=255,Wo=0;function Gm(e){let n=V.defineComponent("dcl.utils.Trigger",{active:H.Boolean,layerMask:H.Int,triggeredByMask:H.Int,areas:H.Array(H.OneOf({box:H.Map({position:H.Vector3,scale:H.Vector3}),sphere:H.Map({position:H.Vector3,radius:H.Number})})),debugColor:H.Color3}),r=new Map,t=new Map,i=!1,o=new Map,s=new Map;function c(S){if(S)for(let[l,x]of e.getEntitiesWith(n,oe)){let b=s.get(l),_=x.areas.length;for(;b.length>_;)e.removeEntity(b.pop());for(;b.length<_;)b.push(e.addEntity());let M=xr(l),$=Sr(l);for(let de=0;de<_;++de){let U=x.areas[de],D=b[de],Z;if(U.$case=="box")Z=U.value.scale,Lt.setBox(D);else{let Y=U.value.radius;Z={x:Y,y:Y,z:Y},Lt.setSphere(D)}oe.createOrReplace(D,{position:O.add(M,O.rotate(U.value.position,$)),scale:Z});let F=x.active?x.debugColor:vo.Black();Yt.setPbrMaterial(D,{albedoColor:ot.fromInts(255*F.r,255*F.g,255*F.b,75)})}}}function a(S,l,x,b){for(let _=0;_<l.areas.length;++_){let M=S[_],$=l.areas[_];if($.$case=="box"){let de=$.value,U=O.subtract(M,O.scale(de.scale,.5)),D=O.add(U,de.scale);for(let Z=0;Z<b.areas.length;++Z){let F=x[Z],Y=b.areas[Z];if(Y.$case=="box"){let k=Y.value,N=O.subtract(F,O.scale(k.scale,.5)),L=O.add(N,k.scale);if(pd(U,D,N,L))return!0}else if(dc(U,D,F,Y.value.radius))return!0}}else{let de=$.value.radius;for(let U=0;U<b.areas.length;++U){let D=x[U],Z=b.areas[U];if(Z.$case=="box"){let F=Z.value,Y=O.subtract(D,O.scale(F.scale,.5)),k=O.add(Y,F.scale);if(dc(Y,k,M,de))return!0}else if(md(M,de,D,Z.value.radius))return!0}}}return!1}function f(S,l){let x=new Set,b=n.get(S);if(!b.active)return x;for(let[_,M]of e.getEntitiesWith(n,oe)){if(_==S||!M.active||!(b.triggeredByMask&M.layerMask))continue;a(l.get(S),b,l.get(_),M)&&x.add(_)}return x}function d(){let S=[],l=[],x=new Map;for(let b of o.keys()){if(e.getEntityState(b)==Ge.Removed||!n.has(b)){for(let U of s.get(b))e.removeEntity(U);for(let U of o.values())U.has(b)&&U.delete(b);s.delete(b),o.delete(b),r.delete(b),t.delete(b);continue}let _=[],M=xr(b),$=Sr(b),de=n.get(b);for(let U of de.areas)_.push(O.add(M,O.rotate(U.value.position,$)));x.set(b,_)}for(let b of o.keys()){let _=f(b,x),M=o.get(b);for(let $ of M)_.has($)||l.push([b,$]);for(let $ of _)M.has($)||S.push([b,$]);o.set(b,_)}for(let[b,_]of S){let M=r.get(b);M&&M(_)}for(let[b,_]of l){let M=t.get(b);M&&M(_)}}function g(S){d(),c(i)}e.addSystem(g,Xe.TriggerSystemPriority);function E(S){S||(S=[{type:"box"}]);let l=[];for(let x of S)x.type=="box"?l.push({$case:"box",value:{position:x.position?x.position:O.Zero(),scale:x.scale?x.scale:O.One()}}):l.push({$case:"sphere",value:{position:x.position?x.position:O.Zero(),radius:x.radius?x.radius:1}});return l}let C={addTrigger(S,l=Wo,x=Wo,b,_,M,$){if(l<0||l>Jt||!Number.isInteger(l))throw new Error(`Bad layerMask: ${l}. Expected a non-negative integer no greater than ${Jt}`);if(x<0||x>Jt||!Number.isInteger(x))throw new Error(`Bad triggeredByMask: ${x}. Expected a non-negative integer no greater than ${Jt}`);s.set(S,[]),o.set(S,new Set),r.set(S,_),t.set(S,M),n.createOrReplace(S,{active:!0,layerMask:l,triggeredByMask:x,areas:E(b),debugColor:$||vo.Red()})},removeTrigger(S){let l=o.get(S),x=t.get(S);for(let _ of s.get(S))e.removeEntity(_);s.delete(S),o.delete(S),r.delete(S),t.delete(S),n.deleteFrom(S);let b=[];for(let[_,M]of o)M.has(S)&&(M.delete(S),b.push(_));if(x)for(let _ of l)x(_);for(let _ of b){let M=t.get(_);M&&M(S)}},oneTimeTrigger(S,l=Wo,x=Wo,b,_,M){this.addTrigger(S,l,x,b,function($){Vo.removeTrigger(S),_&&_($)},void 0,M)},enableTrigger(S,l){n.getMutable(S).active=l},isTriggerEnabled(S){return n.get(S).active},getLayerMask(S){return n.get(S).layerMask},setLayerMask(S,l){if(l<0||l>Jt||!Number.isInteger(l))throw new Error(`Bad layerMask: ${l}. Expected a non-negative integer no greater than ${Jt}`);n.getMutable(S).layerMask=l},getTriggeredByMask(S){return n.get(S).triggeredByMask},setTriggeredByMask(S,l){if(l<0||l>Jt||!Number.isInteger(l))throw new Error(`Bad layerMask: ${l}. Expected a non-negative integer no greater than ${Jt}`);n.getMutable(S).triggeredByMask=l},getAreas(S){return n.get(S).areas},setAreas(S,l){n.getMutable(S).areas=E(l)},setOnEnterCallback(S,l){r.set(S,l)},setOnExitCallback(S,l){t.set(S,l)},enableDebugDraw(S){if(i=S,!S)for(let l of s.values()){for(let x of l)e.removeEntity(x);l.length=0}},isDebugDrawEnabled(){return i}};return C.addTrigger(e.PlayerEntity,hd,Wo,[{type:"box",scale:{x:.65,y:1.92,z:.65},position:{x:0,y:.15,z:0}}],void 0,void 0,vo.Green()),C}var Vo=Gm(V);var pc;(function(e){class n{constructor(d,g,E){this.beginSequenceNode=null,this.currentSequenceNode=null,this.running=!1,this.started=!1,this.engine=d,this.systemFn=C=>{this.update(C)},this.engine.addSystem(this.systemFn,Xe.ActionSystemPriority),g&&this.startSequence(g),E&&this.setOnFinishCallback(E)}startSequence(d){this.beginSequenceNode=d.beginSequenceNode,this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}destroy(){this.engine.removeSystem(this.systemFn)}setOnFinishCallback(d){this.onFinishCallback=d}isRunning(){return this.running}stop(){this.running=!1}resume(){this.beginSequenceNode!=null&&(this.running=!0)}reset(){this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}getRunningAction(){let d=this.currentSequenceNode;if(this.currentSequenceNode instanceof i)do d=d.currentInnerSequence;while(d instanceof i);return d.action}update(d){if(this.running){if(!this.started){this.currentSequenceNode.onStart(),this.started=!0;return}if(!this.currentSequenceNode.hasFinish()){this.currentSequenceNode.update(d);return}this.currentSequenceNode.onFinish(),this.currentSequenceNode=this.currentSequenceNode.next,this.currentSequenceNode?this.currentSequenceNode.onStart():(this.running=!1,this.onFinishCallback&&this.onFinishCallback())}}}e.SequenceRunner=n;class r{constructor(){this.currentSequenceNode=null,this.beginSequenceNode=null,this.whileNodeStack=[]}then(d){if(this.currentSequenceNode==null)this.currentSequenceNode=new t,this.currentSequenceNode.action=d,this.beginSequenceNode=this.currentSequenceNode;else{let g=new t;g.action=d,this.currentSequenceNode=this.currentSequenceNode.then(g)}return this}if(d){let g=new o(d);return this.currentSequenceNode==null?(this.currentSequenceNode=g,this.beginSequenceNode=g):this.currentSequenceNode=this.currentSequenceNode.then(g),this}else(){let d=this.currentSequenceNode.getSequence();if(d instanceof o){d.closed=!0;let g=new s(d);this.currentSequenceNode=this.currentSequenceNode.then(g)}else throw new Error("IF statement is needed to be called before ELSE statement.");return this}endIf(){let d=this.currentSequenceNode.getSequence();if(d instanceof o||d instanceof s)d.closed=!0;else throw new Error("IF statement is needed to be called before ENDIF statement.");return this}while(d){let g=new c(d);return this.currentSequenceNode==null?(this.currentSequenceNode=g,this.beginSequenceNode=g):this.currentSequenceNode=this.currentSequenceNode.then(g),this.whileNodeStack.push(g),this}endWhile(){let d=this.currentSequenceNode.getSequence();if(d instanceof c)d.closed=!0,this.whileNodeStack.length>0&&this.whileNodeStack.splice(this.whileNodeStack.length-1,1);else throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");return this}breakWhile(){if(this.whileNodeStack.length>0)this.currentSequenceNode=this.currentSequenceNode.then(new a(this.whileNodeStack[this.whileNodeStack.length-1]));else throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");return this}}e.SequenceBuilder=r;class t{constructor(){this.action=null,this.next=null}then(d){return this.next=d,d}onStart(){this.action&&this.action.onStart()}update(d){this.action&&this.action.update(d)}onFinish(){this.action&&this.action.onFinish()}hasFinish(){return this.action?this.action.hasFinished:!0}getSequence(){return this}}e.SequenceNode=t;class i extends t{constructor(){super(...arguments),this.currentInnerSequence=null,this.startingInnerSequence=null,this.closed=!1}then(d){if(this.currentInnerSequence==null)this.currentInnerSequence=d,this.startingInnerSequence=d;else{if(this.closed)return this.next=d,d;this.currentInnerSequence=this.currentInnerSequence.then(d)}return this}onStart(){this.currentInnerSequence=this.startingInnerSequence,this.currentInnerSequence&&this.currentInnerSequence.onStart()}update(d){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(d))}onFinish(){this.currentInnerSequence&&this.currentInnerSequence.onFinish()}hasFinish(){return this.currentInnerSequence==null}getSequence(){if(this.currentInnerSequence){let d=this.currentInnerSequence.getSequence();if(d instanceof i&&!d.closed)return d}return this}}class o extends i{constructor(d){super(),this.result=!1,this.condition=d}onStart(){this.result=this.condition(),this.result?super.onStart():this.currentInnerSequence=null}}class s extends i{constructor(d){super(),this.ifSequence=null,this.ifSequence=d}onStart(){this.ifSequence&&!this.ifSequence.result?super.onStart():this.currentInnerSequence=null}}class c extends i{constructor(d){super(),this.breakWhile=!1,this.condition=d}onStart(){this.breakWhile=!1,this.condition()?super.onStart():this.currentInnerSequence=null}update(d){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence==null&&(this.currentInnerSequence=this.startingInnerSequence),this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(d))}hasFinish(){return this.breakWhile||!this.condition()}}class a extends t{constructor(d){super(),this.whileNode=d}onStart(){this.whileNode.breakWhile=!0}}})(pc||(pc={}));var Tr=V.defineComponent("spinner",{speed:H.Number});Uo(Wn);Uo(Lo);var gr,Zt;function bd(){switch(Math.floor(Math.random()*3)){case 0:Zt=Ju,gr=mr;break;case 1:Zt=nd,gr=hr;break;case 2:Zt=fd,gr=yr;break}V.removeSystem(Zt)}bd();var _r=V.addEntity();cn.create(_r,{src:"models/punkhead.glb"});Tr.create(_r,{speed:100});oe.create(_r,{position:O.create(8.12,2,3.71),scale:O.create(.1,.1,.1),rotation:me.fromEulerDegrees(0,180,90)});function Ed(e,n){let r=V.addEntity();oe.create(r,{position:e}),cn.create(r,{src:n}),Un.create(r,{pointerEvents:[{eventType:sn.PET_DOWN,eventInfo:{showFeedback:!1}}]});function t(i){if(i){oe.getMutable(_r).scale=O.create(0,0,0);try{Zt&&V.removeSystem(Zt),bd(),V.addSystem(Zt)}catch(o){console.log(o)}ta(Wn);for(let[o]of V.getEntitiesWith(gr))cc.deleteFrom(o)}else{for(let[o]of V.getEntitiesWith(gr))cc.createOrReplace(o,{visible:!1});oe.getMutable(_r).scale=O.create(.1,.1,.1),Zt&&V.removeSystem(Zt),br(Lo),Uo(Wn)}}Vo.addTrigger(r,2,2,[{type:"box",scale:O.create(4,4,4),position:O.create(0,.75,0)}],i=>{console.log("on enter",{entity:i}),t(!0)},i=>{console.log("on exit",{entity:i}),t(!1)})}Uo(Fo);var oa=V.defineComponent("PowerCube",{isGrabbed:H.Boolean}),xd=1.5,Hm=.1;function Sd(e,n){let r=V.addEntity();return oe.create(r,{position:e}),cn.create(r,{src:n}),oa.create(r,{isGrabbed:!1}),ac.onPointerDown({entity:r,opts:{button:dr.IA_PRIMARY,hoverText:"Pick Up",maxDistance:5}},()=>{let t=oa.getMutable(r);if(br(Fo),!t.isGrabbed){let i=oe.getMutable(r);t.isGrabbed=!0,i.position=O.Zero(),i.rotation=me.Identity(),i.position.y=-1,i.position.z+=xd;let o=V.addEntity();oe.create(o,{}),i.parent=o,Ji.createOrReplace(i.parent,{anchorPointId:jn.AAPT_NAME_TAG});let s=Un.getMutable(r).pointerEvents[0];s&&s.eventInfo&&(s.eventInfo.showFeedback=!1)}}),Vo.addTrigger(r,2,2,[{type:"box",scale:O.create(1,1,1)}]),r}V.addSystem(()=>{ic.isTriggered(dr.IA_SECONDARY,sn.PET_DOWN)&&qm()});function qm(){for(let[e]of V.getEntitiesWith(oa)){let n=oa.getMutable(e),r=oe.getMutable(e);if(!n.isGrabbed)return;n.isGrabbed=!1,br(Fo);let t=oe.get(V.PlayerEntity),i=O.rotate(O.scale(O.Forward(),xd),t.rotation);r.position=O.add(t.position,i),r.position.y=Hm,r.rotation=me.fromLookAt(r.position,t.position),r.rotation.x=0,r.rotation.z=0,r.parent=void 0;let o=Un.getMutable(e).pointerEvents[0];o&&o.eventInfo&&(o.eventInfo.showFeedback=!0)}}function Td(e){let n=V.getEntitiesWith(Tr,oe);for(let[r,t,i]of n){let o=oe.getMutable(r),s=Tr.get(r);o.rotation=me.multiply(o.rotation,me.fromAngleAxis(e*s.speed,O.Left()))}}V.addSystem(Td);function ra(){ta(Er);let e=V.addEntity();Un.create(e,{pointerEvents:[{eventType:sn.PET_DOWN,eventInfo:{showFeedback:!1}}]});let n=.55;Ed(O.create(8,.024,3.5),"base");let r=Sd(O.create(8.56,n,-14.02),"models/PlantAqua.glb");Dn.setBox(r);let t=V.addEntity();cn.create(t,{src:"models/CityTile.glb"}),oe.create(t,{position:O.create(8,0,8),scale:O.create(1,1,1),rotation:me.fromEulerDegrees(0,180,0)});let i=V.addEntity();cn.create(i,{src:"models/CityTile.glb"}),oe.create(i,{position:O.create(8,0,-8),scale:O.create(1,1,1),rotation:me.fromEulerDegrees(0,180,0)})}var Go=require("~system/EngineApi");function gd(e){async function n(t){let i=await e.crdtSendToRenderer({data:new Uint8Array(t)});if(i&&i.data&&i.data.length&&r.onmessage)for(let o of i.data)r.onmessage(o)}let r={async send(t){try{await n(t)}catch(i){console.error(i);debugger}},filter(t){return t.componentId>Ka?!1:!!t}};return r}var mc=class{constructor(n,r=!1,t,i){this.initalize(n,r,t,i)}initalize(n,r=!1,t,i){return this.mask=n,this.skipNextObservers=r,this.target=t,this.currentTarget=i,this}},hc=class{constructor(n,r,t=null){this.callback=n,this.mask=r,this.scope=t,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1}},st=class e{constructor(n){this._observers=new Array,this._onObserverAdded=null,this._eventState=new mc(0),n&&(this._onObserverAdded=n)}add(n,r=-1,t=!1,i=null,o=!1){if(!n)return null;let s=new hc(n,r,i);return s.unregisterOnNextCall=o,t?this._observers.unshift(s):this._observers.push(s),this._onObserverAdded&&this._onObserverAdded(s),s}addOnce(n){return this.add(n,void 0,void 0,void 0,!0)}remove(n){return n&&this._observers.indexOf(n)!==-1?(this._deferUnregister(n),!0):!1}removeCallback(n,r){for(let t=0;t<this._observers.length;t++)if(this._observers[t].callback===n&&(!r||r===this._observers[t].scope))return this._deferUnregister(this._observers[t]),!0;return!1}notifyObservers(n,r=-1,t,i){if(!this._observers.length)return!0;let o=this._eventState;o.mask=r,o.target=t,o.currentTarget=i,o.skipNextObservers=!1,o.lastReturnValue=n;for(let s of this._observers)if(!s._willBeUnregistered&&(s.mask&r&&(s.scope?o.lastReturnValue=s.callback.apply(s.scope,[n,o]):o.lastReturnValue=s.callback(n,o),s.unregisterOnNextCall&&this._deferUnregister(s)),o.skipNextObservers))return!1;return!0}notifyObserversWithPromise(n,r=-1,t,i){let o=Promise.resolve(n);if(!this._observers.length)return o;let s=this._eventState;return s.mask=r,s.target=t,s.currentTarget=i,s.skipNextObservers=!1,this._observers.forEach(c=>{s.skipNextObservers||c._willBeUnregistered||c.mask&r&&(c.scope?o=o.then(a=>(s.lastReturnValue=a,c.callback.apply(c.scope,[n,s]))):o=o.then(a=>(s.lastReturnValue=a,c.callback(n,s))),c.unregisterOnNextCall&&this._deferUnregister(c))}),o.then(()=>n)}notifyObserver(n,r,t=-1){let i=this._eventState;i.mask=t,i.skipNextObservers=!1,n.callback(r,i)}hasObservers(){return this._observers.length>0}clear(){this._observers=new Array,this._onObserverAdded=null}clone(){let n=new e;return n._observers=this._observers.slice(0),n}hasSpecificMask(n=-1){for(let r of this._observers)if(r.mask&n||r.mask===n)return!0;return!1}_deferUnregister(n){n.unregisterOnNextCall=!1,n._willBeUnregistered=!0,Promise.resolve().then.bind(Promise.resolve())(async()=>this._remove(n)).catch(console.error)}_remove(n){if(!n)return!1;let r=this._observers.indexOf(n);return r!==-1?(this._observers.splice(r,1),!0):!1}};var _d=require("~system/EngineApi"),$m=_d.subscribe;function Mt(e){return()=>{$m({eventId:e}).catch(console.error)}}var Ym=new st(Mt("onEnterScene"));var Jm=new st(Mt("onLeaveScene"));var Zm=new st(Mt("sceneStart")),Xm=new st(Mt("playerExpression")),Qm=new st(Mt("videoEvent")),Km=new st(Mt("profileChanged")),e0=new st(Mt("playerConnected")),t0=new st(Mt("playerDisconnected")),n0=new st(Mt("onRealmChanged")),o0=new st(Mt("playerClicked")),r0=new st(Mt("comms"));async function Rd(e){let{events:n}=await e({actions:[]});for(let r of n)if(r.generic){let t=JSON.parse(r.generic.eventData);switch(r.generic.eventId){case"onEnterScene":{Ym.notifyObservers(t);break}case"onLeaveScene":{Jm.notifyObservers(t);break}case"sceneStart":{Zm.notifyObservers(t);break}case"playerExpression":{Xm.notifyObservers(t);break}case"videoEvent":{let i=t;Qm.notifyObservers(i);break}case"profileChanged":{Km.notifyObservers(t);break}case"playerConnected":{e0.notifyObservers(t);break}case"playerDisconnected":{t0.notifyObservers(t);break}case"onRealmChanged":{n0.notifyObservers(t);break}case"playerClicked":{o0.notifyObservers(t);break}case"comms":{r0.notifyObservers(t);break}}}}var yc={"assets/scene/main.composite":{version:1,components:[{name:"core::Transform",jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"},data:{512:{json:{position:{x:8,y:1,z:8},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}}}},{name:"core::MeshRenderer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"},data:{512:{json:{mesh:{$case:"box",box:{uvs:[]}}}}}},{name:"core-schema::Name",jsonSchema:{type:"object",properties:{value:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},data:{512:{json:{value:"Magic Cube"}}}},{name:"inspector::Scene",jsonSchema:{type:"object",properties:{layout:{type:"object",properties:{base:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},parcels:{type:"array",items:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"}},serializationType:"map"},data:{0:{json:{layout:{base:{x:0,y:0},parcels:[{x:0,y:0}]}}}}},{name:"inspector::Nodes",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{entity:{type:"integer",serializationType:"entity"},open:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},children:{type:"array",items:{type:"integer",serializationType:"entity"},serializationType:"array"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{value:[{entity:512,children:[513],open:!0},{entity:513,children:[]}]}}}},{name:"cube-id",jsonSchema:{type:"object",properties:{},serializationType:"map"},data:{512:{json:{}}}}]}};var ia=[],bc={getCompositeOrNull(e,n){let r=yc[e];if(r){try{if(r instanceof Uint8Array){let t=dn.fromBinary(r);ia.push({src:e,composite:t})}else if(typeof r=="string"){let t=dn.fromJson(JSON.parse(r));ia.push({src:e,composite:t})}else if(typeof r=="object"){let t=dn.fromJson(r);ia.push({src:e,composite:t})}}catch(t){console.error(t)}delete yc[e]}return ia.find(t=>t.src===e)||null}};var aa=gd({crdtSendToRenderer:Go.crdtSendToRenderer});V.addTransport(aa);async function i0(e){V.seal(),await V.update(e),await Rd(Go.sendBatch)}async function a0(){let e=await(0,Go.crdtGetState)({data:new Uint8Array});if(!e.hasEntities){let n=bc.getCompositeOrNull("main.composite");if(n)try{dn.instance(V,n,bc)}catch(r){console.log("Warning: main.composite couldn't be instanced."),console.error(r)}}if(aa.onmessage&&e&&e.data&&e.data.length)for(let n of e.data)aa.onmessage(n)}if(ra!==void 0){let e=function(){let n=ra();n&&typeof n=="object"&&typeof n.then=="function"&&n.catch(console.error),V.removeSystem(e)};V.addSystem(e,1/0)}
/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
