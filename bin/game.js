"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod2) => function __require() {
  return mod2 || (0, cb[__getOwnPropNames(cb)[0]])((mod2 = { exports: {} }).exports, mod2), mod2.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod2, isNodeMode, target) => (target = mod2 != null ? __create(__getProtoOf(mod2)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod2 || !mod2.__esModule ? __defProp(target, "default", { value: mod2, enumerable: true }) : target,
  mod2
));
var __toCommonJS = (mod2) => __copyProps(__defProp({}, "__esModule", { value: true }), mod2);

// node_modules/@protobufjs/aspromise/index.js
var require_aspromise = __commonJS({
  "node_modules/@protobufjs/aspromise/index.js"(exports2, module2) {
    "use strict";
    module2.exports = asPromise;
    function asPromise(fn, ctx) {
      var params = new Array(arguments.length - 1), offset = 0, index = 2, pending = true;
      while (index < arguments.length)
        params[offset++] = arguments[index++];
      return new Promise(function executor(resolve2, reject) {
        params[offset] = function callback(err) {
          if (pending) {
            pending = false;
            if (err)
              reject(err);
            else {
              var params2 = new Array(arguments.length - 1), offset2 = 0;
              while (offset2 < params2.length)
                params2[offset2++] = arguments[offset2];
              resolve2.apply(null, params2);
            }
          }
        };
        try {
          fn.apply(ctx || null, params);
        } catch (err) {
          if (pending) {
            pending = false;
            reject(err);
          }
        }
      });
    }
  }
});

// node_modules/@protobufjs/base64/index.js
var require_base64 = __commonJS({
  "node_modules/@protobufjs/base64/index.js"(exports2) {
    "use strict";
    var base64 = exports2;
    base64.length = function length2(string) {
      var p = string.length;
      if (!p)
        return 0;
      var n = 0;
      while (--p % 4 > 1 && string.charAt(p) === "=")
        ++n;
      return Math.ceil(string.length * 3) / 4 - n;
    };
    var b64 = new Array(64);
    var s64 = new Array(123);
    for (i = 0; i < 64; )
      s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;
    var i;
    base64.encode = function encode(buffer, start, end) {
      var parts = null, chunk = [];
      var i2 = 0, j = 0, t;
      while (start < end) {
        var b = buffer[start++];
        switch (j) {
          case 0:
            chunk[i2++] = b64[b >> 2];
            t = (b & 3) << 4;
            j = 1;
            break;
          case 1:
            chunk[i2++] = b64[t | b >> 4];
            t = (b & 15) << 2;
            j = 2;
            break;
          case 2:
            chunk[i2++] = b64[t | b >> 6];
            chunk[i2++] = b64[b & 63];
            j = 0;
            break;
        }
        if (i2 > 8191) {
          (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
          i2 = 0;
        }
      }
      if (j) {
        chunk[i2++] = b64[t];
        chunk[i2++] = 61;
        if (j === 1)
          chunk[i2++] = 61;
      }
      if (parts) {
        if (i2)
          parts.push(String.fromCharCode.apply(String, chunk.slice(0, i2)));
        return parts.join("");
      }
      return String.fromCharCode.apply(String, chunk.slice(0, i2));
    };
    var invalidEncoding = "invalid encoding";
    base64.decode = function decode(string, buffer, offset) {
      var start = offset;
      var j = 0, t;
      for (var i2 = 0; i2 < string.length; ) {
        var c = string.charCodeAt(i2++);
        if (c === 61 && j > 1)
          break;
        if ((c = s64[c]) === void 0)
          throw Error(invalidEncoding);
        switch (j) {
          case 0:
            t = c;
            j = 1;
            break;
          case 1:
            buffer[offset++] = t << 2 | (c & 48) >> 4;
            t = c;
            j = 2;
            break;
          case 2:
            buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;
            t = c;
            j = 3;
            break;
          case 3:
            buffer[offset++] = (t & 3) << 6 | c;
            j = 0;
            break;
        }
      }
      if (j === 1)
        throw Error(invalidEncoding);
      return offset - start;
    };
    base64.test = function test(string) {
      return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);
    };
  }
});

// node_modules/@protobufjs/eventemitter/index.js
var require_eventemitter = __commonJS({
  "node_modules/@protobufjs/eventemitter/index.js"(exports2, module2) {
    "use strict";
    module2.exports = EventEmitter;
    function EventEmitter() {
      this._listeners = {};
    }
    EventEmitter.prototype.on = function on(evt, fn, ctx) {
      (this._listeners[evt] || (this._listeners[evt] = [])).push({
        fn,
        ctx: ctx || this
      });
      return this;
    };
    EventEmitter.prototype.off = function off(evt, fn) {
      if (evt === void 0)
        this._listeners = {};
      else {
        if (fn === void 0)
          this._listeners[evt] = [];
        else {
          var listeners = this._listeners[evt];
          for (var i = 0; i < listeners.length; )
            if (listeners[i].fn === fn)
              listeners.splice(i, 1);
            else
              ++i;
        }
      }
      return this;
    };
    EventEmitter.prototype.emit = function emit(evt) {
      var listeners = this._listeners[evt];
      if (listeners) {
        var args = [], i = 1;
        for (; i < arguments.length; )
          args.push(arguments[i++]);
        for (i = 0; i < listeners.length; )
          listeners[i].fn.apply(listeners[i++].ctx, args);
      }
      return this;
    };
  }
});

// node_modules/@protobufjs/float/index.js
var require_float = __commonJS({
  "node_modules/@protobufjs/float/index.js"(exports2, module2) {
    "use strict";
    module2.exports = factory(factory);
    function factory(exports3) {
      if (typeof Float32Array !== "undefined")
        (function() {
          var f32 = new Float32Array([-0]), f8b = new Uint8Array(f32.buffer), le = f8b[3] === 128;
          function writeFloat_f32_cpy(val, buf, pos) {
            f32[0] = val;
            buf[pos] = f8b[0];
            buf[pos + 1] = f8b[1];
            buf[pos + 2] = f8b[2];
            buf[pos + 3] = f8b[3];
          }
          function writeFloat_f32_rev(val, buf, pos) {
            f32[0] = val;
            buf[pos] = f8b[3];
            buf[pos + 1] = f8b[2];
            buf[pos + 2] = f8b[1];
            buf[pos + 3] = f8b[0];
          }
          exports3.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;
          exports3.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;
          function readFloat_f32_cpy(buf, pos) {
            f8b[0] = buf[pos];
            f8b[1] = buf[pos + 1];
            f8b[2] = buf[pos + 2];
            f8b[3] = buf[pos + 3];
            return f32[0];
          }
          function readFloat_f32_rev(buf, pos) {
            f8b[3] = buf[pos];
            f8b[2] = buf[pos + 1];
            f8b[1] = buf[pos + 2];
            f8b[0] = buf[pos + 3];
            return f32[0];
          }
          exports3.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;
          exports3.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;
        })();
      else
        (function() {
          function writeFloat_ieee754(writeUint, val, buf, pos) {
            var sign = val < 0 ? 1 : 0;
            if (sign)
              val = -val;
            if (val === 0)
              writeUint(1 / val > 0 ? (
                /* positive */
                0
              ) : (
                /* negative 0 */
                2147483648
              ), buf, pos);
            else if (isNaN(val))
              writeUint(2143289344, buf, pos);
            else if (val > 34028234663852886e22)
              writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);
            else if (val < 11754943508222875e-54)
              writeUint((sign << 31 | Math.round(val / 1401298464324817e-60)) >>> 0, buf, pos);
            else {
              var exponent = Math.floor(Math.log(val) / Math.LN2), mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;
              writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);
            }
          }
          exports3.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);
          exports3.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);
          function readFloat_ieee754(readUint, buf, pos) {
            var uint = readUint(buf, pos), sign = (uint >> 31) * 2 + 1, exponent = uint >>> 23 & 255, mantissa = uint & 8388607;
            return exponent === 255 ? mantissa ? NaN : sign * Infinity : exponent === 0 ? sign * 1401298464324817e-60 * mantissa : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);
          }
          exports3.readFloatLE = readFloat_ieee754.bind(null, readUintLE);
          exports3.readFloatBE = readFloat_ieee754.bind(null, readUintBE);
        })();
      if (typeof Float64Array !== "undefined")
        (function() {
          var f64 = new Float64Array([-0]), f8b = new Uint8Array(f64.buffer), le = f8b[7] === 128;
          function writeDouble_f64_cpy(val, buf, pos) {
            f64[0] = val;
            buf[pos] = f8b[0];
            buf[pos + 1] = f8b[1];
            buf[pos + 2] = f8b[2];
            buf[pos + 3] = f8b[3];
            buf[pos + 4] = f8b[4];
            buf[pos + 5] = f8b[5];
            buf[pos + 6] = f8b[6];
            buf[pos + 7] = f8b[7];
          }
          function writeDouble_f64_rev(val, buf, pos) {
            f64[0] = val;
            buf[pos] = f8b[7];
            buf[pos + 1] = f8b[6];
            buf[pos + 2] = f8b[5];
            buf[pos + 3] = f8b[4];
            buf[pos + 4] = f8b[3];
            buf[pos + 5] = f8b[2];
            buf[pos + 6] = f8b[1];
            buf[pos + 7] = f8b[0];
          }
          exports3.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;
          exports3.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;
          function readDouble_f64_cpy(buf, pos) {
            f8b[0] = buf[pos];
            f8b[1] = buf[pos + 1];
            f8b[2] = buf[pos + 2];
            f8b[3] = buf[pos + 3];
            f8b[4] = buf[pos + 4];
            f8b[5] = buf[pos + 5];
            f8b[6] = buf[pos + 6];
            f8b[7] = buf[pos + 7];
            return f64[0];
          }
          function readDouble_f64_rev(buf, pos) {
            f8b[7] = buf[pos];
            f8b[6] = buf[pos + 1];
            f8b[5] = buf[pos + 2];
            f8b[4] = buf[pos + 3];
            f8b[3] = buf[pos + 4];
            f8b[2] = buf[pos + 5];
            f8b[1] = buf[pos + 6];
            f8b[0] = buf[pos + 7];
            return f64[0];
          }
          exports3.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;
          exports3.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;
        })();
      else
        (function() {
          function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {
            var sign = val < 0 ? 1 : 0;
            if (sign)
              val = -val;
            if (val === 0) {
              writeUint(0, buf, pos + off0);
              writeUint(1 / val > 0 ? (
                /* positive */
                0
              ) : (
                /* negative 0 */
                2147483648
              ), buf, pos + off1);
            } else if (isNaN(val)) {
              writeUint(0, buf, pos + off0);
              writeUint(2146959360, buf, pos + off1);
            } else if (val > 17976931348623157e292) {
              writeUint(0, buf, pos + off0);
              writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);
            } else {
              var mantissa;
              if (val < 22250738585072014e-324) {
                mantissa = val / 5e-324;
                writeUint(mantissa >>> 0, buf, pos + off0);
                writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);
              } else {
                var exponent = Math.floor(Math.log(val) / Math.LN2);
                if (exponent === 1024)
                  exponent = 1023;
                mantissa = val * Math.pow(2, -exponent);
                writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);
                writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);
              }
            }
          }
          exports3.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);
          exports3.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);
          function readDouble_ieee754(readUint, off0, off1, buf, pos) {
            var lo = readUint(buf, pos + off0), hi = readUint(buf, pos + off1);
            var sign = (hi >> 31) * 2 + 1, exponent = hi >>> 20 & 2047, mantissa = 4294967296 * (hi & 1048575) + lo;
            return exponent === 2047 ? mantissa ? NaN : sign * Infinity : exponent === 0 ? sign * 5e-324 * mantissa : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);
          }
          exports3.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);
          exports3.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);
        })();
      return exports3;
    }
    function writeUintLE(val, buf, pos) {
      buf[pos] = val & 255;
      buf[pos + 1] = val >>> 8 & 255;
      buf[pos + 2] = val >>> 16 & 255;
      buf[pos + 3] = val >>> 24;
    }
    function writeUintBE(val, buf, pos) {
      buf[pos] = val >>> 24;
      buf[pos + 1] = val >>> 16 & 255;
      buf[pos + 2] = val >>> 8 & 255;
      buf[pos + 3] = val & 255;
    }
    function readUintLE(buf, pos) {
      return (buf[pos] | buf[pos + 1] << 8 | buf[pos + 2] << 16 | buf[pos + 3] << 24) >>> 0;
    }
    function readUintBE(buf, pos) {
      return (buf[pos] << 24 | buf[pos + 1] << 16 | buf[pos + 2] << 8 | buf[pos + 3]) >>> 0;
    }
  }
});

// node_modules/@protobufjs/inquire/index.js
var require_inquire = __commonJS({
  "node_modules/@protobufjs/inquire/index.js"(exports, module) {
    "use strict";
    module.exports = inquire;
    function inquire(moduleName) {
      try {
        var mod = eval("quire".replace(/^/, "re"))(moduleName);
        if (mod && (mod.length || Object.keys(mod).length))
          return mod;
      } catch (e) {
      }
      return null;
    }
  }
});

// node_modules/@protobufjs/utf8/index.js
var require_utf8 = __commonJS({
  "node_modules/@protobufjs/utf8/index.js"(exports2) {
    "use strict";
    var utf83 = exports2;
    utf83.length = function utf8_length(string) {
      var len = 0, c = 0;
      for (var i = 0; i < string.length; ++i) {
        c = string.charCodeAt(i);
        if (c < 128)
          len += 1;
        else if (c < 2048)
          len += 2;
        else if ((c & 64512) === 55296 && (string.charCodeAt(i + 1) & 64512) === 56320) {
          ++i;
          len += 4;
        } else
          len += 3;
      }
      return len;
    };
    utf83.read = function utf8_read(buffer, start, end) {
      var len = end - start;
      if (len < 1)
        return "";
      var parts = null, chunk = [], i = 0, t;
      while (start < end) {
        t = buffer[start++];
        if (t < 128)
          chunk[i++] = t;
        else if (t > 191 && t < 224)
          chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;
        else if (t > 239 && t < 365) {
          t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 65536;
          chunk[i++] = 55296 + (t >> 10);
          chunk[i++] = 56320 + (t & 1023);
        } else
          chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;
        if (i > 8191) {
          (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
          i = 0;
        }
      }
      if (parts) {
        if (i)
          parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));
        return parts.join("");
      }
      return String.fromCharCode.apply(String, chunk.slice(0, i));
    };
    utf83.write = function utf8_write(string, buffer, offset) {
      var start = offset, c1, c2;
      for (var i = 0; i < string.length; ++i) {
        c1 = string.charCodeAt(i);
        if (c1 < 128) {
          buffer[offset++] = c1;
        } else if (c1 < 2048) {
          buffer[offset++] = c1 >> 6 | 192;
          buffer[offset++] = c1 & 63 | 128;
        } else if ((c1 & 64512) === 55296 && ((c2 = string.charCodeAt(i + 1)) & 64512) === 56320) {
          c1 = 65536 + ((c1 & 1023) << 10) + (c2 & 1023);
          ++i;
          buffer[offset++] = c1 >> 18 | 240;
          buffer[offset++] = c1 >> 12 & 63 | 128;
          buffer[offset++] = c1 >> 6 & 63 | 128;
          buffer[offset++] = c1 & 63 | 128;
        } else {
          buffer[offset++] = c1 >> 12 | 224;
          buffer[offset++] = c1 >> 6 & 63 | 128;
          buffer[offset++] = c1 & 63 | 128;
        }
      }
      return offset - start;
    };
  }
});

// node_modules/@protobufjs/pool/index.js
var require_pool = __commonJS({
  "node_modules/@protobufjs/pool/index.js"(exports2, module2) {
    "use strict";
    module2.exports = pool;
    function pool(alloc, slice, size) {
      var SIZE = size || 8192;
      var MAX = SIZE >>> 1;
      var slab = null;
      var offset = SIZE;
      return function pool_alloc(size2) {
        if (size2 < 1 || size2 > MAX)
          return alloc(size2);
        if (offset + size2 > SIZE) {
          slab = alloc(SIZE);
          offset = 0;
        }
        var buf = slice.call(slab, offset, offset += size2);
        if (offset & 7)
          offset = (offset | 7) + 1;
        return buf;
      };
    }
  }
});

// node_modules/protobufjs/src/util/longbits.js
var require_longbits = __commonJS({
  "node_modules/protobufjs/src/util/longbits.js"(exports2, module2) {
    "use strict";
    module2.exports = LongBits;
    var util = require_minimal();
    function LongBits(lo, hi) {
      this.lo = lo >>> 0;
      this.hi = hi >>> 0;
    }
    var zero = LongBits.zero = new LongBits(0, 0);
    zero.toNumber = function() {
      return 0;
    };
    zero.zzEncode = zero.zzDecode = function() {
      return this;
    };
    zero.length = function() {
      return 1;
    };
    var zeroHash = LongBits.zeroHash = "\0\0\0\0\0\0\0\0";
    LongBits.fromNumber = function fromNumber2(value) {
      if (value === 0)
        return zero;
      var sign = value < 0;
      if (sign)
        value = -value;
      var lo = value >>> 0, hi = (value - lo) / 4294967296 >>> 0;
      if (sign) {
        hi = ~hi >>> 0;
        lo = ~lo >>> 0;
        if (++lo > 4294967295) {
          lo = 0;
          if (++hi > 4294967295)
            hi = 0;
        }
      }
      return new LongBits(lo, hi);
    };
    LongBits.from = function from(value) {
      if (typeof value === "number")
        return LongBits.fromNumber(value);
      if (util.isString(value)) {
        if (util.Long)
          value = util.Long.fromString(value);
        else
          return LongBits.fromNumber(parseInt(value, 10));
      }
      return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;
    };
    LongBits.prototype.toNumber = function toNumber2(unsigned) {
      if (!unsigned && this.hi >>> 31) {
        var lo = ~this.lo + 1 >>> 0, hi = ~this.hi >>> 0;
        if (!lo)
          hi = hi + 1 >>> 0;
        return -(lo + hi * 4294967296);
      }
      return this.lo + this.hi * 4294967296;
    };
    LongBits.prototype.toLong = function toLong(unsigned) {
      return util.Long ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned)) : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };
    };
    var charCodeAt = String.prototype.charCodeAt;
    LongBits.fromHash = function fromHash(hash) {
      if (hash === zeroHash)
        return zero;
      return new LongBits(
        (charCodeAt.call(hash, 0) | charCodeAt.call(hash, 1) << 8 | charCodeAt.call(hash, 2) << 16 | charCodeAt.call(hash, 3) << 24) >>> 0,
        (charCodeAt.call(hash, 4) | charCodeAt.call(hash, 5) << 8 | charCodeAt.call(hash, 6) << 16 | charCodeAt.call(hash, 7) << 24) >>> 0
      );
    };
    LongBits.prototype.toHash = function toHash() {
      return String.fromCharCode(
        this.lo & 255,
        this.lo >>> 8 & 255,
        this.lo >>> 16 & 255,
        this.lo >>> 24,
        this.hi & 255,
        this.hi >>> 8 & 255,
        this.hi >>> 16 & 255,
        this.hi >>> 24
      );
    };
    LongBits.prototype.zzEncode = function zzEncode() {
      var mask = this.hi >> 31;
      this.hi = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;
      this.lo = (this.lo << 1 ^ mask) >>> 0;
      return this;
    };
    LongBits.prototype.zzDecode = function zzDecode() {
      var mask = -(this.lo & 1);
      this.lo = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;
      this.hi = (this.hi >>> 1 ^ mask) >>> 0;
      return this;
    };
    LongBits.prototype.length = function length2() {
      var part0 = this.lo, part1 = (this.lo >>> 28 | this.hi << 4) >>> 0, part2 = this.hi >>> 24;
      return part2 === 0 ? part1 === 0 ? part0 < 16384 ? part0 < 128 ? 1 : 2 : part0 < 2097152 ? 3 : 4 : part1 < 16384 ? part1 < 128 ? 5 : 6 : part1 < 2097152 ? 7 : 8 : part2 < 128 ? 9 : 10;
    };
  }
});

// node_modules/protobufjs/src/util/minimal.js
var require_minimal = __commonJS({
  "node_modules/protobufjs/src/util/minimal.js"(exports2) {
    "use strict";
    var util = exports2;
    util.asPromise = require_aspromise();
    util.base64 = require_base64();
    util.EventEmitter = require_eventemitter();
    util.float = require_float();
    util.inquire = require_inquire();
    util.utf8 = require_utf8();
    util.pool = require_pool();
    util.LongBits = require_longbits();
    util.isNode = Boolean(typeof global !== "undefined" && global && global.process && global.process.versions && global.process.versions.node);
    util.global = util.isNode && global || false || typeof self !== "undefined" && self || exports2;
    util.emptyArray = Object.freeze ? Object.freeze([]) : (
      /* istanbul ignore next */
      []
    );
    util.emptyObject = Object.freeze ? Object.freeze({}) : (
      /* istanbul ignore next */
      {}
    );
    util.isInteger = Number.isInteger || /* istanbul ignore next */
    function isInteger(value) {
      return typeof value === "number" && isFinite(value) && Math.floor(value) === value;
    };
    util.isString = function isString(value) {
      return typeof value === "string" || value instanceof String;
    };
    util.isObject = function isObject3(value) {
      return value && typeof value === "object";
    };
    util.isset = /**
     * Checks if a property on a message is considered to be present.
     * @param {Object} obj Plain object or message instance
     * @param {string} prop Property name
     * @returns {boolean} `true` if considered to be present, otherwise `false`
     */
    util.isSet = function isSet3(obj, prop) {
      var value = obj[prop];
      if (value != null && obj.hasOwnProperty(prop))
        return typeof value !== "object" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;
      return false;
    };
    util.Buffer = function() {
      try {
        var Buffer2 = util.inquire("buffer").Buffer;
        return Buffer2.prototype.utf8Write ? Buffer2 : (
          /* istanbul ignore next */
          null
        );
      } catch (e) {
        return null;
      }
    }();
    util._Buffer_from = null;
    util._Buffer_allocUnsafe = null;
    util.newBuffer = function newBuffer(sizeOrArray) {
      return typeof sizeOrArray === "number" ? util.Buffer ? util._Buffer_allocUnsafe(sizeOrArray) : new util.Array(sizeOrArray) : util.Buffer ? util._Buffer_from(sizeOrArray) : typeof Uint8Array === "undefined" ? sizeOrArray : new Uint8Array(sizeOrArray);
    };
    util.Array = typeof Uint8Array !== "undefined" ? Uint8Array : Array;
    util.Long = /* istanbul ignore next */
    util.global.dcodeIO && /* istanbul ignore next */
    util.global.dcodeIO.Long || /* istanbul ignore next */
    util.global.Long || util.inquire("long");
    util.key2Re = /^true|false|0|1$/;
    util.key32Re = /^-?(?:0|[1-9][0-9]*)$/;
    util.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;
    util.longToHash = function longToHash(value) {
      return value ? util.LongBits.from(value).toHash() : util.LongBits.zeroHash;
    };
    util.longFromHash = function longFromHash(hash, unsigned) {
      var bits = util.LongBits.fromHash(hash);
      if (util.Long)
        return util.Long.fromBits(bits.lo, bits.hi, unsigned);
      return bits.toNumber(Boolean(unsigned));
    };
    function merge(dst, src, ifNotSet) {
      for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)
        if (dst[keys[i]] === void 0 || !ifNotSet)
          dst[keys[i]] = src[keys[i]];
      return dst;
    }
    util.merge = merge;
    util.lcFirst = function lcFirst(str) {
      return str.charAt(0).toLowerCase() + str.substring(1);
    };
    function newError(name) {
      function CustomError(message, properties) {
        if (!(this instanceof CustomError))
          return new CustomError(message, properties);
        Object.defineProperty(this, "message", { get: function() {
          return message;
        } });
        if (Error.captureStackTrace)
          Error.captureStackTrace(this, CustomError);
        else
          Object.defineProperty(this, "stack", { value: new Error().stack || "" });
        if (properties)
          merge(this, properties);
      }
      CustomError.prototype = Object.create(Error.prototype, {
        constructor: {
          value: CustomError,
          writable: true,
          enumerable: false,
          configurable: true
        },
        name: {
          get: function get() {
            return name;
          },
          set: void 0,
          enumerable: false,
          // configurable: false would accurately preserve the behavior of
          // the original, but I'm guessing that was not intentional.
          // For an actual error subclass, this property would
          // be configurable.
          configurable: true
        },
        toString: {
          value: function value() {
            return this.name + ": " + this.message;
          },
          writable: true,
          enumerable: false,
          configurable: true
        }
      });
      return CustomError;
    }
    util.newError = newError;
    util.ProtocolError = newError("ProtocolError");
    util.oneOfGetter = function getOneOf(fieldNames) {
      var fieldMap = {};
      for (var i = 0; i < fieldNames.length; ++i)
        fieldMap[fieldNames[i]] = 1;
      return function() {
        for (var keys = Object.keys(this), i2 = keys.length - 1; i2 > -1; --i2)
          if (fieldMap[keys[i2]] === 1 && this[keys[i2]] !== void 0 && this[keys[i2]] !== null)
            return keys[i2];
      };
    };
    util.oneOfSetter = function setOneOf(fieldNames) {
      return function(name) {
        for (var i = 0; i < fieldNames.length; ++i)
          if (fieldNames[i] !== name)
            delete this[fieldNames[i]];
      };
    };
    util.toJSONOptions = {
      longs: String,
      enums: String,
      bytes: String,
      json: true
    };
    util._configure = function() {
      var Buffer2 = util.Buffer;
      if (!Buffer2) {
        util._Buffer_from = util._Buffer_allocUnsafe = null;
        return;
      }
      util._Buffer_from = Buffer2.from !== Uint8Array.from && Buffer2.from || /* istanbul ignore next */
      function Buffer_from(value, encoding) {
        return new Buffer2(value, encoding);
      };
      util._Buffer_allocUnsafe = Buffer2.allocUnsafe || /* istanbul ignore next */
      function Buffer_allocUnsafe(size) {
        return new Buffer2(size);
      };
    };
  }
});

// node_modules/protobufjs/src/writer.js
var require_writer = __commonJS({
  "node_modules/protobufjs/src/writer.js"(exports2, module2) {
    "use strict";
    module2.exports = Writer;
    var util = require_minimal();
    var BufferWriter;
    var LongBits = util.LongBits;
    var base64 = util.base64;
    var utf83 = util.utf8;
    function Op(fn, len, val) {
      this.fn = fn;
      this.len = len;
      this.next = void 0;
      this.val = val;
    }
    function noop() {
    }
    function State(writer) {
      this.head = writer.head;
      this.tail = writer.tail;
      this.len = writer.len;
      this.next = writer.states;
    }
    function Writer() {
      this.len = 0;
      this.head = new Op(noop, 0, 0);
      this.tail = this.head;
      this.states = null;
    }
    var create = function create2() {
      return util.Buffer ? function create_buffer_setup() {
        return (Writer.create = function create_buffer() {
          return new BufferWriter();
        })();
      } : function create_array() {
        return new Writer();
      };
    };
    Writer.create = create();
    Writer.alloc = function alloc(size) {
      return new util.Array(size);
    };
    if (util.Array !== Array)
      Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);
    Writer.prototype._push = function push(fn, len, val) {
      this.tail = this.tail.next = new Op(fn, len, val);
      this.len += len;
      return this;
    };
    function writeByte(val, buf, pos) {
      buf[pos] = val & 255;
    }
    function writeVarint32(val, buf, pos) {
      while (val > 127) {
        buf[pos++] = val & 127 | 128;
        val >>>= 7;
      }
      buf[pos] = val;
    }
    function VarintOp(len, val) {
      this.len = len;
      this.next = void 0;
      this.val = val;
    }
    VarintOp.prototype = Object.create(Op.prototype);
    VarintOp.prototype.fn = writeVarint32;
    Writer.prototype.uint32 = function write_uint32(value) {
      this.len += (this.tail = this.tail.next = new VarintOp(
        (value = value >>> 0) < 128 ? 1 : value < 16384 ? 2 : value < 2097152 ? 3 : value < 268435456 ? 4 : 5,
        value
      )).len;
      return this;
    };
    Writer.prototype.int32 = function write_int32(value) {
      return value < 0 ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) : this.uint32(value);
    };
    Writer.prototype.sint32 = function write_sint32(value) {
      return this.uint32((value << 1 ^ value >> 31) >>> 0);
    };
    function writeVarint64(val, buf, pos) {
      while (val.hi) {
        buf[pos++] = val.lo & 127 | 128;
        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;
        val.hi >>>= 7;
      }
      while (val.lo > 127) {
        buf[pos++] = val.lo & 127 | 128;
        val.lo = val.lo >>> 7;
      }
      buf[pos++] = val.lo;
    }
    Writer.prototype.uint64 = function write_uint64(value) {
      var bits = LongBits.from(value);
      return this._push(writeVarint64, bits.length(), bits);
    };
    Writer.prototype.int64 = Writer.prototype.uint64;
    Writer.prototype.sint64 = function write_sint64(value) {
      var bits = LongBits.from(value).zzEncode();
      return this._push(writeVarint64, bits.length(), bits);
    };
    Writer.prototype.bool = function write_bool(value) {
      return this._push(writeByte, 1, value ? 1 : 0);
    };
    function writeFixed32(val, buf, pos) {
      buf[pos] = val & 255;
      buf[pos + 1] = val >>> 8 & 255;
      buf[pos + 2] = val >>> 16 & 255;
      buf[pos + 3] = val >>> 24;
    }
    Writer.prototype.fixed32 = function write_fixed32(value) {
      return this._push(writeFixed32, 4, value >>> 0);
    };
    Writer.prototype.sfixed32 = Writer.prototype.fixed32;
    Writer.prototype.fixed64 = function write_fixed64(value) {
      var bits = LongBits.from(value);
      return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);
    };
    Writer.prototype.sfixed64 = Writer.prototype.fixed64;
    Writer.prototype.float = function write_float(value) {
      return this._push(util.float.writeFloatLE, 4, value);
    };
    Writer.prototype.double = function write_double(value) {
      return this._push(util.float.writeDoubleLE, 8, value);
    };
    var writeBytes = util.Array.prototype.set ? function writeBytes_set(val, buf, pos) {
      buf.set(val, pos);
    } : function writeBytes_for(val, buf, pos) {
      for (var i = 0; i < val.length; ++i)
        buf[pos + i] = val[i];
    };
    Writer.prototype.bytes = function write_bytes(value) {
      var len = value.length >>> 0;
      if (!len)
        return this._push(writeByte, 1, 0);
      if (util.isString(value)) {
        var buf = Writer.alloc(len = base64.length(value));
        base64.decode(value, buf, 0);
        value = buf;
      }
      return this.uint32(len)._push(writeBytes, len, value);
    };
    Writer.prototype.string = function write_string(value) {
      var len = utf83.length(value);
      return len ? this.uint32(len)._push(utf83.write, len, value) : this._push(writeByte, 1, 0);
    };
    Writer.prototype.fork = function fork() {
      this.states = new State(this);
      this.head = this.tail = new Op(noop, 0, 0);
      this.len = 0;
      return this;
    };
    Writer.prototype.reset = function reset() {
      if (this.states) {
        this.head = this.states.head;
        this.tail = this.states.tail;
        this.len = this.states.len;
        this.states = this.states.next;
      } else {
        this.head = this.tail = new Op(noop, 0, 0);
        this.len = 0;
      }
      return this;
    };
    Writer.prototype.ldelim = function ldelim() {
      var head = this.head, tail = this.tail, len = this.len;
      this.reset().uint32(len);
      if (len) {
        this.tail.next = head.next;
        this.tail = tail;
        this.len += len;
      }
      return this;
    };
    Writer.prototype.finish = function finish() {
      var head = this.head.next, buf = this.constructor.alloc(this.len), pos = 0;
      while (head) {
        head.fn(head.val, buf, pos);
        pos += head.len;
        head = head.next;
      }
      return buf;
    };
    Writer._configure = function(BufferWriter_) {
      BufferWriter = BufferWriter_;
      Writer.create = create();
      BufferWriter._configure();
    };
  }
});

// node_modules/protobufjs/src/writer_buffer.js
var require_writer_buffer = __commonJS({
  "node_modules/protobufjs/src/writer_buffer.js"(exports2, module2) {
    "use strict";
    module2.exports = BufferWriter;
    var Writer = require_writer();
    (BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;
    var util = require_minimal();
    function BufferWriter() {
      Writer.call(this);
    }
    BufferWriter._configure = function() {
      BufferWriter.alloc = util._Buffer_allocUnsafe;
      BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === "set" ? function writeBytesBuffer_set(val, buf, pos) {
        buf.set(val, pos);
      } : function writeBytesBuffer_copy(val, buf, pos) {
        if (val.copy)
          val.copy(buf, pos, 0, val.length);
        else
          for (var i = 0; i < val.length; )
            buf[pos++] = val[i++];
      };
    };
    BufferWriter.prototype.bytes = function write_bytes_buffer(value) {
      if (util.isString(value))
        value = util._Buffer_from(value, "base64");
      var len = value.length >>> 0;
      this.uint32(len);
      if (len)
        this._push(BufferWriter.writeBytesBuffer, len, value);
      return this;
    };
    function writeStringBuffer(val, buf, pos) {
      if (val.length < 40)
        util.utf8.write(val, buf, pos);
      else if (buf.utf8Write)
        buf.utf8Write(val, pos);
      else
        buf.write(val, pos);
    }
    BufferWriter.prototype.string = function write_string_buffer(value) {
      var len = util.Buffer.byteLength(value);
      this.uint32(len);
      if (len)
        this._push(writeStringBuffer, len, value);
      return this;
    };
    BufferWriter._configure();
  }
});

// node_modules/protobufjs/src/reader.js
var require_reader = __commonJS({
  "node_modules/protobufjs/src/reader.js"(exports2, module2) {
    "use strict";
    module2.exports = Reader;
    var util = require_minimal();
    var BufferReader;
    var LongBits = util.LongBits;
    var utf83 = util.utf8;
    function indexOutOfRange(reader, writeLength) {
      return RangeError("index out of range: " + reader.pos + " + " + (writeLength || 1) + " > " + reader.len);
    }
    function Reader(buffer) {
      this.buf = buffer;
      this.pos = 0;
      this.len = buffer.length;
    }
    var create_array = typeof Uint8Array !== "undefined" ? function create_typed_array(buffer) {
      if (buffer instanceof Uint8Array || Array.isArray(buffer))
        return new Reader(buffer);
      throw Error("illegal buffer");
    } : function create_array2(buffer) {
      if (Array.isArray(buffer))
        return new Reader(buffer);
      throw Error("illegal buffer");
    };
    var create = function create2() {
      return util.Buffer ? function create_buffer_setup(buffer) {
        return (Reader.create = function create_buffer(buffer2) {
          return util.Buffer.isBuffer(buffer2) ? new BufferReader(buffer2) : create_array(buffer2);
        })(buffer);
      } : create_array;
    };
    Reader.create = create();
    Reader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */
    util.Array.prototype.slice;
    Reader.prototype.uint32 = function read_uint32_setup() {
      var value = 4294967295;
      return function read_uint32() {
        value = (this.buf[this.pos] & 127) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 127) << 7) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 15) << 28) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        if ((this.pos += 5) > this.len) {
          this.pos = this.len;
          throw indexOutOfRange(this, 10);
        }
        return value;
      };
    }();
    Reader.prototype.int32 = function read_int32() {
      return this.uint32() | 0;
    };
    Reader.prototype.sint32 = function read_sint32() {
      var value = this.uint32();
      return value >>> 1 ^ -(value & 1) | 0;
    };
    function readLongVarint() {
      var bits = new LongBits(0, 0);
      var i = 0;
      if (this.len - this.pos > 4) {
        for (; i < 4; ++i) {
          bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;
        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >> 4) >>> 0;
        if (this.buf[this.pos++] < 128)
          return bits;
        i = 0;
      } else {
        for (; i < 3; ++i) {
          if (this.pos >= this.len)
            throw indexOutOfRange(this);
          bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;
        return bits;
      }
      if (this.len - this.pos > 4) {
        for (; i < 5; ++i) {
          bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
      } else {
        for (; i < 5; ++i) {
          if (this.pos >= this.len)
            throw indexOutOfRange(this);
          bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
      }
      throw Error("invalid varint encoding");
    }
    Reader.prototype.bool = function read_bool() {
      return this.uint32() !== 0;
    };
    function readFixed32_end(buf, end) {
      return (buf[end - 4] | buf[end - 3] << 8 | buf[end - 2] << 16 | buf[end - 1] << 24) >>> 0;
    }
    Reader.prototype.fixed32 = function read_fixed32() {
      if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);
      return readFixed32_end(this.buf, this.pos += 4);
    };
    Reader.prototype.sfixed32 = function read_sfixed32() {
      if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);
      return readFixed32_end(this.buf, this.pos += 4) | 0;
    };
    function readFixed64() {
      if (this.pos + 8 > this.len)
        throw indexOutOfRange(this, 8);
      return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));
    }
    Reader.prototype.float = function read_float() {
      if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);
      var value = util.float.readFloatLE(this.buf, this.pos);
      this.pos += 4;
      return value;
    };
    Reader.prototype.double = function read_double() {
      if (this.pos + 8 > this.len)
        throw indexOutOfRange(this, 4);
      var value = util.float.readDoubleLE(this.buf, this.pos);
      this.pos += 8;
      return value;
    };
    Reader.prototype.bytes = function read_bytes() {
      var length2 = this.uint32(), start = this.pos, end = this.pos + length2;
      if (end > this.len)
        throw indexOutOfRange(this, length2);
      this.pos += length2;
      if (Array.isArray(this.buf))
        return this.buf.slice(start, end);
      if (start === end) {
        var nativeBuffer = util.Buffer;
        return nativeBuffer ? nativeBuffer.alloc(0) : new this.buf.constructor(0);
      }
      return this._slice.call(this.buf, start, end);
    };
    Reader.prototype.string = function read_string() {
      var bytes = this.bytes();
      return utf83.read(bytes, 0, bytes.length);
    };
    Reader.prototype.skip = function skip(length2) {
      if (typeof length2 === "number") {
        if (this.pos + length2 > this.len)
          throw indexOutOfRange(this, length2);
        this.pos += length2;
      } else {
        do {
          if (this.pos >= this.len)
            throw indexOutOfRange(this);
        } while (this.buf[this.pos++] & 128);
      }
      return this;
    };
    Reader.prototype.skipType = function(wireType) {
      switch (wireType) {
        case 0:
          this.skip();
          break;
        case 1:
          this.skip(8);
          break;
        case 2:
          this.skip(this.uint32());
          break;
        case 3:
          while ((wireType = this.uint32() & 7) !== 4) {
            this.skipType(wireType);
          }
          break;
        case 5:
          this.skip(4);
          break;
        default:
          throw Error("invalid wire type " + wireType + " at offset " + this.pos);
      }
      return this;
    };
    Reader._configure = function(BufferReader_) {
      BufferReader = BufferReader_;
      Reader.create = create();
      BufferReader._configure();
      var fn = util.Long ? "toLong" : (
        /* istanbul ignore next */
        "toNumber"
      );
      util.merge(Reader.prototype, {
        int64: function read_int64() {
          return readLongVarint.call(this)[fn](false);
        },
        uint64: function read_uint64() {
          return readLongVarint.call(this)[fn](true);
        },
        sint64: function read_sint64() {
          return readLongVarint.call(this).zzDecode()[fn](false);
        },
        fixed64: function read_fixed64() {
          return readFixed64.call(this)[fn](true);
        },
        sfixed64: function read_sfixed64() {
          return readFixed64.call(this)[fn](false);
        }
      });
    };
  }
});

// node_modules/protobufjs/src/reader_buffer.js
var require_reader_buffer = __commonJS({
  "node_modules/protobufjs/src/reader_buffer.js"(exports2, module2) {
    "use strict";
    module2.exports = BufferReader;
    var Reader = require_reader();
    (BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;
    var util = require_minimal();
    function BufferReader(buffer) {
      Reader.call(this, buffer);
    }
    BufferReader._configure = function() {
      if (util.Buffer)
        BufferReader.prototype._slice = util.Buffer.prototype.slice;
    };
    BufferReader.prototype.string = function read_string_buffer() {
      var len = this.uint32();
      return this.buf.utf8Slice ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len)) : this.buf.toString("utf-8", this.pos, this.pos = Math.min(this.pos + len, this.len));
    };
    BufferReader._configure();
  }
});

// node_modules/protobufjs/src/rpc/service.js
var require_service = __commonJS({
  "node_modules/protobufjs/src/rpc/service.js"(exports2, module2) {
    "use strict";
    module2.exports = Service;
    var util = require_minimal();
    (Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;
    function Service(rpcImpl, requestDelimited, responseDelimited) {
      if (typeof rpcImpl !== "function")
        throw TypeError("rpcImpl must be a function");
      util.EventEmitter.call(this);
      this.rpcImpl = rpcImpl;
      this.requestDelimited = Boolean(requestDelimited);
      this.responseDelimited = Boolean(responseDelimited);
    }
    Service.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {
      if (!request)
        throw TypeError("request must be specified");
      var self2 = this;
      if (!callback)
        return util.asPromise(rpcCall, self2, method, requestCtor, responseCtor, request);
      if (!self2.rpcImpl) {
        setTimeout(function() {
          callback(Error("already ended"));
        }, 0);
        return void 0;
      }
      try {
        return self2.rpcImpl(
          method,
          requestCtor[self2.requestDelimited ? "encodeDelimited" : "encode"](request).finish(),
          function rpcCallback(err, response) {
            if (err) {
              self2.emit("error", err, method);
              return callback(err);
            }
            if (response === null) {
              self2.end(
                /* endedByRPC */
                true
              );
              return void 0;
            }
            if (!(response instanceof responseCtor)) {
              try {
                response = responseCtor[self2.responseDelimited ? "decodeDelimited" : "decode"](response);
              } catch (err2) {
                self2.emit("error", err2, method);
                return callback(err2);
              }
            }
            self2.emit("data", response, method);
            return callback(null, response);
          }
        );
      } catch (err) {
        self2.emit("error", err, method);
        setTimeout(function() {
          callback(err);
        }, 0);
        return void 0;
      }
    };
    Service.prototype.end = function end(endedByRPC) {
      if (this.rpcImpl) {
        if (!endedByRPC)
          this.rpcImpl(null, null, null);
        this.rpcImpl = null;
        this.emit("end").off();
      }
      return this;
    };
  }
});

// node_modules/protobufjs/src/rpc.js
var require_rpc = __commonJS({
  "node_modules/protobufjs/src/rpc.js"(exports2) {
    "use strict";
    var rpc = exports2;
    rpc.Service = require_service();
  }
});

// node_modules/protobufjs/src/roots.js
var require_roots = __commonJS({
  "node_modules/protobufjs/src/roots.js"(exports2, module2) {
    "use strict";
    module2.exports = {};
  }
});

// node_modules/protobufjs/src/index-minimal.js
var require_index_minimal = __commonJS({
  "node_modules/protobufjs/src/index-minimal.js"(exports2) {
    "use strict";
    var protobuf = exports2;
    protobuf.build = "minimal";
    protobuf.Writer = require_writer();
    protobuf.BufferWriter = require_writer_buffer();
    protobuf.Reader = require_reader();
    protobuf.BufferReader = require_reader_buffer();
    protobuf.util = require_minimal();
    protobuf.rpc = require_rpc();
    protobuf.roots = require_roots();
    protobuf.configure = configure;
    function configure() {
      protobuf.util._configure();
      protobuf.Writer._configure(protobuf.BufferWriter);
      protobuf.Reader._configure(protobuf.BufferReader);
    }
    configure();
  }
});

// node_modules/protobufjs/minimal.js
var require_minimal2 = __commonJS({
  "node_modules/protobufjs/minimal.js"(exports2, module2) {
    "use strict";
    module2.exports = require_index_minimal();
  }
});

// src/index.ts.entry-point.ts
var index_ts_entry_point_exports = {};
__export(index_ts_entry_point_exports, {
  main: () => main,
  onStart: () => onStart,
  onUpdate: () => onUpdate,
  rendererTransport: () => rendererTransport
});
module.exports = __toCommonJS(index_ts_entry_point_exports);

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/animator.gen.js
var import_minimal = __toESM(require_minimal2());
function createBasePBAnimator() {
  return { states: [] };
}
var PBAnimator;
(function(PBAnimator2) {
  function encode(message, writer = import_minimal.default.Writer.create()) {
    for (const v of message.states) {
      PBAnimationState.encode(v, writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  PBAnimator2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal.default.Reader ? input : import_minimal.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAnimator();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.states.push(PBAnimationState.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAnimator2.decode = decode;
})(PBAnimator || (PBAnimator = {}));
function createBasePBAnimationState() {
  return { clip: "", playing: void 0, weight: void 0, speed: void 0, loop: void 0, shouldReset: void 0 };
}
var PBAnimationState;
(function(PBAnimationState2) {
  function encode(message, writer = import_minimal.default.Writer.create()) {
    if (message.clip !== "") {
      writer.uint32(18).string(message.clip);
    }
    if (message.playing !== void 0) {
      writer.uint32(24).bool(message.playing);
    }
    if (message.weight !== void 0) {
      writer.uint32(37).float(message.weight);
    }
    if (message.speed !== void 0) {
      writer.uint32(45).float(message.speed);
    }
    if (message.loop !== void 0) {
      writer.uint32(48).bool(message.loop);
    }
    if (message.shouldReset !== void 0) {
      writer.uint32(56).bool(message.shouldReset);
    }
    return writer;
  }
  PBAnimationState2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal.default.Reader ? input : import_minimal.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAnimationState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 2:
          if (tag !== 18) {
            break;
          }
          message.clip = reader.string();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.weight = reader.float();
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.speed = reader.float();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.shouldReset = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAnimationState2.decode = decode;
})(PBAnimationState || (PBAnimationState = {}));

// node_modules/@dcl/ecs/dist/components/generated/Animator.gen.js
var AnimatorSchema = {
  COMPONENT_ID: 1042,
  serialize(value, builder) {
    const writer = PBAnimator.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAnimator.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAnimator.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAnimator"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/audio_source.gen.js
var import_minimal2 = __toESM(require_minimal2());
function createBasePBAudioSource() {
  return { playing: void 0, volume: void 0, loop: void 0, pitch: void 0, audioClipUrl: "" };
}
var PBAudioSource;
(function(PBAudioSource2) {
  function encode(message, writer = import_minimal2.default.Writer.create()) {
    if (message.playing !== void 0) {
      writer.uint32(8).bool(message.playing);
    }
    if (message.volume !== void 0) {
      writer.uint32(21).float(message.volume);
    }
    if (message.loop !== void 0) {
      writer.uint32(24).bool(message.loop);
    }
    if (message.pitch !== void 0) {
      writer.uint32(37).float(message.pitch);
    }
    if (message.audioClipUrl !== "") {
      writer.uint32(42).string(message.audioClipUrl);
    }
    return writer;
  }
  PBAudioSource2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal2.default.Reader ? input : import_minimal2.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAudioSource();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.pitch = reader.float();
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.audioClipUrl = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAudioSource2.decode = decode;
})(PBAudioSource || (PBAudioSource = {}));

// node_modules/@dcl/ecs/dist/components/generated/AudioSource.gen.js
var AudioSourceSchema = {
  COMPONENT_ID: 1020,
  serialize(value, builder) {
    const writer = PBAudioSource.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAudioSource.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAudioSource.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAudioSource"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/audio_stream.gen.js
var import_minimal3 = __toESM(require_minimal2());
function createBasePBAudioStream() {
  return { playing: void 0, volume: void 0, url: "" };
}
var PBAudioStream;
(function(PBAudioStream2) {
  function encode(message, writer = import_minimal3.default.Writer.create()) {
    if (message.playing !== void 0) {
      writer.uint32(8).bool(message.playing);
    }
    if (message.volume !== void 0) {
      writer.uint32(21).float(message.volume);
    }
    if (message.url !== "") {
      writer.uint32(26).string(message.url);
    }
    return writer;
  }
  PBAudioStream2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal3.default.Reader ? input : import_minimal3.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAudioStream();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.url = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAudioStream2.decode = decode;
})(PBAudioStream || (PBAudioStream = {}));

// node_modules/@dcl/ecs/dist/components/generated/AudioStream.gen.js
var AudioStreamSchema = {
  COMPONENT_ID: 1021,
  serialize(value, builder) {
    const writer = PBAudioStream.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAudioStream.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAudioStream.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAudioStream"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_attach.gen.js
var import_minimal4 = __toESM(require_minimal2());
var AvatarAnchorPointType;
(function(AvatarAnchorPointType3) {
  AvatarAnchorPointType3[AvatarAnchorPointType3["AAPT_POSITION"] = 0] = "AAPT_POSITION";
  AvatarAnchorPointType3[AvatarAnchorPointType3["AAPT_NAME_TAG"] = 1] = "AAPT_NAME_TAG";
  AvatarAnchorPointType3[AvatarAnchorPointType3["AAPT_LEFT_HAND"] = 2] = "AAPT_LEFT_HAND";
  AvatarAnchorPointType3[AvatarAnchorPointType3["AAPT_RIGHT_HAND"] = 3] = "AAPT_RIGHT_HAND";
})(AvatarAnchorPointType || (AvatarAnchorPointType = {}));
function createBasePBAvatarAttach() {
  return { avatarId: void 0, anchorPointId: 0 };
}
var PBAvatarAttach;
(function(PBAvatarAttach2) {
  function encode(message, writer = import_minimal4.default.Writer.create()) {
    if (message.avatarId !== void 0) {
      writer.uint32(10).string(message.avatarId);
    }
    if (message.anchorPointId !== 0) {
      writer.uint32(16).int32(message.anchorPointId);
    }
    return writer;
  }
  PBAvatarAttach2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal4.default.Reader ? input : import_minimal4.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarAttach();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.avatarId = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.anchorPointId = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarAttach2.decode = decode;
})(PBAvatarAttach || (PBAvatarAttach = {}));

// node_modules/@dcl/ecs/dist/components/generated/AvatarAttach.gen.js
var AvatarAttachSchema = {
  COMPONENT_ID: 1073,
  serialize(value, builder) {
    const writer = PBAvatarAttach.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAvatarAttach.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarAttach.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarAttach"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_modifier_area.gen.js
var import_minimal6 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/vectors.gen.js
var import_minimal5 = __toESM(require_minimal2());
function createBasePosition() {
  return { x: 0, y: 0, z: 0 };
}
var Position;
(function(Position2) {
  function encode(message, writer = import_minimal5.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    return writer;
  }
  Position2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal5.default.Reader ? input : import_minimal5.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePosition();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Position2.decode = decode;
})(Position || (Position = {}));
function createBaseVector3() {
  return { x: 0, y: 0, z: 0 };
}
var Vector3;
(function(Vector33) {
  function encode(message, writer = import_minimal5.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    return writer;
  }
  Vector33.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal5.default.Reader ? input : import_minimal5.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVector3();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Vector33.decode = decode;
})(Vector3 || (Vector3 = {}));
function createBaseVector2() {
  return { x: 0, y: 0 };
}
var Vector2;
(function(Vector22) {
  function encode(message, writer = import_minimal5.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    return writer;
  }
  Vector22.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal5.default.Reader ? input : import_minimal5.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVector2();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Vector22.decode = decode;
})(Vector2 || (Vector2 = {}));
function createBaseQuaternion() {
  return { x: 0, y: 0, z: 0, w: 0 };
}
var Quaternion;
(function(Quaternion3) {
  function encode(message, writer = import_minimal5.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    if (message.w !== 0) {
      writer.uint32(37).float(message.w);
    }
    return writer;
  }
  Quaternion3.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal5.default.Reader ? input : import_minimal5.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseQuaternion();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.w = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Quaternion3.decode = decode;
})(Quaternion || (Quaternion = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_modifier_area.gen.js
var AvatarModifierType;
(function(AvatarModifierType2) {
  AvatarModifierType2[AvatarModifierType2["AMT_HIDE_AVATARS"] = 0] = "AMT_HIDE_AVATARS";
  AvatarModifierType2[AvatarModifierType2["AMT_DISABLE_PASSPORTS"] = 1] = "AMT_DISABLE_PASSPORTS";
})(AvatarModifierType || (AvatarModifierType = {}));
function createBasePBAvatarModifierArea() {
  return { area: void 0, excludeIds: [], modifiers: [] };
}
var PBAvatarModifierArea;
(function(PBAvatarModifierArea2) {
  function encode(message, writer = import_minimal6.default.Writer.create()) {
    if (message.area !== void 0) {
      Vector3.encode(message.area, writer.uint32(10).fork()).ldelim();
    }
    for (const v of message.excludeIds) {
      writer.uint32(18).string(v);
    }
    writer.uint32(26).fork();
    for (const v of message.modifiers) {
      writer.int32(v);
    }
    writer.ldelim();
    return writer;
  }
  PBAvatarModifierArea2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal6.default.Reader ? input : import_minimal6.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarModifierArea();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.area = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.excludeIds.push(reader.string());
          continue;
        case 3:
          if (tag === 24) {
            message.modifiers.push(reader.int32());
            continue;
          }
          if (tag === 26) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.modifiers.push(reader.int32());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarModifierArea2.decode = decode;
})(PBAvatarModifierArea || (PBAvatarModifierArea = {}));

// node_modules/@dcl/ecs/dist/components/generated/AvatarModifierArea.gen.js
var AvatarModifierAreaSchema = {
  COMPONENT_ID: 1070,
  serialize(value, builder) {
    const writer = PBAvatarModifierArea.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAvatarModifierArea.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarModifierArea.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarModifierArea"
  }
};

// node_modules/long/index.js
var wasm = null;
try {
  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([
    0,
    97,
    115,
    109,
    1,
    0,
    0,
    0,
    1,
    13,
    2,
    96,
    0,
    1,
    127,
    96,
    4,
    127,
    127,
    127,
    127,
    1,
    127,
    3,
    7,
    6,
    0,
    1,
    1,
    1,
    1,
    1,
    6,
    6,
    1,
    127,
    1,
    65,
    0,
    11,
    7,
    50,
    6,
    3,
    109,
    117,
    108,
    0,
    1,
    5,
    100,
    105,
    118,
    95,
    115,
    0,
    2,
    5,
    100,
    105,
    118,
    95,
    117,
    0,
    3,
    5,
    114,
    101,
    109,
    95,
    115,
    0,
    4,
    5,
    114,
    101,
    109,
    95,
    117,
    0,
    5,
    8,
    103,
    101,
    116,
    95,
    104,
    105,
    103,
    104,
    0,
    0,
    10,
    191,
    1,
    6,
    4,
    0,
    35,
    0,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    126,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    127,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    128,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    129,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    130,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11
  ])), {}).exports;
} catch (e) {
}
function Long(low, high, unsigned) {
  this.low = low | 0;
  this.high = high | 0;
  this.unsigned = !!unsigned;
}
Long.prototype.__isLong__;
Object.defineProperty(Long.prototype, "__isLong__", { value: true });
function isLong(obj) {
  return (obj && obj["__isLong__"]) === true;
}
function ctz32(value) {
  var c = Math.clz32(value & -value);
  return value ? 31 - c : c;
}
Long.isLong = isLong;
var INT_CACHE = {};
var UINT_CACHE = {};
function fromInt(value, unsigned) {
  var obj, cachedObj, cache;
  if (unsigned) {
    value >>>= 0;
    if (cache = 0 <= value && value < 256) {
      cachedObj = UINT_CACHE[value];
      if (cachedObj)
        return cachedObj;
    }
    obj = fromBits(value, 0, true);
    if (cache)
      UINT_CACHE[value] = obj;
    return obj;
  } else {
    value |= 0;
    if (cache = -128 <= value && value < 128) {
      cachedObj = INT_CACHE[value];
      if (cachedObj)
        return cachedObj;
    }
    obj = fromBits(value, value < 0 ? -1 : 0, false);
    if (cache)
      INT_CACHE[value] = obj;
    return obj;
  }
}
Long.fromInt = fromInt;
function fromNumber(value, unsigned) {
  if (isNaN(value))
    return unsigned ? UZERO : ZERO;
  if (unsigned) {
    if (value < 0)
      return UZERO;
    if (value >= TWO_PWR_64_DBL)
      return MAX_UNSIGNED_VALUE;
  } else {
    if (value <= -TWO_PWR_63_DBL)
      return MIN_VALUE;
    if (value + 1 >= TWO_PWR_63_DBL)
      return MAX_VALUE;
  }
  if (value < 0)
    return fromNumber(-value, unsigned).neg();
  return fromBits(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0, unsigned);
}
Long.fromNumber = fromNumber;
function fromBits(lowBits, highBits, unsigned) {
  return new Long(lowBits, highBits, unsigned);
}
Long.fromBits = fromBits;
var pow_dbl = Math.pow;
function fromString(str, unsigned, radix) {
  if (str.length === 0)
    throw Error("empty string");
  if (typeof unsigned === "number") {
    radix = unsigned;
    unsigned = false;
  } else {
    unsigned = !!unsigned;
  }
  if (str === "NaN" || str === "Infinity" || str === "+Infinity" || str === "-Infinity")
    return unsigned ? UZERO : ZERO;
  radix = radix || 10;
  if (radix < 2 || 36 < radix)
    throw RangeError("radix");
  var p;
  if ((p = str.indexOf("-")) > 0)
    throw Error("interior hyphen");
  else if (p === 0) {
    return fromString(str.substring(1), unsigned, radix).neg();
  }
  var radixToPower = fromNumber(pow_dbl(radix, 8));
  var result = ZERO;
  for (var i = 0; i < str.length; i += 8) {
    var size = Math.min(8, str.length - i), value = parseInt(str.substring(i, i + size), radix);
    if (size < 8) {
      var power = fromNumber(pow_dbl(radix, size));
      result = result.mul(power).add(fromNumber(value));
    } else {
      result = result.mul(radixToPower);
      result = result.add(fromNumber(value));
    }
  }
  result.unsigned = unsigned;
  return result;
}
Long.fromString = fromString;
function fromValue(val, unsigned) {
  if (typeof val === "number")
    return fromNumber(val, unsigned);
  if (typeof val === "string")
    return fromString(val, unsigned);
  return fromBits(val.low, val.high, typeof unsigned === "boolean" ? unsigned : val.unsigned);
}
Long.fromValue = fromValue;
var TWO_PWR_16_DBL = 1 << 16;
var TWO_PWR_24_DBL = 1 << 24;
var TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;
var TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;
var TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;
var TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);
var ZERO = fromInt(0);
Long.ZERO = ZERO;
var UZERO = fromInt(0, true);
Long.UZERO = UZERO;
var ONE = fromInt(1);
Long.ONE = ONE;
var UONE = fromInt(1, true);
Long.UONE = UONE;
var NEG_ONE = fromInt(-1);
Long.NEG_ONE = NEG_ONE;
var MAX_VALUE = fromBits(4294967295 | 0, 2147483647 | 0, false);
Long.MAX_VALUE = MAX_VALUE;
var MAX_UNSIGNED_VALUE = fromBits(4294967295 | 0, 4294967295 | 0, true);
Long.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;
var MIN_VALUE = fromBits(0, 2147483648 | 0, false);
Long.MIN_VALUE = MIN_VALUE;
var LongPrototype = Long.prototype;
LongPrototype.toInt = function toInt() {
  return this.unsigned ? this.low >>> 0 : this.low;
};
LongPrototype.toNumber = function toNumber() {
  if (this.unsigned)
    return (this.high >>> 0) * TWO_PWR_32_DBL + (this.low >>> 0);
  return this.high * TWO_PWR_32_DBL + (this.low >>> 0);
};
LongPrototype.toString = function toString(radix) {
  radix = radix || 10;
  if (radix < 2 || 36 < radix)
    throw RangeError("radix");
  if (this.isZero())
    return "0";
  if (this.isNegative()) {
    if (this.eq(MIN_VALUE)) {
      var radixLong = fromNumber(radix), div = this.div(radixLong), rem1 = div.mul(radixLong).sub(this);
      return div.toString(radix) + rem1.toInt().toString(radix);
    } else
      return "-" + this.neg().toString(radix);
  }
  var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned), rem = this;
  var result = "";
  while (true) {
    var remDiv = rem.div(radixToPower), intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0, digits = intval.toString(radix);
    rem = remDiv;
    if (rem.isZero())
      return digits + result;
    else {
      while (digits.length < 6)
        digits = "0" + digits;
      result = "" + digits + result;
    }
  }
};
LongPrototype.getHighBits = function getHighBits() {
  return this.high;
};
LongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {
  return this.high >>> 0;
};
LongPrototype.getLowBits = function getLowBits() {
  return this.low;
};
LongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {
  return this.low >>> 0;
};
LongPrototype.getNumBitsAbs = function getNumBitsAbs() {
  if (this.isNegative())
    return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();
  var val = this.high != 0 ? this.high : this.low;
  for (var bit = 31; bit > 0; bit--)
    if ((val & 1 << bit) != 0)
      break;
  return this.high != 0 ? bit + 33 : bit + 1;
};
LongPrototype.isZero = function isZero() {
  return this.high === 0 && this.low === 0;
};
LongPrototype.eqz = LongPrototype.isZero;
LongPrototype.isNegative = function isNegative() {
  return !this.unsigned && this.high < 0;
};
LongPrototype.isPositive = function isPositive() {
  return this.unsigned || this.high >= 0;
};
LongPrototype.isOdd = function isOdd() {
  return (this.low & 1) === 1;
};
LongPrototype.isEven = function isEven() {
  return (this.low & 1) === 0;
};
LongPrototype.equals = function equals(other) {
  if (!isLong(other))
    other = fromValue(other);
  if (this.unsigned !== other.unsigned && this.high >>> 31 === 1 && other.high >>> 31 === 1)
    return false;
  return this.high === other.high && this.low === other.low;
};
LongPrototype.eq = LongPrototype.equals;
LongPrototype.notEquals = function notEquals(other) {
  return !this.eq(
    /* validates */
    other
  );
};
LongPrototype.neq = LongPrototype.notEquals;
LongPrototype.ne = LongPrototype.notEquals;
LongPrototype.lessThan = function lessThan(other) {
  return this.comp(
    /* validates */
    other
  ) < 0;
};
LongPrototype.lt = LongPrototype.lessThan;
LongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {
  return this.comp(
    /* validates */
    other
  ) <= 0;
};
LongPrototype.lte = LongPrototype.lessThanOrEqual;
LongPrototype.le = LongPrototype.lessThanOrEqual;
LongPrototype.greaterThan = function greaterThan(other) {
  return this.comp(
    /* validates */
    other
  ) > 0;
};
LongPrototype.gt = LongPrototype.greaterThan;
LongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {
  return this.comp(
    /* validates */
    other
  ) >= 0;
};
LongPrototype.gte = LongPrototype.greaterThanOrEqual;
LongPrototype.ge = LongPrototype.greaterThanOrEqual;
LongPrototype.compare = function compare(other) {
  if (!isLong(other))
    other = fromValue(other);
  if (this.eq(other))
    return 0;
  var thisNeg = this.isNegative(), otherNeg = other.isNegative();
  if (thisNeg && !otherNeg)
    return -1;
  if (!thisNeg && otherNeg)
    return 1;
  if (!this.unsigned)
    return this.sub(other).isNegative() ? -1 : 1;
  return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;
};
LongPrototype.comp = LongPrototype.compare;
LongPrototype.negate = function negate() {
  if (!this.unsigned && this.eq(MIN_VALUE))
    return MIN_VALUE;
  return this.not().add(ONE);
};
LongPrototype.neg = LongPrototype.negate;
LongPrototype.add = function add(addend) {
  if (!isLong(addend))
    addend = fromValue(addend);
  var a48 = this.high >>> 16;
  var a32 = this.high & 65535;
  var a16 = this.low >>> 16;
  var a00 = this.low & 65535;
  var b48 = addend.high >>> 16;
  var b32 = addend.high & 65535;
  var b16 = addend.low >>> 16;
  var b00 = addend.low & 65535;
  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 + b00;
  c16 += c00 >>> 16;
  c00 &= 65535;
  c16 += a16 + b16;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c32 += a32 + b32;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c48 += a48 + b48;
  c48 &= 65535;
  return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);
};
LongPrototype.subtract = function subtract(subtrahend) {
  if (!isLong(subtrahend))
    subtrahend = fromValue(subtrahend);
  return this.add(subtrahend.neg());
};
LongPrototype.sub = LongPrototype.subtract;
LongPrototype.multiply = function multiply(multiplier) {
  if (this.isZero())
    return this;
  if (!isLong(multiplier))
    multiplier = fromValue(multiplier);
  if (wasm) {
    var low = wasm["mul"](
      this.low,
      this.high,
      multiplier.low,
      multiplier.high
    );
    return fromBits(low, wasm["get_high"](), this.unsigned);
  }
  if (multiplier.isZero())
    return this.unsigned ? UZERO : ZERO;
  if (this.eq(MIN_VALUE))
    return multiplier.isOdd() ? MIN_VALUE : ZERO;
  if (multiplier.eq(MIN_VALUE))
    return this.isOdd() ? MIN_VALUE : ZERO;
  if (this.isNegative()) {
    if (multiplier.isNegative())
      return this.neg().mul(multiplier.neg());
    else
      return this.neg().mul(multiplier).neg();
  } else if (multiplier.isNegative())
    return this.mul(multiplier.neg()).neg();
  if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))
    return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);
  var a48 = this.high >>> 16;
  var a32 = this.high & 65535;
  var a16 = this.low >>> 16;
  var a00 = this.low & 65535;
  var b48 = multiplier.high >>> 16;
  var b32 = multiplier.high & 65535;
  var b16 = multiplier.low >>> 16;
  var b00 = multiplier.low & 65535;
  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 * b00;
  c16 += c00 >>> 16;
  c00 &= 65535;
  c16 += a16 * b00;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c16 += a00 * b16;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c32 += a32 * b00;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c32 += a16 * b16;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c32 += a00 * b32;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
  c48 &= 65535;
  return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);
};
LongPrototype.mul = LongPrototype.multiply;
LongPrototype.divide = function divide(divisor) {
  if (!isLong(divisor))
    divisor = fromValue(divisor);
  if (divisor.isZero())
    throw Error("division by zero");
  if (wasm) {
    if (!this.unsigned && this.high === -2147483648 && divisor.low === -1 && divisor.high === -1) {
      return this;
    }
    var low = (this.unsigned ? wasm["div_u"] : wasm["div_s"])(
      this.low,
      this.high,
      divisor.low,
      divisor.high
    );
    return fromBits(low, wasm["get_high"](), this.unsigned);
  }
  if (this.isZero())
    return this.unsigned ? UZERO : ZERO;
  var approx, rem, res;
  if (!this.unsigned) {
    if (this.eq(MIN_VALUE)) {
      if (divisor.eq(ONE) || divisor.eq(NEG_ONE))
        return MIN_VALUE;
      else if (divisor.eq(MIN_VALUE))
        return ONE;
      else {
        var halfThis = this.shr(1);
        approx = halfThis.div(divisor).shl(1);
        if (approx.eq(ZERO)) {
          return divisor.isNegative() ? ONE : NEG_ONE;
        } else {
          rem = this.sub(divisor.mul(approx));
          res = approx.add(rem.div(divisor));
          return res;
        }
      }
    } else if (divisor.eq(MIN_VALUE))
      return this.unsigned ? UZERO : ZERO;
    if (this.isNegative()) {
      if (divisor.isNegative())
        return this.neg().div(divisor.neg());
      return this.neg().div(divisor).neg();
    } else if (divisor.isNegative())
      return this.div(divisor.neg()).neg();
    res = ZERO;
  } else {
    if (!divisor.unsigned)
      divisor = divisor.toUnsigned();
    if (divisor.gt(this))
      return UZERO;
    if (divisor.gt(this.shru(1)))
      return UONE;
    res = UZERO;
  }
  rem = this;
  while (rem.gte(divisor)) {
    approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));
    var log2 = Math.ceil(Math.log(approx) / Math.LN2), delta = log2 <= 48 ? 1 : pow_dbl(2, log2 - 48), approxRes = fromNumber(approx), approxRem = approxRes.mul(divisor);
    while (approxRem.isNegative() || approxRem.gt(rem)) {
      approx -= delta;
      approxRes = fromNumber(approx, this.unsigned);
      approxRem = approxRes.mul(divisor);
    }
    if (approxRes.isZero())
      approxRes = ONE;
    res = res.add(approxRes);
    rem = rem.sub(approxRem);
  }
  return res;
};
LongPrototype.div = LongPrototype.divide;
LongPrototype.modulo = function modulo(divisor) {
  if (!isLong(divisor))
    divisor = fromValue(divisor);
  if (wasm) {
    var low = (this.unsigned ? wasm["rem_u"] : wasm["rem_s"])(
      this.low,
      this.high,
      divisor.low,
      divisor.high
    );
    return fromBits(low, wasm["get_high"](), this.unsigned);
  }
  return this.sub(this.div(divisor).mul(divisor));
};
LongPrototype.mod = LongPrototype.modulo;
LongPrototype.rem = LongPrototype.modulo;
LongPrototype.not = function not() {
  return fromBits(~this.low, ~this.high, this.unsigned);
};
LongPrototype.countLeadingZeros = function countLeadingZeros() {
  return this.high ? Math.clz32(this.high) : Math.clz32(this.low) + 32;
};
LongPrototype.clz = LongPrototype.countLeadingZeros;
LongPrototype.countTrailingZeros = function countTrailingZeros() {
  return this.low ? ctz32(this.low) : ctz32(this.high) + 32;
};
LongPrototype.ctz = LongPrototype.countTrailingZeros;
LongPrototype.and = function and(other) {
  if (!isLong(other))
    other = fromValue(other);
  return fromBits(this.low & other.low, this.high & other.high, this.unsigned);
};
LongPrototype.or = function or(other) {
  if (!isLong(other))
    other = fromValue(other);
  return fromBits(this.low | other.low, this.high | other.high, this.unsigned);
};
LongPrototype.xor = function xor(other) {
  if (!isLong(other))
    other = fromValue(other);
  return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);
};
LongPrototype.shiftLeft = function shiftLeft(numBits) {
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  else if (numBits < 32)
    return fromBits(this.low << numBits, this.high << numBits | this.low >>> 32 - numBits, this.unsigned);
  else
    return fromBits(0, this.low << numBits - 32, this.unsigned);
};
LongPrototype.shl = LongPrototype.shiftLeft;
LongPrototype.shiftRight = function shiftRight(numBits) {
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  else if (numBits < 32)
    return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >> numBits, this.unsigned);
  else
    return fromBits(this.high >> numBits - 32, this.high >= 0 ? 0 : -1, this.unsigned);
};
LongPrototype.shr = LongPrototype.shiftRight;
LongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  if (numBits < 32)
    return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >>> numBits, this.unsigned);
  if (numBits === 32)
    return fromBits(this.high, 0, this.unsigned);
  return fromBits(this.high >>> numBits - 32, 0, this.unsigned);
};
LongPrototype.shru = LongPrototype.shiftRightUnsigned;
LongPrototype.shr_u = LongPrototype.shiftRightUnsigned;
LongPrototype.rotateLeft = function rotateLeft(numBits) {
  var b;
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  if (numBits === 32)
    return fromBits(this.high, this.low, this.unsigned);
  if (numBits < 32) {
    b = 32 - numBits;
    return fromBits(this.low << numBits | this.high >>> b, this.high << numBits | this.low >>> b, this.unsigned);
  }
  numBits -= 32;
  b = 32 - numBits;
  return fromBits(this.high << numBits | this.low >>> b, this.low << numBits | this.high >>> b, this.unsigned);
};
LongPrototype.rotl = LongPrototype.rotateLeft;
LongPrototype.rotateRight = function rotateRight(numBits) {
  var b;
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  if (numBits === 32)
    return fromBits(this.high, this.low, this.unsigned);
  if (numBits < 32) {
    b = 32 - numBits;
    return fromBits(this.high << b | this.low >>> numBits, this.low << b | this.high >>> numBits, this.unsigned);
  }
  numBits -= 32;
  b = 32 - numBits;
  return fromBits(this.low << b | this.high >>> numBits, this.high << b | this.low >>> numBits, this.unsigned);
};
LongPrototype.rotr = LongPrototype.rotateRight;
LongPrototype.toSigned = function toSigned() {
  if (!this.unsigned)
    return this;
  return fromBits(this.low, this.high, false);
};
LongPrototype.toUnsigned = function toUnsigned() {
  if (this.unsigned)
    return this;
  return fromBits(this.low, this.high, true);
};
LongPrototype.toBytes = function toBytes(le) {
  return le ? this.toBytesLE() : this.toBytesBE();
};
LongPrototype.toBytesLE = function toBytesLE() {
  var hi = this.high, lo = this.low;
  return [
    lo & 255,
    lo >>> 8 & 255,
    lo >>> 16 & 255,
    lo >>> 24,
    hi & 255,
    hi >>> 8 & 255,
    hi >>> 16 & 255,
    hi >>> 24
  ];
};
LongPrototype.toBytesBE = function toBytesBE() {
  var hi = this.high, lo = this.low;
  return [
    hi >>> 24,
    hi >>> 16 & 255,
    hi >>> 8 & 255,
    hi & 255,
    lo >>> 24,
    lo >>> 16 & 255,
    lo >>> 8 & 255,
    lo & 255
  ];
};
Long.fromBytes = function fromBytes(bytes, unsigned, le) {
  return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);
};
Long.fromBytesLE = function fromBytesLE(bytes, unsigned) {
  return new Long(
    bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24,
    bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24,
    unsigned
  );
};
Long.fromBytesBE = function fromBytesBE(bytes, unsigned) {
  return new Long(
    bytes[4] << 24 | bytes[5] << 16 | bytes[6] << 8 | bytes[7],
    bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3],
    unsigned
  );
};
var long_default = Long;

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_shape.gen.js
var import_minimal8 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/colors.gen.js
var import_minimal7 = __toESM(require_minimal2());
function createBaseColor3() {
  return { r: 0, g: 0, b: 0 };
}
var Color3;
(function(Color34) {
  function encode(message, writer = import_minimal7.default.Writer.create()) {
    if (message.r !== 0) {
      writer.uint32(13).float(message.r);
    }
    if (message.g !== 0) {
      writer.uint32(21).float(message.g);
    }
    if (message.b !== 0) {
      writer.uint32(29).float(message.b);
    }
    return writer;
  }
  Color34.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal7.default.Reader ? input : import_minimal7.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseColor3();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.r = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.g = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.b = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Color34.decode = decode;
})(Color3 || (Color3 = {}));
function createBaseColor4() {
  return { r: 0, g: 0, b: 0, a: 0 };
}
var Color4;
(function(Color44) {
  function encode(message, writer = import_minimal7.default.Writer.create()) {
    if (message.r !== 0) {
      writer.uint32(13).float(message.r);
    }
    if (message.g !== 0) {
      writer.uint32(21).float(message.g);
    }
    if (message.b !== 0) {
      writer.uint32(29).float(message.b);
    }
    if (message.a !== 0) {
      writer.uint32(37).float(message.a);
    }
    return writer;
  }
  Color44.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal7.default.Reader ? input : import_minimal7.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseColor4();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.r = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.g = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.b = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.a = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Color44.decode = decode;
})(Color4 || (Color4 = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_shape.gen.js
function createBasePBAvatarShape() {
  return {
    id: "",
    name: void 0,
    bodyShape: void 0,
    skinColor: void 0,
    hairColor: void 0,
    eyeColor: void 0,
    expressionTriggerId: void 0,
    expressionTriggerTimestamp: void 0,
    talking: void 0,
    wearables: [],
    emotes: []
  };
}
var PBAvatarShape;
(function(PBAvatarShape2) {
  function encode(message, writer = import_minimal8.default.Writer.create()) {
    if (message.id !== "") {
      writer.uint32(10).string(message.id);
    }
    if (message.name !== void 0) {
      writer.uint32(18).string(message.name);
    }
    if (message.bodyShape !== void 0) {
      writer.uint32(26).string(message.bodyShape);
    }
    if (message.skinColor !== void 0) {
      Color3.encode(message.skinColor, writer.uint32(34).fork()).ldelim();
    }
    if (message.hairColor !== void 0) {
      Color3.encode(message.hairColor, writer.uint32(42).fork()).ldelim();
    }
    if (message.eyeColor !== void 0) {
      Color3.encode(message.eyeColor, writer.uint32(50).fork()).ldelim();
    }
    if (message.expressionTriggerId !== void 0) {
      writer.uint32(58).string(message.expressionTriggerId);
    }
    if (message.expressionTriggerTimestamp !== void 0) {
      writer.uint32(64).int64(message.expressionTriggerTimestamp);
    }
    if (message.talking !== void 0) {
      writer.uint32(72).bool(message.talking);
    }
    for (const v of message.wearables) {
      writer.uint32(82).string(v);
    }
    for (const v of message.emotes) {
      writer.uint32(90).string(v);
    }
    return writer;
  }
  PBAvatarShape2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal8.default.Reader ? input : import_minimal8.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.id = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.name = reader.string();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.bodyShape = reader.string();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.skinColor = Color3.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.hairColor = Color3.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.eyeColor = Color3.decode(reader, reader.uint32());
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.expressionTriggerId = reader.string();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.expressionTriggerTimestamp = longToNumber(reader.int64());
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.talking = reader.bool();
          continue;
        case 10:
          if (tag !== 82) {
            break;
          }
          message.wearables.push(reader.string());
          continue;
        case 11:
          if (tag !== 90) {
            break;
          }
          message.emotes.push(reader.string());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarShape2.decode = decode;
})(PBAvatarShape || (PBAvatarShape = {}));
var tsProtoGlobalThis = (() => {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }
  if (typeof self !== "undefined") {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw "Unable to locate global object";
})();
function longToNumber(long) {
  if (long.gt(Number.MAX_SAFE_INTEGER)) {
    throw new tsProtoGlobalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");
  }
  return long.toNumber();
}
if (import_minimal8.default.util.Long !== long_default) {
  import_minimal8.default.util.Long = long_default;
  import_minimal8.default.configure();
}

// node_modules/@dcl/ecs/dist/components/generated/AvatarShape.gen.js
var AvatarShapeSchema = {
  COMPONENT_ID: 1080,
  serialize(value, builder) {
    const writer = PBAvatarShape.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBAvatarShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarShape"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/billboard.gen.js
var import_minimal9 = __toESM(require_minimal2());
var BillboardMode;
(function(BillboardMode2) {
  BillboardMode2[BillboardMode2["BM_NONE"] = 0] = "BM_NONE";
  BillboardMode2[BillboardMode2["BM_X"] = 1] = "BM_X";
  BillboardMode2[BillboardMode2["BM_Y"] = 2] = "BM_Y";
  BillboardMode2[BillboardMode2["BM_Z"] = 4] = "BM_Z";
  BillboardMode2[BillboardMode2["BM_ALL"] = 7] = "BM_ALL";
})(BillboardMode || (BillboardMode = {}));
function createBasePBBillboard() {
  return { billboardMode: void 0 };
}
var PBBillboard;
(function(PBBillboard2) {
  function encode(message, writer = import_minimal9.default.Writer.create()) {
    if (message.billboardMode !== void 0) {
      writer.uint32(8).int32(message.billboardMode);
    }
    return writer;
  }
  PBBillboard2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal9.default.Reader ? input : import_minimal9.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBBillboard();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.billboardMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBBillboard2.decode = decode;
})(PBBillboard || (PBBillboard = {}));

// node_modules/@dcl/ecs/dist/components/generated/Billboard.gen.js
var BillboardSchema = {
  COMPONENT_ID: 1090,
  serialize(value, builder) {
    const writer = PBBillboard.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBBillboard.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBBillboard.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBBillboard"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/camera_mode.gen.js
var import_minimal10 = __toESM(require_minimal2());
function createBasePBCameraMode() {
  return { mode: 0 };
}
var PBCameraMode;
(function(PBCameraMode2) {
  function encode(message, writer = import_minimal10.default.Writer.create()) {
    if (message.mode !== 0) {
      writer.uint32(8).int32(message.mode);
    }
    return writer;
  }
  PBCameraMode2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal10.default.Reader ? input : import_minimal10.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBCameraMode();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.mode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBCameraMode2.decode = decode;
})(PBCameraMode || (PBCameraMode = {}));

// node_modules/@dcl/ecs/dist/components/generated/CameraMode.gen.js
var CameraModeSchema = {
  COMPONENT_ID: 1072,
  serialize(value, builder) {
    const writer = PBCameraMode.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBCameraMode.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBCameraMode.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBCameraMode"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/camera_mode_area.gen.js
var import_minimal11 = __toESM(require_minimal2());
function createBasePBCameraModeArea() {
  return { area: void 0, mode: 0 };
}
var PBCameraModeArea;
(function(PBCameraModeArea2) {
  function encode(message, writer = import_minimal11.default.Writer.create()) {
    if (message.area !== void 0) {
      Vector3.encode(message.area, writer.uint32(10).fork()).ldelim();
    }
    if (message.mode !== 0) {
      writer.uint32(16).int32(message.mode);
    }
    return writer;
  }
  PBCameraModeArea2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal11.default.Reader ? input : import_minimal11.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBCameraModeArea();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.area = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.mode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBCameraModeArea2.decode = decode;
})(PBCameraModeArea || (PBCameraModeArea = {}));

// node_modules/@dcl/ecs/dist/components/generated/CameraModeArea.gen.js
var CameraModeAreaSchema = {
  COMPONENT_ID: 1071,
  serialize(value, builder) {
    const writer = PBCameraModeArea.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBCameraModeArea.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBCameraModeArea.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBCameraModeArea"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/engine_info.gen.js
var import_minimal12 = __toESM(require_minimal2());
function createBasePBEngineInfo() {
  return { frameNumber: 0, totalRuntime: 0, tickNumber: 0 };
}
var PBEngineInfo;
(function(PBEngineInfo2) {
  function encode(message, writer = import_minimal12.default.Writer.create()) {
    if (message.frameNumber !== 0) {
      writer.uint32(8).uint32(message.frameNumber);
    }
    if (message.totalRuntime !== 0) {
      writer.uint32(21).float(message.totalRuntime);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(24).uint32(message.tickNumber);
    }
    return writer;
  }
  PBEngineInfo2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal12.default.Reader ? input : import_minimal12.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBEngineInfo();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.frameNumber = reader.uint32();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.totalRuntime = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBEngineInfo2.decode = decode;
})(PBEngineInfo || (PBEngineInfo = {}));

// node_modules/@dcl/ecs/dist/components/generated/EngineInfo.gen.js
var EngineInfoSchema = {
  COMPONENT_ID: 1048,
  serialize(value, builder) {
    const writer = PBEngineInfo.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBEngineInfo.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBEngineInfo.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBEngineInfo"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/gltf_container.gen.js
var import_minimal13 = __toESM(require_minimal2());
function createBasePBGltfContainer() {
  return { src: "", visibleMeshesCollisionMask: void 0, invisibleMeshesCollisionMask: void 0 };
}
var PBGltfContainer;
(function(PBGltfContainer2) {
  function encode(message, writer = import_minimal13.default.Writer.create()) {
    if (message.src !== "") {
      writer.uint32(10).string(message.src);
    }
    if (message.visibleMeshesCollisionMask !== void 0) {
      writer.uint32(32).uint32(message.visibleMeshesCollisionMask);
    }
    if (message.invisibleMeshesCollisionMask !== void 0) {
      writer.uint32(40).uint32(message.invisibleMeshesCollisionMask);
    }
    return writer;
  }
  PBGltfContainer2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal13.default.Reader ? input : import_minimal13.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBGltfContainer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.visibleMeshesCollisionMask = reader.uint32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.invisibleMeshesCollisionMask = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBGltfContainer2.decode = decode;
})(PBGltfContainer || (PBGltfContainer = {}));

// node_modules/@dcl/ecs/dist/components/generated/GltfContainer.gen.js
var GltfContainerSchema = {
  COMPONENT_ID: 1041,
  serialize(value, builder) {
    const writer = PBGltfContainer.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBGltfContainer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBGltfContainer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBGltfContainer"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/gltf_container_loading_state.gen.js
var import_minimal14 = __toESM(require_minimal2());
function createBasePBGltfContainerLoadingState() {
  return { currentState: 0 };
}
var PBGltfContainerLoadingState;
(function(PBGltfContainerLoadingState2) {
  function encode(message, writer = import_minimal14.default.Writer.create()) {
    if (message.currentState !== 0) {
      writer.uint32(8).int32(message.currentState);
    }
    return writer;
  }
  PBGltfContainerLoadingState2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal14.default.Reader ? input : import_minimal14.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBGltfContainerLoadingState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.currentState = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBGltfContainerLoadingState2.decode = decode;
})(PBGltfContainerLoadingState || (PBGltfContainerLoadingState = {}));

// node_modules/@dcl/ecs/dist/components/generated/GltfContainerLoadingState.gen.js
var GltfContainerLoadingStateSchema = {
  COMPONENT_ID: 1049,
  serialize(value, builder) {
    const writer = PBGltfContainerLoadingState.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBGltfContainerLoadingState.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBGltfContainerLoadingState.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBGltfContainerLoadingState"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/material.gen.js
var import_minimal16 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/texture.gen.js
var import_minimal15 = __toESM(require_minimal2());
var TextureWrapMode;
(function(TextureWrapMode2) {
  TextureWrapMode2[TextureWrapMode2["TWM_REPEAT"] = 0] = "TWM_REPEAT";
  TextureWrapMode2[TextureWrapMode2["TWM_CLAMP"] = 1] = "TWM_CLAMP";
  TextureWrapMode2[TextureWrapMode2["TWM_MIRROR"] = 2] = "TWM_MIRROR";
})(TextureWrapMode || (TextureWrapMode = {}));
var TextureFilterMode;
(function(TextureFilterMode2) {
  TextureFilterMode2[TextureFilterMode2["TFM_POINT"] = 0] = "TFM_POINT";
  TextureFilterMode2[TextureFilterMode2["TFM_BILINEAR"] = 1] = "TFM_BILINEAR";
  TextureFilterMode2[TextureFilterMode2["TFM_TRILINEAR"] = 2] = "TFM_TRILINEAR";
})(TextureFilterMode || (TextureFilterMode = {}));
function createBaseTexture() {
  return { src: "", wrapMode: void 0, filterMode: void 0 };
}
var Texture;
(function(Texture2) {
  function encode(message, writer = import_minimal15.default.Writer.create()) {
    if (message.src !== "") {
      writer.uint32(10).string(message.src);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    return writer;
  }
  Texture2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal15.default.Reader ? input : import_minimal15.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Texture2.decode = decode;
})(Texture || (Texture = {}));
function createBaseAvatarTexture() {
  return { userId: "", wrapMode: void 0, filterMode: void 0 };
}
var AvatarTexture;
(function(AvatarTexture2) {
  function encode(message, writer = import_minimal15.default.Writer.create()) {
    if (message.userId !== "") {
      writer.uint32(10).string(message.userId);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    return writer;
  }
  AvatarTexture2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal15.default.Reader ? input : import_minimal15.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseAvatarTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.userId = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  AvatarTexture2.decode = decode;
})(AvatarTexture || (AvatarTexture = {}));
function createBaseVideoTexture() {
  return { videoPlayerEntity: 0, wrapMode: void 0, filterMode: void 0 };
}
var VideoTexture;
(function(VideoTexture2) {
  function encode(message, writer = import_minimal15.default.Writer.create()) {
    if (message.videoPlayerEntity !== 0) {
      writer.uint32(8).uint32(message.videoPlayerEntity);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    return writer;
  }
  VideoTexture2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal15.default.Reader ? input : import_minimal15.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVideoTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.videoPlayerEntity = reader.uint32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  VideoTexture2.decode = decode;
})(VideoTexture || (VideoTexture = {}));
function createBaseTextureUnion() {
  return { tex: void 0 };
}
var TextureUnion;
(function(TextureUnion2) {
  function encode(message, writer = import_minimal15.default.Writer.create()) {
    switch (message.tex?.$case) {
      case "texture":
        Texture.encode(message.tex.texture, writer.uint32(10).fork()).ldelim();
        break;
      case "avatarTexture":
        AvatarTexture.encode(message.tex.avatarTexture, writer.uint32(18).fork()).ldelim();
        break;
      case "videoTexture":
        VideoTexture.encode(message.tex.videoTexture, writer.uint32(26).fork()).ldelim();
        break;
    }
    return writer;
  }
  TextureUnion2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal15.default.Reader ? input : import_minimal15.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseTextureUnion();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.tex = { $case: "texture", texture: Texture.decode(reader, reader.uint32()) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.tex = { $case: "avatarTexture", avatarTexture: AvatarTexture.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.tex = { $case: "videoTexture", videoTexture: VideoTexture.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  TextureUnion2.decode = decode;
})(TextureUnion || (TextureUnion = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/material.gen.js
var MaterialTransparencyMode;
(function(MaterialTransparencyMode2) {
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_OPAQUE"] = 0] = "MTM_OPAQUE";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_ALPHA_TEST"] = 1] = "MTM_ALPHA_TEST";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_ALPHA_BLEND"] = 2] = "MTM_ALPHA_BLEND";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_ALPHA_TEST_AND_ALPHA_BLEND"] = 3] = "MTM_ALPHA_TEST_AND_ALPHA_BLEND";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_AUTO"] = 4] = "MTM_AUTO";
})(MaterialTransparencyMode || (MaterialTransparencyMode = {}));
function createBasePBMaterial() {
  return { material: void 0 };
}
var PBMaterial;
(function(PBMaterial2) {
  function encode(message, writer = import_minimal16.default.Writer.create()) {
    switch (message.material?.$case) {
      case "unlit":
        PBMaterial_UnlitMaterial.encode(message.material.unlit, writer.uint32(10).fork()).ldelim();
        break;
      case "pbr":
        PBMaterial_PbrMaterial.encode(message.material.pbr, writer.uint32(18).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMaterial2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal16.default.Reader ? input : import_minimal16.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.material = { $case: "unlit", unlit: PBMaterial_UnlitMaterial.decode(reader, reader.uint32()) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.material = { $case: "pbr", pbr: PBMaterial_PbrMaterial.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial2.decode = decode;
})(PBMaterial || (PBMaterial = {}));
function createBasePBMaterial_UnlitMaterial() {
  return { texture: void 0, alphaTest: void 0, castShadows: void 0, diffuseColor: void 0 };
}
var PBMaterial_UnlitMaterial;
(function(PBMaterial_UnlitMaterial2) {
  function encode(message, writer = import_minimal16.default.Writer.create()) {
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(10).fork()).ldelim();
    }
    if (message.alphaTest !== void 0) {
      writer.uint32(21).float(message.alphaTest);
    }
    if (message.castShadows !== void 0) {
      writer.uint32(24).bool(message.castShadows);
    }
    if (message.diffuseColor !== void 0) {
      Color4.encode(message.diffuseColor, writer.uint32(34).fork()).ldelim();
    }
    return writer;
  }
  PBMaterial_UnlitMaterial2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal16.default.Reader ? input : import_minimal16.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial_UnlitMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.alphaTest = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.castShadows = reader.bool();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.diffuseColor = Color4.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial_UnlitMaterial2.decode = decode;
})(PBMaterial_UnlitMaterial || (PBMaterial_UnlitMaterial = {}));
function createBasePBMaterial_PbrMaterial() {
  return {
    texture: void 0,
    alphaTest: void 0,
    castShadows: void 0,
    alphaTexture: void 0,
    emissiveTexture: void 0,
    bumpTexture: void 0,
    albedoColor: void 0,
    emissiveColor: void 0,
    reflectivityColor: void 0,
    transparencyMode: void 0,
    metallic: void 0,
    roughness: void 0,
    specularIntensity: void 0,
    emissiveIntensity: void 0,
    directIntensity: void 0
  };
}
var PBMaterial_PbrMaterial;
(function(PBMaterial_PbrMaterial3) {
  function encode(message, writer = import_minimal16.default.Writer.create()) {
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(10).fork()).ldelim();
    }
    if (message.alphaTest !== void 0) {
      writer.uint32(21).float(message.alphaTest);
    }
    if (message.castShadows !== void 0) {
      writer.uint32(24).bool(message.castShadows);
    }
    if (message.alphaTexture !== void 0) {
      TextureUnion.encode(message.alphaTexture, writer.uint32(34).fork()).ldelim();
    }
    if (message.emissiveTexture !== void 0) {
      TextureUnion.encode(message.emissiveTexture, writer.uint32(42).fork()).ldelim();
    }
    if (message.bumpTexture !== void 0) {
      TextureUnion.encode(message.bumpTexture, writer.uint32(50).fork()).ldelim();
    }
    if (message.albedoColor !== void 0) {
      Color4.encode(message.albedoColor, writer.uint32(58).fork()).ldelim();
    }
    if (message.emissiveColor !== void 0) {
      Color3.encode(message.emissiveColor, writer.uint32(66).fork()).ldelim();
    }
    if (message.reflectivityColor !== void 0) {
      Color3.encode(message.reflectivityColor, writer.uint32(74).fork()).ldelim();
    }
    if (message.transparencyMode !== void 0) {
      writer.uint32(80).int32(message.transparencyMode);
    }
    if (message.metallic !== void 0) {
      writer.uint32(93).float(message.metallic);
    }
    if (message.roughness !== void 0) {
      writer.uint32(101).float(message.roughness);
    }
    if (message.specularIntensity !== void 0) {
      writer.uint32(117).float(message.specularIntensity);
    }
    if (message.emissiveIntensity !== void 0) {
      writer.uint32(125).float(message.emissiveIntensity);
    }
    if (message.directIntensity !== void 0) {
      writer.uint32(133).float(message.directIntensity);
    }
    return writer;
  }
  PBMaterial_PbrMaterial3.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal16.default.Reader ? input : import_minimal16.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial_PbrMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.alphaTest = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.castShadows = reader.bool();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.alphaTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.emissiveTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.bumpTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.albedoColor = Color4.decode(reader, reader.uint32());
          continue;
        case 8:
          if (tag !== 66) {
            break;
          }
          message.emissiveColor = Color3.decode(reader, reader.uint32());
          continue;
        case 9:
          if (tag !== 74) {
            break;
          }
          message.reflectivityColor = Color3.decode(reader, reader.uint32());
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.transparencyMode = reader.int32();
          continue;
        case 11:
          if (tag !== 93) {
            break;
          }
          message.metallic = reader.float();
          continue;
        case 12:
          if (tag !== 101) {
            break;
          }
          message.roughness = reader.float();
          continue;
        case 14:
          if (tag !== 117) {
            break;
          }
          message.specularIntensity = reader.float();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.emissiveIntensity = reader.float();
          continue;
        case 16:
          if (tag !== 133) {
            break;
          }
          message.directIntensity = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial_PbrMaterial3.decode = decode;
})(PBMaterial_PbrMaterial || (PBMaterial_PbrMaterial = {}));

// node_modules/@dcl/ecs/dist/components/generated/Material.gen.js
var MaterialSchema = {
  COMPONENT_ID: 1017,
  serialize(value, builder) {
    const writer = PBMaterial.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBMaterial.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMaterial.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBMaterial"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/mesh_collider.gen.js
var import_minimal17 = __toESM(require_minimal2());
var ColliderLayer;
(function(ColliderLayer2) {
  ColliderLayer2[ColliderLayer2["CL_NONE"] = 0] = "CL_NONE";
  ColliderLayer2[ColliderLayer2["CL_POINTER"] = 1] = "CL_POINTER";
  ColliderLayer2[ColliderLayer2["CL_PHYSICS"] = 2] = "CL_PHYSICS";
  ColliderLayer2[ColliderLayer2["CL_RESERVED1"] = 4] = "CL_RESERVED1";
  ColliderLayer2[ColliderLayer2["CL_RESERVED2"] = 8] = "CL_RESERVED2";
  ColliderLayer2[ColliderLayer2["CL_RESERVED3"] = 16] = "CL_RESERVED3";
  ColliderLayer2[ColliderLayer2["CL_RESERVED4"] = 32] = "CL_RESERVED4";
  ColliderLayer2[ColliderLayer2["CL_RESERVED5"] = 64] = "CL_RESERVED5";
  ColliderLayer2[ColliderLayer2["CL_RESERVED6"] = 128] = "CL_RESERVED6";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM1"] = 256] = "CL_CUSTOM1";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM2"] = 512] = "CL_CUSTOM2";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM3"] = 1024] = "CL_CUSTOM3";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM4"] = 2048] = "CL_CUSTOM4";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM5"] = 4096] = "CL_CUSTOM5";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM6"] = 8192] = "CL_CUSTOM6";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM7"] = 16384] = "CL_CUSTOM7";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM8"] = 32768] = "CL_CUSTOM8";
})(ColliderLayer || (ColliderLayer = {}));
function createBasePBMeshCollider() {
  return { collisionMask: void 0, mesh: void 0 };
}
var PBMeshCollider;
(function(PBMeshCollider2) {
  function encode(message, writer = import_minimal17.default.Writer.create()) {
    if (message.collisionMask !== void 0) {
      writer.uint32(8).uint32(message.collisionMask);
    }
    switch (message.mesh?.$case) {
      case "box":
        PBMeshCollider_BoxMesh.encode(message.mesh.box, writer.uint32(18).fork()).ldelim();
        break;
      case "sphere":
        PBMeshCollider_SphereMesh.encode(message.mesh.sphere, writer.uint32(26).fork()).ldelim();
        break;
      case "cylinder":
        PBMeshCollider_CylinderMesh.encode(message.mesh.cylinder, writer.uint32(34).fork()).ldelim();
        break;
      case "plane":
        PBMeshCollider_PlaneMesh.encode(message.mesh.plane, writer.uint32(42).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMeshCollider2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.collisionMask = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.mesh = { $case: "box", box: PBMeshCollider_BoxMesh.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mesh = { $case: "sphere", sphere: PBMeshCollider_SphereMesh.decode(reader, reader.uint32()) };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mesh = { $case: "cylinder", cylinder: PBMeshCollider_CylinderMesh.decode(reader, reader.uint32()) };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.mesh = { $case: "plane", plane: PBMeshCollider_PlaneMesh.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider2.decode = decode;
})(PBMeshCollider || (PBMeshCollider = {}));
function createBasePBMeshCollider_BoxMesh() {
  return {};
}
var PBMeshCollider_BoxMesh;
(function(PBMeshCollider_BoxMesh2) {
  function encode(_, writer = import_minimal17.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_BoxMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_BoxMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_BoxMesh2.decode = decode;
})(PBMeshCollider_BoxMesh || (PBMeshCollider_BoxMesh = {}));
function createBasePBMeshCollider_CylinderMesh() {
  return { radiusTop: void 0, radiusBottom: void 0 };
}
var PBMeshCollider_CylinderMesh;
(function(PBMeshCollider_CylinderMesh2) {
  function encode(message, writer = import_minimal17.default.Writer.create()) {
    if (message.radiusTop !== void 0) {
      writer.uint32(13).float(message.radiusTop);
    }
    if (message.radiusBottom !== void 0) {
      writer.uint32(21).float(message.radiusBottom);
    }
    return writer;
  }
  PBMeshCollider_CylinderMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_CylinderMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.radiusTop = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.radiusBottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_CylinderMesh2.decode = decode;
})(PBMeshCollider_CylinderMesh || (PBMeshCollider_CylinderMesh = {}));
function createBasePBMeshCollider_PlaneMesh() {
  return {};
}
var PBMeshCollider_PlaneMesh;
(function(PBMeshCollider_PlaneMesh2) {
  function encode(_, writer = import_minimal17.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_PlaneMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_PlaneMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_PlaneMesh2.decode = decode;
})(PBMeshCollider_PlaneMesh || (PBMeshCollider_PlaneMesh = {}));
function createBasePBMeshCollider_SphereMesh() {
  return {};
}
var PBMeshCollider_SphereMesh;
(function(PBMeshCollider_SphereMesh2) {
  function encode(_, writer = import_minimal17.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_SphereMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_SphereMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_SphereMesh2.decode = decode;
})(PBMeshCollider_SphereMesh || (PBMeshCollider_SphereMesh = {}));

// node_modules/@dcl/ecs/dist/components/generated/MeshCollider.gen.js
var MeshColliderSchema = {
  COMPONENT_ID: 1019,
  serialize(value, builder) {
    const writer = PBMeshCollider.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBMeshCollider.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMeshCollider.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBMeshCollider"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/mesh_renderer.gen.js
var import_minimal18 = __toESM(require_minimal2());
function createBasePBMeshRenderer() {
  return { mesh: void 0 };
}
var PBMeshRenderer;
(function(PBMeshRenderer2) {
  function encode(message, writer = import_minimal18.default.Writer.create()) {
    switch (message.mesh?.$case) {
      case "box":
        PBMeshRenderer_BoxMesh.encode(message.mesh.box, writer.uint32(10).fork()).ldelim();
        break;
      case "sphere":
        PBMeshRenderer_SphereMesh.encode(message.mesh.sphere, writer.uint32(18).fork()).ldelim();
        break;
      case "cylinder":
        PBMeshRenderer_CylinderMesh.encode(message.mesh.cylinder, writer.uint32(26).fork()).ldelim();
        break;
      case "plane":
        PBMeshRenderer_PlaneMesh.encode(message.mesh.plane, writer.uint32(34).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMeshRenderer2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.mesh = { $case: "box", box: PBMeshRenderer_BoxMesh.decode(reader, reader.uint32()) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.mesh = { $case: "sphere", sphere: PBMeshRenderer_SphereMesh.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mesh = { $case: "cylinder", cylinder: PBMeshRenderer_CylinderMesh.decode(reader, reader.uint32()) };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mesh = { $case: "plane", plane: PBMeshRenderer_PlaneMesh.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer2.decode = decode;
})(PBMeshRenderer || (PBMeshRenderer = {}));
function createBasePBMeshRenderer_BoxMesh() {
  return { uvs: [] };
}
var PBMeshRenderer_BoxMesh;
(function(PBMeshRenderer_BoxMesh2) {
  function encode(message, writer = import_minimal18.default.Writer.create()) {
    writer.uint32(10).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBMeshRenderer_BoxMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_BoxMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag === 13) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 10) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_BoxMesh2.decode = decode;
})(PBMeshRenderer_BoxMesh || (PBMeshRenderer_BoxMesh = {}));
function createBasePBMeshRenderer_CylinderMesh() {
  return { radiusTop: void 0, radiusBottom: void 0 };
}
var PBMeshRenderer_CylinderMesh;
(function(PBMeshRenderer_CylinderMesh2) {
  function encode(message, writer = import_minimal18.default.Writer.create()) {
    if (message.radiusTop !== void 0) {
      writer.uint32(13).float(message.radiusTop);
    }
    if (message.radiusBottom !== void 0) {
      writer.uint32(21).float(message.radiusBottom);
    }
    return writer;
  }
  PBMeshRenderer_CylinderMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_CylinderMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.radiusTop = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.radiusBottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_CylinderMesh2.decode = decode;
})(PBMeshRenderer_CylinderMesh || (PBMeshRenderer_CylinderMesh = {}));
function createBasePBMeshRenderer_PlaneMesh() {
  return { uvs: [] };
}
var PBMeshRenderer_PlaneMesh;
(function(PBMeshRenderer_PlaneMesh2) {
  function encode(message, writer = import_minimal18.default.Writer.create()) {
    writer.uint32(10).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBMeshRenderer_PlaneMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_PlaneMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag === 13) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 10) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_PlaneMesh2.decode = decode;
})(PBMeshRenderer_PlaneMesh || (PBMeshRenderer_PlaneMesh = {}));
function createBasePBMeshRenderer_SphereMesh() {
  return {};
}
var PBMeshRenderer_SphereMesh;
(function(PBMeshRenderer_SphereMesh2) {
  function encode(_, writer = import_minimal18.default.Writer.create()) {
    return writer;
  }
  PBMeshRenderer_SphereMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_SphereMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_SphereMesh2.decode = decode;
})(PBMeshRenderer_SphereMesh || (PBMeshRenderer_SphereMesh = {}));

// node_modules/@dcl/ecs/dist/components/generated/MeshRenderer.gen.js
var MeshRendererSchema = {
  COMPONENT_ID: 1018,
  serialize(value, builder) {
    const writer = PBMeshRenderer.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBMeshRenderer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMeshRenderer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBMeshRenderer"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/nft_shape.gen.js
var import_minimal19 = __toESM(require_minimal2());
var NftFrameType;
(function(NftFrameType2) {
  NftFrameType2[NftFrameType2["NFT_CLASSIC"] = 0] = "NFT_CLASSIC";
  NftFrameType2[NftFrameType2["NFT_BAROQUE_ORNAMENT"] = 1] = "NFT_BAROQUE_ORNAMENT";
  NftFrameType2[NftFrameType2["NFT_DIAMOND_ORNAMENT"] = 2] = "NFT_DIAMOND_ORNAMENT";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_WIDE"] = 3] = "NFT_MINIMAL_WIDE";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_GREY"] = 4] = "NFT_MINIMAL_GREY";
  NftFrameType2[NftFrameType2["NFT_BLOCKY"] = 5] = "NFT_BLOCKY";
  NftFrameType2[NftFrameType2["NFT_GOLD_EDGES"] = 6] = "NFT_GOLD_EDGES";
  NftFrameType2[NftFrameType2["NFT_GOLD_CARVED"] = 7] = "NFT_GOLD_CARVED";
  NftFrameType2[NftFrameType2["NFT_GOLD_WIDE"] = 8] = "NFT_GOLD_WIDE";
  NftFrameType2[NftFrameType2["NFT_GOLD_ROUNDED"] = 9] = "NFT_GOLD_ROUNDED";
  NftFrameType2[NftFrameType2["NFT_METAL_MEDIUM"] = 10] = "NFT_METAL_MEDIUM";
  NftFrameType2[NftFrameType2["NFT_METAL_WIDE"] = 11] = "NFT_METAL_WIDE";
  NftFrameType2[NftFrameType2["NFT_METAL_SLIM"] = 12] = "NFT_METAL_SLIM";
  NftFrameType2[NftFrameType2["NFT_METAL_ROUNDED"] = 13] = "NFT_METAL_ROUNDED";
  NftFrameType2[NftFrameType2["NFT_PINS"] = 14] = "NFT_PINS";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_BLACK"] = 15] = "NFT_MINIMAL_BLACK";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_WHITE"] = 16] = "NFT_MINIMAL_WHITE";
  NftFrameType2[NftFrameType2["NFT_TAPE"] = 17] = "NFT_TAPE";
  NftFrameType2[NftFrameType2["NFT_WOOD_SLIM"] = 18] = "NFT_WOOD_SLIM";
  NftFrameType2[NftFrameType2["NFT_WOOD_WIDE"] = 19] = "NFT_WOOD_WIDE";
  NftFrameType2[NftFrameType2["NFT_WOOD_TWIGS"] = 20] = "NFT_WOOD_TWIGS";
  NftFrameType2[NftFrameType2["NFT_CANVAS"] = 21] = "NFT_CANVAS";
  NftFrameType2[NftFrameType2["NFT_NONE"] = 22] = "NFT_NONE";
})(NftFrameType || (NftFrameType = {}));
function createBasePBNftShape() {
  return { urn: "", style: void 0, color: void 0 };
}
var PBNftShape;
(function(PBNftShape2) {
  function encode(message, writer = import_minimal19.default.Writer.create()) {
    if (message.urn !== "") {
      writer.uint32(10).string(message.urn);
    }
    if (message.style !== void 0) {
      writer.uint32(16).int32(message.style);
    }
    if (message.color !== void 0) {
      Color3.encode(message.color, writer.uint32(26).fork()).ldelim();
    }
    return writer;
  }
  PBNftShape2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal19.default.Reader ? input : import_minimal19.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBNftShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.urn = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.style = reader.int32();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.color = Color3.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBNftShape2.decode = decode;
})(PBNftShape || (PBNftShape = {}));

// node_modules/@dcl/ecs/dist/components/generated/NftShape.gen.js
var NftShapeSchema = {
  COMPONENT_ID: 1040,
  serialize(value, builder) {
    const writer = PBNftShape.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBNftShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBNftShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBNftShape"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events.gen.js
var import_minimal20 = __toESM(require_minimal2());
function createBasePBPointerEvents() {
  return { pointerEvents: [] };
}
var PBPointerEvents;
(function(PBPointerEvents3) {
  function encode(message, writer = import_minimal20.default.Writer.create()) {
    for (const v of message.pointerEvents) {
      PBPointerEvents_Entry.encode(v, writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  PBPointerEvents3.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal20.default.Reader ? input : import_minimal20.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.pointerEvents.push(PBPointerEvents_Entry.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents3.decode = decode;
})(PBPointerEvents || (PBPointerEvents = {}));
function createBasePBPointerEvents_Info() {
  return { button: void 0, hoverText: void 0, maxDistance: void 0, showFeedback: void 0 };
}
var PBPointerEvents_Info;
(function(PBPointerEvents_Info2) {
  function encode(message, writer = import_minimal20.default.Writer.create()) {
    if (message.button !== void 0) {
      writer.uint32(8).int32(message.button);
    }
    if (message.hoverText !== void 0) {
      writer.uint32(18).string(message.hoverText);
    }
    if (message.maxDistance !== void 0) {
      writer.uint32(29).float(message.maxDistance);
    }
    if (message.showFeedback !== void 0) {
      writer.uint32(32).bool(message.showFeedback);
    }
    return writer;
  }
  PBPointerEvents_Info2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal20.default.Reader ? input : import_minimal20.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents_Info();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.button = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.hoverText = reader.string();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.maxDistance = reader.float();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.showFeedback = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents_Info2.decode = decode;
})(PBPointerEvents_Info || (PBPointerEvents_Info = {}));
function createBasePBPointerEvents_Entry() {
  return { eventType: 0, eventInfo: void 0 };
}
var PBPointerEvents_Entry;
(function(PBPointerEvents_Entry2) {
  function encode(message, writer = import_minimal20.default.Writer.create()) {
    if (message.eventType !== 0) {
      writer.uint32(8).int32(message.eventType);
    }
    if (message.eventInfo !== void 0) {
      PBPointerEvents_Info.encode(message.eventInfo, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  PBPointerEvents_Entry2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal20.default.Reader ? input : import_minimal20.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents_Entry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.eventType = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.eventInfo = PBPointerEvents_Info.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents_Entry2.decode = decode;
})(PBPointerEvents_Entry || (PBPointerEvents_Entry = {}));

// node_modules/@dcl/ecs/dist/components/generated/PointerEvents.gen.js
var PointerEventsSchema = {
  COMPONENT_ID: 1062,
  serialize(value, builder) {
    const writer = PBPointerEvents.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBPointerEvents.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerEvents.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBPointerEvents"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events_result.gen.js
var import_minimal22 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/raycast_hit.gen.js
var import_minimal21 = __toESM(require_minimal2());
function createBaseRaycastHit() {
  return {
    position: void 0,
    globalOrigin: void 0,
    direction: void 0,
    normalHit: void 0,
    length: 0,
    meshName: void 0,
    entityId: void 0
  };
}
var RaycastHit;
(function(RaycastHit2) {
  function encode(message, writer = import_minimal21.default.Writer.create()) {
    if (message.position !== void 0) {
      Vector3.encode(message.position, writer.uint32(10).fork()).ldelim();
    }
    if (message.globalOrigin !== void 0) {
      Vector3.encode(message.globalOrigin, writer.uint32(18).fork()).ldelim();
    }
    if (message.direction !== void 0) {
      Vector3.encode(message.direction, writer.uint32(26).fork()).ldelim();
    }
    if (message.normalHit !== void 0) {
      Vector3.encode(message.normalHit, writer.uint32(34).fork()).ldelim();
    }
    if (message.length !== 0) {
      writer.uint32(45).float(message.length);
    }
    if (message.meshName !== void 0) {
      writer.uint32(50).string(message.meshName);
    }
    if (message.entityId !== void 0) {
      writer.uint32(56).uint32(message.entityId);
    }
    return writer;
  }
  RaycastHit2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal21.default.Reader ? input : import_minimal21.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRaycastHit();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.position = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.globalOrigin = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = Vector3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.normalHit = Vector3.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.length = reader.float();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.meshName = reader.string();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.entityId = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  RaycastHit2.decode = decode;
})(RaycastHit || (RaycastHit = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events_result.gen.js
function createBasePBPointerEventsResult() {
  return { button: 0, hit: void 0, state: 0, timestamp: 0, analog: void 0, tickNumber: 0 };
}
var PBPointerEventsResult;
(function(PBPointerEventsResult2) {
  function encode(message, writer = import_minimal22.default.Writer.create()) {
    if (message.button !== 0) {
      writer.uint32(8).int32(message.button);
    }
    if (message.hit !== void 0) {
      RaycastHit.encode(message.hit, writer.uint32(18).fork()).ldelim();
    }
    if (message.state !== 0) {
      writer.uint32(32).int32(message.state);
    }
    if (message.timestamp !== 0) {
      writer.uint32(40).uint32(message.timestamp);
    }
    if (message.analog !== void 0) {
      writer.uint32(53).float(message.analog);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(56).uint32(message.tickNumber);
    }
    return writer;
  }
  PBPointerEventsResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal22.default.Reader ? input : import_minimal22.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEventsResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.button = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.hit = RaycastHit.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.state = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.analog = reader.float();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEventsResult2.decode = decode;
})(PBPointerEventsResult || (PBPointerEventsResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/PointerEventsResult.gen.js
var PointerEventsResultSchema = {
  COMPONENT_ID: 1063,
  serialize(value, builder) {
    const writer = PBPointerEventsResult.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBPointerEventsResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerEventsResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBPointerEventsResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_lock.gen.js
var import_minimal23 = __toESM(require_minimal2());
function createBasePBPointerLock() {
  return { isPointerLocked: false };
}
var PBPointerLock;
(function(PBPointerLock2) {
  function encode(message, writer = import_minimal23.default.Writer.create()) {
    if (message.isPointerLocked === true) {
      writer.uint32(8).bool(message.isPointerLocked);
    }
    return writer;
  }
  PBPointerLock2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal23.default.Reader ? input : import_minimal23.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerLock();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.isPointerLocked = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerLock2.decode = decode;
})(PBPointerLock || (PBPointerLock = {}));

// node_modules/@dcl/ecs/dist/components/generated/PointerLock.gen.js
var PointerLockSchema = {
  COMPONENT_ID: 1074,
  serialize(value, builder) {
    const writer = PBPointerLock.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBPointerLock.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerLock.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBPointerLock"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/raycast.gen.js
var import_minimal24 = __toESM(require_minimal2());
var RaycastQueryType;
(function(RaycastQueryType2) {
  RaycastQueryType2[RaycastQueryType2["RQT_HIT_FIRST"] = 0] = "RQT_HIT_FIRST";
  RaycastQueryType2[RaycastQueryType2["RQT_QUERY_ALL"] = 1] = "RQT_QUERY_ALL";
  RaycastQueryType2[RaycastQueryType2["RQT_NONE"] = 2] = "RQT_NONE";
})(RaycastQueryType || (RaycastQueryType = {}));
function createBasePBRaycast() {
  return {
    timestamp: void 0,
    originOffset: void 0,
    direction: void 0,
    maxDistance: 0,
    queryType: 0,
    continuous: void 0,
    collisionMask: void 0
  };
}
var PBRaycast;
(function(PBRaycast2) {
  function encode(message, writer = import_minimal24.default.Writer.create()) {
    if (message.timestamp !== void 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.originOffset !== void 0) {
      Vector3.encode(message.originOffset, writer.uint32(18).fork()).ldelim();
    }
    switch (message.direction?.$case) {
      case "localDirection":
        Vector3.encode(message.direction.localDirection, writer.uint32(50).fork()).ldelim();
        break;
      case "globalDirection":
        Vector3.encode(message.direction.globalDirection, writer.uint32(26).fork()).ldelim();
        break;
      case "globalTarget":
        Vector3.encode(message.direction.globalTarget, writer.uint32(58).fork()).ldelim();
        break;
      case "targetEntity":
        writer.uint32(80).uint32(message.direction.targetEntity);
        break;
    }
    if (message.maxDistance !== 0) {
      writer.uint32(37).float(message.maxDistance);
    }
    if (message.queryType !== 0) {
      writer.uint32(40).int32(message.queryType);
    }
    if (message.continuous !== void 0) {
      writer.uint32(64).bool(message.continuous);
    }
    if (message.collisionMask !== void 0) {
      writer.uint32(72).uint32(message.collisionMask);
    }
    return writer;
  }
  PBRaycast2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal24.default.Reader ? input : import_minimal24.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBRaycast();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.originOffset = Vector3.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.direction = { $case: "localDirection", localDirection: Vector3.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = { $case: "globalDirection", globalDirection: Vector3.decode(reader, reader.uint32()) };
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.direction = { $case: "globalTarget", globalTarget: Vector3.decode(reader, reader.uint32()) };
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.direction = { $case: "targetEntity", targetEntity: reader.uint32() };
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.maxDistance = reader.float();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.queryType = reader.int32();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.continuous = reader.bool();
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.collisionMask = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBRaycast2.decode = decode;
})(PBRaycast || (PBRaycast = {}));

// node_modules/@dcl/ecs/dist/components/generated/Raycast.gen.js
var RaycastSchema = {
  COMPONENT_ID: 1067,
  serialize(value, builder) {
    const writer = PBRaycast.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBRaycast.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBRaycast.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBRaycast"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/raycast_result.gen.js
var import_minimal25 = __toESM(require_minimal2());
function createBasePBRaycastResult() {
  return { timestamp: void 0, globalOrigin: void 0, direction: void 0, hits: [], tickNumber: 0 };
}
var PBRaycastResult;
(function(PBRaycastResult2) {
  function encode(message, writer = import_minimal25.default.Writer.create()) {
    if (message.timestamp !== void 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.globalOrigin !== void 0) {
      Vector3.encode(message.globalOrigin, writer.uint32(18).fork()).ldelim();
    }
    if (message.direction !== void 0) {
      Vector3.encode(message.direction, writer.uint32(26).fork()).ldelim();
    }
    for (const v of message.hits) {
      RaycastHit.encode(v, writer.uint32(34).fork()).ldelim();
    }
    if (message.tickNumber !== 0) {
      writer.uint32(40).uint32(message.tickNumber);
    }
    return writer;
  }
  PBRaycastResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal25.default.Reader ? input : import_minimal25.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBRaycastResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.globalOrigin = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = Vector3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.hits.push(RaycastHit.decode(reader, reader.uint32()));
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBRaycastResult2.decode = decode;
})(PBRaycastResult || (PBRaycastResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/RaycastResult.gen.js
var RaycastResultSchema = {
  COMPONENT_ID: 1068,
  serialize(value, builder) {
    const writer = PBRaycastResult.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBRaycastResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBRaycastResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBRaycastResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/text_shape.gen.js
var import_minimal26 = __toESM(require_minimal2());
function createBasePBTextShape() {
  return {
    text: "",
    font: void 0,
    fontSize: void 0,
    fontAutoSize: void 0,
    textAlign: void 0,
    width: void 0,
    height: void 0,
    paddingTop: void 0,
    paddingRight: void 0,
    paddingBottom: void 0,
    paddingLeft: void 0,
    lineSpacing: void 0,
    lineCount: void 0,
    textWrapping: void 0,
    shadowBlur: void 0,
    shadowOffsetX: void 0,
    shadowOffsetY: void 0,
    outlineWidth: void 0,
    shadowColor: void 0,
    outlineColor: void 0,
    textColor: void 0
  };
}
var PBTextShape;
(function(PBTextShape2) {
  function encode(message, writer = import_minimal26.default.Writer.create()) {
    if (message.text !== "") {
      writer.uint32(10).string(message.text);
    }
    if (message.font !== void 0) {
      writer.uint32(16).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(29).float(message.fontSize);
    }
    if (message.fontAutoSize !== void 0) {
      writer.uint32(32).bool(message.fontAutoSize);
    }
    if (message.textAlign !== void 0) {
      writer.uint32(40).int32(message.textAlign);
    }
    if (message.width !== void 0) {
      writer.uint32(53).float(message.width);
    }
    if (message.height !== void 0) {
      writer.uint32(61).float(message.height);
    }
    if (message.paddingTop !== void 0) {
      writer.uint32(69).float(message.paddingTop);
    }
    if (message.paddingRight !== void 0) {
      writer.uint32(77).float(message.paddingRight);
    }
    if (message.paddingBottom !== void 0) {
      writer.uint32(85).float(message.paddingBottom);
    }
    if (message.paddingLeft !== void 0) {
      writer.uint32(93).float(message.paddingLeft);
    }
    if (message.lineSpacing !== void 0) {
      writer.uint32(101).float(message.lineSpacing);
    }
    if (message.lineCount !== void 0) {
      writer.uint32(104).int32(message.lineCount);
    }
    if (message.textWrapping !== void 0) {
      writer.uint32(112).bool(message.textWrapping);
    }
    if (message.shadowBlur !== void 0) {
      writer.uint32(125).float(message.shadowBlur);
    }
    if (message.shadowOffsetX !== void 0) {
      writer.uint32(133).float(message.shadowOffsetX);
    }
    if (message.shadowOffsetY !== void 0) {
      writer.uint32(141).float(message.shadowOffsetY);
    }
    if (message.outlineWidth !== void 0) {
      writer.uint32(149).float(message.outlineWidth);
    }
    if (message.shadowColor !== void 0) {
      Color3.encode(message.shadowColor, writer.uint32(154).fork()).ldelim();
    }
    if (message.outlineColor !== void 0) {
      Color3.encode(message.outlineColor, writer.uint32(162).fork()).ldelim();
    }
    if (message.textColor !== void 0) {
      Color4.encode(message.textColor, writer.uint32(170).fork()).ldelim();
    }
    return writer;
  }
  PBTextShape2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal26.default.Reader ? input : import_minimal26.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTextShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.text = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.fontSize = reader.float();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.fontAutoSize = reader.bool();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.width = reader.float();
          continue;
        case 7:
          if (tag !== 61) {
            break;
          }
          message.height = reader.float();
          continue;
        case 8:
          if (tag !== 69) {
            break;
          }
          message.paddingTop = reader.float();
          continue;
        case 9:
          if (tag !== 77) {
            break;
          }
          message.paddingRight = reader.float();
          continue;
        case 10:
          if (tag !== 85) {
            break;
          }
          message.paddingBottom = reader.float();
          continue;
        case 11:
          if (tag !== 93) {
            break;
          }
          message.paddingLeft = reader.float();
          continue;
        case 12:
          if (tag !== 101) {
            break;
          }
          message.lineSpacing = reader.float();
          continue;
        case 13:
          if (tag !== 104) {
            break;
          }
          message.lineCount = reader.int32();
          continue;
        case 14:
          if (tag !== 112) {
            break;
          }
          message.textWrapping = reader.bool();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.shadowBlur = reader.float();
          continue;
        case 16:
          if (tag !== 133) {
            break;
          }
          message.shadowOffsetX = reader.float();
          continue;
        case 17:
          if (tag !== 141) {
            break;
          }
          message.shadowOffsetY = reader.float();
          continue;
        case 18:
          if (tag !== 149) {
            break;
          }
          message.outlineWidth = reader.float();
          continue;
        case 19:
          if (tag !== 154) {
            break;
          }
          message.shadowColor = Color3.decode(reader, reader.uint32());
          continue;
        case 20:
          if (tag !== 162) {
            break;
          }
          message.outlineColor = Color3.decode(reader, reader.uint32());
          continue;
        case 21:
          if (tag !== 170) {
            break;
          }
          message.textColor = Color4.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTextShape2.decode = decode;
})(PBTextShape || (PBTextShape = {}));

// node_modules/@dcl/ecs/dist/components/generated/TextShape.gen.js
var TextShapeSchema = {
  COMPONENT_ID: 1030,
  serialize(value, builder) {
    const writer = PBTextShape.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBTextShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTextShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBTextShape"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/tween.gen.js
var import_minimal27 = __toESM(require_minimal2());
var EasingFunction;
(function(EasingFunction2) {
  EasingFunction2[EasingFunction2["EF_LINEAR"] = 0] = "EF_LINEAR";
  EasingFunction2[EasingFunction2["EF_EASEINQUAD"] = 1] = "EF_EASEINQUAD";
  EasingFunction2[EasingFunction2["EF_EASEOUTQUAD"] = 2] = "EF_EASEOUTQUAD";
  EasingFunction2[EasingFunction2["EF_EASEQUAD"] = 3] = "EF_EASEQUAD";
  EasingFunction2[EasingFunction2["EF_EASEINSINE"] = 4] = "EF_EASEINSINE";
  EasingFunction2[EasingFunction2["EF_EASEOUTSINE"] = 5] = "EF_EASEOUTSINE";
  EasingFunction2[EasingFunction2["EF_EASESINE"] = 6] = "EF_EASESINE";
  EasingFunction2[EasingFunction2["EF_EASEINEXPO"] = 7] = "EF_EASEINEXPO";
  EasingFunction2[EasingFunction2["EF_EASEOUTEXPO"] = 8] = "EF_EASEOUTEXPO";
  EasingFunction2[EasingFunction2["EF_EASEEXPO"] = 9] = "EF_EASEEXPO";
  EasingFunction2[EasingFunction2["EF_EASEINELASTIC"] = 10] = "EF_EASEINELASTIC";
  EasingFunction2[EasingFunction2["EF_EASEOUTELASTIC"] = 11] = "EF_EASEOUTELASTIC";
  EasingFunction2[EasingFunction2["EF_EASEELASTIC"] = 12] = "EF_EASEELASTIC";
  EasingFunction2[EasingFunction2["EF_EASEINBOUNCE"] = 13] = "EF_EASEINBOUNCE";
  EasingFunction2[EasingFunction2["EF_EASEOUTBOUNCE"] = 14] = "EF_EASEOUTBOUNCE";
  EasingFunction2[EasingFunction2["EF_EASEBOUNCE"] = 15] = "EF_EASEBOUNCE";
  EasingFunction2[EasingFunction2["EF_EASEINCUBIC"] = 16] = "EF_EASEINCUBIC";
  EasingFunction2[EasingFunction2["EF_EASEOUTCUBIC"] = 17] = "EF_EASEOUTCUBIC";
  EasingFunction2[EasingFunction2["EF_EASECUBIC"] = 18] = "EF_EASECUBIC";
  EasingFunction2[EasingFunction2["EF_EASEINQUART"] = 19] = "EF_EASEINQUART";
  EasingFunction2[EasingFunction2["EF_EASEOUTQUART"] = 20] = "EF_EASEOUTQUART";
  EasingFunction2[EasingFunction2["EF_EASEQUART"] = 21] = "EF_EASEQUART";
  EasingFunction2[EasingFunction2["EF_EASEINQUINT"] = 22] = "EF_EASEINQUINT";
  EasingFunction2[EasingFunction2["EF_EASEOUTQUINT"] = 23] = "EF_EASEOUTQUINT";
  EasingFunction2[EasingFunction2["EF_EASEQUINT"] = 24] = "EF_EASEQUINT";
  EasingFunction2[EasingFunction2["EF_EASEINCIRC"] = 25] = "EF_EASEINCIRC";
  EasingFunction2[EasingFunction2["EF_EASEOUTCIRC"] = 26] = "EF_EASEOUTCIRC";
  EasingFunction2[EasingFunction2["EF_EASECIRC"] = 27] = "EF_EASECIRC";
  EasingFunction2[EasingFunction2["EF_EASEINBACK"] = 28] = "EF_EASEINBACK";
  EasingFunction2[EasingFunction2["EF_EASEOUTBACK"] = 29] = "EF_EASEOUTBACK";
  EasingFunction2[EasingFunction2["EF_EASEBACK"] = 30] = "EF_EASEBACK";
})(EasingFunction || (EasingFunction = {}));
function createBasePBTween() {
  return { duration: 0, easingFunction: 0, mode: void 0, playing: void 0, currentTime: void 0 };
}
var PBTween;
(function(PBTween2) {
  function encode(message, writer = import_minimal27.default.Writer.create()) {
    if (message.duration !== 0) {
      writer.uint32(13).float(message.duration);
    }
    if (message.easingFunction !== 0) {
      writer.uint32(16).int32(message.easingFunction);
    }
    switch (message.mode?.$case) {
      case "move":
        Move.encode(message.mode.move, writer.uint32(26).fork()).ldelim();
        break;
      case "rotate":
        Rotate.encode(message.mode.rotate, writer.uint32(34).fork()).ldelim();
        break;
      case "scale":
        Scale.encode(message.mode.scale, writer.uint32(42).fork()).ldelim();
        break;
    }
    if (message.playing !== void 0) {
      writer.uint32(48).bool(message.playing);
    }
    if (message.currentTime !== void 0) {
      writer.uint32(61).float(message.currentTime);
    }
    return writer;
  }
  PBTween2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal27.default.Reader ? input : import_minimal27.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTween();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.duration = reader.float();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.easingFunction = reader.int32();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mode = { $case: "move", move: Move.decode(reader, reader.uint32()) };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mode = { $case: "rotate", rotate: Rotate.decode(reader, reader.uint32()) };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.mode = { $case: "scale", scale: Scale.decode(reader, reader.uint32()) };
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 7:
          if (tag !== 61) {
            break;
          }
          message.currentTime = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTween2.decode = decode;
})(PBTween || (PBTween = {}));
function createBaseMove() {
  return { start: void 0, end: void 0, faceDirection: void 0 };
}
var Move;
(function(Move2) {
  function encode(message, writer = import_minimal27.default.Writer.create()) {
    if (message.start !== void 0) {
      Vector3.encode(message.start, writer.uint32(10).fork()).ldelim();
    }
    if (message.end !== void 0) {
      Vector3.encode(message.end, writer.uint32(18).fork()).ldelim();
    }
    if (message.faceDirection !== void 0) {
      writer.uint32(24).bool(message.faceDirection);
    }
    return writer;
  }
  Move2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal27.default.Reader ? input : import_minimal27.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseMove();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.start = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.end = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.faceDirection = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Move2.decode = decode;
})(Move || (Move = {}));
function createBaseRotate() {
  return { start: void 0, end: void 0 };
}
var Rotate;
(function(Rotate2) {
  function encode(message, writer = import_minimal27.default.Writer.create()) {
    if (message.start !== void 0) {
      Quaternion.encode(message.start, writer.uint32(10).fork()).ldelim();
    }
    if (message.end !== void 0) {
      Quaternion.encode(message.end, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  Rotate2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal27.default.Reader ? input : import_minimal27.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRotate();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.start = Quaternion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.end = Quaternion.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Rotate2.decode = decode;
})(Rotate || (Rotate = {}));
function createBaseScale() {
  return { start: void 0, end: void 0 };
}
var Scale;
(function(Scale2) {
  function encode(message, writer = import_minimal27.default.Writer.create()) {
    if (message.start !== void 0) {
      Vector3.encode(message.start, writer.uint32(10).fork()).ldelim();
    }
    if (message.end !== void 0) {
      Vector3.encode(message.end, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  Scale2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal27.default.Reader ? input : import_minimal27.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseScale();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.start = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.end = Vector3.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Scale2.decode = decode;
})(Scale || (Scale = {}));

// node_modules/@dcl/ecs/dist/components/generated/Tween.gen.js
var TweenSchema = {
  COMPONENT_ID: 1102,
  serialize(value, builder) {
    const writer = PBTween.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBTween.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTween.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBTween"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/tween_sequence.gen.js
var import_minimal28 = __toESM(require_minimal2());
var TweenLoop;
(function(TweenLoop2) {
  TweenLoop2[TweenLoop2["TL_RESTART"] = 0] = "TL_RESTART";
  TweenLoop2[TweenLoop2["TL_YOYO"] = 1] = "TL_YOYO";
})(TweenLoop || (TweenLoop = {}));
function createBasePBTweenSequence() {
  return { sequence: [], loop: void 0 };
}
var PBTweenSequence;
(function(PBTweenSequence2) {
  function encode(message, writer = import_minimal28.default.Writer.create()) {
    for (const v of message.sequence) {
      PBTween.encode(v, writer.uint32(10).fork()).ldelim();
    }
    if (message.loop !== void 0) {
      writer.uint32(16).int32(message.loop);
    }
    return writer;
  }
  PBTweenSequence2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal28.default.Reader ? input : import_minimal28.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTweenSequence();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.sequence.push(PBTween.decode(reader, reader.uint32()));
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.loop = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTweenSequence2.decode = decode;
})(PBTweenSequence || (PBTweenSequence = {}));

// node_modules/@dcl/ecs/dist/components/generated/TweenSequence.gen.js
var TweenSequenceSchema = {
  COMPONENT_ID: 1104,
  serialize(value, builder) {
    const writer = PBTweenSequence.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBTweenSequence.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTweenSequence.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBTweenSequence"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/tween_state.gen.js
var import_minimal29 = __toESM(require_minimal2());
var TweenStateStatus;
(function(TweenStateStatus2) {
  TweenStateStatus2[TweenStateStatus2["TS_ACTIVE"] = 0] = "TS_ACTIVE";
  TweenStateStatus2[TweenStateStatus2["TS_COMPLETED"] = 1] = "TS_COMPLETED";
  TweenStateStatus2[TweenStateStatus2["TS_PAUSED"] = 2] = "TS_PAUSED";
})(TweenStateStatus || (TweenStateStatus = {}));
function createBasePBTweenState() {
  return { state: 0, currentTime: 0 };
}
var PBTweenState;
(function(PBTweenState2) {
  function encode(message, writer = import_minimal29.default.Writer.create()) {
    if (message.state !== 0) {
      writer.uint32(8).int32(message.state);
    }
    if (message.currentTime !== 0) {
      writer.uint32(21).float(message.currentTime);
    }
    return writer;
  }
  PBTweenState2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal29.default.Reader ? input : import_minimal29.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTweenState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.state = reader.int32();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.currentTime = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTweenState2.decode = decode;
})(PBTweenState || (PBTweenState = {}));

// node_modules/@dcl/ecs/dist/components/generated/TweenState.gen.js
var TweenStateSchema = {
  COMPONENT_ID: 1103,
  serialize(value, builder) {
    const writer = PBTweenState.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBTweenState.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTweenState.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBTweenState"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_background.gen.js
var import_minimal31 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/border_rect.gen.js
var import_minimal30 = __toESM(require_minimal2());
function createBaseBorderRect() {
  return { top: 0, left: 0, right: 0, bottom: 0 };
}
var BorderRect;
(function(BorderRect2) {
  function encode(message, writer = import_minimal30.default.Writer.create()) {
    if (message.top !== 0) {
      writer.uint32(13).float(message.top);
    }
    if (message.left !== 0) {
      writer.uint32(21).float(message.left);
    }
    if (message.right !== 0) {
      writer.uint32(29).float(message.right);
    }
    if (message.bottom !== 0) {
      writer.uint32(37).float(message.bottom);
    }
    return writer;
  }
  BorderRect2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal30.default.Reader ? input : import_minimal30.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseBorderRect();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.top = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.left = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.right = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.bottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  BorderRect2.decode = decode;
})(BorderRect || (BorderRect = {}));
function createBaseRect() {
  return { x: 0, y: 0, width: 0, height: 0 };
}
var Rect;
(function(Rect2) {
  function encode(message, writer = import_minimal30.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.width !== 0) {
      writer.uint32(29).float(message.width);
    }
    if (message.height !== 0) {
      writer.uint32(37).float(message.height);
    }
    return writer;
  }
  Rect2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal30.default.Reader ? input : import_minimal30.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRect();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.width = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.height = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Rect2.decode = decode;
})(Rect || (Rect = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_background.gen.js
var BackgroundTextureMode;
(function(BackgroundTextureMode2) {
  BackgroundTextureMode2[BackgroundTextureMode2["NINE_SLICES"] = 0] = "NINE_SLICES";
  BackgroundTextureMode2[BackgroundTextureMode2["CENTER"] = 1] = "CENTER";
  BackgroundTextureMode2[BackgroundTextureMode2["STRETCH"] = 2] = "STRETCH";
})(BackgroundTextureMode || (BackgroundTextureMode = {}));
function createBasePBUiBackground() {
  return { color: void 0, texture: void 0, textureMode: 0, textureSlices: void 0, uvs: [] };
}
var PBUiBackground;
(function(PBUiBackground2) {
  function encode(message, writer = import_minimal31.default.Writer.create()) {
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(10).fork()).ldelim();
    }
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(18).fork()).ldelim();
    }
    if (message.textureMode !== 0) {
      writer.uint32(24).int32(message.textureMode);
    }
    if (message.textureSlices !== void 0) {
      BorderRect.encode(message.textureSlices, writer.uint32(34).fork()).ldelim();
    }
    writer.uint32(42).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBUiBackground2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal31.default.Reader ? input : import_minimal31.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiBackground();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.textureMode = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.textureSlices = BorderRect.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag === 45) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 42) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiBackground2.decode = decode;
})(PBUiBackground || (PBUiBackground = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiBackground.gen.js
var UiBackgroundSchema = {
  COMPONENT_ID: 1053,
  serialize(value, builder) {
    const writer = PBUiBackground.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiBackground.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiBackground.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiBackground"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_canvas_information.gen.js
var import_minimal32 = __toESM(require_minimal2());
function createBasePBUiCanvasInformation() {
  return { devicePixelRatio: 0, width: 0, height: 0, interactableArea: void 0 };
}
var PBUiCanvasInformation;
(function(PBUiCanvasInformation2) {
  function encode(message, writer = import_minimal32.default.Writer.create()) {
    if (message.devicePixelRatio !== 0) {
      writer.uint32(13).float(message.devicePixelRatio);
    }
    if (message.width !== 0) {
      writer.uint32(16).int32(message.width);
    }
    if (message.height !== 0) {
      writer.uint32(24).int32(message.height);
    }
    if (message.interactableArea !== void 0) {
      BorderRect.encode(message.interactableArea, writer.uint32(34).fork()).ldelim();
    }
    return writer;
  }
  PBUiCanvasInformation2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal32.default.Reader ? input : import_minimal32.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiCanvasInformation();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.devicePixelRatio = reader.float();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.width = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.height = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.interactableArea = BorderRect.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiCanvasInformation2.decode = decode;
})(PBUiCanvasInformation || (PBUiCanvasInformation = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiCanvasInformation.gen.js
var UiCanvasInformationSchema = {
  COMPONENT_ID: 1054,
  serialize(value, builder) {
    const writer = PBUiCanvasInformation.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiCanvasInformation.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiCanvasInformation.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiCanvasInformation"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_dropdown.gen.js
var import_minimal33 = __toESM(require_minimal2());
function createBasePBUiDropdown() {
  return {
    acceptEmpty: false,
    emptyLabel: void 0,
    options: [],
    selectedIndex: void 0,
    disabled: false,
    color: void 0,
    textAlign: void 0,
    font: void 0,
    fontSize: void 0
  };
}
var PBUiDropdown;
(function(PBUiDropdown2) {
  function encode(message, writer = import_minimal33.default.Writer.create()) {
    if (message.acceptEmpty === true) {
      writer.uint32(8).bool(message.acceptEmpty);
    }
    if (message.emptyLabel !== void 0) {
      writer.uint32(18).string(message.emptyLabel);
    }
    for (const v of message.options) {
      writer.uint32(26).string(v);
    }
    if (message.selectedIndex !== void 0) {
      writer.uint32(32).int32(message.selectedIndex);
    }
    if (message.disabled === true) {
      writer.uint32(40).bool(message.disabled);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(50).fork()).ldelim();
    }
    if (message.textAlign !== void 0) {
      writer.uint32(80).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(88).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(96).int32(message.fontSize);
    }
    return writer;
  }
  PBUiDropdown2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal33.default.Reader ? input : import_minimal33.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiDropdown();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.acceptEmpty = reader.bool();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.emptyLabel = reader.string();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.options.push(reader.string());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.selectedIndex = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.disabled = reader.bool();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiDropdown2.decode = decode;
})(PBUiDropdown || (PBUiDropdown = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiDropdown.gen.js
var UiDropdownSchema = {
  COMPONENT_ID: 1094,
  serialize(value, builder) {
    const writer = PBUiDropdown.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiDropdown.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiDropdown.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiDropdown"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_dropdown_result.gen.js
var import_minimal34 = __toESM(require_minimal2());
function createBasePBUiDropdownResult() {
  return { value: 0 };
}
var PBUiDropdownResult;
(function(PBUiDropdownResult2) {
  function encode(message, writer = import_minimal34.default.Writer.create()) {
    if (message.value !== 0) {
      writer.uint32(8).int32(message.value);
    }
    return writer;
  }
  PBUiDropdownResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal34.default.Reader ? input : import_minimal34.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiDropdownResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.value = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiDropdownResult2.decode = decode;
})(PBUiDropdownResult || (PBUiDropdownResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiDropdownResult.gen.js
var UiDropdownResultSchema = {
  COMPONENT_ID: 1096,
  serialize(value, builder) {
    const writer = PBUiDropdownResult.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiDropdownResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiDropdownResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiDropdownResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_input.gen.js
var import_minimal35 = __toESM(require_minimal2());
function createBasePBUiInput() {
  return {
    placeholder: "",
    color: void 0,
    placeholderColor: void 0,
    disabled: false,
    textAlign: void 0,
    font: void 0,
    fontSize: void 0,
    value: void 0
  };
}
var PBUiInput;
(function(PBUiInput2) {
  function encode(message, writer = import_minimal35.default.Writer.create()) {
    if (message.placeholder !== "") {
      writer.uint32(10).string(message.placeholder);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(18).fork()).ldelim();
    }
    if (message.placeholderColor !== void 0) {
      Color4.encode(message.placeholderColor, writer.uint32(26).fork()).ldelim();
    }
    if (message.disabled === true) {
      writer.uint32(32).bool(message.disabled);
    }
    if (message.textAlign !== void 0) {
      writer.uint32(80).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(88).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(96).int32(message.fontSize);
    }
    if (message.value !== void 0) {
      writer.uint32(106).string(message.value);
    }
    return writer;
  }
  PBUiInput2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal35.default.Reader ? input : import_minimal35.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiInput();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.placeholder = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.placeholderColor = Color4.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.disabled = reader.bool();
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
        case 13:
          if (tag !== 106) {
            break;
          }
          message.value = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiInput2.decode = decode;
})(PBUiInput || (PBUiInput = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiInput.gen.js
var UiInputSchema = {
  COMPONENT_ID: 1093,
  serialize(value, builder) {
    const writer = PBUiInput.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiInput.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiInput.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiInput"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_input_result.gen.js
var import_minimal36 = __toESM(require_minimal2());
function createBasePBUiInputResult() {
  return { value: "" };
}
var PBUiInputResult;
(function(PBUiInputResult2) {
  function encode(message, writer = import_minimal36.default.Writer.create()) {
    if (message.value !== "") {
      writer.uint32(10).string(message.value);
    }
    return writer;
  }
  PBUiInputResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal36.default.Reader ? input : import_minimal36.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiInputResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.value = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiInputResult2.decode = decode;
})(PBUiInputResult || (PBUiInputResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiInputResult.gen.js
var UiInputResultSchema = {
  COMPONENT_ID: 1095,
  serialize(value, builder) {
    const writer = PBUiInputResult.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiInputResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiInputResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiInputResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_text.gen.js
var import_minimal37 = __toESM(require_minimal2());
function createBasePBUiText() {
  return { value: "", color: void 0, textAlign: void 0, font: void 0, fontSize: void 0 };
}
var PBUiText;
(function(PBUiText2) {
  function encode(message, writer = import_minimal37.default.Writer.create()) {
    if (message.value !== "") {
      writer.uint32(10).string(message.value);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(18).fork()).ldelim();
    }
    if (message.textAlign !== void 0) {
      writer.uint32(24).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(32).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(40).int32(message.fontSize);
    }
    return writer;
  }
  PBUiText2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal37.default.Reader ? input : import_minimal37.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiText();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.value = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiText2.decode = decode;
})(PBUiText || (PBUiText = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiText.gen.js
var UiTextSchema = {
  COMPONENT_ID: 1052,
  serialize(value, builder) {
    const writer = PBUiText.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiText.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiText.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiText"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_transform.gen.js
var import_minimal38 = __toESM(require_minimal2());
var YGPositionType;
(function(YGPositionType2) {
  YGPositionType2[YGPositionType2["YGPT_RELATIVE"] = 0] = "YGPT_RELATIVE";
  YGPositionType2[YGPositionType2["YGPT_ABSOLUTE"] = 1] = "YGPT_ABSOLUTE";
})(YGPositionType || (YGPositionType = {}));
var YGAlign;
(function(YGAlign2) {
  YGAlign2[YGAlign2["YGA_AUTO"] = 0] = "YGA_AUTO";
  YGAlign2[YGAlign2["YGA_FLEX_START"] = 1] = "YGA_FLEX_START";
  YGAlign2[YGAlign2["YGA_CENTER"] = 2] = "YGA_CENTER";
  YGAlign2[YGAlign2["YGA_FLEX_END"] = 3] = "YGA_FLEX_END";
  YGAlign2[YGAlign2["YGA_STRETCH"] = 4] = "YGA_STRETCH";
  YGAlign2[YGAlign2["YGA_BASELINE"] = 5] = "YGA_BASELINE";
  YGAlign2[YGAlign2["YGA_SPACE_BETWEEN"] = 6] = "YGA_SPACE_BETWEEN";
  YGAlign2[YGAlign2["YGA_SPACE_AROUND"] = 7] = "YGA_SPACE_AROUND";
})(YGAlign || (YGAlign = {}));
var YGUnit;
(function(YGUnit2) {
  YGUnit2[YGUnit2["YGU_UNDEFINED"] = 0] = "YGU_UNDEFINED";
  YGUnit2[YGUnit2["YGU_POINT"] = 1] = "YGU_POINT";
  YGUnit2[YGUnit2["YGU_PERCENT"] = 2] = "YGU_PERCENT";
  YGUnit2[YGUnit2["YGU_AUTO"] = 3] = "YGU_AUTO";
})(YGUnit || (YGUnit = {}));
var YGFlexDirection;
(function(YGFlexDirection2) {
  YGFlexDirection2[YGFlexDirection2["YGFD_ROW"] = 0] = "YGFD_ROW";
  YGFlexDirection2[YGFlexDirection2["YGFD_COLUMN"] = 1] = "YGFD_COLUMN";
  YGFlexDirection2[YGFlexDirection2["YGFD_COLUMN_REVERSE"] = 2] = "YGFD_COLUMN_REVERSE";
  YGFlexDirection2[YGFlexDirection2["YGFD_ROW_REVERSE"] = 3] = "YGFD_ROW_REVERSE";
})(YGFlexDirection || (YGFlexDirection = {}));
var YGWrap;
(function(YGWrap2) {
  YGWrap2[YGWrap2["YGW_NO_WRAP"] = 0] = "YGW_NO_WRAP";
  YGWrap2[YGWrap2["YGW_WRAP"] = 1] = "YGW_WRAP";
  YGWrap2[YGWrap2["YGW_WRAP_REVERSE"] = 2] = "YGW_WRAP_REVERSE";
})(YGWrap || (YGWrap = {}));
var YGJustify;
(function(YGJustify2) {
  YGJustify2[YGJustify2["YGJ_FLEX_START"] = 0] = "YGJ_FLEX_START";
  YGJustify2[YGJustify2["YGJ_CENTER"] = 1] = "YGJ_CENTER";
  YGJustify2[YGJustify2["YGJ_FLEX_END"] = 2] = "YGJ_FLEX_END";
  YGJustify2[YGJustify2["YGJ_SPACE_BETWEEN"] = 3] = "YGJ_SPACE_BETWEEN";
  YGJustify2[YGJustify2["YGJ_SPACE_AROUND"] = 4] = "YGJ_SPACE_AROUND";
  YGJustify2[YGJustify2["YGJ_SPACE_EVENLY"] = 5] = "YGJ_SPACE_EVENLY";
})(YGJustify || (YGJustify = {}));
var YGOverflow;
(function(YGOverflow2) {
  YGOverflow2[YGOverflow2["YGO_VISIBLE"] = 0] = "YGO_VISIBLE";
  YGOverflow2[YGOverflow2["YGO_HIDDEN"] = 1] = "YGO_HIDDEN";
  YGOverflow2[YGOverflow2["YGO_SCROLL"] = 2] = "YGO_SCROLL";
})(YGOverflow || (YGOverflow = {}));
var YGDisplay;
(function(YGDisplay2) {
  YGDisplay2[YGDisplay2["YGD_FLEX"] = 0] = "YGD_FLEX";
  YGDisplay2[YGDisplay2["YGD_NONE"] = 1] = "YGD_NONE";
})(YGDisplay || (YGDisplay = {}));
var YGEdge;
(function(YGEdge2) {
  YGEdge2[YGEdge2["YGE_LEFT"] = 0] = "YGE_LEFT";
  YGEdge2[YGEdge2["YGE_TOP"] = 1] = "YGE_TOP";
  YGEdge2[YGEdge2["YGE_RIGHT"] = 2] = "YGE_RIGHT";
  YGEdge2[YGEdge2["YGE_BOTTOM"] = 3] = "YGE_BOTTOM";
  YGEdge2[YGEdge2["YGE_START"] = 4] = "YGE_START";
  YGEdge2[YGEdge2["YGE_END"] = 5] = "YGE_END";
  YGEdge2[YGEdge2["YGE_HORIZONTAL"] = 6] = "YGE_HORIZONTAL";
  YGEdge2[YGEdge2["YGE_VERTICAL"] = 7] = "YGE_VERTICAL";
  YGEdge2[YGEdge2["YGE_ALL"] = 8] = "YGE_ALL";
})(YGEdge || (YGEdge = {}));
function createBasePBUiTransform() {
  return {
    parent: 0,
    rightOf: 0,
    alignContent: void 0,
    alignItems: void 0,
    flexWrap: void 0,
    flexShrink: void 0,
    positionType: 0,
    alignSelf: 0,
    flexDirection: 0,
    justifyContent: 0,
    overflow: 0,
    display: 0,
    flexBasisUnit: 0,
    flexBasis: 0,
    flexGrow: 0,
    widthUnit: 0,
    width: 0,
    heightUnit: 0,
    height: 0,
    minWidthUnit: 0,
    minWidth: 0,
    minHeightUnit: 0,
    minHeight: 0,
    maxWidthUnit: 0,
    maxWidth: 0,
    maxHeightUnit: 0,
    maxHeight: 0,
    positionLeftUnit: 0,
    positionLeft: 0,
    positionTopUnit: 0,
    positionTop: 0,
    positionRightUnit: 0,
    positionRight: 0,
    positionBottomUnit: 0,
    positionBottom: 0,
    marginLeftUnit: 0,
    marginLeft: 0,
    marginTopUnit: 0,
    marginTop: 0,
    marginRightUnit: 0,
    marginRight: 0,
    marginBottomUnit: 0,
    marginBottom: 0,
    paddingLeftUnit: 0,
    paddingLeft: 0,
    paddingTopUnit: 0,
    paddingTop: 0,
    paddingRightUnit: 0,
    paddingRight: 0,
    paddingBottomUnit: 0,
    paddingBottom: 0
  };
}
var PBUiTransform;
(function(PBUiTransform2) {
  function encode(message, writer = import_minimal38.default.Writer.create()) {
    if (message.parent !== 0) {
      writer.uint32(8).int32(message.parent);
    }
    if (message.rightOf !== 0) {
      writer.uint32(16).int32(message.rightOf);
    }
    if (message.alignContent !== void 0) {
      writer.uint32(24).int32(message.alignContent);
    }
    if (message.alignItems !== void 0) {
      writer.uint32(32).int32(message.alignItems);
    }
    if (message.flexWrap !== void 0) {
      writer.uint32(40).int32(message.flexWrap);
    }
    if (message.flexShrink !== void 0) {
      writer.uint32(53).float(message.flexShrink);
    }
    if (message.positionType !== 0) {
      writer.uint32(56).int32(message.positionType);
    }
    if (message.alignSelf !== 0) {
      writer.uint32(64).int32(message.alignSelf);
    }
    if (message.flexDirection !== 0) {
      writer.uint32(72).int32(message.flexDirection);
    }
    if (message.justifyContent !== 0) {
      writer.uint32(80).int32(message.justifyContent);
    }
    if (message.overflow !== 0) {
      writer.uint32(88).int32(message.overflow);
    }
    if (message.display !== 0) {
      writer.uint32(96).int32(message.display);
    }
    if (message.flexBasisUnit !== 0) {
      writer.uint32(104).int32(message.flexBasisUnit);
    }
    if (message.flexBasis !== 0) {
      writer.uint32(117).float(message.flexBasis);
    }
    if (message.flexGrow !== 0) {
      writer.uint32(125).float(message.flexGrow);
    }
    if (message.widthUnit !== 0) {
      writer.uint32(128).int32(message.widthUnit);
    }
    if (message.width !== 0) {
      writer.uint32(141).float(message.width);
    }
    if (message.heightUnit !== 0) {
      writer.uint32(144).int32(message.heightUnit);
    }
    if (message.height !== 0) {
      writer.uint32(157).float(message.height);
    }
    if (message.minWidthUnit !== 0) {
      writer.uint32(160).int32(message.minWidthUnit);
    }
    if (message.minWidth !== 0) {
      writer.uint32(173).float(message.minWidth);
    }
    if (message.minHeightUnit !== 0) {
      writer.uint32(176).int32(message.minHeightUnit);
    }
    if (message.minHeight !== 0) {
      writer.uint32(189).float(message.minHeight);
    }
    if (message.maxWidthUnit !== 0) {
      writer.uint32(192).int32(message.maxWidthUnit);
    }
    if (message.maxWidth !== 0) {
      writer.uint32(205).float(message.maxWidth);
    }
    if (message.maxHeightUnit !== 0) {
      writer.uint32(208).int32(message.maxHeightUnit);
    }
    if (message.maxHeight !== 0) {
      writer.uint32(221).float(message.maxHeight);
    }
    if (message.positionLeftUnit !== 0) {
      writer.uint32(224).int32(message.positionLeftUnit);
    }
    if (message.positionLeft !== 0) {
      writer.uint32(237).float(message.positionLeft);
    }
    if (message.positionTopUnit !== 0) {
      writer.uint32(240).int32(message.positionTopUnit);
    }
    if (message.positionTop !== 0) {
      writer.uint32(253).float(message.positionTop);
    }
    if (message.positionRightUnit !== 0) {
      writer.uint32(256).int32(message.positionRightUnit);
    }
    if (message.positionRight !== 0) {
      writer.uint32(269).float(message.positionRight);
    }
    if (message.positionBottomUnit !== 0) {
      writer.uint32(272).int32(message.positionBottomUnit);
    }
    if (message.positionBottom !== 0) {
      writer.uint32(285).float(message.positionBottom);
    }
    if (message.marginLeftUnit !== 0) {
      writer.uint32(288).int32(message.marginLeftUnit);
    }
    if (message.marginLeft !== 0) {
      writer.uint32(301).float(message.marginLeft);
    }
    if (message.marginTopUnit !== 0) {
      writer.uint32(304).int32(message.marginTopUnit);
    }
    if (message.marginTop !== 0) {
      writer.uint32(317).float(message.marginTop);
    }
    if (message.marginRightUnit !== 0) {
      writer.uint32(320).int32(message.marginRightUnit);
    }
    if (message.marginRight !== 0) {
      writer.uint32(333).float(message.marginRight);
    }
    if (message.marginBottomUnit !== 0) {
      writer.uint32(336).int32(message.marginBottomUnit);
    }
    if (message.marginBottom !== 0) {
      writer.uint32(349).float(message.marginBottom);
    }
    if (message.paddingLeftUnit !== 0) {
      writer.uint32(352).int32(message.paddingLeftUnit);
    }
    if (message.paddingLeft !== 0) {
      writer.uint32(365).float(message.paddingLeft);
    }
    if (message.paddingTopUnit !== 0) {
      writer.uint32(368).int32(message.paddingTopUnit);
    }
    if (message.paddingTop !== 0) {
      writer.uint32(381).float(message.paddingTop);
    }
    if (message.paddingRightUnit !== 0) {
      writer.uint32(384).int32(message.paddingRightUnit);
    }
    if (message.paddingRight !== 0) {
      writer.uint32(397).float(message.paddingRight);
    }
    if (message.paddingBottomUnit !== 0) {
      writer.uint32(400).int32(message.paddingBottomUnit);
    }
    if (message.paddingBottom !== 0) {
      writer.uint32(413).float(message.paddingBottom);
    }
    return writer;
  }
  PBUiTransform2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal38.default.Reader ? input : import_minimal38.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiTransform();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.parent = reader.int32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.rightOf = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.alignContent = reader.int32();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.alignItems = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.flexWrap = reader.int32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.flexShrink = reader.float();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.positionType = reader.int32();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.alignSelf = reader.int32();
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.flexDirection = reader.int32();
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.justifyContent = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.overflow = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.display = reader.int32();
          continue;
        case 13:
          if (tag !== 104) {
            break;
          }
          message.flexBasisUnit = reader.int32();
          continue;
        case 14:
          if (tag !== 117) {
            break;
          }
          message.flexBasis = reader.float();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.flexGrow = reader.float();
          continue;
        case 16:
          if (tag !== 128) {
            break;
          }
          message.widthUnit = reader.int32();
          continue;
        case 17:
          if (tag !== 141) {
            break;
          }
          message.width = reader.float();
          continue;
        case 18:
          if (tag !== 144) {
            break;
          }
          message.heightUnit = reader.int32();
          continue;
        case 19:
          if (tag !== 157) {
            break;
          }
          message.height = reader.float();
          continue;
        case 20:
          if (tag !== 160) {
            break;
          }
          message.minWidthUnit = reader.int32();
          continue;
        case 21:
          if (tag !== 173) {
            break;
          }
          message.minWidth = reader.float();
          continue;
        case 22:
          if (tag !== 176) {
            break;
          }
          message.minHeightUnit = reader.int32();
          continue;
        case 23:
          if (tag !== 189) {
            break;
          }
          message.minHeight = reader.float();
          continue;
        case 24:
          if (tag !== 192) {
            break;
          }
          message.maxWidthUnit = reader.int32();
          continue;
        case 25:
          if (tag !== 205) {
            break;
          }
          message.maxWidth = reader.float();
          continue;
        case 26:
          if (tag !== 208) {
            break;
          }
          message.maxHeightUnit = reader.int32();
          continue;
        case 27:
          if (tag !== 221) {
            break;
          }
          message.maxHeight = reader.float();
          continue;
        case 28:
          if (tag !== 224) {
            break;
          }
          message.positionLeftUnit = reader.int32();
          continue;
        case 29:
          if (tag !== 237) {
            break;
          }
          message.positionLeft = reader.float();
          continue;
        case 30:
          if (tag !== 240) {
            break;
          }
          message.positionTopUnit = reader.int32();
          continue;
        case 31:
          if (tag !== 253) {
            break;
          }
          message.positionTop = reader.float();
          continue;
        case 32:
          if (tag !== 256) {
            break;
          }
          message.positionRightUnit = reader.int32();
          continue;
        case 33:
          if (tag !== 269) {
            break;
          }
          message.positionRight = reader.float();
          continue;
        case 34:
          if (tag !== 272) {
            break;
          }
          message.positionBottomUnit = reader.int32();
          continue;
        case 35:
          if (tag !== 285) {
            break;
          }
          message.positionBottom = reader.float();
          continue;
        case 36:
          if (tag !== 288) {
            break;
          }
          message.marginLeftUnit = reader.int32();
          continue;
        case 37:
          if (tag !== 301) {
            break;
          }
          message.marginLeft = reader.float();
          continue;
        case 38:
          if (tag !== 304) {
            break;
          }
          message.marginTopUnit = reader.int32();
          continue;
        case 39:
          if (tag !== 317) {
            break;
          }
          message.marginTop = reader.float();
          continue;
        case 40:
          if (tag !== 320) {
            break;
          }
          message.marginRightUnit = reader.int32();
          continue;
        case 41:
          if (tag !== 333) {
            break;
          }
          message.marginRight = reader.float();
          continue;
        case 42:
          if (tag !== 336) {
            break;
          }
          message.marginBottomUnit = reader.int32();
          continue;
        case 43:
          if (tag !== 349) {
            break;
          }
          message.marginBottom = reader.float();
          continue;
        case 44:
          if (tag !== 352) {
            break;
          }
          message.paddingLeftUnit = reader.int32();
          continue;
        case 45:
          if (tag !== 365) {
            break;
          }
          message.paddingLeft = reader.float();
          continue;
        case 46:
          if (tag !== 368) {
            break;
          }
          message.paddingTopUnit = reader.int32();
          continue;
        case 47:
          if (tag !== 381) {
            break;
          }
          message.paddingTop = reader.float();
          continue;
        case 48:
          if (tag !== 384) {
            break;
          }
          message.paddingRightUnit = reader.int32();
          continue;
        case 49:
          if (tag !== 397) {
            break;
          }
          message.paddingRight = reader.float();
          continue;
        case 50:
          if (tag !== 400) {
            break;
          }
          message.paddingBottomUnit = reader.int32();
          continue;
        case 51:
          if (tag !== 413) {
            break;
          }
          message.paddingBottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiTransform2.decode = decode;
})(PBUiTransform || (PBUiTransform = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiTransform.gen.js
var UiTransformSchema = {
  COMPONENT_ID: 1050,
  serialize(value, builder) {
    const writer = PBUiTransform.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBUiTransform.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiTransform.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiTransform"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/video_event.gen.js
var import_minimal39 = __toESM(require_minimal2());
var VideoState;
(function(VideoState2) {
  VideoState2[VideoState2["VS_NONE"] = 0] = "VS_NONE";
  VideoState2[VideoState2["VS_ERROR"] = 1] = "VS_ERROR";
  VideoState2[VideoState2["VS_LOADING"] = 2] = "VS_LOADING";
  VideoState2[VideoState2["VS_READY"] = 3] = "VS_READY";
  VideoState2[VideoState2["VS_PLAYING"] = 4] = "VS_PLAYING";
  VideoState2[VideoState2["VS_BUFFERING"] = 5] = "VS_BUFFERING";
  VideoState2[VideoState2["VS_SEEKING"] = 6] = "VS_SEEKING";
  VideoState2[VideoState2["VS_PAUSED"] = 7] = "VS_PAUSED";
})(VideoState || (VideoState = {}));
function createBasePBVideoEvent() {
  return { timestamp: 0, tickNumber: 0, currentOffset: 0, videoLength: 0, state: 0 };
}
var PBVideoEvent;
(function(PBVideoEvent2) {
  function encode(message, writer = import_minimal39.default.Writer.create()) {
    if (message.timestamp !== 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(16).uint32(message.tickNumber);
    }
    if (message.currentOffset !== 0) {
      writer.uint32(29).float(message.currentOffset);
    }
    if (message.videoLength !== 0) {
      writer.uint32(37).float(message.videoLength);
    }
    if (message.state !== 0) {
      writer.uint32(40).int32(message.state);
    }
    return writer;
  }
  PBVideoEvent2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal39.default.Reader ? input : import_minimal39.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVideoEvent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.currentOffset = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.videoLength = reader.float();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.state = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVideoEvent2.decode = decode;
})(PBVideoEvent || (PBVideoEvent = {}));

// node_modules/@dcl/ecs/dist/components/generated/VideoEvent.gen.js
var VideoEventSchema = {
  COMPONENT_ID: 1044,
  serialize(value, builder) {
    const writer = PBVideoEvent.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBVideoEvent.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVideoEvent.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBVideoEvent"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/video_player.gen.js
var import_minimal40 = __toESM(require_minimal2());
function createBasePBVideoPlayer() {
  return {
    src: "",
    playing: void 0,
    position: void 0,
    volume: void 0,
    playbackRate: void 0,
    loop: void 0
  };
}
var PBVideoPlayer;
(function(PBVideoPlayer2) {
  function encode(message, writer = import_minimal40.default.Writer.create()) {
    if (message.src !== "") {
      writer.uint32(10).string(message.src);
    }
    if (message.playing !== void 0) {
      writer.uint32(16).bool(message.playing);
    }
    if (message.position !== void 0) {
      writer.uint32(29).float(message.position);
    }
    if (message.volume !== void 0) {
      writer.uint32(37).float(message.volume);
    }
    if (message.playbackRate !== void 0) {
      writer.uint32(45).float(message.playbackRate);
    }
    if (message.loop !== void 0) {
      writer.uint32(48).bool(message.loop);
    }
    return writer;
  }
  PBVideoPlayer2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal40.default.Reader ? input : import_minimal40.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVideoPlayer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.position = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.playbackRate = reader.float();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.loop = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVideoPlayer2.decode = decode;
})(PBVideoPlayer || (PBVideoPlayer = {}));

// node_modules/@dcl/ecs/dist/components/generated/VideoPlayer.gen.js
var VideoPlayerSchema = {
  COMPONENT_ID: 1043,
  serialize(value, builder) {
    const writer = PBVideoPlayer.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBVideoPlayer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVideoPlayer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBVideoPlayer"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/visibility_component.gen.js
var import_minimal41 = __toESM(require_minimal2());
function createBasePBVisibilityComponent() {
  return { visible: void 0 };
}
var PBVisibilityComponent;
(function(PBVisibilityComponent2) {
  function encode(message, writer = import_minimal41.default.Writer.create()) {
    if (message.visible !== void 0) {
      writer.uint32(8).bool(message.visible);
    }
    return writer;
  }
  PBVisibilityComponent2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal41.default.Reader ? input : import_minimal41.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVisibilityComponent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.visible = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVisibilityComponent2.decode = decode;
})(PBVisibilityComponent || (PBVisibilityComponent = {}));

// node_modules/@dcl/ecs/dist/components/generated/VisibilityComponent.gen.js
var VisibilityComponentSchema = {
  COMPONENT_ID: 1081,
  serialize(value, builder) {
    const writer = PBVisibilityComponent.encode(value);
    const buffer = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer, false);
  },
  deserialize(reader) {
    return PBVisibilityComponent.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVisibilityComponent.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBVisibilityComponent"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/index.gen.js
var Animator = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Animator", AnimatorSchema);
var AudioSource = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AudioSource", AudioSourceSchema);
var AudioStream = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AudioStream", AudioStreamSchema);
var AvatarAttach = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarAttach", AvatarAttachSchema);
var AvatarModifierArea = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarModifierArea", AvatarModifierAreaSchema);
var AvatarShape = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarShape", AvatarShapeSchema);
var Billboard = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Billboard", BillboardSchema);
var CameraMode = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::CameraMode", CameraModeSchema);
var CameraModeArea = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::CameraModeArea", CameraModeAreaSchema);
var EngineInfo = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::EngineInfo", EngineInfoSchema);
var GltfContainer = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::GltfContainer", GltfContainerSchema);
var GltfContainerLoadingState = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::GltfContainerLoadingState", GltfContainerLoadingStateSchema);
var Material = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Material", MaterialSchema);
var MeshCollider = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::MeshCollider", MeshColliderSchema);
var MeshRenderer = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::MeshRenderer", MeshRendererSchema);
var NftShape = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::NftShape", NftShapeSchema);
var PointerEvents = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::PointerEvents", PointerEventsSchema);
var PointerEventsResult = (engine2) => /* @__PURE__ */ engine2.defineValueSetComponentFromSchema("core::PointerEventsResult", PointerEventsResultSchema, {
  timestampFunction: (t) => t.timestamp,
  maxElements: 100
});
var PointerLock = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::PointerLock", PointerLockSchema);
var Raycast = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Raycast", RaycastSchema);
var RaycastResult = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::RaycastResult", RaycastResultSchema);
var TextShape = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::TextShape", TextShapeSchema);
var Tween = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Tween", TweenSchema);
var TweenSequence = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::TweenSequence", TweenSequenceSchema);
var TweenState = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::TweenState", TweenStateSchema);
var UiBackground = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiBackground", UiBackgroundSchema);
var UiCanvasInformation = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiCanvasInformation", UiCanvasInformationSchema);
var UiDropdown = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiDropdown", UiDropdownSchema);
var UiDropdownResult = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiDropdownResult", UiDropdownResultSchema);
var UiInput = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiInput", UiInputSchema);
var UiInputResult = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiInputResult", UiInputResultSchema);
var UiText = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiText", UiTextSchema);
var UiTransform = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiTransform", UiTransformSchema);
var VideoEvent = (engine2) => /* @__PURE__ */ engine2.defineValueSetComponentFromSchema("core::VideoEvent", VideoEventSchema, {
  timestampFunction: (t) => t.timestamp,
  maxElements: 100
});
var VideoPlayer = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::VideoPlayer", VideoPlayerSchema);
var VisibilityComponent = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::VisibilityComponent", VisibilityComponentSchema);
var componentDefinitionByName = {
  "core::Animator": Animator,
  "core::AudioSource": AudioSource,
  "core::AudioStream": AudioStream,
  "core::AvatarAttach": AvatarAttach,
  "core::AvatarModifierArea": AvatarModifierArea,
  "core::AvatarShape": AvatarShape,
  "core::Billboard": Billboard,
  "core::CameraMode": CameraMode,
  "core::CameraModeArea": CameraModeArea,
  "core::EngineInfo": EngineInfo,
  "core::GltfContainer": GltfContainer,
  "core::GltfContainerLoadingState": GltfContainerLoadingState,
  "core::Material": Material,
  "core::MeshCollider": MeshCollider,
  "core::MeshRenderer": MeshRenderer,
  "core::NftShape": NftShape,
  "core::PointerEvents": PointerEvents,
  "core::PointerEventsResult": PointerEventsResult,
  "core::PointerLock": PointerLock,
  "core::Raycast": Raycast,
  "core::RaycastResult": RaycastResult,
  "core::TextShape": TextShape,
  "core::Tween": Tween,
  "core::TweenSequence": TweenSequence,
  "core::TweenState": TweenState,
  "core::UiBackground": UiBackground,
  "core::UiCanvasInformation": UiCanvasInformation,
  "core::UiDropdown": UiDropdown,
  "core::UiDropdownResult": UiDropdownResult,
  "core::UiInput": UiInput,
  "core::UiInputResult": UiInputResult,
  "core::UiText": UiText,
  "core::UiTransform": UiTransform,
  "core::VideoEvent": VideoEvent,
  "core::VideoPlayer": VideoPlayer,
  "core::VisibilityComponent": VisibilityComponent
};

// node_modules/@dcl/ecs/dist/components/extended/Material.js
var TextureHelper = {
  Common(texture) {
    return {
      tex: {
        $case: "texture",
        texture
      }
    };
  },
  Avatar(avatarTexture) {
    return {
      tex: {
        $case: "avatarTexture",
        avatarTexture
      }
    };
  },
  Video(videoTexture) {
    return {
      tex: {
        $case: "videoTexture",
        videoTexture
      }
    };
  }
};
function defineMaterialComponent(engine2) {
  const theComponent = Material(engine2);
  return {
    ...theComponent,
    Texture: TextureHelper,
    setBasicMaterial(entity, material2) {
      theComponent.createOrReplace(entity, {
        material: {
          $case: "unlit",
          unlit: material2
        }
      });
    },
    setPbrMaterial(entity, material2) {
      theComponent.createOrReplace(entity, {
        material: {
          $case: "pbr",
          pbr: material2
        }
      });
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/MeshCollider.js
function defineMeshColliderComponent(engine2) {
  const theComponent = MeshCollider(engine2);
  function getCollisionMask(layers) {
    if (Array.isArray(layers)) {
      return layers.map((item) => item).reduce((prev, item) => prev | item, 0);
    } else if (layers) {
      return layers;
    }
  }
  return {
    ...theComponent,
    setBox(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "box", box: {} },
        collisionMask: getCollisionMask(colliderLayers)
      });
    },
    setPlane(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "plane", plane: {} },
        collisionMask: getCollisionMask(colliderLayers)
      });
    },
    setCylinder(entity, radiusBottom, radiusTop, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "cylinder", cylinder: { radiusBottom, radiusTop } },
        collisionMask: getCollisionMask(colliderLayers)
      });
    },
    setSphere(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "sphere", sphere: {} },
        collisionMask: getCollisionMask(colliderLayers)
      });
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/MeshRenderer.js
function defineMeshRendererComponent(engine2) {
  const theComponent = MeshRenderer(engine2);
  return {
    ...theComponent,
    setBox(entity, uvs) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "box", box: { uvs: uvs || [] } }
      });
    },
    setPlane(entity, uvs) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "plane", plane: { uvs: uvs || [] } }
      });
    },
    setCylinder(entity, radiusBottom, radiusTop) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "cylinder", cylinder: { radiusBottom, radiusTop } }
      });
    },
    setSphere(entity) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "sphere", sphere: {} }
      });
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/Tween.js
var TweenHelper = {
  Move(move) {
    return {
      $case: "move",
      move
    };
  },
  Rotate(rotate) {
    return {
      $case: "rotate",
      rotate
    };
  },
  Scale(scale) {
    return {
      $case: "scale",
      scale
    };
  }
};
function defineTweenComponent(engine2) {
  const theComponent = Tween(engine2);
  return {
    ...theComponent,
    Mode: TweenHelper
  };
}

// node_modules/@dcl/ecs/dist/schemas/Array.js
var IArray = (type) => {
  return {
    serialize(value, builder) {
      builder.writeUint32(value.length);
      for (const item of value) {
        type.serialize(item, builder);
      }
    },
    deserialize(reader) {
      const newArray = [];
      const length2 = reader.readUint32();
      for (let index = 0; index < length2; index++) {
        newArray.push(type.deserialize(reader));
      }
      return newArray;
    },
    create() {
      return [];
    },
    jsonSchema: {
      type: "array",
      items: type.jsonSchema,
      serializationType: "array"
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/basic/Boolean.js
var Bool = {
  serialize(value, builder) {
    builder.writeInt8(value ? 1 : 0);
  },
  deserialize(reader) {
    return reader.readInt8() === 1;
  },
  create() {
    return false;
  },
  jsonSchema: {
    type: "boolean",
    serializationType: "boolean"
  }
};

// node_modules/@dcl/ecs/dist/schemas/basic/Integer.js
var Int64 = {
  serialize(value, builder) {
    builder.writeInt64(BigInt(value));
  },
  deserialize(reader) {
    return Number(reader.readInt64());
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int64"
  }
};
var Int32 = {
  serialize(value, builder) {
    builder.writeInt32(value);
  },
  deserialize(reader) {
    return reader.readInt32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int32"
  }
};
var Int16 = {
  serialize(value, builder) {
    builder.writeInt16(value);
  },
  deserialize(reader) {
    return reader.readInt16();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int16"
  }
};
var Int8 = {
  serialize(value, builder) {
    builder.writeInt8(value);
  },
  deserialize(reader) {
    return reader.readInt8();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int8"
  }
};

// node_modules/@dcl/ecs/dist/schemas/basic/String.js
var FlatString = {
  serialize(value, builder) {
    builder.writeUtf8String(value);
  },
  deserialize(reader) {
    return reader.readUtf8String();
  },
  create() {
    return "";
  },
  jsonSchema: {
    type: "string",
    serializationType: "utf8-string"
  }
};
var EcsString = FlatString;

// node_modules/@dcl/ecs/dist/schemas/basic/Enum.js
function validateMemberValuesAreNumbersAndInRangeInt32(enumValue) {
  const MIN_VALUE2 = -(2 ** 31), MAX_VALUE2 = 2 ** 31 - 1;
  let valueCount = 0, totalCount = 0;
  for (const key in enumValue) {
    if (typeof enumValue[key] === "number") {
      if (enumValue[key] > MAX_VALUE2 || enumValue[key] < MIN_VALUE2) {
        throw new Error(`Enum member values must be numbers within the range of ${MIN_VALUE2} to ${MAX_VALUE2}.`);
      }
      valueCount++;
    }
    totalCount++;
  }
  if (totalCount !== valueCount * 2) {
    throw new Error("All enum member values must be of numeric type.");
  }
}
function validateMemberValuesAreStrings(enumValue) {
  for (const key in enumValue) {
    if (typeof enumValue[key] !== "string") {
      throw new Error("All enum member values must be of string type.");
    }
  }
}
var IntEnumReflectionType = "enum-int";
var IntEnum = (enumObject, defaultValue) => {
  validateMemberValuesAreNumbersAndInRangeInt32(enumObject);
  return {
    serialize(value, builder) {
      Int32.serialize(value, builder);
    },
    deserialize(reader) {
      return Int32.deserialize(reader);
    },
    create() {
      return defaultValue;
    },
    jsonSchema: {
      // JSON-schema
      type: "integer",
      enum: Object.values(enumObject).filter((item) => Number.isInteger(item)),
      default: defaultValue,
      // @dcl/ecs Schema Spec
      serializationType: IntEnumReflectionType,
      enumObject
    }
  };
};
var StringEnumReflectionType = "enum-string";
var StringEnum = (enumObject, defaultValue) => {
  validateMemberValuesAreStrings(enumObject);
  return {
    serialize(value, builder) {
      FlatString.serialize(value, builder);
    },
    deserialize(reader) {
      return FlatString.deserialize(reader);
    },
    create() {
      return defaultValue;
    },
    jsonSchema: {
      // JSON-schema
      type: "string",
      enum: Object.values(enumObject),
      default: defaultValue,
      // @dcl/ecs Schema Spec
      serializationType: StringEnumReflectionType,
      enumObject
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/basic/Float.js
var Float32 = {
  serialize(value, builder) {
    builder.writeFloat32(value);
  },
  deserialize(reader) {
    return reader.readFloat32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "number",
    serializationType: "float32"
  }
};
var Float64 = {
  serialize(value, builder) {
    builder.writeFloat64(value);
  },
  deserialize(reader) {
    return reader.readFloat64();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "number",
    serializationType: "float64"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Color3.js
var Color3Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.r);
    builder.writeFloat32(value.g);
    builder.writeFloat32(value.b);
  },
  deserialize(reader) {
    return {
      r: reader.readFloat32(),
      g: reader.readFloat32(),
      b: reader.readFloat32()
    };
  },
  create() {
    return { r: 0, g: 0, b: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      r: { type: "number" },
      g: { type: "number" },
      b: { type: "number" }
    },
    serializationType: "color3"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Color4.js
var Color4Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.r);
    builder.writeFloat32(value.g);
    builder.writeFloat32(value.b);
    builder.writeFloat32(value.a);
  },
  deserialize(reader) {
    return {
      r: reader.readFloat32(),
      g: reader.readFloat32(),
      b: reader.readFloat32(),
      a: reader.readFloat32()
    };
  },
  create() {
    return { r: 0, g: 0, b: 0, a: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      r: { type: "number" },
      g: { type: "number" },
      b: { type: "number" },
      a: { type: "number" }
    },
    serializationType: "color4"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Entity.js
var EntitySchema = {
  serialize(value, builder) {
    builder.writeInt32(value);
  },
  deserialize(reader) {
    return reader.readInt32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "entity"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Quaternion.js
var QuaternionSchema = {
  serialize(value, builder) {
    builder.writeFloat32(value.x);
    builder.writeFloat32(value.y);
    builder.writeFloat32(value.z);
    builder.writeFloat32(value.w);
  },
  deserialize(reader) {
    return {
      x: reader.readFloat32(),
      y: reader.readFloat32(),
      z: reader.readFloat32(),
      w: reader.readFloat32()
    };
  },
  create() {
    return { x: 0, y: 0, z: 0, w: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      x: { type: "number" },
      y: { type: "number" },
      z: { type: "number" },
      w: { type: "number" }
    },
    serializationType: "quaternion"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Vector3.js
var Vector3Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.x);
    builder.writeFloat32(value.y);
    builder.writeFloat32(value.z);
  },
  deserialize(reader) {
    return {
      x: reader.readFloat32(),
      y: reader.readFloat32(),
      z: reader.readFloat32()
    };
  },
  create() {
    return { x: 0, y: 0, z: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      x: { type: "number" },
      y: { type: "number" },
      z: { type: "number" },
      w: { type: "number" }
    },
    serializationType: "vector3"
  }
};

// node_modules/@dcl/ecs/dist/schemas/Map.js
var IMap = (spec, defaultValue) => {
  const specReflection = Object.keys(spec).reduce((specReflection2, currentKey) => {
    specReflection2[currentKey] = spec[currentKey].jsonSchema;
    return specReflection2;
  }, {});
  return {
    serialize(value, builder) {
      for (const key in spec) {
        spec[key].serialize(value[key], builder);
      }
    },
    deserialize(reader) {
      const newValue = {};
      for (const key in spec) {
        ;
        newValue[key] = spec[key].deserialize(reader);
      }
      return newValue;
    },
    create() {
      const newValue = {};
      for (const key in spec) {
        ;
        newValue[key] = spec[key].create();
      }
      return { ...newValue, ...defaultValue };
    },
    extend: (base) => {
      const newValue = {};
      for (const key in spec) {
        ;
        newValue[key] = spec[key].create();
      }
      return { ...newValue, ...defaultValue, ...base };
    },
    jsonSchema: {
      type: "object",
      properties: specReflection,
      serializationType: "map"
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/Optional.js
var IOptional = (spec) => {
  return {
    serialize(value, builder) {
      if (value) {
        builder.writeInt8(1);
        spec.serialize(value, builder);
      } else {
        builder.writeInt8(0);
      }
    },
    deserialize(reader) {
      const exists = reader.readInt8();
      if (exists) {
        return spec.deserialize(reader);
      }
    },
    create() {
      return void 0;
    },
    jsonSchema: {
      type: spec.jsonSchema.type,
      serializationType: "optional",
      optionalJsonSchema: spec.jsonSchema
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/OneOf.js
var IOneOf = (specs) => {
  const specKeys = Object.keys(specs);
  const keyToIndex = specKeys.reduce((dict, key, index) => {
    dict[key] = index;
    return dict;
  }, {});
  const specReflection = specKeys.reduce((specReflection2, currentKey) => {
    specReflection2[currentKey] = specs[currentKey].jsonSchema;
    return specReflection2;
  }, {});
  return {
    serialize({ $case, value }, builder) {
      const _value = keyToIndex[$case.toString()] + 1;
      builder.writeUint8(_value);
      specs[$case].serialize(value, builder);
    },
    deserialize(reader) {
      const $case = specKeys[reader.readInt8() - 1];
      const value = specs[$case].deserialize(reader);
      return { $case, value };
    },
    create() {
      return {};
    },
    jsonSchema: {
      type: "object",
      properties: specReflection,
      serializationType: "one-of"
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/buildSchema/utils.js
var isSchemaType = (value, types) => types.includes(value.serializationType);
var isOneOfJsonSchema = (type) => isSchemaType(type, ["one-of"]);
var getUnknownSchema = () => ({
  type: { type: "object", serializationType: "unknown" },
  value: void 0
});
var isCompoundType = (type) => isSchemaType(type, ["array", "map"]);
var getTypeAndValue = (properties, value, key) => {
  const type = properties[key];
  const valueKey = value[key];
  if (isOneOfJsonSchema(type)) {
    const typedMapValue = valueKey;
    if (!typedMapValue.$case)
      return getUnknownSchema();
    const propType = type.properties[typedMapValue.$case];
    if (isCompoundType(propType))
      value[key] = { [typedMapValue.$case]: typedMapValue.value };
    return { type: propType, value: typedMapValue.value };
  }
  return { type, value: valueKey };
};

// node_modules/@dcl/ecs/dist/schemas/buildSchema/index.js
var primitiveSchemas = {
  [Bool.jsonSchema.serializationType]: Bool,
  [EcsString.jsonSchema.serializationType]: EcsString,
  [Float32.jsonSchema.serializationType]: Float32,
  [Float64.jsonSchema.serializationType]: Float64,
  [Int8.jsonSchema.serializationType]: Int8,
  [Int16.jsonSchema.serializationType]: Int16,
  [Int32.jsonSchema.serializationType]: Int32,
  [Int64.jsonSchema.serializationType]: Int64,
  [Vector3Schema.jsonSchema.serializationType]: Vector3Schema,
  [QuaternionSchema.jsonSchema.serializationType]: QuaternionSchema,
  [Color3Schema.jsonSchema.serializationType]: Color3Schema,
  [Color4Schema.jsonSchema.serializationType]: Color4Schema,
  [EntitySchema.jsonSchema.serializationType]: EntitySchema
};
function jsonSchemaToSchema(jsonSchema) {
  if (primitiveSchemas[jsonSchema.serializationType]) {
    return primitiveSchemas[jsonSchema.serializationType];
  }
  if (jsonSchema.serializationType === "map") {
    const mapJsonSchema = jsonSchema;
    const spec = {};
    for (const key in mapJsonSchema.properties) {
      spec[key] = jsonSchemaToSchema(mapJsonSchema.properties[key]);
    }
    return IMap(spec);
  }
  if (jsonSchema.serializationType === "optional") {
    const withItemsJsonSchema = jsonSchema;
    return IOptional(jsonSchemaToSchema(withItemsJsonSchema.optionalJsonSchema));
  }
  if (jsonSchema.serializationType === "array") {
    const withItemsJsonSchema = jsonSchema;
    return IArray(jsonSchemaToSchema(withItemsJsonSchema.items));
  }
  if (jsonSchema.serializationType === "enum-int") {
    const enumJsonSchema = jsonSchema;
    return IntEnum(enumJsonSchema.enumObject, enumJsonSchema.default);
  }
  if (jsonSchema.serializationType === "enum-string") {
    const enumJsonSchema = jsonSchema;
    return StringEnum(enumJsonSchema.enumObject, enumJsonSchema.default);
  }
  if (jsonSchema.serializationType === "one-of") {
    const oneOfJsonSchema = jsonSchema;
    const spec = {};
    for (const key in oneOfJsonSchema.properties) {
      spec[key] = jsonSchemaToSchema(oneOfJsonSchema.properties[key]);
    }
    return IOneOf(spec);
  }
  throw new Error(`${jsonSchema.serializationType} is not supported as reverse schema generation.`);
}
function mutateValues(jsonSchema, value, mutateFn) {
  if (jsonSchema.serializationType === "map") {
    const { properties } = jsonSchema;
    const typedValue = value;
    for (const key in properties) {
      const { type, value: mapValue } = getTypeAndValue(properties, typedValue, key);
      if (type.serializationType === "unknown")
        continue;
      if (isCompoundType(type)) {
        mutateValues(type, mapValue, mutateFn);
      } else {
        const newValue = mutateFn(mapValue, type);
        if (newValue.changed) {
          typedValue[key] = newValue.value;
        }
      }
    }
  } else if (jsonSchema.serializationType === "array") {
    const { items } = jsonSchema;
    const arrayValue = value;
    for (let i = 0, n = arrayValue.length; i < n; i++) {
      const { type, value: value2 } = getTypeAndValue({ items }, { items: arrayValue[i] }, "items");
      if (isCompoundType(type)) {
        mutateValues(type, value2, mutateFn);
      } else {
        const newValue = mutateFn(value2, type);
        if (newValue.changed) {
          arrayValue[i] = newValue.value;
        }
      }
    }
  }
}

// node_modules/@dcl/ecs/dist/schemas/index.js
var Schemas;
(function(Schemas2) {
  Schemas2.Boolean = Bool;
  Schemas2.String = EcsString;
  Schemas2.Float = Float32;
  Schemas2.Double = Float64;
  Schemas2.Byte = Int8;
  Schemas2.Short = Int16;
  Schemas2.Int = Int32;
  Schemas2.Int64 = Int64;
  Schemas2.Number = Float32;
  Schemas2.Vector3 = Vector3Schema;
  Schemas2.Quaternion = QuaternionSchema;
  Schemas2.Color3 = Color3Schema;
  Schemas2.Color4 = Color4Schema;
  Schemas2.Entity = EntitySchema;
  Schemas2.EnumNumber = IntEnum;
  Schemas2.EnumString = StringEnum;
  Schemas2.Array = IArray;
  Schemas2.Map = IMap;
  Schemas2.Optional = IOptional;
  Schemas2.OneOf = IOneOf;
  Schemas2.fromJson = jsonSchemaToSchema;
  Schemas2.mutateNestedValues = mutateValues;
})(Schemas || (Schemas = {}));

// node_modules/@dcl/ecs/dist/components/manual/Name.js
function defineNameComponent(engine2) {
  const Name3 = engine2.defineComponent("core-schema::Name", {
    value: Schemas.String
  });
  return Name3;
}
var Name_default = defineNameComponent;

// node_modules/@dcl/ecs/dist/components/manual/Transform.js
var TRANSFORM_LENGTH = 44;
var TransformSchema = {
  serialize(value, builder) {
    const ptr = builder.incrementWriteOffset(TRANSFORM_LENGTH);
    builder.setFloat32(ptr, value.position.x);
    builder.setFloat32(ptr + 4, value.position.y);
    builder.setFloat32(ptr + 8, value.position.z);
    builder.setFloat32(ptr + 12, value.rotation.x);
    builder.setFloat32(ptr + 16, value.rotation.y);
    builder.setFloat32(ptr + 20, value.rotation.z);
    builder.setFloat32(ptr + 24, value.rotation.w);
    builder.setFloat32(ptr + 28, value.scale.x);
    builder.setFloat32(ptr + 32, value.scale.y);
    builder.setFloat32(ptr + 36, value.scale.z);
    builder.setUint32(ptr + 40, value.parent || 0);
  },
  deserialize(reader) {
    const ptr = reader.incrementReadOffset(TRANSFORM_LENGTH);
    return {
      position: {
        x: reader.getFloat32(ptr),
        y: reader.getFloat32(ptr + 4),
        z: reader.getFloat32(ptr + 8)
      },
      rotation: {
        x: reader.getFloat32(ptr + 12),
        y: reader.getFloat32(ptr + 16),
        z: reader.getFloat32(ptr + 20),
        w: reader.getFloat32(ptr + 24)
      },
      scale: {
        x: reader.getFloat32(ptr + 28),
        y: reader.getFloat32(ptr + 32),
        z: reader.getFloat32(ptr + 36)
      },
      parent: reader.getUint32(ptr + 40)
    };
  },
  create() {
    return {
      position: { x: 0, y: 0, z: 0 },
      scale: { x: 1, y: 1, z: 1 },
      rotation: { x: 0, y: 0, z: 0, w: 1 },
      parent: 0
    };
  },
  extend(value) {
    return {
      position: { x: 0, y: 0, z: 0 },
      scale: { x: 1, y: 1, z: 1 },
      rotation: { x: 0, y: 0, z: 0, w: 1 },
      parent: 0,
      ...value
    };
  },
  jsonSchema: {
    type: "object",
    properties: {
      position: {
        type: "object",
        properties: {
          x: { type: "number" },
          y: { type: "number" },
          z: { type: "number" }
        }
      },
      scale: {
        type: "object",
        properties: {
          x: { type: "number" },
          y: { type: "number" },
          z: { type: "number" }
        }
      },
      rotation: {
        type: "object",
        properties: {
          x: { type: "number" },
          y: { type: "number" },
          z: { type: "number" },
          w: { type: "number" }
        }
      },
      parent: { type: "integer" }
    },
    serializationType: "transform"
  }
};
function defineTransformComponent(engine2) {
  const transformDef = engine2.defineComponentFromSchema("core::Transform", TransformSchema);
  return {
    ...transformDef,
    create(entity, val) {
      return transformDef.create(entity, TransformSchema.extend(val));
    },
    createOrReplace(entity, val) {
      return transformDef.createOrReplace(entity, TransformSchema.extend(val));
    }
  };
}

// node_modules/@dcl/ecs/dist/components/index.js
var Transform = (engine2) => defineTransformComponent(engine2);
var Material2 = (engine2) => defineMaterialComponent(engine2);
var MeshRenderer2 = (engine2) => defineMeshRendererComponent(engine2);
var MeshCollider2 = (engine2) => defineMeshColliderComponent(engine2);
var Tween2 = (engine2) => defineTweenComponent(engine2);
var Name = (engine2) => Name_default(engine2);

// node_modules/@dcl/ecs/dist/components/generated/component-names.gen.js
var coreComponentMappings = {
  "core::Transform": 1,
  "core::Animator": 1042,
  "core::AudioSource": 1020,
  "core::AudioStream": 1021,
  "core::AvatarAttach": 1073,
  "core::AvatarBase": 1087,
  "core::AvatarEmoteCommand": 1088,
  "core::AvatarEquippedData": 1091,
  "core::AvatarModifierArea": 1070,
  "core::AvatarShape": 1080,
  "core::Billboard": 1090,
  "core::CameraMode": 1072,
  "core::CameraModeArea": 1071,
  "core::EngineInfo": 1048,
  "core::GltfContainer": 1041,
  "core::GltfContainerLoadingState": 1049,
  "core::Material": 1017,
  "core::MeshCollider": 1019,
  "core::MeshRenderer": 1018,
  "core::NftShape": 1040,
  "core::PlayerIdentityData": 1089,
  "core::PointerEvents": 1062,
  "core::PointerEventsResult": 1063,
  "core::PointerLock": 1074,
  "core::Raycast": 1067,
  "core::RaycastResult": 1068,
  "core::TextShape": 1030,
  "core::Tween": 1102,
  "core::TweenSequence": 1104,
  "core::TweenState": 1103,
  "core::UiBackground": 1053,
  "core::UiCanvasInformation": 1054,
  "core::UiDropdown": 1094,
  "core::UiDropdownResult": 1096,
  "core::UiInput": 1093,
  "core::UiInputResult": 1095,
  "core::UiText": 1052,
  "core::UiTransform": 1050,
  "core::VideoEvent": 1044,
  "core::VideoPlayer": 1043,
  "core::VisibilityComponent": 1081
};

// node_modules/@dcl/ecs/dist/components/component-number.js
var utf8 = __toESM(require_utf8());

// node_modules/@dcl/ecs/dist/runtime/crc.js
var CRC_TABLE = new Int32Array([
  0,
  1996959894,
  3993919788,
  2567524794,
  124634137,
  1886057615,
  3915621685,
  2657392035,
  249268274,
  2044508324,
  3772115230,
  2547177864,
  162941995,
  2125561021,
  3887607047,
  2428444049,
  498536548,
  1789927666,
  4089016648,
  2227061214,
  450548861,
  1843258603,
  4107580753,
  2211677639,
  325883990,
  1684777152,
  4251122042,
  2321926636,
  335633487,
  1661365465,
  4195302755,
  2366115317,
  997073096,
  1281953886,
  3579855332,
  2724688242,
  1006888145,
  1258607687,
  3524101629,
  2768942443,
  901097722,
  1119000684,
  3686517206,
  2898065728,
  853044451,
  1172266101,
  3705015759,
  2882616665,
  651767980,
  1373503546,
  3369554304,
  3218104598,
  565507253,
  1454621731,
  3485111705,
  3099436303,
  671266974,
  1594198024,
  3322730930,
  2970347812,
  795835527,
  1483230225,
  3244367275,
  3060149565,
  1994146192,
  31158534,
  2563907772,
  4023717930,
  1907459465,
  112637215,
  2680153253,
  3904427059,
  2013776290,
  251722036,
  2517215374,
  3775830040,
  2137656763,
  141376813,
  2439277719,
  3865271297,
  1802195444,
  476864866,
  2238001368,
  4066508878,
  1812370925,
  453092731,
  2181625025,
  4111451223,
  1706088902,
  314042704,
  2344532202,
  4240017532,
  1658658271,
  366619977,
  2362670323,
  4224994405,
  1303535960,
  984961486,
  2747007092,
  3569037538,
  1256170817,
  1037604311,
  2765210733,
  3554079995,
  1131014506,
  879679996,
  2909243462,
  3663771856,
  1141124467,
  855842277,
  2852801631,
  3708648649,
  1342533948,
  654459306,
  3188396048,
  3373015174,
  1466479909,
  544179635,
  3110523913,
  3462522015,
  1591671054,
  702138776,
  2966460450,
  3352799412,
  1504918807,
  783551873,
  3082640443,
  3233442989,
  3988292384,
  2596254646,
  62317068,
  1957810842,
  3939845945,
  2647816111,
  81470997,
  1943803523,
  3814918930,
  2489596804,
  225274430,
  2053790376,
  3826175755,
  2466906013,
  167816743,
  2097651377,
  4027552580,
  2265490386,
  503444072,
  1762050814,
  4150417245,
  2154129355,
  426522225,
  1852507879,
  4275313526,
  2312317920,
  282753626,
  1742555852,
  4189708143,
  2394877945,
  397917763,
  1622183637,
  3604390888,
  2714866558,
  953729732,
  1340076626,
  3518719985,
  2797360999,
  1068828381,
  1219638859,
  3624741850,
  2936675148,
  906185462,
  1090812512,
  3747672003,
  2825379669,
  829329135,
  1181335161,
  3412177804,
  3160834842,
  628085408,
  1382605366,
  3423369109,
  3138078467,
  570562233,
  1426400815,
  3317316542,
  2998733608,
  733239954,
  1555261956,
  3268935591,
  3050360625,
  752459403,
  1541320221,
  2607071920,
  3965973030,
  1969922972,
  40735498,
  2617837225,
  3943577151,
  1913087877,
  83908371,
  2512341634,
  3803740692,
  2075208622,
  213261112,
  2463272603,
  3855990285,
  2094854071,
  198958881,
  2262029012,
  4057260610,
  1759359992,
  534414190,
  2176718541,
  4139329115,
  1873836001,
  414664567,
  2282248934,
  4279200368,
  1711684554,
  285281116,
  2405801727,
  4167216745,
  1634467795,
  376229701,
  2685067896,
  3608007406,
  1308918612,
  956543938,
  2808555105,
  3495958263,
  1231636301,
  1047427035,
  2932959818,
  3654703836,
  1088359270,
  936918e3,
  2847714899,
  3736837829,
  1202900863,
  817233897,
  3183342108,
  3401237130,
  1404277552,
  615818150,
  3134207493,
  3453421203,
  1423857449,
  601450431,
  3009837614,
  3294710456,
  1567103746,
  711928724,
  3020668471,
  3272380065,
  1510334235,
  755167117
]);
function _crc32(buf, previous) {
  let crc = ~~previous ^ -1;
  for (let n = 0; n < buf.length; n++) {
    crc = CRC_TABLE[(crc ^ buf[n]) & 255] ^ crc >>> 8;
  }
  return crc ^ -1;
}
function unsignedCRC32(data, prev = 0) {
  return _crc32(data, prev) >>> 0;
}

// node_modules/@dcl/ecs/dist/components/component-number.js
var MAX_STATIC_COMPONENT = 1 << 11;
function componentNumberFromName(componentName) {
  if (coreComponentMappings[componentName])
    return coreComponentMappings[componentName];
  const bytes = new Uint8Array(128);
  utf8.write(componentName, bytes, 0);
  return (unsignedCRC32(bytes) + MAX_STATIC_COMPONENT & 4294967295) >>> 0;
}

// node_modules/@dcl/ecs/dist/runtime/invariant.js
var __DEV__ = true;
function checkNotThenable(t, error) {
  if (__DEV__) {
    if (t && typeof t === "object" && typeof t.then === "function") {
      throw new Error(error);
    }
  }
  return t;
}

// node_modules/@dcl/ecs/dist/systems/crdt/gset.js
function createVersionGSet() {
  const lastVersion = /* @__PURE__ */ new Map();
  return {
    /**
     *
     * @param number
     * @param version
     * @returns
     */
    addTo(number, version) {
      if (version < 0) {
        return false;
      }
      const currentValue = lastVersion.get(number);
      if (currentValue !== void 0 && currentValue >= version) {
        return true;
      }
      lastVersion.set(number, version);
      return true;
    },
    /**
     * @returns the set with [number, version] of each value
     */
    has(n, v) {
      const currentValue = lastVersion.get(n);
      if (currentValue !== void 0 && currentValue >= v) {
        return true;
      }
      return false;
    },
    /**
     * Warning: this function returns the reference to the internal map,
     *  if you need to mutate some value, make a copy.
     * For optimization purpose the copy isn't made here.
     *
     * @returns the map of number to version
     */
    getMap() {
      return lastVersion;
    }
  };
}

// node_modules/@dcl/ecs/dist/engine/entity.js
var MAX_U16 = 65535;
var MASK_UPPER_16_ON_32 = 4294901760;
var AMOUNT_VERSION_AVAILABLE = MAX_U16 + 1;
var MAX_ENTITY_NUMBER = MAX_U16;
var RESERVED_STATIC_ENTITIES = 512;
var RESERVED_LOCAL_ENTITIES = MAX_ENTITY_NUMBER;
var EntityUtils;
(function(EntityUtils2) {
  function fromEntityId(entityId) {
    return [(entityId & MAX_U16) >>> 0, ((entityId & MASK_UPPER_16_ON_32) >> 16 & MAX_U16) >>> 0];
  }
  EntityUtils2.fromEntityId = fromEntityId;
  function toEntityId(entityNumber, entityVersion) {
    return (entityNumber & MAX_U16 | (entityVersion & MAX_U16) << 16) >>> 0;
  }
  EntityUtils2.toEntityId = toEntityId;
})(EntityUtils || (EntityUtils = {}));
var EntityState;
(function(EntityState2) {
  EntityState2[EntityState2["Unknown"] = 0] = "Unknown";
  EntityState2[EntityState2["UsedEntity"] = 1] = "UsedEntity";
  EntityState2[EntityState2["Removed"] = 2] = "Removed";
  EntityState2[EntityState2["Reserved"] = 3] = "Reserved";
})(EntityState || (EntityState = {}));
function EntityContainer() {
  let entityCounter = RESERVED_STATIC_ENTITIES;
  let networkEntityCounter;
  let networkedEntitiesRange;
  const usedEntities = /* @__PURE__ */ new Set();
  let toRemoveEntities = [];
  const removedEntities = createVersionGSet();
  let localEntitiesAvailable = RESERVED_LOCAL_ENTITIES;
  function setNetworkEntitiesRange(reservedLocalEntities, range) {
    localEntitiesAvailable = reservedLocalEntities;
    networkedEntitiesRange = range;
    networkEntityCounter = range[0];
  }
  function generateNewEntity(networked) {
    if (entityCounter > MAX_ENTITY_NUMBER - 1) {
      throw new Error(`It fails trying to generate an entity out of range ${MAX_ENTITY_NUMBER}.`);
    }
    if (networked && networkEntityCounter > networkedEntitiesRange[1]) {
      throw new Error(`Max amount of network entities reached ${networkedEntitiesRange[1]} `);
    }
    if (!networked && entityCounter >= localEntitiesAvailable) {
      throw new Error(`Max amount of local entities reached ${localEntitiesAvailable}`);
    }
    const entityNumber = networked ? networkEntityCounter++ : entityCounter++;
    const entityVersion = removedEntities.getMap().has(entityNumber) ? removedEntities.getMap().get(entityNumber) + 1 : 0;
    const entity = EntityUtils.toEntityId(entityNumber, entityVersion);
    if (usedEntities.has(entity)) {
      return generateNewEntity();
    }
    usedEntities.add(entity);
    return entity;
  }
  function generateEntity(networked) {
    if (networked && !networkedEntitiesRange) {
      throw new Error("Network entities ranged not initialized. Connect to a CRDT Server");
    }
    const usedNetworkSize = (networkedEntitiesRange && [...usedEntities.values()].filter(($) => {
      const [entityId] = EntityUtils.fromEntityId($);
      return entityId >= networkedEntitiesRange[0] && entityId <= networkedEntitiesRange[1];
    }).length) ?? 0;
    const usedSize = usedEntities.size - usedNetworkSize;
    if (!networked && usedSize + RESERVED_STATIC_ENTITIES >= entityCounter) {
      return generateNewEntity(networked);
    }
    if (networked && usedNetworkSize + networkedEntitiesRange[0] >= networkEntityCounter) {
      return generateNewEntity(networked);
    }
    for (const [number, version] of removedEntities.getMap()) {
      if (version < MAX_U16) {
        if (networked && (number < networkedEntitiesRange[0] || number > networkedEntitiesRange[1]))
          continue;
        if (!networked && number >= localEntitiesAvailable)
          continue;
        const entity = EntityUtils.toEntityId(number, version + 1);
        if (!usedEntities.has(entity) && !toRemoveEntities.includes(entity)) {
          usedEntities.add(entity);
          return entity;
        }
      }
    }
    return generateNewEntity(networked);
  }
  function removeEntity(entity) {
    if (entity < RESERVED_STATIC_ENTITIES)
      return false;
    if (usedEntities.has(entity)) {
      usedEntities.delete(entity);
      toRemoveEntities.push(entity);
    } else {
      updateRemovedEntity(entity);
    }
    return true;
  }
  function releaseRemovedEntities() {
    const arr = toRemoveEntities;
    if (arr.length) {
      toRemoveEntities = [];
      for (const entity of arr) {
        const [n, v] = EntityUtils.fromEntityId(entity);
        removedEntities.addTo(n, v);
      }
    }
    return arr;
  }
  function updateRemovedEntity(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    removedEntities.addTo(n, v);
    for (let i = 0; i <= v; i++) {
      usedEntities.delete(EntityUtils.toEntityId(n, i));
    }
    return true;
  }
  function updateUsedEntity(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    if (removedEntities.has(n, v))
      return false;
    if (v > 0) {
      for (let i = 0; i <= v - 1; i++) {
        usedEntities.delete(EntityUtils.toEntityId(n, i));
      }
      removedEntities.addTo(n, v - 1);
    }
    usedEntities.add(entity);
    return true;
  }
  function getEntityState(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    if (n < RESERVED_STATIC_ENTITIES) {
      return EntityState.Reserved;
    }
    if (usedEntities.has(entity)) {
      return EntityState.UsedEntity;
    }
    const removedVersion = removedEntities.getMap().get(n);
    if (removedVersion !== void 0 && removedVersion >= v) {
      return EntityState.Removed;
    }
    return EntityState.Unknown;
  }
  return {
    setNetworkEntitiesRange,
    generateEntity,
    removeEntity,
    getExistingEntities() {
      return new Set(usedEntities);
    },
    getEntityState,
    releaseRemovedEntities,
    updateRemovedEntity,
    updateUsedEntity
  };
}

// node_modules/@dcl/ecs/dist/serialization/ByteBuffer/index.js
var utf82 = __toESM(require_utf8());
var __classPrivateFieldGet = function(receiver, state, kind, f) {
  if (kind === "a" && !f)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _ReadWriteByteBuffer_instances;
var _ReadWriteByteBuffer_woAdd;
var _ReadWriteByteBuffer_roAdd;
function getNextSize(currentSize, intendedSize) {
  const minNewSize = Math.max(currentSize, intendedSize) + 1024;
  return Math.ceil(minNewSize / 1024) * 1024;
}
var defaultInitialCapacity = 10240;
var ReadWriteByteBuffer = class {
  /**
   * @param buffer - The initial buffer, provide a buffer if you need to set "initial capacity"
   * @param readingOffset - Set the cursor where begins to read. Default 0
   * @param writingOffset - Set the cursor to not start writing from the begin of it. Defaults to the buffer size
   */
  constructor(buffer, readingOffset, writingOffset) {
    _ReadWriteByteBuffer_instances.add(this);
    this._buffer = buffer || new Uint8Array(defaultInitialCapacity);
    this.view = new DataView(this._buffer.buffer, this._buffer.byteOffset);
    this.woffset = writingOffset ?? (buffer ? this._buffer.length : null) ?? 0;
    this.roffset = readingOffset ?? 0;
  }
  buffer() {
    return this._buffer;
  }
  bufferLength() {
    return this._buffer.length;
  }
  resetBuffer() {
    this.roffset = 0;
    this.woffset = 0;
  }
  currentReadOffset() {
    return this.roffset;
  }
  currentWriteOffset() {
    return this.woffset;
  }
  incrementReadOffset(amount) {
    return __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, amount);
  }
  remainingBytes() {
    return this.woffset - this.roffset;
  }
  readFloat32() {
    return this.view.getFloat32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
  }
  readFloat64() {
    return this.view.getFloat64(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 8), true);
  }
  readInt8() {
    return this.view.getInt8(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 1));
  }
  readInt16() {
    return this.view.getInt16(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 2), true);
  }
  readInt32() {
    return this.view.getInt32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
  }
  readInt64() {
    return this.view.getBigInt64(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 8), true);
  }
  readUint8() {
    return this.view.getUint8(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 1));
  }
  readUint16() {
    return this.view.getUint16(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 2), true);
  }
  readUint32() {
    return this.view.getUint32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
  }
  readUint64() {
    return this.view.getBigUint64(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 8), true);
  }
  readBuffer() {
    const length2 = this.view.getUint32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
    return this._buffer.subarray(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, length2), __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 0));
  }
  readUtf8String() {
    const length2 = this.view.getUint32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
    return utf82.read(this._buffer, __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, length2), __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 0));
  }
  incrementWriteOffset(amount) {
    return __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, amount);
  }
  toBinary() {
    return this._buffer.subarray(0, this.woffset);
  }
  toCopiedBinary() {
    return new Uint8Array(this.toBinary());
  }
  writeBuffer(value, writeLength = true) {
    if (writeLength) {
      this.writeUint32(value.byteLength);
    }
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, value.byteLength);
    this._buffer.set(value, o);
  }
  writeUtf8String(value, writeLength = true) {
    const byteLength = utf82.length(value);
    if (writeLength) {
      this.writeUint32(byteLength);
    }
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, byteLength);
    utf82.write(value, this._buffer, o);
  }
  writeFloat32(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 4);
    this.view.setFloat32(o, value, true);
  }
  writeFloat64(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 8);
    this.view.setFloat64(o, value, true);
  }
  writeInt8(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 1);
    this.view.setInt8(o, value);
  }
  writeInt16(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 2);
    this.view.setInt16(o, value, true);
  }
  writeInt32(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 4);
    this.view.setInt32(o, value, true);
  }
  writeInt64(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 8);
    this.view.setBigInt64(o, value, true);
  }
  writeUint8(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 1);
    this.view.setUint8(o, value);
  }
  writeUint16(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 2);
    this.view.setUint16(o, value, true);
  }
  writeUint32(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 4);
    this.view.setUint32(o, value, true);
  }
  writeUint64(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 8);
    this.view.setBigUint64(o, value, true);
  }
  // DataView Proxy
  getFloat32(offset) {
    return this.view.getFloat32(offset, true);
  }
  getFloat64(offset) {
    return this.view.getFloat64(offset, true);
  }
  getInt8(offset) {
    return this.view.getInt8(offset);
  }
  getInt16(offset) {
    return this.view.getInt16(offset, true);
  }
  getInt32(offset) {
    return this.view.getInt32(offset, true);
  }
  getInt64(offset) {
    return this.view.getBigInt64(offset, true);
  }
  getUint8(offset) {
    return this.view.getUint8(offset);
  }
  getUint16(offset) {
    return this.view.getUint16(offset, true);
  }
  getUint32(offset) {
    return this.view.getUint32(offset, true);
  }
  getUint64(offset) {
    return this.view.getBigUint64(offset, true);
  }
  setFloat32(offset, value) {
    this.view.setFloat32(offset, value, true);
  }
  setFloat64(offset, value) {
    this.view.setFloat64(offset, value, true);
  }
  setInt8(offset, value) {
    this.view.setInt8(offset, value);
  }
  setInt16(offset, value) {
    this.view.setInt16(offset, value, true);
  }
  setInt32(offset, value) {
    this.view.setInt32(offset, value, true);
  }
  setInt64(offset, value) {
    this.view.setBigInt64(offset, value, true);
  }
  setUint8(offset, value) {
    this.view.setUint8(offset, value);
  }
  setUint16(offset, value) {
    this.view.setUint16(offset, value, true);
  }
  setUint32(offset, value) {
    this.view.setUint32(offset, value, true);
  }
  setUint64(offset, value) {
    this.view.setBigUint64(offset, value, true);
  }
};
_ReadWriteByteBuffer_instances = /* @__PURE__ */ new WeakSet(), _ReadWriteByteBuffer_woAdd = function _ReadWriteByteBuffer_woAdd2(amount) {
  if (this.woffset + amount > this._buffer.byteLength) {
    const newsize = getNextSize(this._buffer.byteLength, this.woffset + amount);
    const newBuffer = new Uint8Array(newsize);
    newBuffer.set(this._buffer);
    const oldOffset = this._buffer.byteOffset;
    this._buffer = newBuffer;
    this.view = new DataView(this._buffer.buffer, oldOffset);
  }
  this.woffset += amount;
  return this.woffset - amount;
}, _ReadWriteByteBuffer_roAdd = function _ReadWriteByteBuffer_roAdd2(amount) {
  if (this.roffset + amount > this.woffset) {
    throw new Error("Outside of the bounds of writen data.");
  }
  this.roffset += amount;
  return this.roffset - amount;
};

// node_modules/@dcl/ecs/dist/serialization/crdt/types.js
var CrdtMessageType;
(function(CrdtMessageType2) {
  CrdtMessageType2[CrdtMessageType2["RESERVED"] = 0] = "RESERVED";
  CrdtMessageType2[CrdtMessageType2["PUT_COMPONENT"] = 1] = "PUT_COMPONENT";
  CrdtMessageType2[CrdtMessageType2["DELETE_COMPONENT"] = 2] = "DELETE_COMPONENT";
  CrdtMessageType2[CrdtMessageType2["DELETE_ENTITY"] = 3] = "DELETE_ENTITY";
  CrdtMessageType2[CrdtMessageType2["APPEND_VALUE"] = 4] = "APPEND_VALUE";
  CrdtMessageType2[CrdtMessageType2["MAX_MESSAGE_TYPE"] = 5] = "MAX_MESSAGE_TYPE";
})(CrdtMessageType || (CrdtMessageType = {}));
var CRDT_MESSAGE_HEADER_LENGTH = 8;
var ProcessMessageResultType;
(function(ProcessMessageResultType2) {
  ProcessMessageResultType2[ProcessMessageResultType2["StateUpdatedTimestamp"] = 1] = "StateUpdatedTimestamp";
  ProcessMessageResultType2[ProcessMessageResultType2["StateOutdatedTimestamp"] = 2] = "StateOutdatedTimestamp";
  ProcessMessageResultType2[ProcessMessageResultType2["NoChanges"] = 3] = "NoChanges";
  ProcessMessageResultType2[ProcessMessageResultType2["StateOutdatedData"] = 4] = "StateOutdatedData";
  ProcessMessageResultType2[ProcessMessageResultType2["StateUpdatedData"] = 5] = "StateUpdatedData";
  ProcessMessageResultType2[ProcessMessageResultType2["EntityWasDeleted"] = 6] = "EntityWasDeleted";
  ProcessMessageResultType2[ProcessMessageResultType2["EntityDeleted"] = 7] = "EntityDeleted";
})(ProcessMessageResultType || (ProcessMessageResultType = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/crdtMessageProtocol.js
var CrdtMessageProtocol;
(function(CrdtMessageProtocol2) {
  function validate(buf) {
    const rem = buf.remainingBytes();
    if (rem < CRDT_MESSAGE_HEADER_LENGTH) {
      return false;
    }
    const messageLength = buf.getUint32(buf.currentReadOffset());
    if (rem < messageLength) {
      return false;
    }
    return true;
  }
  CrdtMessageProtocol2.validate = validate;
  function readHeader(buf) {
    if (!validate(buf)) {
      return null;
    }
    return {
      length: buf.readUint32(),
      type: buf.readUint32()
    };
  }
  CrdtMessageProtocol2.readHeader = readHeader;
  function getHeader(buf) {
    if (!validate(buf)) {
      return null;
    }
    const currentOffset = buf.currentReadOffset();
    return {
      length: buf.getUint32(currentOffset),
      type: buf.getUint32(currentOffset + 4)
    };
  }
  CrdtMessageProtocol2.getHeader = getHeader;
  function consumeMessage(buf) {
    const header = getHeader(buf);
    if (!header) {
      return false;
    }
    buf.incrementReadOffset(header.length);
    return true;
  }
  CrdtMessageProtocol2.consumeMessage = consumeMessage;
})(CrdtMessageProtocol || (CrdtMessageProtocol = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/deleteComponent.js
var DeleteComponent;
(function(DeleteComponent2) {
  DeleteComponent2.MESSAGE_HEADER_LENGTH = 12;
  function write3(entity, componentId, timestamp, buf) {
    const messageLength = CRDT_MESSAGE_HEADER_LENGTH + DeleteComponent2.MESSAGE_HEADER_LENGTH;
    const startMessageOffset = buf.incrementWriteOffset(messageLength);
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.DELETE_COMPONENT);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
  }
  DeleteComponent2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_COMPONENT) {
      throw new Error("DeleteComponentOperation tried to read another message type.");
    }
    const msg = {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32()
    };
    return msg;
  }
  DeleteComponent2.read = read2;
})(DeleteComponent || (DeleteComponent = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/appendValue.js
var AppendValueOperation;
(function(AppendValueOperation2) {
  AppendValueOperation2.MESSAGE_HEADER_LENGTH = 16;
  function write3(entity, timestamp, componentId, data, buf) {
    const startMessageOffset = buf.incrementWriteOffset(CRDT_MESSAGE_HEADER_LENGTH + AppendValueOperation2.MESSAGE_HEADER_LENGTH);
    buf.writeBuffer(data, false);
    const messageLength = buf.currentWriteOffset() - startMessageOffset;
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.APPEND_VALUE);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    const newLocal = messageLength - AppendValueOperation2.MESSAGE_HEADER_LENGTH - CRDT_MESSAGE_HEADER_LENGTH;
    buf.setUint32(startMessageOffset + 20, newLocal);
  }
  AppendValueOperation2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.APPEND_VALUE) {
      throw new Error("AppendValueOperation tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      data: buf.readBuffer()
    };
  }
  AppendValueOperation2.read = read2;
})(AppendValueOperation || (AppendValueOperation = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/deleteEntity.js
var DeleteEntity;
(function(DeleteEntity2) {
  DeleteEntity2.MESSAGE_HEADER_LENGTH = 4;
  function write3(entity, buf) {
    buf.writeUint32(CRDT_MESSAGE_HEADER_LENGTH + 4);
    buf.writeUint32(CrdtMessageType.DELETE_ENTITY);
    buf.writeUint32(entity);
  }
  DeleteEntity2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_ENTITY) {
      throw new Error("DeleteEntity tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32()
    };
  }
  DeleteEntity2.read = read2;
})(DeleteEntity || (DeleteEntity = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/putComponent.js
var PutComponentOperation;
(function(PutComponentOperation2) {
  PutComponentOperation2.MESSAGE_HEADER_LENGTH = 16;
  function write3(entity, timestamp, componentId, data, buf) {
    const startMessageOffset = buf.incrementWriteOffset(CRDT_MESSAGE_HEADER_LENGTH + PutComponentOperation2.MESSAGE_HEADER_LENGTH);
    buf.writeBuffer(data, false);
    const messageLength = buf.currentWriteOffset() - startMessageOffset;
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.PUT_COMPONENT);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    const newLocal = messageLength - PutComponentOperation2.MESSAGE_HEADER_LENGTH - CRDT_MESSAGE_HEADER_LENGTH;
    buf.setUint32(startMessageOffset + 20, newLocal);
  }
  PutComponentOperation2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.PUT_COMPONENT) {
      throw new Error("PutComponentOperation tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      data: buf.readBuffer()
    };
  }
  PutComponentOperation2.read = read2;
})(PutComponentOperation || (PutComponentOperation = {}));

// node_modules/@dcl/ecs/dist/systems/crdt/index.js
function crdtSceneSystem(engine2, onProcessEntityComponentChange) {
  const transports = [];
  const receivedMessages = [];
  const broadcastMessages = [];
  const outdatedMessages = [];
  function parseChunkMessage(transportId) {
    return function parseChunkMessage2(chunkMessage) {
      const buffer = new ReadWriteByteBuffer(chunkMessage);
      let header;
      while (header = CrdtMessageProtocol.getHeader(buffer)) {
        const offset = buffer.currentReadOffset();
        if (header.type === CrdtMessageType.DELETE_COMPONENT) {
          const message = DeleteComponent.read(buffer);
          receivedMessages.push({
            ...message,
            transportId,
            messageBuffer: buffer.buffer().subarray(offset, buffer.currentReadOffset())
          });
        } else if (header.type === CrdtMessageType.PUT_COMPONENT) {
          const message = PutComponentOperation.read(buffer);
          receivedMessages.push({
            ...message,
            transportId,
            messageBuffer: buffer.buffer().subarray(offset, buffer.currentReadOffset())
          });
        } else if (header.type === CrdtMessageType.DELETE_ENTITY) {
          const message = DeleteEntity.read(buffer);
          receivedMessages.push({
            ...message,
            transportId,
            messageBuffer: buffer.buffer().subarray(offset, buffer.currentReadOffset())
          });
        } else if (header.type === CrdtMessageType.APPEND_VALUE) {
          const message = AppendValueOperation.read(buffer);
          receivedMessages.push({
            ...message,
            transportId,
            messageBuffer: buffer.buffer().subarray(offset, buffer.currentReadOffset())
          });
        } else {
          buffer.incrementReadOffset(header.length);
        }
      }
    };
  }
  function getMessages(value) {
    const messagesToProcess = value.splice(0, value.length);
    return messagesToProcess;
  }
  async function receiveMessages() {
    const messagesToProcess = getMessages(receivedMessages);
    const bufferForOutdated = new ReadWriteByteBuffer();
    const entitiesShouldBeCleaned = [];
    for (const msg of messagesToProcess) {
      if (msg.type === CrdtMessageType.DELETE_ENTITY) {
        entitiesShouldBeCleaned.push(msg.entityId);
        broadcastMessages.push(msg);
      } else {
        const entityState = engine2.entityContainer.getEntityState(msg.entityId);
        if (entityState === EntityState.Removed)
          continue;
        if (entityState === EntityState.Unknown) {
          engine2.entityContainer.updateUsedEntity(msg.entityId);
        }
        const component = engine2.getComponentOrNull(msg.componentId);
        if (component) {
          const [conflictMessage, value] = component.updateFromCrdt(msg);
          if (conflictMessage) {
            const offset = bufferForOutdated.currentWriteOffset();
            if (conflictMessage.type === CrdtMessageType.PUT_COMPONENT) {
              PutComponentOperation.write(msg.entityId, conflictMessage.timestamp, conflictMessage.componentId, conflictMessage.data, bufferForOutdated);
            } else if (conflictMessage.type === CrdtMessageType.DELETE_COMPONENT) {
              DeleteComponent.write(msg.entityId, component.componentId, conflictMessage.timestamp, bufferForOutdated);
            }
            outdatedMessages.push({
              ...msg,
              messageBuffer: bufferForOutdated.buffer().subarray(offset, bufferForOutdated.currentWriteOffset())
            });
          } else {
            broadcastMessages.push(msg);
            onProcessEntityComponentChange && onProcessEntityComponentChange(msg.entityId, msg.type, component, value);
          }
        } else {
          broadcastMessages.push(msg);
        }
      }
    }
    for (const entity of entitiesShouldBeCleaned) {
      for (let i = outdatedMessages.length - 1; i >= 0; i--) {
        if (outdatedMessages[i].entityId === entity && outdatedMessages[i].type !== CrdtMessageType.DELETE_ENTITY) {
          outdatedMessages.splice(i, 1);
        }
      }
      for (const definition of engine2.componentsIter()) {
        definition.entityDeleted(entity, true);
      }
      engine2.entityContainer.updateRemovedEntity(entity);
      onProcessEntityComponentChange && onProcessEntityComponentChange(entity, CrdtMessageType.DELETE_ENTITY);
    }
  }
  async function sendMessages(entitiesDeletedThisTick) {
    const crdtMessages = getMessages(broadcastMessages);
    const outdatedMessagesBkp = getMessages(outdatedMessages);
    const buffer = new ReadWriteByteBuffer();
    for (const component of engine2.componentsIter()) {
      for (const message of component.getCrdtUpdates()) {
        const offset = buffer.currentWriteOffset();
        if (transports.some((t) => t.filter(message))) {
          if (message.type === CrdtMessageType.PUT_COMPONENT) {
            PutComponentOperation.write(message.entityId, message.timestamp, message.componentId, message.data, buffer);
          } else if (message.type === CrdtMessageType.DELETE_COMPONENT) {
            DeleteComponent.write(message.entityId, component.componentId, message.timestamp, buffer);
          } else if (message.type === CrdtMessageType.APPEND_VALUE) {
            AppendValueOperation.write(message.entityId, message.timestamp, message.componentId, message.data, buffer);
          }
          crdtMessages.push({
            ...message,
            messageBuffer: buffer.buffer().subarray(offset, buffer.currentWriteOffset())
          });
          if (onProcessEntityComponentChange) {
            const rawValue = message.type === CrdtMessageType.PUT_COMPONENT || message.type === CrdtMessageType.APPEND_VALUE ? component.get(message.entityId) : void 0;
            onProcessEntityComponentChange(message.entityId, message.type, component, rawValue);
          }
        }
      }
    }
    for (const entityId of entitiesDeletedThisTick) {
      const offset = buffer.currentWriteOffset();
      DeleteEntity.write(entityId, buffer);
      crdtMessages.push({
        type: CrdtMessageType.DELETE_ENTITY,
        entityId,
        messageBuffer: buffer.buffer().subarray(offset, buffer.currentWriteOffset())
      });
      onProcessEntityComponentChange && onProcessEntityComponentChange(entityId, CrdtMessageType.DELETE_ENTITY);
    }
    const transportBuffer = new ReadWriteByteBuffer();
    for (const index in transports) {
      const transportIndex = Number(index);
      const transport = transports[transportIndex];
      transportBuffer.resetBuffer();
      for (const message2 of outdatedMessagesBkp) {
        if (message2.transportId === transportIndex && // TODO: This is an optimization, the state should converge anyway, whatever the message is sent.
        // Avoid sending multiple messages for the same entity-componentId
        !crdtMessages.find((m) => m.entityId === message2.entityId && // TODO: as any, with multiple type of messages, it should have many checks before the check for similar messages
        m.componentId && m.componentId === message2.componentId)) {
          transportBuffer.writeBuffer(message2.messageBuffer, false);
        }
      }
      for (const message2 of crdtMessages) {
        if (message2.transportId !== transportIndex && transport.filter(message2)) {
          transportBuffer.writeBuffer(message2.messageBuffer, false);
        }
      }
      const message = transportBuffer.currentWriteOffset() ? transportBuffer.toBinary() : new Uint8Array([]);
      await transport.send(message);
    }
  }
  function addTransport(transport) {
    const id = transports.push(transport) - 1;
    transport.onmessage = parseChunkMessage(id);
  }
  return {
    sendMessages,
    receiveMessages,
    addTransport
  };
}

// node_modules/@dcl/ecs/dist/systems/crdt/utils.js
var CrdtUtils;
(function(CrdtUtils2) {
  let SynchronizedEntityType;
  (function(SynchronizedEntityType2) {
    SynchronizedEntityType2[SynchronizedEntityType2["NETWORKED"] = 0] = "NETWORKED";
    SynchronizedEntityType2[SynchronizedEntityType2["RENDERER"] = 1] = "RENDERER";
  })(SynchronizedEntityType = CrdtUtils2.SynchronizedEntityType || (CrdtUtils2.SynchronizedEntityType = {}));
})(CrdtUtils || (CrdtUtils = {}));
function dataCompare(a, b) {
  if (a === b)
    return 0;
  if (a === null && b !== null)
    return -1;
  if (a !== null && b === null)
    return 1;
  if (a instanceof Uint8Array && b instanceof Uint8Array) {
    const lengthDifference = a.byteLength - b.byteLength;
    if (lengthDifference !== 0) {
      return lengthDifference > 0 ? 1 : -1;
    }
    let res;
    for (let i = 0, n = a.byteLength; i < n; i++) {
      res = a[i] - b[i];
      if (res !== 0) {
        return res > 0 ? 1 : -1;
      }
    }
    return 0;
  }
  if (typeof a === "string") {
    const lengthDifference = a.length - b.length;
    if (lengthDifference !== 0) {
      return lengthDifference > 0 ? 1 : -1;
    }
    return a.localeCompare(b);
  }
  return a > b ? 1 : -1;
}

// node_modules/@dcl/ecs/dist/engine/readonly.js
function deepReadonly(val) {
  return Object.freeze({ ...val });
}

// node_modules/@dcl/ecs/dist/engine/lww-element-set-component-definition.js
function incrementTimestamp(entity, timestamps) {
  const newTimestamp = (timestamps.get(entity) || 0) + 1;
  timestamps.set(entity, newTimestamp);
  return newTimestamp;
}
function createDumpLwwFunctionFromCrdt(componentId, timestamps, schema, data) {
  return function dumpCrdtState(buffer, filterEntity) {
    for (const [entity, timestamp] of timestamps) {
      if (filterEntity) {
        if (!filterEntity(entity))
          continue;
      }
      if (data.has(entity)) {
        const it = data.get(entity);
        const buf = new ReadWriteByteBuffer();
        schema.serialize(it, buf);
        PutComponentOperation.write(entity, timestamp, componentId, buf.toBinary(), buffer);
      } else {
        DeleteComponent.write(entity, componentId, timestamp, buffer);
      }
    }
  };
}
function createUpdateLwwFromCrdt(componentId, timestamps, schema, data) {
  function crdtRuleForCurrentState(message) {
    const { entityId, timestamp } = message;
    const currentTimestamp = timestamps.get(entityId);
    if (currentTimestamp === void 0 || currentTimestamp < timestamp) {
      return ProcessMessageResultType.StateUpdatedTimestamp;
    }
    if (currentTimestamp > timestamp) {
      return ProcessMessageResultType.StateOutdatedTimestamp;
    }
    if (message.type === CrdtMessageType.DELETE_COMPONENT && !data.has(entityId)) {
      return ProcessMessageResultType.NoChanges;
    }
    let currentDataGreater = 0;
    if (data.has(entityId)) {
      const writeBuffer = new ReadWriteByteBuffer();
      schema.serialize(data.get(entityId), writeBuffer);
      currentDataGreater = dataCompare(writeBuffer.toBinary(), message.data || null);
    } else {
      currentDataGreater = dataCompare(null, message.data);
    }
    if (currentDataGreater === 0) {
      return ProcessMessageResultType.NoChanges;
    } else if (currentDataGreater > 0) {
      return ProcessMessageResultType.StateOutdatedData;
    } else {
      return ProcessMessageResultType.StateUpdatedData;
    }
  }
  return (msg) => {
    if (msg.type !== CrdtMessageType.PUT_COMPONENT && msg.type !== CrdtMessageType.DELETE_COMPONENT)
      return [null, data.get(msg.entityId)];
    const action = crdtRuleForCurrentState(msg);
    const entity = msg.entityId;
    switch (action) {
      case ProcessMessageResultType.StateUpdatedData:
      case ProcessMessageResultType.StateUpdatedTimestamp: {
        timestamps.set(entity, msg.timestamp);
        if (msg.type === CrdtMessageType.PUT_COMPONENT) {
          const buf = new ReadWriteByteBuffer(msg.data);
          data.set(entity, schema.deserialize(buf));
        } else {
          data.delete(entity);
        }
        return [null, data.get(entity)];
      }
      case ProcessMessageResultType.StateOutdatedTimestamp:
      case ProcessMessageResultType.StateOutdatedData: {
        if (data.has(entity)) {
          const writeBuffer = new ReadWriteByteBuffer();
          schema.serialize(data.get(entity), writeBuffer);
          return [
            {
              type: CrdtMessageType.PUT_COMPONENT,
              componentId,
              data: writeBuffer.toBinary(),
              entityId: entity,
              timestamp: timestamps.get(entity)
            },
            data.get(entity)
          ];
        } else {
          return [
            {
              type: CrdtMessageType.DELETE_COMPONENT,
              componentId,
              entityId: entity,
              timestamp: timestamps.get(entity)
            },
            void 0
          ];
        }
      }
    }
    return [null, data.get(entity)];
  };
}
function createGetCrdtMessagesForLww(componentId, timestamps, dirtyIterator, schema, data) {
  return function* () {
    for (const entity of dirtyIterator) {
      const newTimestamp = incrementTimestamp(entity, timestamps);
      if (data.has(entity)) {
        const writeBuffer = new ReadWriteByteBuffer();
        schema.serialize(data.get(entity), writeBuffer);
        const msg = {
          type: CrdtMessageType.PUT_COMPONENT,
          componentId,
          entityId: entity,
          data: writeBuffer.toBinary(),
          timestamp: newTimestamp
        };
        yield msg;
      } else {
        const msg = {
          type: CrdtMessageType.DELETE_COMPONENT,
          componentId,
          entityId: entity,
          timestamp: newTimestamp
        };
        yield msg;
      }
    }
    dirtyIterator.clear();
  };
}
function createComponentDefinitionFromSchema(componentName, componentId, schema) {
  const data = /* @__PURE__ */ new Map();
  const dirtyIterator = /* @__PURE__ */ new Set();
  const timestamps = /* @__PURE__ */ new Map();
  return {
    get componentId() {
      return componentId;
    },
    get componentName() {
      return componentName;
    },
    get componentType() {
      return 0;
    },
    schema,
    has(entity) {
      return data.has(entity);
    },
    deleteFrom(entity, markAsDirty = true) {
      const component = data.get(entity);
      if (data.delete(entity) && markAsDirty) {
        dirtyIterator.add(entity);
      }
      return component || null;
    },
    entityDeleted(entity, markAsDirty) {
      if (data.delete(entity) && markAsDirty) {
        dirtyIterator.add(entity);
      }
    },
    getOrNull(entity) {
      const component = data.get(entity);
      return component ? deepReadonly(component) : null;
    },
    get(entity) {
      const component = data.get(entity);
      if (!component) {
        throw new Error(`[getFrom] Component ${componentName} for entity #${entity} not found`);
      }
      return deepReadonly(component);
    },
    create(entity, value) {
      const component = data.get(entity);
      if (component) {
        throw new Error(`[create] Component ${componentName} for ${entity} already exists`);
      }
      const usedValue = value === void 0 ? schema.create() : schema.extend ? schema.extend(value) : value;
      data.set(entity, usedValue);
      dirtyIterator.add(entity);
      return usedValue;
    },
    createOrReplace(entity, value) {
      const usedValue = value === void 0 ? schema.create() : schema.extend ? schema.extend(value) : value;
      data.set(entity, usedValue);
      dirtyIterator.add(entity);
      return usedValue;
    },
    getMutableOrNull(entity) {
      const component = data.get(entity);
      if (!component) {
        return null;
      }
      dirtyIterator.add(entity);
      return component;
    },
    getOrCreateMutable(entity, value) {
      const component = data.get(entity);
      if (!component) {
        return this.create(entity, value);
      } else {
        dirtyIterator.add(entity);
        return component;
      }
    },
    getMutable(entity) {
      const component = this.getMutableOrNull(entity);
      if (component === null) {
        throw new Error(`[mutable] Component ${componentName} for ${entity} not found`);
      }
      return component;
    },
    *iterator() {
      for (const [entity, component] of data) {
        yield [entity, component];
      }
    },
    *dirtyIterator() {
      for (const entity of dirtyIterator) {
        yield entity;
      }
    },
    getCrdtUpdates: createGetCrdtMessagesForLww(componentId, timestamps, dirtyIterator, schema, data),
    updateFromCrdt: createUpdateLwwFromCrdt(componentId, timestamps, schema, data),
    dumpCrdtStateToBuffer: createDumpLwwFunctionFromCrdt(componentId, timestamps, schema, data)
  };
}

// node_modules/@dcl/ecs/dist/engine/systems.js
var SYSTEMS_REGULAR_PRIORITY = 1e5;
function SystemContainer() {
  const systems = [];
  function sort() {
    systems.sort((a, b) => b.priority - a.priority);
  }
  function add2(fn, priority2, name) {
    const systemName = name ?? fn.name;
    if (systems.find((item) => item.fn === fn)) {
      throw new Error(`System ${JSON.stringify(systemName)} already added to the engine`);
    }
    systems.push({
      fn,
      priority: priority2,
      name: systemName
    });
    sort();
  }
  function remove(selector) {
    let index = -1;
    if (typeof selector === "string") {
      index = systems.findIndex((item) => item.name === selector);
    } else {
      index = systems.findIndex((item) => item.fn === selector);
    }
    if (index === -1) {
      return false;
    }
    systems.splice(index, 1);
    sort();
    return true;
  }
  return {
    add: add2,
    remove,
    getSystems() {
      return systems;
    }
  };
}

// node_modules/@dcl/ecs/dist/engine/grow-only-value-set-component-definition.js
var emptyReadonlySet = freezeSet(/* @__PURE__ */ new Set());
function frozenError() {
  throw new Error("The set is frozen");
}
function freezeSet(set) {
  ;
  set.add = frozenError;
  set.clear = frozenError;
  return set;
}
function sortByTimestamp(a, b) {
  return a.timestamp > b.timestamp ? 1 : -1;
}
function createValueSetComponentDefinitionFromSchema(componentName, componentId, schema, options) {
  const data = /* @__PURE__ */ new Map();
  const dirtyIterator = /* @__PURE__ */ new Set();
  const queuedCommands = [];
  function shouldSort(row) {
    const len = row.raw.length;
    if (len > 1 && row.raw[len - 1].timestamp <= row.raw[len - 2].timestamp) {
      return true;
    }
    return false;
  }
  function gotUpdated(entity) {
    const row = data.get(entity);
    if (row) {
      if (shouldSort(row)) {
        row.raw.sort(sortByTimestamp);
      }
      while (row.raw.length > options.maxElements) {
        row.raw.shift();
      }
      const frozenSet = freezeSet(new Set(row?.raw.map(($) => $.value)));
      row.frozenSet = frozenSet;
      return frozenSet;
    } else {
      return emptyReadonlySet;
    }
  }
  function append(entity, value) {
    let row = data.get(entity);
    if (!row) {
      row = { raw: [], frozenSet: emptyReadonlySet };
      data.set(entity, row);
    }
    const usedValue = schema.extend ? schema.extend(value) : value;
    const timestamp = options.timestampFunction(usedValue);
    if (__DEV__) {
      Object.freeze(usedValue);
    }
    row.raw.push({ value: usedValue, timestamp });
    return { set: gotUpdated(entity), value: usedValue };
  }
  const ret = {
    get componentId() {
      return componentId;
    },
    get componentName() {
      return componentName;
    },
    get componentType() {
      return 1;
    },
    schema,
    has(entity) {
      return data.has(entity);
    },
    entityDeleted(entity) {
      data.delete(entity);
    },
    get(entity) {
      const values = data.get(entity);
      if (values) {
        return values.frozenSet;
      } else {
        return emptyReadonlySet;
      }
    },
    addValue(entity, rawValue) {
      const { set, value } = append(entity, rawValue);
      dirtyIterator.add(entity);
      const buf = new ReadWriteByteBuffer();
      schema.serialize(value, buf);
      queuedCommands.push({
        componentId,
        data: buf.toBinary(),
        entityId: entity,
        timestamp: 0,
        type: CrdtMessageType.APPEND_VALUE
      });
      return set;
    },
    *iterator() {
      for (const [entity, component] of data) {
        yield [entity, component.frozenSet];
      }
    },
    *dirtyIterator() {
      for (const entity of dirtyIterator) {
        yield entity;
      }
    },
    getCrdtUpdates() {
      dirtyIterator.clear();
      return queuedCommands.splice(0, queuedCommands.length);
    },
    updateFromCrdt(_body) {
      if (_body.type === CrdtMessageType.APPEND_VALUE) {
        const buf = new ReadWriteByteBuffer(_body.data);
        append(_body.entityId, schema.deserialize(buf));
      }
      return [null, void 0];
    },
    dumpCrdtStateToBuffer: function(buffer, filterEntity) {
      for (const [entity, { raw }] of data) {
        if (filterEntity && !filterEntity(entity))
          continue;
        for (const it of raw) {
          const buf = new ReadWriteByteBuffer();
          schema.serialize(it.value, buf);
          AppendValueOperation.write(entity, 0, componentId, buf.toBinary(), buffer);
        }
      }
    }
  };
  return ret;
}

// node_modules/@dcl/ecs/dist/runtime/helpers/tree.js
function* genEntityTree(entity, entities) {
  if (!entities.has(entity))
    return;
  entities.delete(entity);
  for (const [_entity, value] of entities) {
    if (value.parent === entity) {
      yield* genEntityTree(_entity, entities);
    }
  }
  yield entity;
}
function getComponentEntityTree(engine2, entity, component) {
  const entities = new Map(engine2.getEntitiesWith(component));
  return genEntityTree(entity, entities);
}
function removeEntityWithChildren(engine2, entity) {
  const Transform3 = Transform(engine2);
  for (const _entity of getComponentEntityTree(engine2, entity, Transform3)) {
    engine2.removeEntity(_entity);
  }
}

// node_modules/@dcl/ecs/dist/engine/input.js
var InputCommands = [
  0,
  1,
  2,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13
  /* InputAction.IA_ACTION_6 */
];
var InputStateUpdateSystemPriority = 1 << 20;
function createInputSystem(engine2) {
  const PointerEventsResult2 = PointerEventsResult(engine2);
  const globalState = {
    previousFrameMaxTimestamp: 0,
    currentFrameMaxTimestamp: 0,
    buttonState: /* @__PURE__ */ new Map(),
    thisFrameCommands: []
  };
  function findLastAction(pointerEventType, inputAction, entity) {
    const ascendingTimestampIterator = PointerEventsResult2.get(entity);
    for (const command of Array.from(ascendingTimestampIterator).reverse()) {
      if (command.button === inputAction && command.state === pointerEventType) {
        return command;
      }
    }
  }
  function* findCommandsByActionDescending(inputAction, entity) {
    const ascendingTimestampIterator = PointerEventsResult2.get(entity);
    for (const command of Array.from(ascendingTimestampIterator).reverse()) {
      if (command.button === inputAction) {
        yield command;
      }
    }
  }
  function buttonStateUpdateSystem() {
    let maxTimestamp = globalState.currentFrameMaxTimestamp;
    globalState.previousFrameMaxTimestamp = maxTimestamp;
    if (globalState.thisFrameCommands.length) {
      globalState.thisFrameCommands = [];
    }
    for (const [, commands] of engine2.getEntitiesWith(PointerEventsResult2)) {
      const arrayCommands = Array.from(commands);
      for (let i = arrayCommands.length - 1; i >= 0; i--) {
        const command = arrayCommands[i];
        if (command.timestamp > maxTimestamp) {
          maxTimestamp = command.timestamp;
        }
        if (command.timestamp > globalState.previousFrameMaxTimestamp) {
          globalState.thisFrameCommands.push(command);
        }
        if (command.state === 0 || command.state === 1) {
          const prevCommand = globalState.buttonState.get(command.button);
          if (!prevCommand || command.timestamp > prevCommand.timestamp) {
            globalState.buttonState.set(command.button, command);
          } else {
            break;
          }
        }
      }
    }
    globalState.currentFrameMaxTimestamp = maxTimestamp;
  }
  engine2.addSystem(buttonStateUpdateSystem, InputStateUpdateSystemPriority, "@dcl/ecs#inputSystem");
  function timestampIsCurrentFrame(timestamp) {
    if (timestamp > globalState.previousFrameMaxTimestamp && timestamp <= globalState.currentFrameMaxTimestamp) {
      return true;
    } else {
      return false;
    }
  }
  function getClick(inputAction, entity) {
    if (inputAction !== 3) {
      return findClick(inputAction, entity);
    }
    for (const input of InputCommands) {
      const cmd = findClick(input, entity);
      if (cmd)
        return cmd;
    }
    return null;
  }
  function findClick(inputAction, entity) {
    let down = null;
    let up = null;
    for (const it of findCommandsByActionDescending(inputAction, entity)) {
      if (!up) {
        if (it.state === 0) {
          up = it;
          continue;
        }
      } else if (!down) {
        if (it.state === 1) {
          down = it;
          break;
        }
      }
    }
    if (!up || !down)
      return null;
    if (down.timestamp < up.timestamp && timestampIsCurrentFrame(up.timestamp)) {
      return { up, down };
    }
    return null;
  }
  function getInputCommandFromEntity(inputAction, pointerEventType, entity) {
    if (inputAction !== 3) {
      return findInputCommand(inputAction, pointerEventType, entity);
    }
    for (const input of InputCommands) {
      const cmd = findInputCommand(input, pointerEventType, entity);
      if (cmd)
        return cmd;
    }
    return null;
  }
  function getInputCommand(inputAction, pointerEventType, entity) {
    if (entity) {
      return getInputCommandFromEntity(inputAction, pointerEventType, entity);
    } else {
      for (const command of globalState.thisFrameCommands) {
        if ((command.button === inputAction || inputAction === 3) && command.state === pointerEventType) {
          return command;
        }
      }
      return null;
    }
  }
  function findInputCommand(inputAction, pointerEventType, entity) {
    const command = findLastAction(pointerEventType, inputAction, entity);
    if (!command)
      return null;
    if (timestampIsCurrentFrame(command.timestamp)) {
      return command;
    } else {
      return null;
    }
  }
  function isClicked(inputAction, entity) {
    return getClick(inputAction, entity) !== null;
  }
  function isTriggered(inputAction, pointerEventType, entity) {
    if (entity) {
      const command = findLastAction(pointerEventType, inputAction, entity);
      return command && timestampIsCurrentFrame(command.timestamp) || false;
    } else {
      for (const command of globalState.thisFrameCommands) {
        if ((command.button === inputAction || inputAction === 3) && command.state === pointerEventType) {
          return true;
        }
      }
      return false;
    }
  }
  function isPressed(inputAction) {
    return globalState.buttonState.get(inputAction)?.state === 1;
  }
  return {
    isPressed,
    getClick,
    getInputCommand,
    isClicked,
    isTriggered
  };
}

// node_modules/@dcl/ecs/dist/engine/component.js
var ComponentType;
(function(ComponentType2) {
  ComponentType2[ComponentType2["LastWriteWinElementSet"] = 0] = "LastWriteWinElementSet";
  ComponentType2[ComponentType2["GrowOnlyValueSet"] = 1] = "GrowOnlyValueSet";
})(ComponentType || (ComponentType = {}));

// node_modules/@dcl/ecs/dist/engine/index.js
function preEngine() {
  const entityContainer = EntityContainer();
  const componentsDefinition = /* @__PURE__ */ new Map();
  const systems = SystemContainer();
  let networkManager;
  let sealed = false;
  function addSystem(fn, priority2 = SYSTEMS_REGULAR_PRIORITY, name) {
    systems.add(fn, priority2, name);
  }
  function removeSystem(selector) {
    return systems.remove(selector);
  }
  function getNetworkManager() {
    if (!networkManager)
      throw new Error("Network manager not initialized. Start CRDT Server");
    return networkManager;
  }
  function addNetworkManager(reservedLocalEntities, range) {
    entityContainer.setNetworkEntitiesRange(reservedLocalEntities, range);
    networkManager = {
      addEntity: () => entityContainer.generateEntity(true)
    };
    return networkManager;
  }
  function addEntity() {
    const entity = entityContainer.generateEntity();
    return entity;
  }
  function removeEntity(entity) {
    for (const [, component] of componentsDefinition) {
      component.entityDeleted(entity, true);
    }
    return entityContainer.removeEntity(entity);
  }
  function removeEntityWithChildren2(entity) {
    return removeEntityWithChildren({ removeEntity, defineComponentFromSchema, getEntitiesWith }, entity);
  }
  function registerComponentDefinition(componentName, component) {
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      throw new Error(`Component number ${componentId} was already registered.`);
    }
    if (component.componentName !== componentName) {
      throw new Error(`Component name doesn't match componentDefinition.componentName ${componentName} != ${component.componentName}`);
    }
    if (component.componentId !== componentId) {
      throw new Error(`Component number doesn't match componentDefinition.componentId ${componentId} != ${component.componentId}`);
    }
    componentsDefinition.set(componentId, component);
    return component;
  }
  function defineComponentFromSchema(componentName, schema) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const newComponent = createComponentDefinitionFromSchema(componentName, componentId, schema);
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function defineValueSetComponentFromSchema(componentName, schema, options) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const newComponent = createValueSetComponentDefinitionFromSchema(componentName, componentId, schema, options);
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function defineComponent(componentName, mapSpec, constructorDefault) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const schemaSpec = Schemas.Map(mapSpec, constructorDefault);
    const def = createComponentDefinitionFromSchema(componentName, componentId, schemaSpec);
    const newComponent = {
      ...def,
      create(entity, val) {
        return def.create(entity, val);
      },
      createOrReplace(entity, val) {
        return def.createOrReplace(entity, val);
      }
    };
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function getComponent(componentIdOrName) {
    const componentId = typeof componentIdOrName === "number" ? componentIdOrName : componentNumberFromName(componentIdOrName);
    const component = componentsDefinition.get(componentId);
    if (!component) {
      throw new Error(`Component ${componentId} not found. You need to declare the components at the beginnig of the engine declaration`);
    }
    return component;
  }
  function getComponentOrNull(componentIdOrName) {
    const componentId = typeof componentIdOrName === "number" ? componentIdOrName : componentNumberFromName(componentIdOrName);
    return componentsDefinition.get(componentId) ?? /* istanbul ignore next */
    null;
  }
  function* getEntitiesWith(...components) {
    for (const [entity, ...groupComp] of getComponentDefGroup(...components)) {
      yield [entity, ...groupComp.map((c) => c.get(entity))];
    }
  }
  function getEntityOrNullByName(value) {
    const LabelComponent = Name({ defineComponent });
    for (const [entity, name] of getEntitiesWith(LabelComponent)) {
      if (name.value === value)
        return entity;
    }
    return null;
  }
  function* getComponentDefGroup(...args) {
    const [firstComponentDef, ...componentDefinitions] = args;
    for (const [entity] of firstComponentDef.iterator()) {
      let matches = true;
      for (const componentDef of componentDefinitions) {
        if (!componentDef.has(entity)) {
          matches = false;
          break;
        }
      }
      if (matches) {
        yield [entity, ...args];
      }
    }
  }
  function getSystems() {
    return systems.getSystems();
  }
  function componentsIter() {
    return componentsDefinition.values();
  }
  function removeComponentDefinition(componentIdOrName) {
    if (sealed)
      throw new Error("Engine is already sealed. No components can be removed at this stage");
    const componentId = typeof componentIdOrName === "number" ? componentIdOrName : componentNumberFromName(componentIdOrName);
    componentsDefinition.delete(componentId);
  }
  Transform({ defineComponentFromSchema });
  function seal() {
    if (!sealed) {
      sealed = true;
    }
  }
  return {
    addEntity,
    removeEntity,
    removeEntityWithChildren: removeEntityWithChildren2,
    addSystem,
    getSystems,
    removeSystem,
    defineComponent,
    defineComponentFromSchema,
    defineValueSetComponentFromSchema,
    getEntitiesWith,
    getComponent,
    getComponentOrNull,
    getEntityOrNullByName,
    removeComponentDefinition,
    registerComponentDefinition,
    entityContainer,
    componentsIter,
    seal,
    addNetworkManager,
    getNetworkManager
  };
}
function Engine(options) {
  const partialEngine = preEngine();
  const crdtSystem = crdtSceneSystem(partialEngine, options?.onChangeFunction || null);
  async function update(dt) {
    await crdtSystem.receiveMessages();
    for (const system of partialEngine.getSystems()) {
      const ret = system.fn(dt);
      checkNotThenable(ret, `A system (${system.name || "anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`);
    }
    const deletedEntites = partialEngine.entityContainer.releaseRemovedEntities();
    await crdtSystem.sendMessages(deletedEntites);
  }
  return {
    addEntity: partialEngine.addEntity,
    removeEntity: partialEngine.removeEntity,
    removeEntityWithChildren: partialEngine.removeEntityWithChildren,
    addSystem: partialEngine.addSystem,
    removeSystem: partialEngine.removeSystem,
    defineComponent: partialEngine.defineComponent,
    defineComponentFromSchema: partialEngine.defineComponentFromSchema,
    defineValueSetComponentFromSchema: partialEngine.defineValueSetComponentFromSchema,
    registerComponentDefinition: partialEngine.registerComponentDefinition,
    getEntitiesWith: partialEngine.getEntitiesWith,
    getComponent: partialEngine.getComponent,
    getComponentOrNull: partialEngine.getComponentOrNull,
    removeComponentDefinition: partialEngine.removeComponentDefinition,
    componentsIter: partialEngine.componentsIter,
    seal: partialEngine.seal,
    getEntityOrNullByName: partialEngine.getEntityOrNullByName,
    update,
    RootEntity: 0,
    PlayerEntity: 1,
    CameraEntity: 2,
    getEntityState: partialEngine.entityContainer.getEntityState,
    addTransport: crdtSystem.addTransport,
    entityContainer: partialEngine.entityContainer,
    addNetworkManager: partialEngine.addNetworkManager,
    getNetworkManager: partialEngine.getNetworkManager
  };
}

// node_modules/@dcl/ecs/dist/systems/events.js
function createPointerEventsSystem(engine2, inputSystem3) {
  const PointerEvents3 = PointerEvents(engine2);
  let EventType;
  (function(EventType2) {
    EventType2[EventType2["Click"] = 0] = "Click";
    EventType2[EventType2["Down"] = 1] = "Down";
    EventType2[EventType2["Up"] = 2] = "Up";
  })(EventType || (EventType = {}));
  const getDefaultOpts = (opts = {}) => ({
    button: 3,
    ...opts
  });
  const eventsMap = /* @__PURE__ */ new Map();
  function getEvent(entity) {
    return eventsMap.get(entity) || eventsMap.set(entity, /* @__PURE__ */ new Map()).get(entity);
  }
  function setPointerEvent(entity, type, opts) {
    if (opts.hoverText || opts.showFeedback) {
      const pointerEvent = PointerEvents3.getMutableOrNull(entity) || PointerEvents3.create(entity);
      pointerEvent.pointerEvents.push({
        eventType: type,
        eventInfo: {
          button: opts.button,
          showFeedback: opts.showFeedback,
          hoverText: opts.hoverText,
          maxDistance: opts.maxDistance
        }
      });
    }
  }
  function removePointerEvent(entity, type, button) {
    const pointerEvent = PointerEvents3.getMutableOrNull(entity);
    if (!pointerEvent)
      return;
    pointerEvent.pointerEvents = pointerEvent.pointerEvents.filter((pointer) => !(pointer.eventInfo?.button === button && pointer.eventType === type));
  }
  function getPointerEvent(eventType) {
    if (eventType === EventType.Up) {
      return 0;
    }
    return 1;
  }
  function removeEvent(entity, type) {
    const event = getEvent(entity);
    const pointerEvent = event.get(type);
    if (pointerEvent?.opts.hoverText) {
      removePointerEvent(entity, getPointerEvent(type), pointerEvent.opts.button);
    }
    event.delete(type);
  }
  engine2.addSystem(function EventSystem() {
    for (const [entity, event] of eventsMap) {
      if (engine2.getEntityState(entity) === EntityState.Removed) {
        eventsMap.delete(entity);
        continue;
      }
      for (const [eventType, { cb, opts }] of event) {
        if (eventType === EventType.Click) {
          const command = inputSystem3.getClick(opts.button, entity);
          if (command)
            checkNotThenable(cb(command.up), "Click event returned a thenable. Only synchronous functions are allowed");
        }
        if (eventType === EventType.Down || eventType === EventType.Up) {
          const command = inputSystem3.getInputCommand(opts.button, getPointerEvent(eventType), entity);
          if (command) {
            checkNotThenable(cb(command), "Event handler returned a thenable. Only synchronous functions are allowed");
          }
        }
      }
    }
  });
  const onPointerDown = (...args) => {
    const [data, cb, maybeOpts] = args;
    if (typeof data === "number") {
      return onPointerDown({ entity: data, opts: maybeOpts ?? {} }, cb);
    }
    const { entity, opts } = data;
    const options = getDefaultOpts(opts);
    removeEvent(entity, EventType.Down);
    getEvent(entity).set(EventType.Down, { cb, opts: options });
    setPointerEvent(entity, 1, options);
  };
  const onPointerUp = (...args) => {
    const [data, cb, maybeOpts] = args;
    if (typeof data === "number") {
      return onPointerUp({ entity: data, opts: maybeOpts ?? {} }, cb);
    }
    const { entity, opts } = data;
    const options = getDefaultOpts(opts);
    removeEvent(entity, EventType.Up);
    getEvent(entity).set(EventType.Up, { cb, opts: options });
    setPointerEvent(entity, 0, options);
  };
  return {
    removeOnClick(entity) {
      removeEvent(entity, EventType.Click);
    },
    removeOnPointerDown(entity) {
      removeEvent(entity, EventType.Down);
    },
    removeOnPointerUp(entity) {
      removeEvent(entity, EventType.Up);
    },
    onClick(value, cb) {
      const { entity } = value;
      const options = getDefaultOpts(value.opts);
      removeEvent(entity, EventType.Click);
      getEvent(entity).set(EventType.Click, { cb, opts: options });
      setPointerEvent(entity, 1, options);
    },
    onPointerDown,
    onPointerUp
  };
}

// node_modules/@dcl/ecs/dist/systems/tween.js
function createTweenSystem(engine2) {
  const Tween3 = Tween2(engine2);
  const TweenState2 = TweenState(engine2);
  const TweenSequence2 = TweenSequence(engine2);
  const cache = /* @__PURE__ */ new Map();
  function isCompleted(entity) {
    const tweenState = TweenState2.getOrNull(entity);
    const tween = Tween3.getOrNull(entity);
    const tweenCache = cache.get(entity);
    if (!tweenState || !tween)
      return false;
    if (
      // Renderer notified that the tween is completed
      (tweenChanged(entity) || tweenState.state === 1) && // Avoid sending isCompleted multiple times
      !tweenCache?.completed && // Amount of frames needed to consider a tween completed
      (tweenCache?.frames ?? 0) > 2
    ) {
      return true;
    }
    return false;
  }
  function tweenChanged(entity) {
    const currentTween = Tween3.getOrNull(entity);
    const prevTween = cache.get(entity)?.tween;
    if (currentTween && !prevTween || !currentTween && prevTween) {
      return true;
    }
    const currentBuff = new ReadWriteByteBuffer();
    Tween3.schema.serialize(currentTween, currentBuff);
    const equal = dataCompare(currentBuff.toBinary(), prevTween);
    return equal;
  }
  const restartTweens = [];
  engine2.addSystem(() => {
    for (const restart of restartTweens) {
      restart();
    }
    restartTweens.length = 0;
    for (const [entity, tween] of engine2.getEntitiesWith(Tween3)) {
      if (tweenChanged(entity)) {
        const buffer = new ReadWriteByteBuffer();
        Tween3.schema.serialize(tween, buffer);
        cache.set(entity, {
          tween: buffer.toBinary(),
          frames: 0,
          completed: false,
          changed: true
        });
        continue;
      }
      const tweenCache = cache.get(entity);
      tweenCache.frames += 1;
      tweenCache.changed = false;
      if (isCompleted(entity)) {
        tweenCache.frames = 0;
        tweenCache.completed = true;
        const tweenSequence = TweenSequence2.getOrNull(entity);
        if (!tweenSequence)
          continue;
        const { sequence } = tweenSequence;
        if (sequence && sequence.length) {
          const [nextTweenSequence, ...otherTweens] = sequence;
          Tween3.createOrReplace(entity, nextTweenSequence);
          const mutableTweenHelper = TweenSequence2.getMutable(entity);
          mutableTweenHelper.sequence = otherTweens;
          if (tweenSequence.loop === 0) {
            mutableTweenHelper.sequence.push(tween);
          }
        } else if (tweenSequence.loop === 1) {
          Tween3.createOrReplace(entity, backwardsTween(tween));
        } else if (tweenSequence.loop === 0) {
          Tween3.deleteFrom(entity);
          cache.delete(entity);
          restartTweens.push(() => {
            Tween3.createOrReplace(entity, tween);
          });
        }
      }
    }
  }, Number.NEGATIVE_INFINITY);
  function backwardsTween(tween) {
    if (tween.mode?.$case === "move" && tween.mode.move) {
      return { ...tween, mode: { ...tween.mode, move: { start: tween.mode.move.end, end: tween.mode.move.start } } };
    }
    if (tween.mode?.$case === "rotate" && tween.mode.rotate) {
      return {
        ...tween,
        mode: { ...tween.mode, rotate: { start: tween.mode.rotate.end, end: tween.mode.rotate.start } }
      };
    }
    if (tween.mode?.$case === "scale" && tween.mode.scale) {
      return { ...tween, mode: { ...tween.mode, scale: { start: tween.mode.scale.end, end: tween.mode.scale.start } } };
    }
    throw new Error("Invalid tween");
  }
  return {
    // This event is fired only once per tween
    tweenCompleted: isCompleted
  };
}

// node_modules/@dcl/ecs/dist/runtime/initialization/index.js
var engine = /* @__PURE__ */ Engine();
var inputSystem = /* @__PURE__ */ createInputSystem(engine);
var pointerEventsSystem = /* @__PURE__ */ createPointerEventsSystem(engine, inputSystem);
var tweenSystem = createTweenSystem(engine);

// node_modules/@dcl/ecs/dist/components/generated/global.gen.js
var AudioSource2 = /* @__PURE__ */ AudioSource(engine);
var AvatarAttach2 = /* @__PURE__ */ AvatarAttach(engine);
var GltfContainer2 = /* @__PURE__ */ GltfContainer(engine);
var PointerEvents2 = /* @__PURE__ */ PointerEvents(engine);
var VisibilityComponent2 = /* @__PURE__ */ VisibilityComponent(engine);

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/camera_type.gen.js
var CameraType;
(function(CameraType2) {
  CameraType2[CameraType2["CT_FIRST_PERSON"] = 0] = "CT_FIRST_PERSON";
  CameraType2[CameraType2["CT_THIRD_PERSON"] = 1] = "CT_THIRD_PERSON";
  CameraType2[CameraType2["CT_CINEMATIC"] = 2] = "CT_CINEMATIC";
})(CameraType || (CameraType = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/input_action.gen.js
var InputAction;
(function(InputAction3) {
  InputAction3[InputAction3["IA_POINTER"] = 0] = "IA_POINTER";
  InputAction3[InputAction3["IA_PRIMARY"] = 1] = "IA_PRIMARY";
  InputAction3[InputAction3["IA_SECONDARY"] = 2] = "IA_SECONDARY";
  InputAction3[InputAction3["IA_ANY"] = 3] = "IA_ANY";
  InputAction3[InputAction3["IA_FORWARD"] = 4] = "IA_FORWARD";
  InputAction3[InputAction3["IA_BACKWARD"] = 5] = "IA_BACKWARD";
  InputAction3[InputAction3["IA_RIGHT"] = 6] = "IA_RIGHT";
  InputAction3[InputAction3["IA_LEFT"] = 7] = "IA_LEFT";
  InputAction3[InputAction3["IA_JUMP"] = 8] = "IA_JUMP";
  InputAction3[InputAction3["IA_WALK"] = 9] = "IA_WALK";
  InputAction3[InputAction3["IA_ACTION_3"] = 10] = "IA_ACTION_3";
  InputAction3[InputAction3["IA_ACTION_4"] = 11] = "IA_ACTION_4";
  InputAction3[InputAction3["IA_ACTION_5"] = 12] = "IA_ACTION_5";
  InputAction3[InputAction3["IA_ACTION_6"] = 13] = "IA_ACTION_6";
})(InputAction || (InputAction = {}));
var PointerEventType;
(function(PointerEventType2) {
  PointerEventType2[PointerEventType2["PET_UP"] = 0] = "PET_UP";
  PointerEventType2[PointerEventType2["PET_DOWN"] = 1] = "PET_DOWN";
  PointerEventType2[PointerEventType2["PET_HOVER_ENTER"] = 2] = "PET_HOVER_ENTER";
  PointerEventType2[PointerEventType2["PET_HOVER_LEAVE"] = 3] = "PET_HOVER_LEAVE";
})(PointerEventType || (PointerEventType = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/loading_state.gen.js
var LoadingState;
(function(LoadingState2) {
  LoadingState2[LoadingState2["UNKNOWN"] = 0] = "UNKNOWN";
  LoadingState2[LoadingState2["LOADING"] = 1] = "LOADING";
  LoadingState2[LoadingState2["NOT_FOUND"] = 2] = "NOT_FOUND";
  LoadingState2[LoadingState2["FINISHED_WITH_ERROR"] = 3] = "FINISHED_WITH_ERROR";
  LoadingState2[LoadingState2["FINISHED"] = 4] = "FINISHED";
})(LoadingState || (LoadingState = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/texts.gen.js
var TextAlignMode;
(function(TextAlignMode2) {
  TextAlignMode2[TextAlignMode2["TAM_TOP_LEFT"] = 0] = "TAM_TOP_LEFT";
  TextAlignMode2[TextAlignMode2["TAM_TOP_CENTER"] = 1] = "TAM_TOP_CENTER";
  TextAlignMode2[TextAlignMode2["TAM_TOP_RIGHT"] = 2] = "TAM_TOP_RIGHT";
  TextAlignMode2[TextAlignMode2["TAM_MIDDLE_LEFT"] = 3] = "TAM_MIDDLE_LEFT";
  TextAlignMode2[TextAlignMode2["TAM_MIDDLE_CENTER"] = 4] = "TAM_MIDDLE_CENTER";
  TextAlignMode2[TextAlignMode2["TAM_MIDDLE_RIGHT"] = 5] = "TAM_MIDDLE_RIGHT";
  TextAlignMode2[TextAlignMode2["TAM_BOTTOM_LEFT"] = 6] = "TAM_BOTTOM_LEFT";
  TextAlignMode2[TextAlignMode2["TAM_BOTTOM_CENTER"] = 7] = "TAM_BOTTOM_CENTER";
  TextAlignMode2[TextAlignMode2["TAM_BOTTOM_RIGHT"] = 8] = "TAM_BOTTOM_RIGHT";
})(TextAlignMode || (TextAlignMode = {}));
var Font;
(function(Font2) {
  Font2[Font2["F_SANS_SERIF"] = 0] = "F_SANS_SERIF";
  Font2[Font2["F_SERIF"] = 1] = "F_SERIF";
  Font2[Font2["F_MONOSPACE"] = 2] = "F_MONOSPACE";
})(Font || (Font = {}));

// node_modules/@dcl/ecs/dist/composite/components.js
function getCompositeRootComponent(engine2) {
  const component = engine2.getComponentOrNull("composite::root");
  if (component) {
    return component;
  }
  return engine2.defineComponent("composite::root", {
    src: Schemas.String,
    entities: Schemas.Array(Schemas.Map({
      src: Schemas.Entity,
      dest: Schemas.Entity
    }))
  });
}

// node_modules/@dcl/ecs/dist/composite/path.js
var currentWorkingDir = "/";
function normalizeStringPosix(path, allowAboveRoot = false) {
  let res = "";
  let lastSegmentLength = 0;
  let lastSlash = -1;
  let dots = 0;
  let code;
  for (let i = 0; i <= path.length; ++i) {
    if (i < path.length)
      code = path.charCodeAt(i);
    else if (code === 47)
      break;
    else
      code = 47;
    if (code === 47) {
      if (lastSlash === i - 1 || dots === 1) {
      } else if (lastSlash !== i - 1 && dots === 2) {
        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {
          if (res.length > 2) {
            const lastSlashIndex = res.lastIndexOf("/");
            if (lastSlashIndex !== res.length - 1) {
              if (lastSlashIndex === -1) {
                res = "";
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf("/");
              }
              lastSlash = i;
              dots = 0;
              continue;
            }
          } else if (res.length === 2 || res.length === 1) {
            res = "";
            lastSegmentLength = 0;
            lastSlash = i;
            dots = 0;
            continue;
          }
        }
        if (allowAboveRoot) {
          if (res.length > 0)
            res += "/..";
          else
            res = "..";
          lastSegmentLength = 2;
        }
      } else {
        if (res.length > 0)
          res += "/" + path.slice(lastSlash + 1, i);
        else
          res = path.slice(lastSlash + 1, i);
        lastSegmentLength = i - lastSlash - 1;
      }
      lastSlash = i;
      dots = 0;
    } else if (code === 46 && dots !== -1) {
      ++dots;
    } else {
      dots = -1;
    }
  }
  return res;
}
function resolve(...args) {
  let resolvedPath = "";
  let resolvedAbsolute = false;
  let cwd;
  for (let i = args.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    let path;
    if (i >= 0)
      path = args[i];
    else {
      if (cwd === void 0)
        cwd = currentWorkingDir;
      path = cwd;
    }
    if (path.length === 0) {
      continue;
    }
    resolvedPath = path + "/" + resolvedPath;
    resolvedAbsolute = path.charCodeAt(0) === 47;
  }
  resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);
  if (resolvedAbsolute) {
    if (resolvedPath.length > 0)
      return "/" + resolvedPath;
    else
      return "/";
  } else if (resolvedPath.length > 0) {
    return resolvedPath;
  } else {
    return ".";
  }
}
function dirname(path) {
  if (path.length === 0)
    return ".";
  let code = path.charCodeAt(0);
  const hasRoot = code === 47;
  let end = -1;
  let matchedSlash = true;
  for (let i = path.length - 1; i >= 1; --i) {
    code = path.charCodeAt(i);
    if (code === 47) {
      if (!matchedSlash) {
        end = i;
        break;
      }
    } else {
      matchedSlash = false;
    }
  }
  if (end === -1)
    return hasRoot ? "/" : ".";
  if (hasRoot && end === 1)
    return "//";
  return path.slice(0, end);
}
function resolveComposite(path, cwd) {
  const absolutePath = path.startsWith(".") ? resolve(cwd, path) : resolve(path);
  return absolutePath.substring(1);
}

// node_modules/@dcl/ecs/dist/composite/instance.js
var EntityMappingMode;
(function(EntityMappingMode2) {
  EntityMappingMode2[EntityMappingMode2["EMM_NONE"] = 0] = "EMM_NONE";
  EntityMappingMode2[EntityMappingMode2["EMM_NEXT_AVAILABLE"] = 1] = "EMM_NEXT_AVAILABLE";
  EntityMappingMode2[EntityMappingMode2["EMM_DIRECT_MAPPING"] = 2] = "EMM_DIRECT_MAPPING";
})(EntityMappingMode || (EntityMappingMode = {}));
function getComponentValue(componentDefinition, component) {
  if (component.data?.$case === "json") {
    return component.data.json;
  } else {
    return componentDefinition.schema.deserialize(new ReadWriteByteBuffer(component.data?.binary));
  }
}
function getComponentDefinition(engine2, component) {
  const existingComponentDefinition = engine2.getComponentOrNull(component.name);
  if (!existingComponentDefinition) {
    if (component.name.startsWith("core::")) {
      if (component.name in componentDefinitionByName) {
        return componentDefinitionByName[component.name](engine2);
      } else {
        throw new Error(`The core component ${component.name} was not found.`);
      }
    } else if (component.jsonSchema) {
      return engine2.defineComponentFromSchema(component.name, Schemas.fromJson(component.jsonSchema));
    } else {
      throw new Error(`${component.name} is not defined and there is no schema to define it.`);
    }
  } else {
    return existingComponentDefinition;
  }
}
function getEntityMapping(engine2, compositeEntity, mappedEntities, { entityMapping }) {
  const existingEntity = mappedEntities.get(compositeEntity);
  if (existingEntity) {
    return existingEntity;
  }
  if (entityMapping?.type === EntityMappingMode.EMM_DIRECT_MAPPING) {
    const entity = entityMapping.getCompositeEntity(compositeEntity);
    mappedEntities.set(compositeEntity, entity);
    return entity;
  }
  const newEntity = entityMapping?.type === EntityMappingMode.EMM_NEXT_AVAILABLE ? entityMapping.getNextAvailableEntity() : engine2.addEntity();
  if (newEntity === null) {
    throw new Error("There is no more entities to allocate");
  }
  mappedEntities.set(compositeEntity, newEntity);
  return newEntity;
}
function instanceComposite(engine2, compositeResource, compositeProvider2, options) {
  const { rootEntity, alreadyRequestedSrc: optionalAlreadyRequestedSrc, entityMapping } = options;
  const alreadyRequestedSrc = optionalAlreadyRequestedSrc || /* @__PURE__ */ new Set();
  const compositeDirectoryPath = dirname(resolve(compositeResource.src));
  const TransformComponentNumber = componentNumberFromName("core::Transform");
  const CompositeRootComponent = getCompositeRootComponent(engine2);
  const mappedEntities = /* @__PURE__ */ new Map();
  const getCompositeEntity = (compositeEntity) => getEntityMapping(engine2, compositeEntity, mappedEntities, options);
  const compositeRootEntity = rootEntity ?? getCompositeEntity(0);
  if (rootEntity) {
    mappedEntities.set(0, rootEntity);
  }
  const childrenComposite = compositeResource.composite.components.find((item) => item.name === CompositeRootComponent.componentName);
  if (childrenComposite) {
    for (const [childCompositeEntity, compositeRawData] of childrenComposite.data) {
      const childComposite = getComponentValue(CompositeRootComponent, compositeRawData);
      const childCompositePath = resolveComposite(childComposite.src, compositeDirectoryPath);
      const childCompositeResource = compositeProvider2.getCompositeOrNull(childCompositePath);
      const targetEntity = getCompositeEntity(childCompositeEntity);
      if (childCompositeResource) {
        if (alreadyRequestedSrc.has(childCompositeResource.src) || childCompositeResource.src === compositeResource.src) {
          throw new Error(`Composite ${compositeResource.src} has a recursive instanciation while try to instance ${childCompositeResource.src}. Previous instances: ${alreadyRequestedSrc.toString()}`);
        }
        instanceComposite(engine2, childCompositeResource, compositeProvider2, {
          rootEntity: targetEntity,
          alreadyRequestedSrc: new Set(alreadyRequestedSrc).add(childCompositeResource.src),
          entityMapping: entityMapping?.type === EntityMappingMode.EMM_NEXT_AVAILABLE ? entityMapping : void 0
        });
      }
    }
  }
  for (const component of compositeResource.composite.components) {
    if (component.name === CompositeRootComponent.componentName)
      continue;
    const componentDefinition = getComponentDefinition(engine2, component);
    for (const [entity, compositeComponentValue] of component.data) {
      const componentValueDeserialized = getComponentValue(componentDefinition, compositeComponentValue);
      const targetEntity = getCompositeEntity(entity);
      const componentValue = componentDefinition.create(targetEntity, componentValueDeserialized);
      if (componentDefinition.componentId === TransformComponentNumber) {
        const transform = componentValue;
        if (transform.parent) {
          transform.parent = getCompositeEntity(transform.parent);
        } else {
          transform.parent = getCompositeEntity(0);
        }
      } else {
        Schemas.mutateNestedValues(componentDefinition.schema.jsonSchema, componentValue, (value, valueType) => {
          if (valueType.serializationType === "entity") {
            return { changed: true, value: getCompositeEntity(value) };
          } else {
            return { changed: false };
          }
        });
      }
    }
  }
  const composite = CompositeRootComponent.getMutableOrNull(compositeRootEntity) || CompositeRootComponent.create(compositeRootEntity);
  for (const [entitySource, targetEntity] of mappedEntities) {
    composite.entities.push({
      src: entitySource,
      dest: targetEntity
    });
  }
  composite.src = compositeResource.src;
  return compositeRootEntity;
}

// node_modules/@dcl/ecs/dist/composite/proto/gen/composite.gen.js
var import_minimal43 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/composite/proto/gen/google/protobuf/struct.gen.js
var import_minimal42 = __toESM(require_minimal2());
var NullValue;
(function(NullValue2) {
  NullValue2[NullValue2["NULL_VALUE"] = 0] = "NULL_VALUE";
})(NullValue || (NullValue = {}));
function nullValueFromJSON(object) {
  switch (object) {
    case 0:
    case "NULL_VALUE":
      return 0;
    default:
      throw new tsProtoGlobalThis2.Error("Unrecognized enum value " + object + " for enum NullValue");
  }
}
function nullValueToJSON(object) {
  switch (object) {
    case 0:
      return "NULL_VALUE";
    default:
      throw new tsProtoGlobalThis2.Error("Unrecognized enum value " + object + " for enum NullValue");
  }
}
function createBaseStruct() {
  return { fields: /* @__PURE__ */ new Map() };
}
var Struct;
(function(Struct2) {
  function encode(message, writer = import_minimal42.default.Writer.create()) {
    message.fields.forEach((value, key) => {
      if (value !== void 0) {
        Struct_FieldsEntry.encode({ key, value }, writer.uint32(10).fork()).ldelim();
      }
    });
    return writer;
  }
  Struct2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal42.default.Reader ? input : import_minimal42.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseStruct();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          const entry1 = Struct_FieldsEntry.decode(reader, reader.uint32());
          if (entry1.value !== void 0) {
            message.fields.set(entry1.key, entry1.value);
          }
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Struct2.decode = decode;
  function fromJSON(object) {
    return {
      fields: isObject(object.fields) ? Object.entries(object.fields).reduce((acc, [key, value]) => {
        acc.set(key, value);
        return acc;
      }, /* @__PURE__ */ new Map()) : /* @__PURE__ */ new Map()
    };
  }
  Struct2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    obj.fields = {};
    if (message.fields) {
      message.fields.forEach((v, k) => {
        obj.fields[k] = v;
      });
    }
    return obj;
  }
  Struct2.toJSON = toJSON;
  function wrap(object) {
    const struct = createBaseStruct();
    if (object !== void 0) {
      Object.keys(object).forEach((key) => {
        struct.fields.set(key, object[key]);
      });
    }
    return struct;
  }
  Struct2.wrap = wrap;
  function unwrap(message) {
    const object = {};
    [...message.fields.keys()].forEach((key) => {
      object[key] = message.fields.get(key);
    });
    return object;
  }
  Struct2.unwrap = unwrap;
})(Struct || (Struct = {}));
function createBaseStruct_FieldsEntry() {
  return { key: "", value: void 0 };
}
var Struct_FieldsEntry;
(function(Struct_FieldsEntry2) {
  function encode(message, writer = import_minimal42.default.Writer.create()) {
    if (message.key !== "") {
      writer.uint32(10).string(message.key);
    }
    if (message.value !== void 0) {
      Value.encode(Value.wrap(message.value), writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  Struct_FieldsEntry2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal42.default.Reader ? input : import_minimal42.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseStruct_FieldsEntry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.key = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.value = Value.unwrap(Value.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Struct_FieldsEntry2.decode = decode;
  function fromJSON(object) {
    return { key: isSet(object.key) ? String(object.key) : "", value: isSet(object?.value) ? object.value : void 0 };
  }
  Struct_FieldsEntry2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = message.key);
    message.value !== void 0 && (obj.value = message.value);
    return obj;
  }
  Struct_FieldsEntry2.toJSON = toJSON;
})(Struct_FieldsEntry || (Struct_FieldsEntry = {}));
function createBaseValue() {
  return { kind: void 0 };
}
var Value;
(function(Value2) {
  function encode(message, writer = import_minimal42.default.Writer.create()) {
    switch (message.kind?.$case) {
      case "nullValue":
        writer.uint32(8).int32(message.kind.nullValue);
        break;
      case "numberValue":
        writer.uint32(17).double(message.kind.numberValue);
        break;
      case "stringValue":
        writer.uint32(26).string(message.kind.stringValue);
        break;
      case "boolValue":
        writer.uint32(32).bool(message.kind.boolValue);
        break;
      case "structValue":
        Struct.encode(Struct.wrap(message.kind.structValue), writer.uint32(42).fork()).ldelim();
        break;
      case "listValue":
        ListValue.encode(ListValue.wrap(message.kind.listValue), writer.uint32(50).fork()).ldelim();
        break;
    }
    return writer;
  }
  Value2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal42.default.Reader ? input : import_minimal42.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseValue();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.kind = { $case: "nullValue", nullValue: reader.int32() };
          continue;
        case 2:
          if (tag !== 17) {
            break;
          }
          message.kind = { $case: "numberValue", numberValue: reader.double() };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.kind = { $case: "stringValue", stringValue: reader.string() };
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.kind = { $case: "boolValue", boolValue: reader.bool() };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.kind = { $case: "structValue", structValue: Struct.unwrap(Struct.decode(reader, reader.uint32())) };
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.kind = { $case: "listValue", listValue: ListValue.unwrap(ListValue.decode(reader, reader.uint32())) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Value2.decode = decode;
  function fromJSON(object) {
    return {
      kind: isSet(object.nullValue) ? { $case: "nullValue", nullValue: nullValueFromJSON(object.nullValue) } : isSet(object.numberValue) ? { $case: "numberValue", numberValue: Number(object.numberValue) } : isSet(object.stringValue) ? { $case: "stringValue", stringValue: String(object.stringValue) } : isSet(object.boolValue) ? { $case: "boolValue", boolValue: Boolean(object.boolValue) } : isSet(object.structValue) ? { $case: "structValue", structValue: object.structValue } : isSet(object.listValue) ? { $case: "listValue", listValue: [...object.listValue] } : void 0
    };
  }
  Value2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.kind?.$case === "nullValue" && (obj.nullValue = message.kind?.nullValue !== void 0 ? nullValueToJSON(message.kind?.nullValue) : void 0);
    message.kind?.$case === "numberValue" && (obj.numberValue = message.kind?.numberValue);
    message.kind?.$case === "stringValue" && (obj.stringValue = message.kind?.stringValue);
    message.kind?.$case === "boolValue" && (obj.boolValue = message.kind?.boolValue);
    message.kind?.$case === "structValue" && (obj.structValue = message.kind?.structValue);
    message.kind?.$case === "listValue" && (obj.listValue = message.kind?.listValue);
    return obj;
  }
  Value2.toJSON = toJSON;
  function wrap(value) {
    const result = createBaseValue();
    if (value === null) {
      result.kind = {
        $case: "nullValue",
        nullValue: 0
        /* NullValue.NULL_VALUE */
      };
    } else if (typeof value === "boolean") {
      result.kind = { $case: "boolValue", boolValue: value };
    } else if (typeof value === "number") {
      result.kind = { $case: "numberValue", numberValue: value };
    } else if (typeof value === "string") {
      result.kind = { $case: "stringValue", stringValue: value };
    } else if (Array.isArray(value)) {
      result.kind = { $case: "listValue", listValue: value };
    } else if (typeof value === "object") {
      result.kind = { $case: "structValue", structValue: value };
    } else if (typeof value !== "undefined") {
      throw new Error("Unsupported any value type: " + typeof value);
    }
    return result;
  }
  Value2.wrap = wrap;
  function unwrap(message) {
    if (message.kind?.$case === "nullValue") {
      return null;
    } else if (message.kind?.$case === "numberValue") {
      return message.kind?.numberValue;
    } else if (message.kind?.$case === "stringValue") {
      return message.kind?.stringValue;
    } else if (message.kind?.$case === "boolValue") {
      return message.kind?.boolValue;
    } else if (message.kind?.$case === "structValue") {
      return message.kind?.structValue;
    } else if (message.kind?.$case === "listValue") {
      return message.kind?.listValue;
    } else {
      return void 0;
    }
  }
  Value2.unwrap = unwrap;
})(Value || (Value = {}));
function createBaseListValue() {
  return { values: [] };
}
var ListValue;
(function(ListValue2) {
  function encode(message, writer = import_minimal42.default.Writer.create()) {
    for (const v of message.values) {
      Value.encode(Value.wrap(v), writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  ListValue2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal42.default.Reader ? input : import_minimal42.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseListValue();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.values.push(Value.unwrap(Value.decode(reader, reader.uint32())));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  ListValue2.decode = decode;
  function fromJSON(object) {
    return { values: Array.isArray(object?.values) ? [...object.values] : [] };
  }
  ListValue2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    if (message.values) {
      obj.values = message.values.map((e) => e);
    } else {
      obj.values = [];
    }
    return obj;
  }
  ListValue2.toJSON = toJSON;
  function wrap(array) {
    const result = createBaseListValue();
    result.values = array ?? [];
    return result;
  }
  ListValue2.wrap = wrap;
  function unwrap(message) {
    if (message?.hasOwnProperty("values") && Array.isArray(message.values)) {
      return message.values;
    } else {
      return message;
    }
  }
  ListValue2.unwrap = unwrap;
})(ListValue || (ListValue = {}));
var tsProtoGlobalThis2 = (() => {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }
  if (typeof self !== "undefined") {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw "Unable to locate global object";
})();
function isObject(value) {
  return typeof value === "object" && value !== null;
}
function isSet(value) {
  return value !== null && value !== void 0;
}

// node_modules/@dcl/ecs/dist/composite/proto/gen/composite.gen.js
function createBaseComponentData() {
  return { data: void 0 };
}
var ComponentData;
(function(ComponentData2) {
  function encode(message, writer = import_minimal43.default.Writer.create()) {
    switch (message.data?.$case) {
      case "json":
        Value.encode(Value.wrap(message.data.json), writer.uint32(10).fork()).ldelim();
        break;
      case "binary":
        writer.uint32(18).bytes(message.data.binary);
        break;
    }
    return writer;
  }
  ComponentData2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal43.default.Reader ? input : import_minimal43.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseComponentData();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.data = { $case: "json", json: Value.unwrap(Value.decode(reader, reader.uint32())) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.data = { $case: "binary", binary: reader.bytes() };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  ComponentData2.decode = decode;
  function fromJSON(object) {
    return {
      data: isSet2(object.json) ? { $case: "json", json: object.json } : isSet2(object.binary) ? { $case: "binary", binary: bytesFromBase64(object.binary) } : void 0
    };
  }
  ComponentData2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.data?.$case === "json" && (obj.json = message.data?.json);
    message.data?.$case === "binary" && (obj.binary = message.data?.binary !== void 0 ? base64FromBytes(message.data?.binary) : void 0);
    return obj;
  }
  ComponentData2.toJSON = toJSON;
})(ComponentData || (ComponentData = {}));
function createBaseCompositeComponent() {
  return { name: "", jsonSchema: void 0, data: /* @__PURE__ */ new Map() };
}
var CompositeComponent;
(function(CompositeComponent2) {
  function encode(message, writer = import_minimal43.default.Writer.create()) {
    if (message.name !== "") {
      writer.uint32(10).string(message.name);
    }
    if (message.jsonSchema !== void 0) {
      Value.encode(Value.wrap(message.jsonSchema), writer.uint32(18).fork()).ldelim();
    }
    message.data.forEach((value, key) => {
      CompositeComponent_DataEntry.encode({ key, value }, writer.uint32(26).fork()).ldelim();
    });
    return writer;
  }
  CompositeComponent2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal43.default.Reader ? input : import_minimal43.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeComponent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.name = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.jsonSchema = Value.unwrap(Value.decode(reader, reader.uint32()));
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          const entry3 = CompositeComponent_DataEntry.decode(reader, reader.uint32());
          if (entry3.value !== void 0) {
            message.data.set(entry3.key, entry3.value);
          }
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeComponent2.decode = decode;
  function fromJSON(object) {
    return {
      name: isSet2(object.name) ? String(object.name) : "",
      jsonSchema: isSet2(object?.jsonSchema) ? object.jsonSchema : void 0,
      data: isObject2(object.data) ? Object.entries(object.data).reduce((acc, [key, value]) => {
        acc.set(Number(key), ComponentData.fromJSON(value));
        return acc;
      }, /* @__PURE__ */ new Map()) : /* @__PURE__ */ new Map()
    };
  }
  CompositeComponent2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.name !== void 0 && (obj.name = message.name);
    message.jsonSchema !== void 0 && (obj.jsonSchema = message.jsonSchema);
    obj.data = {};
    if (message.data) {
      message.data.forEach((v, k) => {
        obj.data[k] = ComponentData.toJSON(v);
      });
    }
    return obj;
  }
  CompositeComponent2.toJSON = toJSON;
})(CompositeComponent || (CompositeComponent = {}));
function createBaseCompositeComponent_DataEntry() {
  return { key: 0, value: void 0 };
}
var CompositeComponent_DataEntry;
(function(CompositeComponent_DataEntry2) {
  function encode(message, writer = import_minimal43.default.Writer.create()) {
    if (message.key !== 0) {
      writer.uint32(8).int32(message.key);
    }
    if (message.value !== void 0) {
      ComponentData.encode(message.value, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  CompositeComponent_DataEntry2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal43.default.Reader ? input : import_minimal43.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeComponent_DataEntry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.key = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.value = ComponentData.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeComponent_DataEntry2.decode = decode;
  function fromJSON(object) {
    return {
      key: isSet2(object.key) ? Number(object.key) : 0,
      value: isSet2(object.value) ? ComponentData.fromJSON(object.value) : void 0
    };
  }
  CompositeComponent_DataEntry2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = Math.round(message.key));
    message.value !== void 0 && (obj.value = message.value ? ComponentData.toJSON(message.value) : void 0);
    return obj;
  }
  CompositeComponent_DataEntry2.toJSON = toJSON;
})(CompositeComponent_DataEntry || (CompositeComponent_DataEntry = {}));
function createBaseCompositeDefinition() {
  return { version: 0, components: [] };
}
var CompositeDefinition;
(function(CompositeDefinition2) {
  function encode(message, writer = import_minimal43.default.Writer.create()) {
    if (message.version !== 0) {
      writer.uint32(8).int32(message.version);
    }
    for (const v of message.components) {
      CompositeComponent.encode(v, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  CompositeDefinition2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal43.default.Reader ? input : import_minimal43.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeDefinition();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.version = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.components.push(CompositeComponent.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeDefinition2.decode = decode;
  function fromJSON(object) {
    return {
      version: isSet2(object.version) ? Number(object.version) : 0,
      components: Array.isArray(object?.components) ? object.components.map((e) => CompositeComponent.fromJSON(e)) : []
    };
  }
  CompositeDefinition2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.version !== void 0 && (obj.version = Math.round(message.version));
    if (message.components) {
      obj.components = message.components.map((e) => e ? CompositeComponent.toJSON(e) : void 0);
    } else {
      obj.components = [];
    }
    return obj;
  }
  CompositeDefinition2.toJSON = toJSON;
})(CompositeDefinition || (CompositeDefinition = {}));
var tsProtoGlobalThis3 = (() => {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }
  if (typeof self !== "undefined") {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw "Unable to locate global object";
})();
function bytesFromBase64(b64) {
  if (tsProtoGlobalThis3.Buffer) {
    return Uint8Array.from(tsProtoGlobalThis3.Buffer.from(b64, "base64"));
  } else {
    const bin = tsProtoGlobalThis3.atob(b64);
    const arr = new Uint8Array(bin.length);
    for (let i = 0; i < bin.length; ++i) {
      arr[i] = bin.charCodeAt(i);
    }
    return arr;
  }
}
function base64FromBytes(arr) {
  if (tsProtoGlobalThis3.Buffer) {
    return tsProtoGlobalThis3.Buffer.from(arr).toString("base64");
  } else {
    const bin = [];
    arr.forEach((byte) => {
      bin.push(String.fromCharCode(byte));
    });
    return tsProtoGlobalThis3.btoa(bin.join(""));
  }
}
function isObject2(value) {
  return typeof value === "object" && value !== null;
}
function isSet2(value) {
  return value !== null && value !== void 0;
}

// node_modules/@dcl/ecs/dist/composite/index.js
var Composite;
(function(Composite2) {
  function fromJson(object) {
    return CompositeDefinition.fromJSON(object);
  }
  Composite2.fromJson = fromJson;
  function fromBinary(buffer) {
    return CompositeDefinition.decode(buffer);
  }
  Composite2.fromBinary = fromBinary;
  function toJson(composite) {
    return CompositeDefinition.toJSON(composite);
  }
  Composite2.toJson = toJson;
  function toBinary(composite) {
    return CompositeDefinition.encode(composite).finish();
  }
  Composite2.toBinary = toBinary;
  function instance(engine2, compositeData, compositeProvider2, options = {}) {
    instanceComposite(engine2, compositeData, compositeProvider2, options);
  }
  Composite2.instance = instance;
  function resolveAndNormalizePath(src, cwd = "/") {
    return resolveComposite(src, cwd);
  }
  Composite2.resolveAndNormalizePath = resolveAndNormalizePath;
})(Composite || (Composite = {}));

// node_modules/@dcl/ecs/dist/index.js
var Transform2 = /* @__PURE__ */ Transform(engine);
var Material3 = /* @__PURE__ */ Material2(engine);
var MeshRenderer3 = /* @__PURE__ */ MeshRenderer2(engine);
var MeshCollider3 = /* @__PURE__ */ MeshCollider2(engine);
var Name2 = Name(engine);

// node_modules/@dcl/ecs-math/dist/types.js
var ToGammaSpace = 1 / 2.2;
var ToLinearSpace = 2.2;
var Epsilon = 1e-6;
var DEG2RAD = Math.PI / 180;
var RAD2DEG = 360 / (Math.PI * 2);

// node_modules/@dcl/ecs-math/dist/Scalar.js
var Scalar;
(function(Scalar2) {
  Scalar2.TwoPi = Math.PI * 2;
  function withinEpsilon(a, b, epsilon = 1401298e-51) {
    const num = a - b;
    return -epsilon <= num && num <= epsilon;
  }
  Scalar2.withinEpsilon = withinEpsilon;
  function toHex(i) {
    const str = i.toString(16);
    if (i <= 15) {
      return ("0" + str).toUpperCase();
    }
    return str.toUpperCase();
  }
  Scalar2.toHex = toHex;
  function sign(value) {
    const _value = +value;
    if (_value === 0 || isNaN(_value)) {
      return _value;
    }
    return _value > 0 ? 1 : -1;
  }
  Scalar2.sign = sign;
  function clamp(value, min = 0, max = 1) {
    return Math.min(max, Math.max(min, value));
  }
  Scalar2.clamp = clamp;
  function log2(value) {
    return Math.log(value) * Math.LOG2E;
  }
  Scalar2.log2 = log2;
  function repeat(value, length2) {
    return value - Math.floor(value / length2) * length2;
  }
  Scalar2.repeat = repeat;
  function normalize(value, min, max) {
    return (value - min) / (max - min);
  }
  Scalar2.normalize = normalize;
  function denormalize(normalized, min, max) {
    return normalized * (max - min) + min;
  }
  Scalar2.denormalize = denormalize;
  function deltaAngle(current, target) {
    let num = repeat(target - current, 360);
    if (num > 180) {
      num -= 360;
    }
    return num;
  }
  Scalar2.deltaAngle = deltaAngle;
  function pingPong(tx, length2) {
    const t = repeat(tx, length2 * 2);
    return length2 - Math.abs(t - length2);
  }
  Scalar2.pingPong = pingPong;
  function smoothStep(from, to, tx) {
    let t = clamp(tx);
    t = -2 * t * t * t + 3 * t * t;
    return to * t + from * (1 - t);
  }
  Scalar2.smoothStep = smoothStep;
  function moveTowards(current, target, maxDelta) {
    let result = 0;
    if (Math.abs(target - current) <= maxDelta) {
      result = target;
    } else {
      result = current + sign(target - current) * maxDelta;
    }
    return result;
  }
  Scalar2.moveTowards = moveTowards;
  function moveTowardsAngle(current, target, maxDelta) {
    const num = deltaAngle(current, target);
    let result = 0;
    if (-maxDelta < num && num < maxDelta) {
      result = target;
    } else {
      result = moveTowards(current, current + num, maxDelta);
    }
    return result;
  }
  Scalar2.moveTowardsAngle = moveTowardsAngle;
  function lerp(start, end, amount) {
    return start + (end - start) * amount;
  }
  Scalar2.lerp = lerp;
  function lerpAngle(start, end, amount) {
    let num = repeat(end - start, 360);
    if (num > 180) {
      num -= 360;
    }
    return start + num * clamp(amount);
  }
  Scalar2.lerpAngle = lerpAngle;
  function inverseLerp(a, b, value) {
    let result = 0;
    if (a !== b) {
      result = clamp((value - a) / (b - a));
    } else {
      result = 0;
    }
    return result;
  }
  Scalar2.inverseLerp = inverseLerp;
  function hermite(value1, tangent1, value2, tangent2, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const part1 = 2 * cubed - 3 * squared + 1;
    const part2 = -2 * cubed + 3 * squared;
    const part3 = cubed - 2 * squared + amount;
    const part4 = cubed - squared;
    return value1 * part1 + value2 * part2 + tangent1 * part3 + tangent2 * part4;
  }
  Scalar2.hermite = hermite;
  function randomRange(min, max) {
    if (min === max) {
      return min;
    }
    return Math.random() * (max - min) + min;
  }
  Scalar2.randomRange = randomRange;
  function rangeToPercent(num, min, max) {
    return (num - min) / (max - min);
  }
  Scalar2.rangeToPercent = rangeToPercent;
  function percentToRange(percent, min, max) {
    return (max - min) * percent + min;
  }
  Scalar2.percentToRange = percentToRange;
  function normalizeRadians(angle) {
    return angle - Scalar2.TwoPi * Math.floor((angle + Math.PI) / Scalar2.TwoPi);
  }
  Scalar2.normalizeRadians = normalizeRadians;
})(Scalar || (Scalar = {}));

// node_modules/@dcl/ecs-math/dist/Vector3.js
var Vector32;
(function(Vector33) {
  function isNonUniform(vector) {
    const absX = Math.abs(vector.x);
    const absY = Math.abs(vector.y);
    if (absX !== absY) {
      return true;
    }
    const absZ = Math.abs(vector.z);
    if (absX !== absZ) {
      return true;
    }
    return false;
  }
  Vector33.isNonUniform = isNonUniform;
  function create(x = 0, y = 0, z = 0) {
    return { x, y, z };
  }
  Vector33.create = create;
  function add2(vector1, vector2) {
    return {
      x: vector1.x + vector2.x,
      y: vector1.y + vector2.y,
      z: vector1.z + vector2.z
    };
  }
  Vector33.add = add2;
  function addToRef(vector1, vector2, result) {
    result.x = vector1.x + vector2.x;
    result.y = vector1.y + vector2.y;
    result.z = vector1.z + vector2.z;
  }
  Vector33.addToRef = addToRef;
  function subtract2(vector1, vector2) {
    return {
      x: vector1.x - vector2.x,
      y: vector1.y - vector2.y,
      z: vector1.z - vector2.z
    };
  }
  Vector33.subtract = subtract2;
  function subtractToRef(vector1, vector2, result) {
    result.x = vector1.x - vector2.x;
    result.y = vector1.y - vector2.y;
    result.z = vector1.z - vector2.z;
  }
  Vector33.subtractToRef = subtractToRef;
  function subtractFromFloatsToRef(vector1, x, y, z, result) {
    result.x = vector1.x - x;
    result.y = vector1.y - y;
    result.z = vector1.z - z;
  }
  Vector33.subtractFromFloatsToRef = subtractFromFloatsToRef;
  function negate2(value) {
    return { x: -value.x, y: -value.y, z: -value.z };
  }
  Vector33.negate = negate2;
  function copyFrom(source, dest) {
    dest.x = source.x;
    dest.y = source.y;
    dest.z = source.z;
  }
  Vector33.copyFrom = copyFrom;
  function copyFromFloats(x, y, z, dest) {
    dest.x = x;
    dest.y = y;
    dest.z = z;
  }
  Vector33.copyFromFloats = copyFromFloats;
  function clone(source) {
    return create(source.x, source.y, source.z);
  }
  Vector33.clone = clone;
  function getClipFactor(vector0, vector1, axis, size) {
    const d0 = dot(vector0, axis) - size;
    const d1 = dot(vector1, axis) - size;
    const s = d0 / (d0 - d1);
    return s;
  }
  Vector33.getClipFactor = getClipFactor;
  function getAngleBetweenVectors(vector0, vector1, normal) {
    const v0 = normalize(vector0);
    const v1 = normalize(vector1);
    const v0v1dot = dot(v0, v1);
    const n = create();
    crossToRef(v0, v1, n);
    if (dot(n, normal) > 0) {
      return Math.acos(v0v1dot);
    }
    return -Math.acos(v0v1dot);
  }
  Vector33.getAngleBetweenVectors = getAngleBetweenVectors;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2]);
  }
  Vector33.fromArray = fromArray;
  function fromFloatArray(array, offset) {
    return fromArray(array, offset);
  }
  Vector33.fromFloatArray = fromFloatArray;
  function fromArrayToRef(array, offset, result) {
    result.x = array[offset];
    result.y = array[offset + 1];
    result.z = array[offset + 2];
  }
  Vector33.fromArrayToRef = fromArrayToRef;
  function fromFloatArrayToRef(array, offset, result) {
    return fromArrayToRef(array, offset, result);
  }
  Vector33.fromFloatArrayToRef = fromFloatArrayToRef;
  function length2(vector) {
    return Math.sqrt(vector.x * vector.x + vector.y * vector.y + vector.z * vector.z);
  }
  Vector33.length = length2;
  function lengthSquared(vector) {
    return vector.x * vector.x + vector.y * vector.y + vector.z * vector.z;
  }
  Vector33.lengthSquared = lengthSquared;
  function scaleToRef(vector, scale2, result) {
    result.x = vector.x * scale2;
    result.y = vector.y * scale2;
    result.z = vector.z * scale2;
  }
  Vector33.scaleToRef = scaleToRef;
  function scale(vector, scale2) {
    return create(vector.x * scale2, vector.y * scale2, vector.z * scale2);
  }
  Vector33.scale = scale;
  function normalizeFromLength(vector, len) {
    const result = create(0, 0, 0);
    normalizeFromLengthToRef(vector, len, result);
    return result;
  }
  Vector33.normalizeFromLength = normalizeFromLength;
  function normalizeFromLengthToRef(vector, len, result) {
    if (len === 0 || len === 1) {
      copyFrom(vector, result);
      return;
    }
    scaleToRef(vector, 1 / len, result);
  }
  Vector33.normalizeFromLengthToRef = normalizeFromLengthToRef;
  function normalize(vector) {
    return normalizeFromLength(vector, length2(vector));
  }
  Vector33.normalize = normalize;
  function normalizeToRef(vector, result) {
    normalizeFromLengthToRef(vector, length2(vector), result);
  }
  Vector33.normalizeToRef = normalizeToRef;
  function dot(left, right) {
    return left.x * right.x + left.y * right.y + left.z * right.z;
  }
  Vector33.dot = dot;
  function applyMatrix4(vector, matrix) {
    const result = clone(vector);
    applyMatrix4ToRef(vector, matrix, result);
    return result;
  }
  Vector33.applyMatrix4 = applyMatrix4;
  function applyMatrix4ToRef(vector, matrix, result) {
    const { x, y, z } = vector;
    const m = matrix._m;
    const w = 1 / (m[3] * x + m[7] * y + m[11] * z + m[15]);
    result.x = (m[0] * x + m[4] * y + m[8] * z + m[12]) * w;
    result.y = (m[1] * x + m[5] * y + m[9] * z + m[13]) * w;
    result.z = (m[2] * x + m[6] * y + m[10] * z + m[14]) * w;
  }
  Vector33.applyMatrix4ToRef = applyMatrix4ToRef;
  function rotate(vector, q) {
    const result = create();
    rotateToRef(vector, q, result);
    return result;
  }
  Vector33.rotate = rotate;
  function rotateToRef(vector, q, result) {
    const { x, y, z } = vector;
    const { x: qx, y: qy, z: qz, w: qw } = q;
    const ix = qw * x + qy * z - qz * y;
    const iy = qw * y + qz * x - qx * z;
    const iz = qw * z + qx * y - qy * x;
    const iw = -qx * x - qy * y - qz * z;
    result.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
    result.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
    result.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;
  }
  Vector33.rotateToRef = rotateToRef;
  function lerp(start, end, amount) {
    const result = create(0, 0, 0);
    lerpToRef(start, end, amount, result);
    return result;
  }
  Vector33.lerp = lerp;
  function lerpToRef(start, end, amount, result) {
    result.x = start.x + (end.x - start.x) * amount;
    result.y = start.y + (end.y - start.y) * amount;
    result.z = start.z + (end.z - start.z) * amount;
  }
  Vector33.lerpToRef = lerpToRef;
  function cross(left, right) {
    const result = Zero();
    crossToRef(left, right, result);
    return result;
  }
  Vector33.cross = cross;
  function crossToRef(left, right, result) {
    result.x = left.y * right.z - left.z * right.y;
    result.y = left.z * right.x - left.x * right.z;
    result.z = left.x * right.y - left.y * right.x;
  }
  Vector33.crossToRef = crossToRef;
  function transformCoordinates(vector, transformation) {
    const result = Zero();
    transformCoordinatesToRef(vector, transformation, result);
    return result;
  }
  Vector33.transformCoordinates = transformCoordinates;
  function transformCoordinatesToRef(vector, transformation, result) {
    return transformCoordinatesFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);
  }
  Vector33.transformCoordinatesToRef = transformCoordinatesToRef;
  function transformCoordinatesFromFloatsToRef(x, y, z, transformation, result) {
    const m = transformation._m;
    const rx = x * m[0] + y * m[4] + z * m[8] + m[12];
    const ry = x * m[1] + y * m[5] + z * m[9] + m[13];
    const rz = x * m[2] + y * m[6] + z * m[10] + m[14];
    const rw = 1 / (x * m[3] + y * m[7] + z * m[11] + m[15]);
    result.x = rx * rw;
    result.y = ry * rw;
    result.z = rz * rw;
  }
  Vector33.transformCoordinatesFromFloatsToRef = transformCoordinatesFromFloatsToRef;
  function transformNormal(vector, transformation) {
    const result = Zero();
    transformNormalToRef(vector, transformation, result);
    return result;
  }
  Vector33.transformNormal = transformNormal;
  function transformNormalToRef(vector, transformation, result) {
    transformNormalFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);
  }
  Vector33.transformNormalToRef = transformNormalToRef;
  function transformNormalFromFloatsToRef(x, y, z, transformation, result) {
    const m = transformation._m;
    result.x = x * m[0] + y * m[4] + z * m[8];
    result.y = x * m[1] + y * m[5] + z * m[9];
    result.z = x * m[2] + y * m[6] + z * m[10];
  }
  Vector33.transformNormalFromFloatsToRef = transformNormalFromFloatsToRef;
  function catmullRom(value1, value2, value3, value4, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const x = 0.5 * (2 * value2.x + (-value1.x + value3.x) * amount + (2 * value1.x - 5 * value2.x + 4 * value3.x - value4.x) * squared + (-value1.x + 3 * value2.x - 3 * value3.x + value4.x) * cubed);
    const y = 0.5 * (2 * value2.y + (-value1.y + value3.y) * amount + (2 * value1.y - 5 * value2.y + 4 * value3.y - value4.y) * squared + (-value1.y + 3 * value2.y - 3 * value3.y + value4.y) * cubed);
    const z = 0.5 * (2 * value2.z + (-value1.z + value3.z) * amount + (2 * value1.z - 5 * value2.z + 4 * value3.z - value4.z) * squared + (-value1.z + 3 * value2.z - 3 * value3.z + value4.z) * cubed);
    return create(x, y, z);
  }
  Vector33.catmullRom = catmullRom;
  function clamp(value, min, max) {
    const v = create();
    clampToRef(value, min, max, v);
    return v;
  }
  Vector33.clamp = clamp;
  function clampToRef(value, min, max, result) {
    let x = value.x;
    x = x > max.x ? max.x : x;
    x = x < min.x ? min.x : x;
    let y = value.y;
    y = y > max.y ? max.y : y;
    y = y < min.y ? min.y : y;
    let z = value.z;
    z = z > max.z ? max.z : z;
    z = z < min.z ? min.z : z;
    copyFromFloats(x, y, z, result);
  }
  Vector33.clampToRef = clampToRef;
  function hermite(value1, tangent1, value2, tangent2, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const part1 = 2 * cubed - 3 * squared + 1;
    const part2 = -2 * cubed + 3 * squared;
    const part3 = cubed - 2 * squared + amount;
    const part4 = cubed - squared;
    const x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;
    const y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;
    const z = value1.z * part1 + value2.z * part2 + tangent1.z * part3 + tangent2.z * part4;
    return create(x, y, z);
  }
  Vector33.hermite = hermite;
  function minimize(left, right) {
    const min = create();
    minimizeInPlaceFromFloatsToRef(right, left.x, left.y, left.z, min);
    return min;
  }
  Vector33.minimize = minimize;
  function maximize(left, right) {
    const max = create();
    maximizeInPlaceFromFloatsToRef(left, right.x, right.y, right.z, max);
    return max;
  }
  Vector33.maximize = maximize;
  function distance(value1, value2) {
    return Math.sqrt(distanceSquared(value1, value2));
  }
  Vector33.distance = distance;
  function distanceSquared(value1, value2) {
    const x = value1.x - value2.x;
    const y = value1.y - value2.y;
    const z = value1.z - value2.z;
    return x * x + y * y + z * z;
  }
  Vector33.distanceSquared = distanceSquared;
  function center(value1, value2) {
    const center2 = add2(value1, value2);
    scaleToRef(center2, 0.5, center2);
    return center2;
  }
  Vector33.center = center;
  function rotationFromAxis(axis1, axis2, axis3) {
    const rotation = Zero();
    rotationFromAxisToRef(axis1, axis2, axis3, rotation);
    return rotation;
  }
  Vector33.rotationFromAxis = rotationFromAxis;
  function rotationFromAxisToRef(axis1, axis2, axis3, result) {
    const quat = Quaternion2.create();
    Quaternion2.fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, quat);
    copyFrom(Quaternion2.toEulerAngles(quat), result);
  }
  Vector33.rotationFromAxisToRef = rotationFromAxisToRef;
  function toString2(vector) {
    return `(${vector.x}, ${vector.y}, ${vector.z})`;
  }
  Vector33.toString = toString2;
  function getHashCode(vector) {
    let hash = vector.x || 0;
    hash = hash * 397 ^ (vector.y || 0);
    hash = hash * 397 ^ (vector.z || 0);
    return hash;
  }
  Vector33.getHashCode = getHashCode;
  function equals2(vector1, vector2) {
    return vector1.x === vector2.x && vector1.y === vector2.y && vector1.z === vector2.z;
  }
  Vector33.equals = equals2;
  function equalsWithEpsilon(vector1, vector2, epsilon = Epsilon) {
    return Scalar.withinEpsilon(vector1.x, vector2.x, epsilon) && Scalar.withinEpsilon(vector1.y, vector2.y, epsilon) && Scalar.withinEpsilon(vector1.z, vector2.z, epsilon);
  }
  Vector33.equalsWithEpsilon = equalsWithEpsilon;
  function equalsToFloats(vector, x, y, z) {
    return vector.x === x && vector.y === y && vector.z === z;
  }
  Vector33.equalsToFloats = equalsToFloats;
  function multiply2(vector1, vector2) {
    const result = create();
    multiplyToRef(vector1, vector2, result);
    return result;
  }
  Vector33.multiply = multiply2;
  function multiplyToRef(vector1, vector2, result) {
    result.x = vector1.x * vector2.x;
    result.y = vector1.y * vector2.y;
    result.z = vector1.z * vector2.z;
  }
  Vector33.multiplyToRef = multiplyToRef;
  function multiplyByFloatsToRef(vector1, x, y, z, result) {
    result.x = vector1.x * x;
    result.y = vector1.y * y;
    result.z = vector1.z * z;
  }
  Vector33.multiplyByFloatsToRef = multiplyByFloatsToRef;
  function multiplyByFloats(vector1, x, y, z) {
    const result = create();
    multiplyByFloatsToRef(vector1, x, y, z, result);
    return result;
  }
  Vector33.multiplyByFloats = multiplyByFloats;
  function divide2(vector1, vector2) {
    return {
      x: vector1.x / vector2.x,
      y: vector1.y / vector2.y,
      z: vector1.z / vector2.z
    };
  }
  Vector33.divide = divide2;
  function divideToRef(vector1, vector2, result) {
    result.x = vector1.x / vector2.x;
    result.y = vector1.y / vector2.y;
    result.z = vector1.z / vector2.z;
  }
  Vector33.divideToRef = divideToRef;
  function maximizeInPlaceFromFloatsToRef(vector1, x, y, z, result) {
    if (x > vector1.x) {
      result.x = x;
    } else {
      result.x = vector1.x;
    }
    if (y > vector1.y) {
      result.y = y;
    } else {
      result.y = vector1.y;
    }
    if (z > vector1.z) {
      result.z = z;
    } else {
      result.z = vector1.z;
    }
  }
  Vector33.maximizeInPlaceFromFloatsToRef = maximizeInPlaceFromFloatsToRef;
  function minimizeInPlaceFromFloatsToRef(vector1, x, y, z, result) {
    if (x < vector1.x) {
      result.x = x;
    } else {
      result.x = vector1.x;
    }
    if (y < vector1.y) {
      result.y = y;
    } else {
      result.y = vector1.y;
    }
    if (z < vector1.z) {
      result.z = z;
    } else {
      result.z = vector1.z;
    }
  }
  Vector33.minimizeInPlaceFromFloatsToRef = minimizeInPlaceFromFloatsToRef;
  function floor(vector1) {
    return create(Math.floor(vector1.x), Math.floor(vector1.y), Math.floor(vector1.z));
  }
  Vector33.floor = floor;
  function fract(vector1) {
    return create(vector1.x - Math.floor(vector1.x), vector1.y - Math.floor(vector1.y), vector1.z - Math.floor(vector1.z));
  }
  Vector33.fract = fract;
  function Zero() {
    return create(0, 0, 0);
  }
  Vector33.Zero = Zero;
  function One() {
    return create(1, 1, 1);
  }
  Vector33.One = One;
  function Up() {
    return create(0, 1, 0);
  }
  Vector33.Up = Up;
  function Down() {
    return create(0, -1, 0);
  }
  Vector33.Down = Down;
  function Forward() {
    return create(0, 0, 1);
  }
  Vector33.Forward = Forward;
  function Backward() {
    return create(0, 0, -1);
  }
  Vector33.Backward = Backward;
  function Right() {
    return create(1, 0, 0);
  }
  Vector33.Right = Right;
  function Left() {
    return create(-1, 0, 0);
  }
  Vector33.Left = Left;
  function Random() {
    return create(Math.random(), Math.random(), Math.random());
  }
  Vector33.Random = Random;
})(Vector32 || (Vector32 = {}));

// node_modules/@dcl/ecs-math/dist/Plane.js
var Plane;
(function(Plane2) {
  function create(a, b, c, d) {
    return {
      normal: Vector32.create(a, b, c),
      d
    };
  }
  Plane2.create = create;
  function fromArray(array) {
    return create(array[0], array[1], array[2], array[3]);
  }
  Plane2.fromArray = fromArray;
  function fromPoints(_point1, _point2, _point3) {
    const result = create(0, 0, 0, 0);
    return result;
  }
  Plane2.fromPoints = fromPoints;
  function romPositionAndNormal(origin, normal) {
    const result = create(0, 0, 0, 0);
    result.normal = Vector32.normalize(normal);
    result.d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);
    return result;
  }
  Plane2.romPositionAndNormal = romPositionAndNormal;
  function signedDistanceToPlaneFromPositionAndNormal(origin, normal, point) {
    const d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);
    return Vector32.dot(point, normal) + d;
  }
  Plane2.signedDistanceToPlaneFromPositionAndNormal = signedDistanceToPlaneFromPositionAndNormal;
  function asArray(plane) {
    return [plane.normal.x, plane.normal.y, plane.normal.z, plane.d];
  }
  Plane2.asArray = asArray;
  function clone(plane) {
    return create(plane.normal.x, plane.normal.y, plane.normal.z, plane.d);
  }
  Plane2.clone = clone;
  function getHashCode(_plane) {
    return 0;
  }
  Plane2.getHashCode = getHashCode;
  function normalize(plane) {
    const result = create(0, 0, 0, 0);
    const norm = Math.sqrt(plane.normal.x * plane.normal.x + plane.normal.y * plane.normal.y + plane.normal.z * plane.normal.z);
    let magnitude = 0;
    if (norm !== 0) {
      magnitude = 1 / norm;
    }
    result.normal.x = plane.normal.x * magnitude;
    result.normal.y = plane.normal.y * magnitude;
    result.normal.z = plane.normal.z * magnitude;
    result.d *= magnitude;
    return plane;
  }
  Plane2.normalize = normalize;
  function transform(plane, transformation) {
    const transposedMatrix = Matrix.create();
    Matrix.transposeToRef(transformation, transposedMatrix);
    const m = transposedMatrix._m;
    const x = plane.normal.x;
    const y = plane.normal.y;
    const z = plane.normal.z;
    const d = plane.d;
    const normalX = x * m[0] + y * m[1] + z * m[2] + d * m[3];
    const normalY = x * m[4] + y * m[5] + z * m[6] + d * m[7];
    const normalZ = x * m[8] + y * m[9] + z * m[10] + d * m[11];
    const finalD = x * m[12] + y * m[13] + z * m[14] + d * m[15];
    return create(normalX, normalY, normalZ, finalD);
  }
  Plane2.transform = transform;
  function dotCoordinate(plane, point) {
    return plane.normal.x * point.x + plane.normal.y * point.y + plane.normal.z * point.z + plane.d;
  }
  Plane2.dotCoordinate = dotCoordinate;
  function copyFromPoints(point1, point2, point3) {
    const x1 = point2.x - point1.x;
    const y1 = point2.y - point1.y;
    const z1 = point2.z - point1.z;
    const x2 = point3.x - point1.x;
    const y2 = point3.y - point1.y;
    const z2 = point3.z - point1.z;
    const yz = y1 * z2 - z1 * y2;
    const xz = z1 * x2 - x1 * z2;
    const xy = x1 * y2 - y1 * x2;
    const pyth = Math.sqrt(yz * yz + xz * xz + xy * xy);
    let invPyth;
    if (pyth !== 0) {
      invPyth = 1 / pyth;
    } else {
      invPyth = 0;
    }
    const normal = Vector32.create(yz * invPyth, xz * invPyth, xy * invPyth);
    return {
      normal,
      d: -(normal.x * point1.x + normal.y * point1.y + normal.z * point1.z)
    };
  }
  Plane2.copyFromPoints = copyFromPoints;
  function isFrontFacingTo(plane, direction, epsilon) {
    const dot = Vector32.dot(plane.normal, direction);
    return dot <= epsilon;
  }
  Plane2.isFrontFacingTo = isFrontFacingTo;
  function signedDistanceTo(plane, point) {
    return Vector32.dot(point, plane.normal) + plane.d;
  }
  Plane2.signedDistanceTo = signedDistanceTo;
})(Plane || (Plane = {}));

// node_modules/@dcl/ecs-math/dist/Matrix.js
var Matrix;
(function(Matrix2) {
  function m(self2) {
    return self2._m;
  }
  Matrix2.m = m;
  let _updateFlagSeed = 0;
  const _identityReadonly = {};
  function IdentityReadonly() {
    return _identityReadonly;
  }
  Matrix2.IdentityReadonly = IdentityReadonly;
  function create() {
    const newMatrix = {
      updateFlag: 0,
      isIdentity: false,
      isIdentity3x2: true,
      _isIdentityDirty: true,
      _isIdentity3x2Dirty: true,
      _m: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    };
    _updateIdentityStatus(newMatrix, false);
    return newMatrix;
  }
  Matrix2.create = create;
  function fromArray(array, offset = 0) {
    const result = create();
    fromArrayToRef(array, offset, result);
    return result;
  }
  Matrix2.fromArray = fromArray;
  function fromArrayToRef(array, offset, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = array[index + offset];
    }
    _markAsUpdated(result);
  }
  Matrix2.fromArrayToRef = fromArrayToRef;
  function fromFloatArrayToRefScaled(array, offset, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = array[index + offset] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.fromFloatArrayToRefScaled = fromFloatArrayToRefScaled;
  function fromValuesToRef(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44, result) {
    const m2 = result._m;
    m2[0] = initialM11;
    m2[1] = initialM12;
    m2[2] = initialM13;
    m2[3] = initialM14;
    m2[4] = initialM21;
    m2[5] = initialM22;
    m2[6] = initialM23;
    m2[7] = initialM24;
    m2[8] = initialM31;
    m2[9] = initialM32;
    m2[10] = initialM33;
    m2[11] = initialM34;
    m2[12] = initialM41;
    m2[13] = initialM42;
    m2[14] = initialM43;
    m2[15] = initialM44;
    _markAsUpdated(result);
  }
  Matrix2.fromValuesToRef = fromValuesToRef;
  function fromValues(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44) {
    const result = create();
    const m2 = result._m;
    m2[0] = initialM11;
    m2[1] = initialM12;
    m2[2] = initialM13;
    m2[3] = initialM14;
    m2[4] = initialM21;
    m2[5] = initialM22;
    m2[6] = initialM23;
    m2[7] = initialM24;
    m2[8] = initialM31;
    m2[9] = initialM32;
    m2[10] = initialM33;
    m2[11] = initialM34;
    m2[12] = initialM41;
    m2[13] = initialM42;
    m2[14] = initialM43;
    m2[15] = initialM44;
    _markAsUpdated(result);
    return result;
  }
  Matrix2.fromValues = fromValues;
  function compose(scale2, rotation, translation2) {
    const result = create();
    composeToRef(scale2, rotation, translation2, result);
    return result;
  }
  Matrix2.compose = compose;
  function composeToRef(scale2, rotation, translation2, result) {
    const tmpMatrix = [create(), create(), create()];
    scalingToRef(scale2.x, scale2.y, scale2.z, tmpMatrix[1]);
    fromQuaternionToRef(rotation, tmpMatrix[0]);
    multiplyToRef(tmpMatrix[1], tmpMatrix[0], result);
    setTranslation(result, translation2);
  }
  Matrix2.composeToRef = composeToRef;
  function Identity() {
    const identity = fromValues(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    _updateIdentityStatus(identity, true);
    return identity;
  }
  Matrix2.Identity = Identity;
  function IdentityToRef(result) {
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, true);
  }
  Matrix2.IdentityToRef = IdentityToRef;
  function Zero() {
    const zero = fromValues(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
    _updateIdentityStatus(zero, false);
    return zero;
  }
  Matrix2.Zero = Zero;
  function RotationX(angle) {
    const result = create();
    rotationXToRef(angle, result);
    return result;
  }
  Matrix2.RotationX = RotationX;
  function rotationXToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(1, 0, 0, 0, 0, c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationXToRef = rotationXToRef;
  function rotationY(angle) {
    const result = create();
    rotationYToRef(angle, result);
    return result;
  }
  Matrix2.rotationY = rotationY;
  function rotationYToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(c, 0, -s, 0, 0, 1, 0, 0, s, 0, c, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationYToRef = rotationYToRef;
  function rotationZ(angle) {
    const result = create();
    rotationZToRef(angle, result);
    return result;
  }
  Matrix2.rotationZ = rotationZ;
  function rotationZToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationZToRef = rotationZToRef;
  function rotationAxis(axis, angle) {
    const result = create();
    rotationAxisToRef(axis, angle, result);
    return result;
  }
  Matrix2.rotationAxis = rotationAxis;
  function rotationAxisToRef(_axis, angle, result) {
    const s = Math.sin(-angle);
    const c = Math.cos(-angle);
    const c1 = 1 - c;
    const axis = Vector32.normalize(_axis);
    const m2 = result._m;
    m2[0] = axis.x * axis.x * c1 + c;
    m2[1] = axis.x * axis.y * c1 - axis.z * s;
    m2[2] = axis.x * axis.z * c1 + axis.y * s;
    m2[3] = 0;
    m2[4] = axis.y * axis.x * c1 + axis.z * s;
    m2[5] = axis.y * axis.y * c1 + c;
    m2[6] = axis.y * axis.z * c1 - axis.x * s;
    m2[7] = 0;
    m2[8] = axis.z * axis.x * c1 - axis.y * s;
    m2[9] = axis.z * axis.y * c1 + axis.x * s;
    m2[10] = axis.z * axis.z * c1 + c;
    m2[11] = 0;
    m2[12] = 0;
    m2[13] = 0;
    m2[14] = 0;
    m2[15] = 1;
    _markAsUpdated(result);
  }
  Matrix2.rotationAxisToRef = rotationAxisToRef;
  function rotationYawPitchRoll(yaw, pitch, roll) {
    const result = create();
    rotationYawPitchRollToRef(yaw, pitch, roll, result);
    return result;
  }
  Matrix2.rotationYawPitchRoll = rotationYawPitchRoll;
  function rotationYawPitchRollToRef(yaw, pitch, roll, result) {
    const quaternionResult = Quaternion2.Zero();
    Quaternion2.fromRotationYawPitchRollToRef(yaw, pitch, roll, quaternionResult);
    fromQuaternionToRef(quaternionResult, result);
  }
  Matrix2.rotationYawPitchRollToRef = rotationYawPitchRollToRef;
  function scaling(x, y, z) {
    const result = create();
    scalingToRef(x, y, z, result);
    return result;
  }
  Matrix2.scaling = scaling;
  function scalingToRef(x, y, z, result) {
    fromValuesToRef(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, x === 1 && y === 1 && z === 1);
  }
  Matrix2.scalingToRef = scalingToRef;
  function translation(x, y, z) {
    const result = create();
    translationToRef(x, y, z, result);
    return result;
  }
  Matrix2.translation = translation;
  function translationToRef(x, y, z, result) {
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1, result);
    _updateIdentityStatus(result, x === 0 && y === 0 && z === 0);
  }
  Matrix2.translationToRef = translationToRef;
  function lerp(startValue, endValue, gradient) {
    const result = create();
    lerpToRef(startValue, endValue, gradient, result);
    return result;
  }
  Matrix2.lerp = lerp;
  function lerpToRef(startValue, endValue, gradient, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = startValue._m[index] * (1 - gradient) + endValue._m[index] * gradient;
    }
    _markAsUpdated(result);
  }
  Matrix2.lerpToRef = lerpToRef;
  function decomposeLerp(startValue, endValue, gradient) {
    const result = create();
    decomposeLerpToRef(startValue, endValue, gradient, result);
    return result;
  }
  Matrix2.decomposeLerp = decomposeLerp;
  function decomposeLerpToRef(startValue, endValue, gradient, result) {
    const startScale = Vector32.Zero();
    const startRotation = Quaternion2.Zero();
    const startTranslation = Vector32.Zero();
    decompose(startValue, startScale, startRotation, startTranslation);
    const endScale = Vector32.Zero();
    const endRotation = Quaternion2.Zero();
    const endTranslation = Vector32.Zero();
    decompose(endValue, endScale, endRotation, endTranslation);
    const resultScale = Vector32.Zero();
    Vector32.lerpToRef(startScale, endScale, gradient, resultScale);
    const resultRotation = Quaternion2.Zero();
    Quaternion2.slerpToRef(startRotation, endRotation, gradient, resultRotation);
    const resultTranslation = Vector32.Zero();
    Vector32.lerpToRef(startTranslation, endTranslation, gradient, resultTranslation);
    composeToRef(resultScale, resultRotation, resultTranslation, result);
  }
  Matrix2.decomposeLerpToRef = decomposeLerpToRef;
  function LookAtLH(eye, target, up) {
    const result = create();
    lookAtLHToRef(eye, target, up, result);
    return result;
  }
  Matrix2.LookAtLH = LookAtLH;
  function lookAtLHToRef(eye, target, up, result) {
    const xAxis = Vector32.Zero();
    const yAxis = Vector32.Zero();
    const zAxis = Vector32.Zero();
    Vector32.subtractToRef(target, eye, zAxis);
    Vector32.normalizeToRef(zAxis, zAxis);
    Vector32.crossToRef(up, zAxis, xAxis);
    const xSquareLength = Vector32.lengthSquared(xAxis);
    if (xSquareLength === 0) {
      xAxis.x = 1;
    } else {
      Vector32.normalizeFromLengthToRef(xAxis, Math.sqrt(xSquareLength), xAxis);
    }
    Vector32.crossToRef(zAxis, xAxis, yAxis);
    Vector32.normalizeToRef(yAxis, yAxis);
    const ex = -Vector32.dot(xAxis, eye);
    const ey = -Vector32.dot(yAxis, eye);
    const ez = -Vector32.dot(zAxis, eye);
    fromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, ex, ey, ez, 1, result);
  }
  Matrix2.lookAtLHToRef = lookAtLHToRef;
  function lookAtRH(eye, target, up) {
    const result = create();
    lookAtRHToRef(eye, target, up, result);
    return result;
  }
  Matrix2.lookAtRH = lookAtRH;
  function lookAtRHToRef(eye, target, up, result) {
    const xAxis = Vector32.Zero();
    const yAxis = Vector32.Zero();
    const zAxis = Vector32.Zero();
    Vector32.subtractToRef(eye, target, zAxis);
    Vector32.normalizeToRef(zAxis, zAxis);
    Vector32.crossToRef(up, zAxis, xAxis);
    const xSquareLength = Vector32.lengthSquared(xAxis);
    if (xSquareLength === 0) {
      xAxis.x = 1;
    } else {
      Vector32.normalizeFromLengthToRef(xAxis, Math.sqrt(xSquareLength), xAxis);
    }
    Vector32.crossToRef(zAxis, xAxis, yAxis);
    Vector32.normalizeToRef(yAxis, yAxis);
    const ex = -Vector32.dot(xAxis, eye);
    const ey = -Vector32.dot(yAxis, eye);
    const ez = -Vector32.dot(zAxis, eye);
    fromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, ex, ey, ez, 1, result);
  }
  Matrix2.lookAtRHToRef = lookAtRHToRef;
  function orthoLH(width, height, znear, zfar) {
    const matrix = create();
    orthoLHToRef(width, height, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.orthoLH = orthoLH;
  function orthoLHToRef(width, height, znear, zfar, result) {
    const n = znear;
    const f = zfar;
    const a = 2 / width;
    const b = 2 / height;
    const c = 2 / (f - n);
    const d = -(f + n) / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, 0, 0, d, 1, result);
    _updateIdentityStatus(result, a === 1 && b === 1 && c === 1 && d === 0);
  }
  Matrix2.orthoLHToRef = orthoLHToRef;
  function OrthoOffCenterLH(left, right, bottom, top, znear, zfar) {
    const matrix = create();
    orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.OrthoOffCenterLH = OrthoOffCenterLH;
  function orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result) {
    const n = znear;
    const f = zfar;
    const a = 2 / (right - left);
    const b = 2 / (top - bottom);
    const c = 2 / (f - n);
    const d = -(f + n) / (f - n);
    const i0 = (left + right) / (left - right);
    const i1 = (top + bottom) / (bottom - top);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, i0, i1, d, 1, result);
    _markAsUpdated(result);
  }
  Matrix2.orthoOffCenterLHToRef = orthoOffCenterLHToRef;
  function orthoOffCenterRH(left, right, bottom, top, znear, zfar) {
    const matrix = create();
    orthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.orthoOffCenterRH = orthoOffCenterRH;
  function orthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, result) {
    orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result);
    result._m[10] *= -1;
  }
  Matrix2.orthoOffCenterRHToRef = orthoOffCenterRHToRef;
  function perspectiveLH(width, height, znear, zfar) {
    const matrix = create();
    const n = znear;
    const f = zfar;
    const a = 2 * n / width;
    const b = 2 * n / height;
    const c = (f + n) / (f - n);
    const d = -2 * f * n / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 1, 0, 0, d, 0, matrix);
    _updateIdentityStatus(matrix, false);
    return matrix;
  }
  Matrix2.perspectiveLH = perspectiveLH;
  function perspectiveFovLH(fov, aspect, znear, zfar) {
    const matrix = create();
    perspectiveFovLHToRef(fov, aspect, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.perspectiveFovLH = perspectiveFovLH;
  function perspectiveFovLHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {
    const n = znear;
    const f = zfar;
    const t = 1 / Math.tan(fov * 0.5);
    const a = isVerticalFovFixed ? t / aspect : t;
    const b = isVerticalFovFixed ? t : t * aspect;
    const c = (f + n) / (f - n);
    const d = -2 * f * n / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 1, 0, 0, d, 0, result);
    _updateIdentityStatus(result, false);
  }
  Matrix2.perspectiveFovLHToRef = perspectiveFovLHToRef;
  function PerspectiveFovRH(fov, aspect, znear, zfar) {
    const matrix = create();
    perspectiveFovRHToRef(fov, aspect, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.PerspectiveFovRH = PerspectiveFovRH;
  function perspectiveFovRHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {
    const n = znear;
    const f = zfar;
    const t = 1 / Math.tan(fov * 0.5);
    const a = isVerticalFovFixed ? t / aspect : t;
    const b = isVerticalFovFixed ? t : t * aspect;
    const c = -(f + n) / (f - n);
    const d = -2 * f * n / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, -1, 0, 0, d, 0, result);
    _updateIdentityStatus(result, false);
  }
  Matrix2.perspectiveFovRHToRef = perspectiveFovRHToRef;
  function perspectiveFovWebVRToRef(fov, znear, zfar, result, rightHanded = false) {
    const rightHandedFactor = rightHanded ? -1 : 1;
    const upTan = Math.tan(fov.upDegrees * Math.PI / 180);
    const downTan = Math.tan(fov.downDegrees * Math.PI / 180);
    const leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
    const rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
    const xScale = 2 / (leftTan + rightTan);
    const yScale = 2 / (upTan + downTan);
    const m2 = result._m;
    m2[0] = xScale;
    m2[1] = m2[2] = m2[3] = m2[4] = 0;
    m2[5] = yScale;
    m2[6] = m2[7] = 0;
    m2[8] = (leftTan - rightTan) * xScale * 0.5;
    m2[9] = -((upTan - downTan) * yScale * 0.5);
    m2[10] = -zfar / (znear - zfar);
    m2[11] = 1 * rightHandedFactor;
    m2[12] = m2[13] = m2[15] = 0;
    m2[14] = -(2 * zfar * znear) / (zfar - znear);
    _markAsUpdated(result);
  }
  Matrix2.perspectiveFovWebVRToRef = perspectiveFovWebVRToRef;
  function GetAsMatrix2x2(matrix) {
    return [matrix._m[0], matrix._m[1], matrix._m[4], matrix._m[5]];
  }
  Matrix2.GetAsMatrix2x2 = GetAsMatrix2x2;
  function GetAsMatrix3x3(matrix) {
    return [
      matrix._m[0],
      matrix._m[1],
      matrix._m[2],
      matrix._m[4],
      matrix._m[5],
      matrix._m[6],
      matrix._m[8],
      matrix._m[9],
      matrix._m[10]
    ];
  }
  Matrix2.GetAsMatrix3x3 = GetAsMatrix3x3;
  function transpose(matrix) {
    const result = create();
    transposeToRef(matrix, result);
    return result;
  }
  Matrix2.transpose = transpose;
  function transposeToRef(matrix, result) {
    const rm = result._m;
    const mm = matrix._m;
    rm[0] = mm[0];
    rm[1] = mm[4];
    rm[2] = mm[8];
    rm[3] = mm[12];
    rm[4] = mm[1];
    rm[5] = mm[5];
    rm[6] = mm[9];
    rm[7] = mm[13];
    rm[8] = mm[2];
    rm[9] = mm[6];
    rm[10] = mm[10];
    rm[11] = mm[14];
    rm[12] = mm[3];
    rm[13] = mm[7];
    rm[14] = mm[11];
    rm[15] = mm[15];
    _updateIdentityStatus(result, matrix.isIdentity, matrix._isIdentityDirty);
  }
  Matrix2.transposeToRef = transposeToRef;
  function reflection(plane) {
    const matrix = create();
    reflectionToRef(plane, matrix);
    return matrix;
  }
  Matrix2.reflection = reflection;
  function reflectionToRef(_plane, result) {
    const plane = Plane.normalize(_plane);
    const x = plane.normal.x;
    const y = plane.normal.y;
    const z = plane.normal.z;
    const temp = -2 * x;
    const temp2 = -2 * y;
    const temp3 = -2 * z;
    fromValuesToRef(temp * x + 1, temp2 * x, temp3 * x, 0, temp * y, temp2 * y + 1, temp3 * y, 0, temp * z, temp2 * z, temp3 * z + 1, 0, temp * plane.d, temp2 * plane.d, temp3 * plane.d, 1, result);
  }
  Matrix2.reflectionToRef = reflectionToRef;
  function fromXYZAxesToRef(xaxis, yaxis, zaxis, result) {
    fromValuesToRef(xaxis.x, xaxis.y, xaxis.z, 0, yaxis.x, yaxis.y, yaxis.z, 0, zaxis.x, zaxis.y, zaxis.z, 0, 0, 0, 0, 1, result);
  }
  Matrix2.fromXYZAxesToRef = fromXYZAxesToRef;
  function fromQuaternionToRef(quat, result) {
    const xx = quat.x * quat.x;
    const yy = quat.y * quat.y;
    const zz = quat.z * quat.z;
    const xy = quat.x * quat.y;
    const zw = quat.z * quat.w;
    const zx = quat.z * quat.x;
    const yw = quat.y * quat.w;
    const yz = quat.y * quat.z;
    const xw = quat.x * quat.w;
    result._m[0] = 1 - 2 * (yy + zz);
    result._m[1] = 2 * (xy + zw);
    result._m[2] = 2 * (zx - yw);
    result._m[3] = 0;
    result._m[4] = 2 * (xy - zw);
    result._m[5] = 1 - 2 * (zz + xx);
    result._m[6] = 2 * (yz + xw);
    result._m[7] = 0;
    result._m[8] = 2 * (zx + yw);
    result._m[9] = 2 * (yz - xw);
    result._m[10] = 1 - 2 * (yy + xx);
    result._m[11] = 0;
    result._m[12] = 0;
    result._m[13] = 0;
    result._m[14] = 0;
    result._m[15] = 1;
    _markAsUpdated(result);
  }
  Matrix2.fromQuaternionToRef = fromQuaternionToRef;
  function _markAsUpdated(self2) {
    self2.updateFlag = _updateFlagSeed++;
    self2.isIdentity = false;
    self2.isIdentity3x2 = false;
    self2._isIdentityDirty = true;
    self2._isIdentity3x2Dirty = true;
  }
  function isIdentityUpdate(self2) {
    if (self2._isIdentityDirty) {
      self2._isIdentityDirty = false;
      const m2 = self2._m;
      self2.isIdentity = m2[0] === 1 && m2[1] === 0 && m2[2] === 0 && m2[3] === 0 && m2[4] === 0 && m2[5] === 1 && m2[6] === 0 && m2[7] === 0 && m2[8] === 0 && m2[9] === 0 && m2[10] === 1 && m2[11] === 0 && m2[12] === 0 && m2[13] === 0 && m2[14] === 0 && m2[15] === 1;
    }
    return self2.isIdentity;
  }
  Matrix2.isIdentityUpdate = isIdentityUpdate;
  function isIdentityAs3x2Update(self2) {
    if (self2._isIdentity3x2Dirty) {
      self2._isIdentity3x2Dirty = false;
      if (self2._m[0] !== 1 || self2._m[5] !== 1 || self2._m[15] !== 1) {
        self2.isIdentity3x2 = false;
      } else if (self2._m[1] !== 0 || self2._m[2] !== 0 || self2._m[3] !== 0 || self2._m[4] !== 0 || self2._m[6] !== 0 || self2._m[7] !== 0 || self2._m[8] !== 0 || self2._m[9] !== 0 || self2._m[10] !== 0 || self2._m[11] !== 0 || self2._m[12] !== 0 || self2._m[13] !== 0 || self2._m[14] !== 0) {
        self2.isIdentity3x2 = false;
      } else {
        self2.isIdentity3x2 = true;
      }
    }
    return self2.isIdentity3x2;
  }
  Matrix2.isIdentityAs3x2Update = isIdentityAs3x2Update;
  function determinant(self2) {
    if (self2.isIdentity === true) {
      return 1;
    }
    const m2 = self2._m;
    const m00 = m2[0], m01 = m2[1], m02 = m2[2], m03 = m2[3];
    const m10 = m2[4], m11 = m2[5], m12 = m2[6], m13 = m2[7];
    const m20 = m2[8], m21 = m2[9], m22 = m2[10], m23 = m2[11];
    const m30 = m2[12], m31 = m2[13], m32 = m2[14], m33 = m2[15];
    const det_22_33 = m22 * m33 - m32 * m23;
    const det_21_33 = m21 * m33 - m31 * m23;
    const det_21_32 = m21 * m32 - m31 * m22;
    const det_20_33 = m20 * m33 - m30 * m23;
    const det_20_32 = m20 * m32 - m22 * m30;
    const det_20_31 = m20 * m31 - m30 * m21;
    const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);
    const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);
    const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);
    const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);
    return m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;
  }
  Matrix2.determinant = determinant;
  function toArray(self2) {
    return self2._m;
  }
  Matrix2.toArray = toArray;
  function asArray(self2) {
    return self2._m;
  }
  Matrix2.asArray = asArray;
  function reset(self2) {
    fromValuesToRef(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, self2);
    _updateIdentityStatus(self2, false);
  }
  Matrix2.reset = reset;
  function add2(self2, other) {
    const result = create();
    addToRef(self2, other, result);
    return result;
  }
  Matrix2.add = add2;
  function addToRef(self2, other, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = self2._m[index] + other._m[index];
    }
    _markAsUpdated(result);
  }
  Matrix2.addToRef = addToRef;
  function addToSelf(self2, other) {
    for (let index = 0; index < 16; index++) {
      self2._m[index] += other._m[index];
    }
    _markAsUpdated(self2);
  }
  Matrix2.addToSelf = addToSelf;
  function invert(source) {
    const result = create();
    invertToRef(source, result);
    return result;
  }
  Matrix2.invert = invert;
  function invertToRef(source, result) {
    if (source.isIdentity === true) {
      copy(source, result);
      return;
    }
    const m2 = source._m;
    const m00 = m2[0], m01 = m2[1], m02 = m2[2], m03 = m2[3];
    const m10 = m2[4], m11 = m2[5], m12 = m2[6], m13 = m2[7];
    const m20 = m2[8], m21 = m2[9], m22 = m2[10], m23 = m2[11];
    const m30 = m2[12], m31 = m2[13], m32 = m2[14], m33 = m2[15];
    const det_22_33 = m22 * m33 - m32 * m23;
    const det_21_33 = m21 * m33 - m31 * m23;
    const det_21_32 = m21 * m32 - m31 * m22;
    const det_20_33 = m20 * m33 - m30 * m23;
    const det_20_32 = m20 * m32 - m22 * m30;
    const det_20_31 = m20 * m31 - m30 * m21;
    const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);
    const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);
    const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);
    const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);
    const det = m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;
    if (det === 0) {
      copy(source, result);
      return;
    }
    const detInv = 1 / det;
    const det_12_33 = m12 * m33 - m32 * m13;
    const det_11_33 = m11 * m33 - m31 * m13;
    const det_11_32 = m11 * m32 - m31 * m12;
    const det_10_33 = m10 * m33 - m30 * m13;
    const det_10_32 = m10 * m32 - m30 * m12;
    const det_10_31 = m10 * m31 - m30 * m11;
    const det_12_23 = m12 * m23 - m22 * m13;
    const det_11_23 = m11 * m23 - m21 * m13;
    const det_11_22 = m11 * m22 - m21 * m12;
    const det_10_23 = m10 * m23 - m20 * m13;
    const det_10_22 = m10 * m22 - m20 * m12;
    const det_10_21 = m10 * m21 - m20 * m11;
    const cofact_10 = -(m01 * det_22_33 - m02 * det_21_33 + m03 * det_21_32);
    const cofact_11 = +(m00 * det_22_33 - m02 * det_20_33 + m03 * det_20_32);
    const cofact_12 = -(m00 * det_21_33 - m01 * det_20_33 + m03 * det_20_31);
    const cofact_13 = +(m00 * det_21_32 - m01 * det_20_32 + m02 * det_20_31);
    const cofact_20 = +(m01 * det_12_33 - m02 * det_11_33 + m03 * det_11_32);
    const cofact_21 = -(m00 * det_12_33 - m02 * det_10_33 + m03 * det_10_32);
    const cofact_22 = +(m00 * det_11_33 - m01 * det_10_33 + m03 * det_10_31);
    const cofact_23 = -(m00 * det_11_32 - m01 * det_10_32 + m02 * det_10_31);
    const cofact_30 = -(m01 * det_12_23 - m02 * det_11_23 + m03 * det_11_22);
    const cofact_31 = +(m00 * det_12_23 - m02 * det_10_23 + m03 * det_10_22);
    const cofact_32 = -(m00 * det_11_23 - m01 * det_10_23 + m03 * det_10_21);
    const cofact_33 = +(m00 * det_11_22 - m01 * det_10_22 + m02 * det_10_21);
    fromValuesToRef(cofact_00 * detInv, cofact_10 * detInv, cofact_20 * detInv, cofact_30 * detInv, cofact_01 * detInv, cofact_11 * detInv, cofact_21 * detInv, cofact_31 * detInv, cofact_02 * detInv, cofact_12 * detInv, cofact_22 * detInv, cofact_32 * detInv, cofact_03 * detInv, cofact_13 * detInv, cofact_23 * detInv, cofact_33 * detInv, result);
  }
  Matrix2.invertToRef = invertToRef;
  function addAtIndex(self2, index, value) {
    self2._m[index] += value;
    _markAsUpdated(self2);
  }
  Matrix2.addAtIndex = addAtIndex;
  function multiplyAtIndex(self2, index, value) {
    self2._m[index] *= value;
    _markAsUpdated(self2);
    return self2;
  }
  Matrix2.multiplyAtIndex = multiplyAtIndex;
  function setTranslationFromFloats(self2, x, y, z) {
    self2._m[12] = x;
    self2._m[13] = y;
    self2._m[14] = z;
    _markAsUpdated(self2);
  }
  Matrix2.setTranslationFromFloats = setTranslationFromFloats;
  function setTranslation(self2, vector3) {
    setTranslationFromFloats(self2, vector3.x, vector3.y, vector3.z);
  }
  Matrix2.setTranslation = setTranslation;
  function getTranslation(self2) {
    return Vector32.create(self2._m[12], self2._m[13], self2._m[14]);
  }
  Matrix2.getTranslation = getTranslation;
  function getTranslationToRef(self2, result) {
    result.x = self2._m[12];
    result.y = self2._m[13];
    result.z = self2._m[14];
  }
  Matrix2.getTranslationToRef = getTranslationToRef;
  function removeRotationAndScaling(self2) {
    const m2 = self2._m;
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, m2[12], m2[13], m2[14], m2[15], self2);
    _updateIdentityStatus(self2, m2[12] === 0 && m2[13] === 0 && m2[14] === 0 && m2[15] === 1);
    return self2;
  }
  Matrix2.removeRotationAndScaling = removeRotationAndScaling;
  function multiply2(self2, other) {
    const result = create();
    multiplyToRef(self2, other, result);
    return result;
  }
  Matrix2.multiply = multiply2;
  function copy(from, dest) {
    copyToArray(from, dest._m);
    _updateIdentityStatus(dest, from.isIdentity, from._isIdentityDirty, from.isIdentity3x2, from._isIdentity3x2Dirty);
  }
  Matrix2.copy = copy;
  function copyToArray(self2, arrayDest, offsetDest = 0) {
    for (let index = 0; index < 16; index++) {
      arrayDest[offsetDest + index] = self2._m[index];
    }
  }
  Matrix2.copyToArray = copyToArray;
  function multiplyToRef(self2, other, result) {
    if (self2.isIdentity) {
      copy(other, result);
      return;
    }
    if (other.isIdentity) {
      copy(self2, result);
      return;
    }
    multiplyToArray(self2, other, result._m, 0);
    _markAsUpdated(result);
  }
  Matrix2.multiplyToRef = multiplyToRef;
  function multiplyToArray(self2, other, result, offset) {
    const m2 = self2._m;
    const otherM = other._m;
    const tm0 = m2[0], tm1 = m2[1], tm2 = m2[2], tm3 = m2[3];
    const tm4 = m2[4], tm5 = m2[5], tm6 = m2[6], tm7 = m2[7];
    const tm8 = m2[8], tm9 = m2[9], tm10 = m2[10], tm11 = m2[11];
    const tm12 = m2[12], tm13 = m2[13], tm14 = m2[14], tm15 = m2[15];
    const om0 = otherM[0], om1 = otherM[1], om2 = otherM[2], om3 = otherM[3];
    const om4 = otherM[4], om5 = otherM[5], om6 = otherM[6], om7 = otherM[7];
    const om8 = otherM[8], om9 = otherM[9], om10 = otherM[10], om11 = otherM[11];
    const om12 = otherM[12], om13 = otherM[13], om14 = otherM[14], om15 = otherM[15];
    result[offset] = tm0 * om0 + tm1 * om4 + tm2 * om8 + tm3 * om12;
    result[offset + 1] = tm0 * om1 + tm1 * om5 + tm2 * om9 + tm3 * om13;
    result[offset + 2] = tm0 * om2 + tm1 * om6 + tm2 * om10 + tm3 * om14;
    result[offset + 3] = tm0 * om3 + tm1 * om7 + tm2 * om11 + tm3 * om15;
    result[offset + 4] = tm4 * om0 + tm5 * om4 + tm6 * om8 + tm7 * om12;
    result[offset + 5] = tm4 * om1 + tm5 * om5 + tm6 * om9 + tm7 * om13;
    result[offset + 6] = tm4 * om2 + tm5 * om6 + tm6 * om10 + tm7 * om14;
    result[offset + 7] = tm4 * om3 + tm5 * om7 + tm6 * om11 + tm7 * om15;
    result[offset + 8] = tm8 * om0 + tm9 * om4 + tm10 * om8 + tm11 * om12;
    result[offset + 9] = tm8 * om1 + tm9 * om5 + tm10 * om9 + tm11 * om13;
    result[offset + 10] = tm8 * om2 + tm9 * om6 + tm10 * om10 + tm11 * om14;
    result[offset + 11] = tm8 * om3 + tm9 * om7 + tm10 * om11 + tm11 * om15;
    result[offset + 12] = tm12 * om0 + tm13 * om4 + tm14 * om8 + tm15 * om12;
    result[offset + 13] = tm12 * om1 + tm13 * om5 + tm14 * om9 + tm15 * om13;
    result[offset + 14] = tm12 * om2 + tm13 * om6 + tm14 * om10 + tm15 * om14;
    result[offset + 15] = tm12 * om3 + tm13 * om7 + tm14 * om11 + tm15 * om15;
  }
  Matrix2.multiplyToArray = multiplyToArray;
  function equals2(self2, value) {
    const other = value;
    if (!other) {
      return false;
    }
    if (self2.isIdentity || other.isIdentity) {
      if (!self2._isIdentityDirty && !other._isIdentityDirty) {
        return self2.isIdentity && other.isIdentity;
      }
    }
    const m2 = self2._m;
    const om = other._m;
    return m2[0] === om[0] && m2[1] === om[1] && m2[2] === om[2] && m2[3] === om[3] && m2[4] === om[4] && m2[5] === om[5] && m2[6] === om[6] && m2[7] === om[7] && m2[8] === om[8] && m2[9] === om[9] && m2[10] === om[10] && m2[11] === om[11] && m2[12] === om[12] && m2[13] === om[13] && m2[14] === om[14] && m2[15] === om[15];
  }
  Matrix2.equals = equals2;
  function clone(self2) {
    const result = create();
    copy(self2, result);
    return result;
  }
  Matrix2.clone = clone;
  function getHashCode(self2) {
    let hash = self2._m[0] || 0;
    for (let i = 1; i < 16; i++) {
      hash = hash * 397 ^ (self2._m[i] || 0);
    }
    return hash;
  }
  Matrix2.getHashCode = getHashCode;
  function decompose(self2, scale2, rotation, translation2) {
    if (self2.isIdentity) {
      if (translation2) {
        translation2.x = 0;
        translation2.y = 0;
        translation2.z = 0;
      }
      if (scale2) {
        scale2.x = 1;
        scale2.y = 1;
        scale2.z = 1;
      }
      if (rotation) {
        rotation.w = 1;
        rotation.x = 0;
        rotation.y = 0;
        rotation.z = 0;
      }
      return true;
    }
    const m2 = self2._m;
    if (translation2) {
      translation2.x = m2[12];
      translation2.y = m2[13];
      translation2.z = m2[14];
    }
    const usedScale = scale2 || Vector32.Zero();
    usedScale.x = Math.sqrt(m2[0] * m2[0] + m2[1] * m2[1] + m2[2] * m2[2]);
    usedScale.y = Math.sqrt(m2[4] * m2[4] + m2[5] * m2[5] + m2[6] * m2[6]);
    usedScale.z = Math.sqrt(m2[8] * m2[8] + m2[9] * m2[9] + m2[10] * m2[10]);
    if (determinant(self2) <= 0) {
      usedScale.y *= -1;
    }
    if (usedScale.x === 0 || usedScale.y === 0 || usedScale.z === 0) {
      if (rotation) {
        rotation.w = 1;
        rotation.x = 0;
        rotation.y = 0;
        rotation.z = 0;
      }
      return false;
    }
    if (rotation) {
      const sx = 1 / usedScale.x, sy = 1 / usedScale.y, sz = 1 / usedScale.z;
      const tmpMatrix = create();
      fromValuesToRef(m2[0] * sx, m2[1] * sx, m2[2] * sx, 0, m2[4] * sy, m2[5] * sy, m2[6] * sy, 0, m2[8] * sz, m2[9] * sz, m2[10] * sz, 0, 0, 0, 0, 1, tmpMatrix);
      Quaternion2.fromRotationMatrixToRef(tmpMatrix, rotation);
    }
    return true;
  }
  Matrix2.decompose = decompose;
  function setRowFromFloats(self2, index, x, y, z, w) {
    if (index < 0 || index > 3) {
      return;
    }
    const i = index * 4;
    self2._m[i + 0] = x;
    self2._m[i + 1] = y;
    self2._m[i + 2] = z;
    self2._m[i + 3] = w;
    _markAsUpdated(self2);
  }
  Matrix2.setRowFromFloats = setRowFromFloats;
  function scale(self2, scale2) {
    const result = create();
    scaleToRef(self2, scale2, result);
    return result;
  }
  Matrix2.scale = scale;
  function scaleToRef(self2, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = self2._m[index] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.scaleToRef = scaleToRef;
  function scaleAndAddToRef(self2, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] += self2._m[index] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.scaleAndAddToRef = scaleAndAddToRef;
  function normalMatrixToRef(self2, ref) {
    const tmp = create();
    invertToRef(self2, tmp);
    transposeToRef(tmp, ref);
    const m2 = ref._m;
    fromValuesToRef(m2[0], m2[1], m2[2], 0, m2[4], m2[5], m2[6], 0, m2[8], m2[9], m2[10], 0, 0, 0, 0, 1, ref);
  }
  Matrix2.normalMatrixToRef = normalMatrixToRef;
  function getRotationMatrix(self2) {
    const result = create();
    getRotationMatrixToRef(self2, result);
    return result;
  }
  Matrix2.getRotationMatrix = getRotationMatrix;
  function getRotationMatrixToRef(self2, result) {
    const scale2 = Vector32.Zero();
    if (!decompose(self2, scale2)) {
      result = Identity();
      return;
    }
    const m2 = self2._m;
    const sx = 1 / scale2.x, sy = 1 / scale2.y, sz = 1 / scale2.z;
    fromValuesToRef(m2[0] * sx, m2[1] * sx, m2[2] * sx, 0, m2[4] * sy, m2[5] * sy, m2[6] * sy, 0, m2[8] * sz, m2[9] * sz, m2[10] * sz, 0, 0, 0, 0, 1, result);
  }
  Matrix2.getRotationMatrixToRef = getRotationMatrixToRef;
  function toggleModelMatrixHandInPlace(self2) {
    self2._m[2] *= -1;
    self2._m[6] *= -1;
    self2._m[8] *= -1;
    self2._m[9] *= -1;
    self2._m[14] *= -1;
    _markAsUpdated(self2);
  }
  Matrix2.toggleModelMatrixHandInPlace = toggleModelMatrixHandInPlace;
  function toggleProjectionMatrixHandInPlace(self2) {
    self2._m[8] *= -1;
    self2._m[9] *= -1;
    self2._m[10] *= -1;
    self2._m[11] *= -1;
    _markAsUpdated(self2);
  }
  Matrix2.toggleProjectionMatrixHandInPlace = toggleProjectionMatrixHandInPlace;
  function _updateIdentityStatus(self2, isIdentity, isIdentityDirty = false, isIdentity3x2 = false, isIdentity3x2Dirty = true) {
    self2.updateFlag = _updateFlagSeed++;
    self2.isIdentity = isIdentity;
    self2.isIdentity3x2 = isIdentity || isIdentity3x2;
    self2._isIdentityDirty = self2.isIdentity ? false : isIdentityDirty;
    self2._isIdentity3x2Dirty = self2.isIdentity3x2 ? false : isIdentity3x2Dirty;
  }
})(Matrix || (Matrix = {}));

// node_modules/@dcl/ecs-math/dist/Quaternion.js
var Quaternion2;
(function(Quaternion3) {
  function create(x = 0, y = 0, z = 0, w = 1) {
    return { x, y, z, w };
  }
  Quaternion3.create = create;
  function add2(q1, q2) {
    return { x: q1.x + q2.x, y: q1.y + q2.y, z: q1.z + q2.z, w: q1.w + q2.w };
  }
  Quaternion3.add = add2;
  function fromRotationYawPitchRoll(yaw, pitch, roll) {
    const halfPitch = pitch * 0.5;
    const halfYaw = yaw * 0.5;
    const halfRoll = roll * 0.5;
    const c1 = Math.cos(halfPitch);
    const c2 = Math.cos(halfYaw);
    const c3 = Math.cos(halfRoll);
    const s1 = Math.sin(halfPitch);
    const s2 = Math.sin(halfYaw);
    const s3 = Math.sin(halfRoll);
    return create(c2 * s1 * c3 + s2 * c1 * s3, s2 * c1 * c3 - c2 * s1 * s3, c2 * c1 * s3 - s2 * s1 * c3, c2 * c1 * c3 + s2 * s1 * s3);
  }
  Quaternion3.fromRotationYawPitchRoll = fromRotationYawPitchRoll;
  function fromEulerDegrees(x, y, z) {
    return fromRotationYawPitchRoll(y * DEG2RAD, x * DEG2RAD, z * DEG2RAD);
  }
  Quaternion3.fromEulerDegrees = fromEulerDegrees;
  function length2(q) {
    return Math.sqrt(lengthSquared(q));
  }
  Quaternion3.length = length2;
  function lengthSquared(q) {
    return q.x * q.x + q.y * q.y + q.z * q.z + q.w * q.w;
  }
  Quaternion3.lengthSquared = lengthSquared;
  function dot(left, right) {
    return left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;
  }
  Quaternion3.dot = dot;
  function angle(quat1, quat2) {
    const dotVal = dot(quat1, quat2);
    return Math.acos(Math.min(Math.abs(dotVal), 1)) * 2 * RAD2DEG;
  }
  Quaternion3.angle = angle;
  function rotateTowards(from, to, maxDegreesDelta) {
    const num = angle(from, to);
    if (num === 0) {
      return to;
    }
    const t = Math.min(1, maxDegreesDelta / num);
    return slerp(from, to, t);
  }
  Quaternion3.rotateTowards = rotateTowards;
  function lookRotation(forward, up = { x: 0, y: 1, z: 0 }) {
    const forwardNew = Vector32.normalize(forward);
    const right = Vector32.normalize(Vector32.cross(up, forwardNew));
    const upNew = Vector32.cross(forwardNew, right);
    const m00 = right.x;
    const m01 = right.y;
    const m02 = right.z;
    const m10 = upNew.x;
    const m11 = upNew.y;
    const m12 = upNew.z;
    const m20 = forwardNew.x;
    const m21 = forwardNew.y;
    const m22 = forwardNew.z;
    const num8 = m00 + m11 + m22;
    const quaternion = create();
    if (num8 > 0) {
      let num = Math.sqrt(num8 + 1);
      quaternion.w = num * 0.5;
      num = 0.5 / num;
      quaternion.x = (m12 - m21) * num;
      quaternion.y = (m20 - m02) * num;
      quaternion.z = (m01 - m10) * num;
      return quaternion;
    }
    if (m00 >= m11 && m00 >= m22) {
      const num7 = Math.sqrt(1 + m00 - m11 - m22);
      const num4 = 0.5 / num7;
      quaternion.x = 0.5 * num7;
      quaternion.y = (m01 + m10) * num4;
      quaternion.z = (m02 + m20) * num4;
      quaternion.w = (m12 - m21) * num4;
      return quaternion;
    }
    if (m11 > m22) {
      const num6 = Math.sqrt(1 + m11 - m00 - m22);
      const num3 = 0.5 / num6;
      quaternion.x = (m10 + m01) * num3;
      quaternion.y = 0.5 * num6;
      quaternion.z = (m21 + m12) * num3;
      quaternion.w = (m20 - m02) * num3;
      return quaternion;
    }
    const num5 = Math.sqrt(1 + m22 - m00 - m11);
    const num2 = 0.5 / num5;
    quaternion.x = (m20 + m02) * num2;
    quaternion.y = (m21 + m12) * num2;
    quaternion.z = 0.5 * num5;
    quaternion.w = (m01 - m10) * num2;
    return quaternion;
  }
  Quaternion3.lookRotation = lookRotation;
  function normalize(q) {
    const qLength = 1 / length2(q);
    return create(q.x * qLength, q.y * qLength, q.z * qLength, q.w * qLength);
  }
  Quaternion3.normalize = normalize;
  function fromToRotation(from, to, up = Vector32.Up()) {
    const v0 = Vector32.normalize(from);
    const v1 = Vector32.normalize(to);
    const a = Vector32.cross(v0, v1);
    const w = Math.sqrt(Vector32.lengthSquared(v0) * Vector32.lengthSquared(v1)) + Vector32.dot(v0, v1);
    if (Vector32.lengthSquared(a) < 1e-4) {
      return Math.abs(w) < 1e-4 ? normalize(create(up.x, up.y, up.z, 0)) : Identity();
    } else {
      return normalize(create(a.x, a.y, a.z, w));
    }
  }
  Quaternion3.fromToRotation = fromToRotation;
  function Identity() {
    return create(0, 0, 0, 1);
  }
  Quaternion3.Identity = Identity;
  function toEulerAngles(q) {
    const out = Vector32.create();
    const unit = q.x * q.x + q.y * q.y + q.z * q.z + q.w * q.w;
    const test = q.x * q.w - q.y * q.z;
    if (test > 0.4995 * unit) {
      out.x = Math.PI / 2;
      out.y = 2 * Math.atan2(q.y, q.x);
      out.z = 0;
    } else if (test < -0.4995 * unit) {
      out.x = -Math.PI / 2;
      out.y = -2 * Math.atan2(q.y, q.x);
      out.z = 0;
    } else {
      out.x = Math.asin(2 * (q.w * q.x - q.y * q.z));
      out.y = Math.atan2(2 * q.w * q.y + 2 * q.z * q.x, 1 - 2 * (q.x * q.x + q.y * q.y));
      out.z = Math.atan2(2 * q.w * q.z + 2 * q.x * q.y, 1 - 2 * (q.z * q.z + q.x * q.x));
    }
    out.x *= RAD2DEG;
    out.y *= RAD2DEG;
    out.z *= RAD2DEG;
    out.x = Scalar.repeat(out.x, 360);
    out.y = Scalar.repeat(out.y, 360);
    out.z = Scalar.repeat(out.z, 360);
    return out;
  }
  Quaternion3.toEulerAngles = toEulerAngles;
  function fromRotationYawPitchRollToRef(yaw, pitch, roll, result) {
    const halfPitch = pitch * 0.5;
    const halfYaw = yaw * 0.5;
    const halfRoll = roll * 0.5;
    const c1 = Math.cos(halfPitch);
    const c2 = Math.cos(halfYaw);
    const c3 = Math.cos(halfRoll);
    const s1 = Math.sin(halfPitch);
    const s2 = Math.sin(halfYaw);
    const s3 = Math.sin(halfRoll);
    result.x = c2 * s1 * c3 + s2 * c1 * s3;
    result.y = s2 * c1 * c3 - c2 * s1 * s3;
    result.z = c2 * c1 * s3 - s2 * s1 * c3;
    result.w = c2 * c1 * c3 + s2 * s1 * s3;
  }
  Quaternion3.fromRotationYawPitchRollToRef = fromRotationYawPitchRollToRef;
  function fromRotationMatrixToRef(matrix, result) {
    const data = matrix._m;
    const m11 = data[0], m12 = data[4], m13 = data[8];
    const m21 = data[1], m22 = data[5], m23 = data[9];
    const m31 = data[2], m32 = data[6], m33 = data[10];
    const trace = m11 + m22 + m33;
    let s;
    if (trace > 0) {
      s = 0.5 / Math.sqrt(trace + 1);
      result.w = 0.25 / s;
      result.x = (m32 - m23) * s;
      result.y = (m13 - m31) * s;
      result.z = (m21 - m12) * s;
    } else if (m11 > m22 && m11 > m33) {
      s = 2 * Math.sqrt(1 + m11 - m22 - m33);
      result.w = (m32 - m23) / s;
      result.x = 0.25 * s;
      result.y = (m12 + m21) / s;
      result.z = (m13 + m31) / s;
    } else if (m22 > m33) {
      s = 2 * Math.sqrt(1 + m22 - m11 - m33);
      result.w = (m13 - m31) / s;
      result.x = (m12 + m21) / s;
      result.y = 0.25 * s;
      result.z = (m23 + m32) / s;
    } else {
      s = 2 * Math.sqrt(1 + m33 - m11 - m22);
      result.w = (m21 - m12) / s;
      result.x = (m13 + m31) / s;
      result.y = (m23 + m32) / s;
      result.z = 0.25 * s;
    }
  }
  Quaternion3.fromRotationMatrixToRef = fromRotationMatrixToRef;
  function slerp(left, right, amount) {
    const result = Quaternion3.Identity();
    Quaternion3.slerpToRef(left, right, amount, result);
    return result;
  }
  Quaternion3.slerp = slerp;
  function slerpToRef(left, right, amount, result) {
    let num2;
    let num3;
    let num4 = left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;
    let flag = false;
    if (num4 < 0) {
      flag = true;
      num4 = -num4;
    }
    if (num4 > 0.999999) {
      num3 = 1 - amount;
      num2 = flag ? -amount : amount;
    } else {
      const num5 = Math.acos(num4);
      const num6 = 1 / Math.sin(num5);
      num3 = Math.sin((1 - amount) * num5) * num6;
      num2 = flag ? -Math.sin(amount * num5) * num6 : Math.sin(amount * num5) * num6;
    }
    result.x = num3 * left.x + num2 * right.x;
    result.y = num3 * left.y + num2 * right.y;
    result.z = num3 * left.z + num2 * right.z;
    result.w = num3 * left.w + num2 * right.w;
  }
  Quaternion3.slerpToRef = slerpToRef;
  function multiply2(self2, q1) {
    const result = create(0, 0, 0, 1);
    multiplyToRef(self2, q1, result);
    return result;
  }
  Quaternion3.multiply = multiply2;
  function multiplyToRef(self2, q1, result) {
    result.x = self2.x * q1.w + self2.y * q1.z - self2.z * q1.y + self2.w * q1.x;
    result.y = -self2.x * q1.z + self2.y * q1.w + self2.z * q1.x + self2.w * q1.y;
    result.z = self2.x * q1.y - self2.y * q1.x + self2.z * q1.w + self2.w * q1.z;
    result.w = -self2.x * q1.x - self2.y * q1.y - self2.z * q1.z + self2.w * q1.w;
  }
  Quaternion3.multiplyToRef = multiplyToRef;
  function fromAngleAxis(degrees, axis) {
    if (Vector32.lengthSquared(axis) === 0) {
      return Quaternion3.Identity();
    }
    const result = Identity();
    let radians = degrees * DEG2RAD;
    radians *= 0.5;
    const a2 = Vector32.normalize(axis);
    Vector32.scaleToRef(a2, Math.sin(radians), a2);
    result.x = a2.x;
    result.y = a2.y;
    result.z = a2.z;
    result.w = Math.cos(radians);
    return normalize(result);
  }
  Quaternion3.fromAngleAxis = fromAngleAxis;
  function fromAxisToRotationQuaternion(axis1, axis2, axis3) {
    const quat = Quaternion3.create(0, 0, 0, 0);
    fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, quat);
    return quat;
  }
  Quaternion3.fromAxisToRotationQuaternion = fromAxisToRotationQuaternion;
  function fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, ref) {
    const rotMat = Matrix.create();
    Matrix.fromXYZAxesToRef(Vector32.normalize(axis1), Vector32.normalize(axis2), Vector32.normalize(axis3), rotMat);
    Quaternion3.fromRotationMatrixToRef(rotMat, ref);
  }
  Quaternion3.fromAxisToRotationQuaternionToRef = fromAxisToRotationQuaternionToRef;
  function Zero() {
    return create(0, 0, 0, 0);
  }
  Quaternion3.Zero = Zero;
  function fromLookAt(position, target, worldUp = Vector32.Up()) {
    const result = Quaternion3.Identity();
    fromLookAtToRef(position, target, worldUp, result);
    return result;
  }
  Quaternion3.fromLookAt = fromLookAt;
  function fromLookAtToRef(position, target, worldUp = Vector32.Up(), result) {
    const m = Matrix.Identity();
    Matrix.lookAtLHToRef(position, target, worldUp, m);
    Matrix.invertToRef(m, m);
    Quaternion3.fromRotationMatrixToRef(m, result);
  }
  Quaternion3.fromLookAtToRef = fromLookAtToRef;
})(Quaternion2 || (Quaternion2 = {}));

// node_modules/@dcl/ecs-math/dist/Color4.js
var Color42;
(function(Color44) {
  function create(r = 0, g = 0, b = 0, a = 1) {
    return { r, g, b, a };
  }
  Color44.create = create;
  function fromHexString(hex) {
    if (hex.substring(0, 1) !== "#" || hex.length !== 7 && hex.length !== 9) {
      return create(0, 0, 0, 1);
    }
    const r = parseInt(hex.substring(1, 3), 16);
    const g = parseInt(hex.substring(3, 5), 16);
    const b = parseInt(hex.substring(5, 7), 16);
    const aStr = hex.substring(7, 9);
    const a = aStr ? parseInt(aStr, 16) : 255;
    return Color44.fromInts(r, g, b, a);
  }
  Color44.fromHexString = fromHexString;
  function lerp(left, right, amount) {
    const result = create(0, 0, 0, 0);
    Color44.lerpToRef(left, right, amount, result);
    return result;
  }
  Color44.lerp = lerp;
  function lerpToRef(left, right, amount, result) {
    result.r = left.r + (right.r - left.r) * amount;
    result.g = left.g + (right.g - left.g) * amount;
    result.b = left.b + (right.b - left.b) * amount;
    result.a = left.a + (right.a - left.a) * amount;
  }
  Color44.lerpToRef = lerpToRef;
  function Red() {
    return create(1, 0, 0, 1);
  }
  Color44.Red = Red;
  function Green() {
    return create(0, 1, 0, 1);
  }
  Color44.Green = Green;
  function Blue() {
    return create(0, 0, 1, 1);
  }
  Color44.Blue = Blue;
  function Black() {
    return create(0, 0, 0, 1);
  }
  Color44.Black = Black;
  function White() {
    return create(1, 1, 1, 1);
  }
  Color44.White = White;
  function Purple() {
    return create(0.5, 0, 0.5, 1);
  }
  Color44.Purple = Purple;
  function Magenta() {
    return create(1, 0, 1, 1);
  }
  Color44.Magenta = Magenta;
  function Yellow() {
    return create(1, 1, 0, 1);
  }
  Color44.Yellow = Yellow;
  function Gray() {
    return create(0.5, 0.5, 0.5, 1);
  }
  Color44.Gray = Gray;
  function Teal() {
    return create(0, 1, 1, 1);
  }
  Color44.Teal = Teal;
  function Clear() {
    return create(0, 0, 0, 0);
  }
  Color44.Clear = Clear;
  function fromColor3(color3, alpha = 1) {
    return create(color3.r, color3.g, color3.b, alpha);
  }
  Color44.fromColor3 = fromColor3;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);
  }
  Color44.fromArray = fromArray;
  function fromInts(r, g, b, a) {
    return create(r / 255, g / 255, b / 255, a / 255);
  }
  Color44.fromInts = fromInts;
  function checkColors4(colors, count) {
    if (colors.length === count * 3) {
      const colors4 = [];
      for (let index = 0; index < colors.length; index += 3) {
        const newIndex = index / 3 * 4;
        colors4[newIndex] = colors[index];
        colors4[newIndex + 1] = colors[index + 1];
        colors4[newIndex + 2] = colors[index + 2];
        colors4[newIndex + 3] = 1;
      }
      return colors4;
    }
    return colors;
  }
  Color44.checkColors4 = checkColors4;
  function addToRef(a, b, ref) {
    ref.r = a.r + b.r;
    ref.g = a.g + b.g;
    ref.b = a.b + b.b;
    ref.a = a.a + b.a;
  }
  Color44.addToRef = addToRef;
  function toArray(value, array, index = 0) {
    array[index] = value.r;
    array[index + 1] = value.g;
    array[index + 2] = value.b;
    array[index + 3] = value.a;
  }
  Color44.toArray = toArray;
  function add2(value, right) {
    const ret = Clear();
    addToRef(value, right, ret);
    return ret;
  }
  Color44.add = add2;
  function subtract2(value, right) {
    const ret = Clear();
    subtractToRef(value, right, ret);
    return ret;
  }
  Color44.subtract = subtract2;
  function subtractToRef(a, b, result) {
    result.r = a.r - b.r;
    result.g = a.g - b.g;
    result.b = a.b - b.b;
    result.a = a.a - b.a;
  }
  Color44.subtractToRef = subtractToRef;
  function scale(value, scale2) {
    return create(value.r * scale2, value.g * scale2, value.b * scale2, value.a * scale2);
  }
  Color44.scale = scale;
  function scaleToRef(value, scale2, result) {
    result.r = value.r * scale2;
    result.g = value.g * scale2;
    result.b = value.b * scale2;
    result.a = value.a * scale2;
  }
  Color44.scaleToRef = scaleToRef;
  function scaleAndAddToRef(value, scale2, result) {
    result.r += value.r * scale2;
    result.g += value.g * scale2;
    result.b += value.b * scale2;
    result.a += value.a * scale2;
  }
  Color44.scaleAndAddToRef = scaleAndAddToRef;
  function clampToRef(value, min = 0, max = 1, result) {
    result.r = Scalar.clamp(value.r, min, max);
    result.g = Scalar.clamp(value.g, min, max);
    result.b = Scalar.clamp(value.b, min, max);
    result.a = Scalar.clamp(value.a, min, max);
  }
  Color44.clampToRef = clampToRef;
  function multiply2(value, color) {
    return create(value.r * color.r, value.g * color.g, value.b * color.b, value.a * color.a);
  }
  Color44.multiply = multiply2;
  function multiplyToRef(value, color, result) {
    result.r = value.r * color.r;
    result.g = value.g * color.g;
    result.b = value.b * color.b;
    result.a = value.a * color.a;
  }
  Color44.multiplyToRef = multiplyToRef;
  function toString2(value) {
    return "{R: " + value.r + " G:" + value.g + " B:" + value.b + " A:" + value.a + "}";
  }
  Color44.toString = toString2;
  function getHashCode(value) {
    let hash = value.r || 0;
    hash = hash * 397 ^ (value.g || 0);
    hash = hash * 397 ^ (value.b || 0);
    hash = hash * 397 ^ (value.a || 0);
    return hash;
  }
  Color44.getHashCode = getHashCode;
  function clone(value) {
    return create(value.r, value.g, value.b, value.a);
  }
  Color44.clone = clone;
  function copyFrom(source, dest) {
    dest.r = source.r;
    dest.g = source.g;
    dest.b = source.b;
    dest.a = source.a;
  }
  Color44.copyFrom = copyFrom;
  function copyFromFloats(r, g, b, a, dest) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
    dest.a = a;
  }
  Color44.copyFromFloats = copyFromFloats;
  function set(r, g, b, a, dest) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
    dest.a = a;
  }
  Color44.set = set;
  function toHexString(value) {
    const intR = value.r * 255 | 0;
    const intG = value.g * 255 | 0;
    const intB = value.b * 255 | 0;
    const intA = value.a * 255 | 0;
    return "#" + Scalar.toHex(intR) + Scalar.toHex(intG) + Scalar.toHex(intB) + Scalar.toHex(intA);
  }
  Color44.toHexString = toHexString;
  function toLinearSpace(value) {
    const convertedColor = create();
    toLinearSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color44.toLinearSpace = toLinearSpace;
  function toLinearSpaceToRef(value, ref) {
    ref.r = Math.pow(value.r, ToLinearSpace);
    ref.g = Math.pow(value.g, ToLinearSpace);
    ref.b = Math.pow(value.b, ToLinearSpace);
    ref.a = value.a;
  }
  Color44.toLinearSpaceToRef = toLinearSpaceToRef;
  function toGammaSpace(value) {
    const convertedColor = create();
    toGammaSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color44.toGammaSpace = toGammaSpace;
  function toGammaSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToGammaSpace);
    convertedColor.g = Math.pow(value.g, ToGammaSpace);
    convertedColor.b = Math.pow(value.b, ToGammaSpace);
    convertedColor.a = value.a;
  }
  Color44.toGammaSpaceToRef = toGammaSpaceToRef;
})(Color42 || (Color42 = {}));

// node_modules/@dcl/ecs-math/dist/Color3.js
var Color32;
(function(Color34) {
  function create(r = 0, g = 0, b = 0) {
    return { r, g, b };
  }
  Color34.create = create;
  function fromHexString(hex) {
    if (hex.substring(0, 1) !== "#" || hex.length !== 7) {
      return create(0, 0, 0);
    }
    const r = parseInt(hex.substring(1, 3), 16);
    const g = parseInt(hex.substring(3, 5), 16);
    const b = parseInt(hex.substring(5, 7), 16);
    return fromInts(r, g, b);
  }
  Color34.fromHexString = fromHexString;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2]);
  }
  Color34.fromArray = fromArray;
  function fromInts(r, g, b) {
    return create(r / 255, g / 255, b / 255);
  }
  Color34.fromInts = fromInts;
  function lerp(start, end, amount) {
    const result = create(0, 0, 0);
    Color34.lerpToRef(start, end, amount, result);
    return result;
  }
  Color34.lerp = lerp;
  function lerpToRef(left, right, amount, result) {
    result.r = left.r + (right.r - left.r) * amount;
    result.g = left.g + (right.g - left.g) * amount;
    result.b = left.b + (right.b - left.b) * amount;
  }
  Color34.lerpToRef = lerpToRef;
  function Red() {
    return create(1, 0, 0);
  }
  Color34.Red = Red;
  function Green() {
    return create(0, 1, 0);
  }
  Color34.Green = Green;
  function Blue() {
    return create(0, 0, 1);
  }
  Color34.Blue = Blue;
  function Black() {
    return create(0, 0, 0);
  }
  Color34.Black = Black;
  function White() {
    return create(1, 1, 1);
  }
  Color34.White = White;
  function Purple() {
    return create(0.5, 0, 0.5);
  }
  Color34.Purple = Purple;
  function Magenta() {
    return create(1, 0, 1);
  }
  Color34.Magenta = Magenta;
  function Yellow() {
    return create(1, 1, 0);
  }
  Color34.Yellow = Yellow;
  function Gray() {
    return create(0.5, 0.5, 0.5);
  }
  Color34.Gray = Gray;
  function Teal() {
    return create(0, 1, 1);
  }
  Color34.Teal = Teal;
  function Random() {
    return create(Math.random(), Math.random(), Math.random());
  }
  Color34.Random = Random;
  function toString2(value) {
    return "{R: " + value.r + " G:" + value.g + " B:" + value.b + "}";
  }
  Color34.toString = toString2;
  function getHashCode(value) {
    let hash = value.r || 0;
    hash = hash * 397 ^ (value.g || 0);
    hash = hash * 397 ^ (value.b || 0);
    return hash;
  }
  Color34.getHashCode = getHashCode;
  function toArray(value, array, index = 0) {
    array[index] = value.r;
    array[index + 1] = value.g;
    array[index + 2] = value.b;
  }
  Color34.toArray = toArray;
  function toColor4(value, alpha = 1) {
    return Color42.create(value.r, value.g, value.b, alpha);
  }
  Color34.toColor4 = toColor4;
  function asArray(value) {
    const result = new Array();
    toArray(value, result, 0);
    return result;
  }
  Color34.asArray = asArray;
  function toLuminance(value) {
    return value.r * 0.3 + value.g * 0.59 + value.b * 0.11;
  }
  Color34.toLuminance = toLuminance;
  function multiply2(value, otherColor) {
    return create(value.r * otherColor.r, value.g * otherColor.g, value.b * otherColor.b);
  }
  Color34.multiply = multiply2;
  function multiplyToRef(value, otherColor, result) {
    result.r = value.r * otherColor.r;
    result.g = value.g * otherColor.g;
    result.b = value.b * otherColor.b;
  }
  Color34.multiplyToRef = multiplyToRef;
  function equals2(value, otherColor) {
    return otherColor && value.r === otherColor.r && value.g === otherColor.g && value.b === otherColor.b;
  }
  Color34.equals = equals2;
  function equalsFloats(value, r, g, b) {
    return value.r === r && value.g === g && value.b === b;
  }
  Color34.equalsFloats = equalsFloats;
  function scale(value, scale2) {
    return create(value.r * scale2, value.g * scale2, value.b * scale2);
  }
  Color34.scale = scale;
  function scaleToRef(value, scale2, result) {
    result.r = value.r * scale2;
    result.g = value.g * scale2;
    result.b = value.b * scale2;
  }
  Color34.scaleToRef = scaleToRef;
  function scaleAndAddToRef(value, scale2, result) {
    result.r += value.r * scale2;
    result.g += value.g * scale2;
    result.b += value.b * scale2;
  }
  Color34.scaleAndAddToRef = scaleAndAddToRef;
  function clampToRef(value, min = 0, max = 1, result) {
    result.r = Scalar.clamp(value.r, min, max);
    result.g = Scalar.clamp(value.g, min, max);
    result.b = Scalar.clamp(value.b, min, max);
  }
  Color34.clampToRef = clampToRef;
  function clamp(value, min = 0, max = 1) {
    const result = Color34.Black();
    clampToRef(value, min, max, result);
    return result;
  }
  Color34.clamp = clamp;
  function add2(value, otherColor) {
    return create(value.r + otherColor.r, value.g + otherColor.g, value.b + otherColor.b);
  }
  Color34.add = add2;
  function addToRef(value, otherColor, result) {
    result.r = value.r + otherColor.r;
    result.g = value.g + otherColor.g;
    result.b = value.b + otherColor.b;
  }
  Color34.addToRef = addToRef;
  function subtract2(value, otherColor) {
    return create(value.r - otherColor.r, value.g - otherColor.g, value.b - otherColor.b);
  }
  Color34.subtract = subtract2;
  function subtractToRef(value, otherColor, result) {
    result.r = value.r - otherColor.r;
    result.g = value.g - otherColor.g;
    result.b = value.b - otherColor.b;
  }
  Color34.subtractToRef = subtractToRef;
  function clone(value) {
    return create(value.r, value.g, value.b);
  }
  Color34.clone = clone;
  function copyFrom(source, dest) {
    dest.r = source.r;
    dest.g = source.g;
    dest.b = source.b;
  }
  Color34.copyFrom = copyFrom;
  function set(dest, r, g, b) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
  }
  Color34.set = set;
  function toHexString(value) {
    const intR = value.r * 255 | 0;
    const intG = value.g * 255 | 0;
    const intB = value.b * 255 | 0;
    return "#" + Scalar.toHex(intR) + Scalar.toHex(intG) + Scalar.toHex(intB);
  }
  Color34.toHexString = toHexString;
  function toLinearSpace(value) {
    const convertedColor = create();
    toLinearSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color34.toLinearSpace = toLinearSpace;
  function toLinearSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToLinearSpace);
    convertedColor.g = Math.pow(value.g, ToLinearSpace);
    convertedColor.b = Math.pow(value.b, ToLinearSpace);
  }
  Color34.toLinearSpaceToRef = toLinearSpaceToRef;
  function toGammaSpace(value) {
    const convertedColor = create();
    toGammaSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color34.toGammaSpace = toGammaSpace;
  function toGammaSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToGammaSpace);
    convertedColor.g = Math.pow(value.g, ToGammaSpace);
    convertedColor.b = Math.pow(value.b, ToGammaSpace);
  }
  Color34.toGammaSpaceToRef = toGammaSpaceToRef;
})(Color32 || (Color32 = {}));

// src/particles.ts
var timeElapsed = 0;
var ParticleState = {
  ACTIVE: "ACTIVE",
  DROPPING: "DROPPING",
  INACTIVE: "INACTIVE"
};
var transitionProbabilities = [0.3, 0.2, 0.2, 0.1, 0.2];
var tightnessArray = [0.1, 0.3, 0.5, 0.8, 1];
var speedArray = [0.5, 1, 1.5, 2];
var sizeArray = [0.1, 0.5, 1, 2, 5];
var Particle = engine.defineComponent("Particle", {
  angle: Schemas.Float,
  radius: Schemas.Float,
  speed: Schemas.Number,
  spiralOffset: Schemas.Float,
  state: Schemas.String,
  markovStep: Schemas.Int
  // Current step in Markov Chain
});
function particleSystem(dt) {
  timeElapsed += dt;
  for (const [entity] of engine.getEntitiesWith(Particle, Transform2)) {
    const particle = Particle.getMutable(entity);
    particle.angle += dt * particle.speed;
    if (particle.angle >= 2 * Math.PI) {
      particle.angle = 0;
      const randomNumber = Math.random();
      let sum = 0;
      for (let prob of transitionProbabilities) {
        sum += prob;
        if (randomNumber <= sum) {
          particle.markovStep = transitionProbabilities.indexOf(prob);
          break;
        }
      }
      particle.speed = speedArray[particle.markovStep % speedArray.length];
    }
    const transform = Transform2.getMutable(entity);
    const adjustedAngle = particle.angle * tightnessArray[particle.markovStep % tightnessArray.length];
    const x = particle.radius * Math.cos(adjustedAngle + particle.spiralOffset);
    const z = particle.radius * Math.sin(adjustedAngle + particle.spiralOffset);
    const y = particle.radius * Math.sin(adjustedAngle);
    transform.position = Vector32.create(x, y, z);
    const adjustedSize = sizeArray[particle.markovStep % sizeArray.length];
    transform.scale = Vector32.create(adjustedSize, adjustedSize, adjustedSize);
  }
}
var material = {
  metallic: 1,
  albedoColor: Color42.create(0.5, 1.5, 2),
  emissiveColor: Color42.create(0.2, 0.5, 2)
};
var particleParentEntity = engine.addEntity();
Transform2.create(particleParentEntity, {
  position: Vector32.create(7.97, 10, 4.37),
  rotation: Quaternion2.fromEulerDegrees(0, 90, 0)
});
var MAX_PARTICLES_PER_SPIRAL = 80;
var SPIRAL_COUNT = 10;
var SPIRAL_OFFSET = 2 * Math.PI / SPIRAL_COUNT;
for (let s = 0; s < SPIRAL_COUNT; s++) {
  for (let i = 0; i < MAX_PARTICLES_PER_SPIRAL; i++) {
    const particleEntity = engine.addEntity();
    MeshRenderer3.setBox(particleEntity);
    Material3.setPbrMaterial(particleEntity, material);
    Particle.create(particleEntity, {
      angle: i * 0.2,
      radius: i * 0.3,
      speed: 2,
      spiralOffset: s * SPIRAL_OFFSET,
      state: ParticleState.ACTIVE,
      markovStep: 0
    });
    Transform2.create(particleEntity, {
      scale: Vector32.create(0.2, 5, 0.2),
      // Scale for the cube
      parent: particleParentEntity
    });
  }
}

// src/sound.ts
function playSound(entity) {
  const audioSource = AudioSource2.getMutable(entity);
  if (audioSource) {
    audioSource.playing = true;
    audioSource.loop = true;
    console.log("Audio should be playing");
  } else {
    console.log("Audio source is undefined");
  }
}
function stopSound(entity) {
  const audioSource = AudioSource2.getMutable(entity);
  if (audioSource) {
    audioSource.playing = false;
    audioSource.loop = false;
    console.log("Audio should be playing");
  } else {
    console.log("Audio source is undefined");
  }
}
function playOneShot(entity) {
  const audioSource = AudioSource2.getMutable(entity);
  if (audioSource) {
    audioSource.playing = true;
    audioSource.loop = false;
    console.log("Audio should be playing");
  } else {
    console.log("Audio source is undefined");
  }
}
var intro = engine.addEntity();
MeshCollider3.setBox(intro);
AudioSource2.create(intro, {
  audioClipUrl: "sounds/lobbyOFFair.mp3",
  playing: true
});
Transform2.create(intro, {
  position: { x: 8, y: 6, z: -9 },
  scale: { x: 1, y: 1, z: 1 }
});
var PartAudio = engine.addEntity();
MeshCollider3.setBox(PartAudio);
AudioSource2.create(PartAudio, {
  audioClipUrl: "sounds/ambient1!.mp3",
  playing: true
});
Transform2.create(PartAudio, {
  position: { x: 7.8, y: 4, z: 1.68 },
  scale: { x: 1, y: 1, z: 1 }
});
var flower = engine.addEntity();
AudioSource2.create(flower, {
  audioClipUrl: "sounds/flower.mp3",
  playing: true
});
AvatarAttach2.createOrReplace(flower, {
  anchorPointId: AvatarAnchorPointType.AAPT_NAME_TAG
});
var PowerDown = engine.addEntity();
MeshCollider3.setBox(PowerDown);
AudioSource2.create(PowerDown, {
  audioClipUrl: "sounds/powerDown!.mp3",
  playing: true
});
Transform2.create(PowerDown, {
  position: { x: 7.8, y: 8, z: 1.68 },
  scale: { x: 1, y: 1, z: 1 }
});

// node_modules/@dcl-sdk/utils/dist/math.js
function getWorldPosition(entity) {
  let transform = Transform2.getOrNull(entity);
  if (!transform)
    return Vector32.Zero();
  let parent = transform.parent;
  if (!parent) {
    return transform.position;
  } else {
    let parentRotation = Transform2.get(parent).rotation;
    return Vector32.add(getWorldPosition(parent), Vector32.rotate(transform.position, parentRotation));
  }
}
function getWorldRotation(entity) {
  let transform = Transform2.getOrNull(entity);
  if (!transform)
    return Quaternion2.Identity();
  let parent = transform.parent;
  if (!parent) {
    return transform.rotation;
  } else {
    return Quaternion2.multiply(transform.rotation, getWorldRotation(parent));
  }
}
var InterpolationType;
(function(InterpolationType2) {
  InterpolationType2["LINEAR"] = "linear";
  InterpolationType2["EASEINQUAD"] = "easeinquad";
  InterpolationType2["EASEOUTQUAD"] = "easeoutquad";
  InterpolationType2["EASEQUAD"] = "easequad";
  InterpolationType2["EASEINSINE"] = "easeinsine";
  InterpolationType2["EASEOUTSINE"] = "easeoutsine";
  InterpolationType2["EASESINE"] = "easeinoutsine";
  InterpolationType2["EASEINEXPO"] = "easeinexpo";
  InterpolationType2["EASEOUTEXPO"] = "easeoutexpo";
  InterpolationType2["EASEEXPO"] = "easeinoutexpo";
  InterpolationType2["EASEINELASTIC"] = "easeinelastic";
  InterpolationType2["EASEOUTELASTIC"] = "easeoutelastic";
  InterpolationType2["EASEELASTIC"] = "easeinoutelastic";
  InterpolationType2["EASEINBOUNCE"] = "easeinbounce";
  InterpolationType2["EASEOUTEBOUNCE"] = "easeoutbounce";
  InterpolationType2["EASEBOUNCE"] = "easeinoutbounce";
})(InterpolationType || (InterpolationType = {}));
function interpolate(type, t) {
  switch (type) {
    case InterpolationType.LINEAR:
      return InterpolateLinear(t);
    case InterpolationType.EASEINQUAD:
      return InterpolateEaseInQuad(t);
    case InterpolationType.EASEOUTQUAD:
      return InterpolateEaseOutQuad(t);
    case InterpolationType.EASEQUAD:
      return InterpolateEaseQuad(t);
    case InterpolationType.EASEINSINE:
      return InterpolateEaseInSine(t);
    case InterpolationType.EASEOUTSINE:
      return InterpolateEaseOutSine(t);
    case InterpolationType.EASESINE:
      return InterpolateEaseInOutSine(t);
    case InterpolationType.EASEINEXPO:
      return InterpolateEaseInExpo(t);
    case InterpolationType.EASEOUTEXPO:
      return InterpolateEaseOutExpo(t);
    case InterpolationType.EASEEXPO:
      return InterpolateEaseInOutExpo(t);
    case InterpolationType.EASEINELASTIC:
      return InterpolateEaseInElastic(t);
    case InterpolationType.EASEOUTELASTIC:
      return InterpolateEaseOutElastic(t);
    case InterpolationType.EASEELASTIC:
      return InterpolateEaseInOutElastic(t);
    case InterpolationType.EASEINBOUNCE:
      return InterpolateEaseInBounce(t);
    case InterpolationType.EASEOUTEBOUNCE:
      return InterpolateEaseOutBounce(t);
    case InterpolationType.EASEBOUNCE:
      return InterpolateEaseInOutBounce(t);
    default:
      return InterpolateLinear(t);
  }
}
function InterpolateLinear(t) {
  return t;
}
function InterpolateEaseInQuad(t) {
  return t * t;
}
function InterpolateEaseOutQuad(t) {
  return t * (2 - t);
}
function InterpolateEaseQuad(t) {
  return t * t / (2 * (t * t - t) + 1);
}
function InterpolateEaseInSine(t) {
  return 1 - Math.cos(t * Math.PI / 2);
}
function InterpolateEaseOutSine(t) {
  return Math.sin(t * Math.PI / 2);
}
function InterpolateEaseInOutSine(t) {
  return -(Math.cos(Math.PI * t) - 1) / 2;
}
function InterpolateEaseInExpo(t) {
  return t === 0 ? 0 : Math.pow(2, 10 * t - 10);
}
function InterpolateEaseOutExpo(t) {
  return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);
}
function InterpolateEaseInOutExpo(t) {
  return t === 0 ? 0 : t === 1 ? 1 : t < 0.5 ? Math.pow(2, 20 * t - 10) / 2 : (2 - Math.pow(2, -20 * t + 10)) / 2;
}
function InterpolateEaseInElastic(t) {
  const c4 = 2 * Math.PI / 3;
  return t === 0 ? 0 : t === 1 ? 1 : -Math.pow(2, 10 * t - 10) * Math.sin((t * 10 - 10.75) * c4);
}
function InterpolateEaseOutElastic(t) {
  const c5 = 2 * Math.PI / 3;
  return t === 0 ? 0 : t === 1 ? 1 : Math.pow(2, -10 * t) * Math.sin((t * 10 - 0.75) * c5) + 1;
}
function InterpolateEaseInOutElastic(t) {
  const c6 = 2 * Math.PI / 4.5;
  return t === 0 ? 0 : t === 1 ? 1 : t < 0.5 ? -(Math.pow(2, 20 * t - 10) * Math.sin((20 * t - 11.125) * c6)) / 2 : Math.pow(2, -20 * t + 10) * Math.sin((20 * t - 11.125) * c6) / 2 + 1;
}
function InterpolateEaseInBounce(t) {
  return 1 - bounce(1 - t);
}
function InterpolateEaseOutBounce(t) {
  return bounce(t);
}
function InterpolateEaseInOutBounce(t) {
  return t < 0.5 ? (1 - bounce(1 - 2 * t)) / 2 : (1 + bounce(2 * t - 1)) / 2;
}
function bounce(x) {
  const n1 = 7.5625;
  const d1 = 2.75;
  if (x < 1 / d1) {
    return n1 * x * x;
  } else if (x < 2 / d1) {
    return n1 * (x -= 1.5 / d1) * x + 0.75;
  } else if (x < 2.5 / d1) {
    return n1 * (x -= 2.25 / d1) * x + 0.9375;
  } else {
    return n1 * (x -= 2.625 / d1) * x + 0.984375;
  }
}
function createCatmullRomSpline(points, nbPoints, closed) {
  const catmullRom = new Array();
  const step = 1 / nbPoints;
  let amount = 0;
  if (closed) {
    const pointsCount = points.length;
    for (let i = 0; i < pointsCount; i++) {
      amount = 0;
      for (let c = 0; c < nbPoints; c++) {
        catmullRom.push(Vector32.catmullRom(points[i % pointsCount], points[(i + 1) % pointsCount], points[(i + 2) % pointsCount], points[(i + 3) % pointsCount], amount));
        amount += step;
      }
    }
    catmullRom.push(catmullRom[0]);
  } else {
    const totalPoints = new Array();
    totalPoints.push(Vector32.clone(points[0]));
    Array.prototype.push.apply(totalPoints, points);
    totalPoints.push(Vector32.clone(points[points.length - 1]));
    let i = 0;
    for (; i < totalPoints.length - 3; i++) {
      amount = 0;
      for (let c = 0; c < nbPoints; c++) {
        catmullRom.push(Vector32.catmullRom(totalPoints[i], totalPoints[i + 1], totalPoints[i + 2], totalPoints[i + 3], amount));
        amount += step;
      }
    }
    i--;
    catmullRom.push(Vector32.catmullRom(totalPoints[i], totalPoints[i + 1], totalPoints[i + 2], totalPoints[i + 3], amount));
  }
  return catmullRom;
}
function areAABBIntersecting(aMin, aMax, bMin, bMax) {
  return aMin.x <= bMax.x && aMax.x >= bMin.x && aMin.y <= bMax.y && aMax.y >= bMin.y && aMin.z <= bMax.z && aMax.z >= bMin.z;
}
function areSpheresIntersecting(aPos, aRadius, bPos, bRadius) {
  const sqDist = Vector32.distanceSquared(aPos, bPos);
  const radiusSum = aRadius + bRadius;
  return sqDist < radiusSum * radiusSum;
}
function areAABBSphereIntersecting(boxMin, boxMax, spherePos, sphereRadius) {
  let dmin = 0;
  if (spherePos.x < boxMin.x)
    dmin += (boxMin.x - spherePos.x) * (boxMin.x - spherePos.x);
  if (spherePos.x > boxMax.x)
    dmin += (spherePos.x - boxMax.x) * (spherePos.x - boxMax.x);
  if (spherePos.y < boxMin.y)
    dmin += (boxMin.y - spherePos.y) * (boxMin.y - spherePos.y);
  if (spherePos.y > boxMax.y)
    dmin += (spherePos.y - boxMax.y) * (spherePos.y - boxMax.y);
  if (spherePos.z < boxMin.z)
    dmin += (boxMin.z - spherePos.z) * (boxMin.z - spherePos.z);
  if (spherePos.z > boxMax.z)
    dmin += (spherePos.z - boxMax.z) * (spherePos.z - boxMax.z);
  return dmin < sphereRadius * sphereRadius;
}

// node_modules/@dcl-sdk/utils/dist/priority.js
var REGULAR_PRIORITY = 1e5;
var priority;
(function(priority2) {
  priority2.TimerSystemPriority = REGULAR_PRIORITY + 256;
  priority2.TweenSystemPriority = REGULAR_PRIORITY + 192;
  priority2.PerpetualMotionSystemPriority = REGULAR_PRIORITY + 192;
  priority2.PathSystemPriority = REGULAR_PRIORITY + 192;
  priority2.TriggerSystemPriority = REGULAR_PRIORITY + 128;
  priority2.ActionSystemPriority = REGULAR_PRIORITY + 64;
})(priority || (priority = {}));

// node_modules/@dcl-sdk/utils/dist/timer.js
function createTimers(targetEngine) {
  const timers2 = /* @__PURE__ */ new Map();
  let timerIdCounter = 0;
  function system(dt) {
    let deadTimers = [];
    let callbacks = [];
    for (let [timerId, timerData] of timers2) {
      timerData.accumulatedTime += 1e3 * dt;
      if (timerData.accumulatedTime < timerData.interval)
        continue;
      callbacks.push(timerData.callback);
      if (timerData.recurrent) {
        timerData.accumulatedTime -= Math.floor(timerData.accumulatedTime / timerData.interval) * timerData.interval;
      } else {
        deadTimers.push(timerId);
      }
    }
    for (let timerId of deadTimers)
      timers2.delete(timerId);
    for (let callback of callbacks)
      callback();
  }
  targetEngine.addSystem(system, priority.TimerSystemPriority);
  return {
    setTimeout(callback, milliseconds) {
      let timerId = timerIdCounter++;
      timers2.set(timerId, { callback, interval: milliseconds, recurrent: false, accumulatedTime: 0 });
      return timerId;
    },
    clearTimeout(timer) {
      timers2.delete(timer);
    },
    setInterval(callback, milliseconds) {
      let timerId = timerIdCounter++;
      timers2.set(timerId, { callback, interval: milliseconds, recurrent: true, accumulatedTime: 0 });
      return timerId;
    },
    clearInterval(timer) {
      timers2.delete(timer);
    }
  };
}
var timers = createTimers(engine);

// node_modules/@dcl-sdk/utils/dist/toggle.js
var ToggleState;
(function(ToggleState2) {
  ToggleState2[ToggleState2["Off"] = 0] = "Off";
  ToggleState2[ToggleState2["On"] = 1] = "On";
})(ToggleState || (ToggleState = {}));
function createToggles(targetEngine, timers2) {
  const Toggle = targetEngine.defineComponent("dcl.utils.Toggle", {
    state: Schemas.EnumNumber(ToggleState, ToggleState.Off)
  });
  let toggles2 = /* @__PURE__ */ new Map();
  timers2.setInterval(function() {
    for (const entity of toggles2.keys()) {
      if (targetEngine.getEntityState(entity) == EntityState.Removed || !Toggle.has(entity)) {
        toggles2.delete(entity);
      }
    }
  }, 5e3);
  return {
    addToggle(entity, state, callback) {
      toggles2.set(entity, callback);
      Toggle.createOrReplace(entity, { state });
    },
    removeToggle(entity) {
      toggles2.delete(entity);
      Toggle.deleteFrom(entity);
    },
    setCallback(entity, callback) {
      toggles2.set(entity, callback);
    },
    set(entity, state) {
      const oldState = Toggle.get(entity).state;
      if (oldState != state) {
        Toggle.getMutable(entity).state = state;
        const callback = toggles2.get(entity);
        if (callback)
          callback(state);
      }
    },
    flip(entity) {
      this.set(entity, 1 - Toggle.get(entity).state);
    },
    isOn(entity) {
      return Toggle.get(entity).state == ToggleState.On;
    }
  };
}
var toggles = createToggles(engine, timers);

// node_modules/@dcl-sdk/utils/dist/tween.js
function createTweens(targetEngine) {
  const Vector3TweenSchema = {
    start: Schemas.Vector3,
    end: Schemas.Vector3,
    interpolationType: Schemas.EnumString(InterpolationType, InterpolationType.LINEAR),
    speed: Schemas.Float,
    normalizedTime: Schemas.Float
  };
  const PositionTween = targetEngine.defineComponent("dcl.utils.PositionTween", Vector3TweenSchema);
  const ScaleTween = targetEngine.defineComponent("dcl.utils.ScaleTween", Vector3TweenSchema);
  const RotationTween = targetEngine.defineComponent("dcl.utils.RotationTween", {
    start: Schemas.Quaternion,
    end: Schemas.Quaternion,
    interpolationType: Schemas.EnumString(InterpolationType, InterpolationType.LINEAR),
    speed: Schemas.Float,
    normalizedTime: Schemas.Float
  });
  const positionFinishCbs = /* @__PURE__ */ new Map();
  const rotationFinishCbs = /* @__PURE__ */ new Map();
  const scaleFinishCbs = /* @__PURE__ */ new Map();
  function makeSystem(tweenType, callbacks, transformer) {
    return function system(dt) {
      const deadTweens = [];
      for (const entity of callbacks.keys()) {
        if (targetEngine.getEntityState(entity) == EntityState.Removed || !tweenType.has(entity)) {
          callbacks.delete(entity);
          continue;
        }
        const tween = tweenType.getMutable(entity);
        tween.normalizedTime = Scalar.clamp(tween.normalizedTime + dt * tween.speed, 0, 1);
        const lerpTime = interpolate(tween.interpolationType, tween.normalizedTime);
        transformer(Transform2.getMutable(entity), tween.start, tween.end, lerpTime);
        if (tween.normalizedTime >= 1)
          deadTweens.push(entity);
      }
      for (const entity of deadTweens) {
        const callback = callbacks.get(entity);
        tweenType.deleteFrom(entity);
        callbacks.delete(entity);
        if (callback)
          callback();
      }
    };
  }
  function makeStop(tweenType, callbacks) {
    return function(entity) {
      tweenType.deleteFrom(entity);
      callbacks.delete(entity);
    };
  }
  function makeStart(tweenType, callbacks) {
    return function(entity, start, end, duration, interpolationType = InterpolationType.LINEAR, onFinish) {
      callbacks.set(entity, onFinish);
      tweenType.createOrReplace(entity, {
        start,
        end,
        speed: duration == 0 ? 0 : 1 / duration,
        interpolationType,
        normalizedTime: duration == 0 ? 1 : 0
      });
    };
  }
  function makeGetOnFinishCallback(callbacks) {
    return function(entity) {
      if (!callbacks.has(entity))
        throw new Error(`Entity ${entity} is not registered with tweens system`);
      return callbacks.get(entity);
    };
  }
  targetEngine.addSystem(makeSystem(PositionTween, positionFinishCbs, function(transform, start, end, time) {
    transform.position = Vector32.lerp(start, end, time);
  }), priority.TweenSystemPriority);
  targetEngine.addSystem(makeSystem(RotationTween, rotationFinishCbs, function(transform, start, end, time) {
    transform.rotation = Quaternion2.slerp(start, end, time);
  }), priority.TweenSystemPriority);
  targetEngine.addSystem(makeSystem(ScaleTween, scaleFinishCbs, function(transform, start, end, time) {
    transform.scale = Vector32.lerp(start, end, time);
  }), priority.TweenSystemPriority);
  return {
    startTranslation: makeStart(PositionTween, positionFinishCbs),
    stopTranslation: makeStop(PositionTween, positionFinishCbs),
    startRotation: makeStart(RotationTween, rotationFinishCbs),
    stopRotation: makeStop(RotationTween, rotationFinishCbs),
    startScaling: makeStart(ScaleTween, scaleFinishCbs),
    stopScaling: makeStop(ScaleTween, scaleFinishCbs),
    getTranslationOnFinishCallback: makeGetOnFinishCallback(positionFinishCbs),
    getRotationOnFinishCallback: makeGetOnFinishCallback(rotationFinishCbs),
    getScalingOnFinishCallback: makeGetOnFinishCallback(scaleFinishCbs)
  };
}
var tweens = createTweens(engine);

// node_modules/@dcl-sdk/utils/dist/perpetualMotion.js
function createPerpetualMotions(targetEngine) {
  const PerpetualRotation = targetEngine.defineComponent("dcl.utils.PerpetualRotation", {
    velocity: Schemas.Quaternion
  });
  function system(dt) {
    for (const [entity, rotation] of targetEngine.getEntitiesWith(PerpetualRotation, Transform2)) {
      const rotationDelta = Quaternion2.slerp(Quaternion2.Identity(), rotation.velocity, dt);
      const transform = Transform2.getMutable(entity);
      transform.rotation = Quaternion2.normalize(Quaternion2.multiply(transform.rotation, rotationDelta));
    }
  }
  targetEngine.addSystem(system, priority.PerpetualMotionSystemPriority);
  return {
    startRotation(entity, velocity) {
      PerpetualRotation.createOrReplace(entity, { velocity });
    },
    stopRotation(entity) {
      PerpetualRotation.deleteFrom(entity);
    }
  };
}
var perpetualMotions = createPerpetualMotions(engine);

// node_modules/@dcl-sdk/utils/dist/path.js
function createPaths(targetEngine) {
  const FollowPath = targetEngine.defineComponent("dcl.utils.FollowPath", {
    points: Schemas.Array(Schemas.Vector3),
    faceDirection: Schemas.Boolean,
    speed: Schemas.Number,
    normalizedTime: Schemas.Number,
    currentIndex: Schemas.Number,
    segmentTimes: Schemas.Array(Schemas.Number),
    curveSegmentCount: Schemas.Number
  });
  const finishCbs = /* @__PURE__ */ new Map();
  const pointReachedCbs = /* @__PURE__ */ new Map();
  function unregisterEntity(entity) {
    finishCbs.delete(entity);
    pointReachedCbs.delete(entity);
    FollowPath.deleteFrom(entity);
  }
  function system(dt) {
    const deadPaths = [];
    const pointReachedPaths = [];
    for (const entity of finishCbs.keys()) {
      if (targetEngine.getEntityState(entity) == EntityState.Removed || !FollowPath.has(entity)) {
        unregisterEntity(entity);
        continue;
      }
      const transform = Transform2.getMutable(entity);
      const path = FollowPath.getMutable(entity);
      path.normalizedTime = Scalar.clamp(path.normalizedTime + dt * path.speed, 0, 1);
      if (path.normalizedTime >= 1)
        deadPaths.push(entity);
      while (path.normalizedTime >= path.segmentTimes[path.currentIndex] && path.currentIndex < path.points.length - 1) {
        if (path.faceDirection) {
          const direction = Vector32.subtract(path.points[path.currentIndex + 1], path.points[path.currentIndex]);
          transform.rotation = Quaternion2.lookRotation(direction);
        }
        if (path.currentIndex > 0 && path.currentIndex % path.curveSegmentCount == 0) {
          const pointIndex = path.currentIndex / path.curveSegmentCount;
          const pointCoords = path.points[path.currentIndex];
          const nextPointCoords = path.points[path.currentIndex + path.curveSegmentCount];
          pointReachedPaths.push({ entity, index: pointIndex, coords: pointCoords, nextCoords: nextPointCoords });
        }
        path.currentIndex += 1;
      }
      const timeDiff = path.segmentTimes[path.currentIndex] - path.segmentTimes[path.currentIndex - 1];
      const coef = (path.segmentTimes[path.currentIndex] - path.normalizedTime) / timeDiff;
      transform.position = Vector32.lerp(path.points[path.currentIndex], path.points[path.currentIndex - 1], coef);
    }
    for (const pointReached of pointReachedPaths) {
      const callback = pointReachedCbs.get(pointReached.entity);
      if (callback) {
        callback(pointReached.index, pointReached.coords, pointReached.nextCoords);
      }
    }
    for (const entity of deadPaths) {
      const callback = finishCbs.get(entity);
      unregisterEntity(entity);
      if (callback)
        callback();
    }
  }
  targetEngine.addSystem(system, priority.PathSystemPriority);
  function startPath(entity, points, duration, faceDirection, curveSegmentCount, onFinishCallback, onPointReachedCallback) {
    if (points.length < 2)
      throw new Error("At least 2 points are required to form a path.");
    if (duration == 0)
      throw new Error("Path duration must not be zero");
    if (curveSegmentCount) {
      const loop = Vector32.equals(points[0], points[points.length - 1]);
      if (loop) {
        points.pop();
        points.unshift(points.pop());
      }
      points = createCatmullRomSpline(points, curveSegmentCount, loop);
    } else {
      curveSegmentCount = 1;
    }
    finishCbs.set(entity, onFinishCallback);
    pointReachedCbs.set(entity, onPointReachedCallback);
    let totalLength = 0;
    const segmentLengths = [];
    for (let i = 0; i < points.length - 1; i++) {
      let sqDist = Vector32.distance(points[i], points[i + 1]);
      totalLength += sqDist;
      segmentLengths.push(sqDist);
    }
    const segmentTimes = [0];
    for (let i = 0; i < segmentLengths.length; i++) {
      segmentTimes.push(segmentLengths[i] / totalLength + segmentTimes[i]);
    }
    FollowPath.createOrReplace(entity, {
      points,
      segmentTimes,
      curveSegmentCount,
      speed: 1 / duration,
      normalizedTime: 0,
      currentIndex: 0,
      faceDirection
    });
  }
  return {
    startStraightPath(entity, points, duration, faceDirection, onFinishCallback, onPointReachedCallback) {
      return startPath(entity, points, duration, faceDirection, 0, onFinishCallback, onPointReachedCallback);
    },
    startSmoothPath(entity, points, duration, segmentCount, faceDirection, onFinishCallback, onPointReachedCallback) {
      if (segmentCount < 2 || !Number.isInteger(segmentCount))
        throw new Error(`segmentCount must be an integer that is greater than 2, got: ${segmentCount}`);
      return startPath(entity, points, duration, faceDirection, segmentCount, onFinishCallback, onPointReachedCallback);
    },
    stopPath(entity) {
      unregisterEntity(entity);
    },
    getOnFinishCallback(entity) {
      if (!finishCbs.has(entity))
        throw new Error(`Entity ${entity} is not registered in triggers system`);
      return finishCbs.get(entity);
    }
  };
}
var paths = createPaths(engine);

// node_modules/@dcl-sdk/utils/dist/trigger.js
var LAYER_1 = 1;
var ALL_LAYERS = 255;
var NO_LAYERS = 0;
function createTriggers(targetEngine) {
  const Trigger = engine.defineComponent("dcl.utils.Trigger", {
    active: Schemas.Boolean,
    layerMask: Schemas.Int,
    triggeredByMask: Schemas.Int,
    areas: Schemas.Array(Schemas.OneOf({
      box: Schemas.Map({
        position: Schemas.Vector3,
        scale: Schemas.Vector3
      }),
      sphere: Schemas.Map({
        position: Schemas.Vector3,
        radius: Schemas.Number
      })
    })),
    debugColor: Schemas.Color3
  });
  const triggerEnterCbs = /* @__PURE__ */ new Map();
  const triggerExitCbs = /* @__PURE__ */ new Map();
  let debugDraw = false;
  const activeCollisions = /* @__PURE__ */ new Map();
  const debugEntities = /* @__PURE__ */ new Map();
  function updateDebugDraw(enabled) {
    if (!enabled)
      return;
    for (const [entity, trigger] of targetEngine.getEntitiesWith(Trigger, Transform2)) {
      let shapes = debugEntities.get(entity);
      const areaCount = trigger.areas.length;
      while (shapes.length > areaCount) {
        targetEngine.removeEntity(shapes.pop());
      }
      while (shapes.length < areaCount) {
        shapes.push(targetEngine.addEntity());
      }
      const worldPosition = getWorldPosition(entity);
      const worldRotation = getWorldRotation(entity);
      for (let i = 0; i < areaCount; ++i) {
        const shapeSpec = trigger.areas[i];
        const shape = shapes[i];
        let scale;
        if (shapeSpec.$case == "box") {
          scale = shapeSpec.value.scale;
          MeshRenderer3.setBox(shape);
        } else {
          const radius = shapeSpec.value.radius;
          scale = { x: radius, y: radius, z: radius };
          MeshRenderer3.setSphere(shape);
        }
        Transform2.createOrReplace(shape, {
          position: Vector32.add(worldPosition, Vector32.rotate(shapeSpec.value.position, worldRotation)),
          scale
        });
        const color = trigger.active ? trigger.debugColor : Color32.Black();
        Material3.setPbrMaterial(shape, { albedoColor: Color42.fromInts(255 * color.r, 255 * color.g, 255 * color.b, 75) });
      }
    }
  }
  function areTriggersIntersecting(shapeWorldPos0, t0, shapeWorldPos1, t1) {
    for (let i = 0; i < t0.areas.length; ++i) {
      const t0World = shapeWorldPos0[i];
      const t0Area = t0.areas[i];
      if (t0Area.$case == "box") {
        const t0Box = t0Area.value;
        const t0Min = Vector32.subtract(t0World, Vector32.scale(t0Box.scale, 0.5));
        const t0Max = Vector32.add(t0Min, t0Box.scale);
        for (let j = 0; j < t1.areas.length; ++j) {
          const t1World = shapeWorldPos1[j];
          const t1Area = t1.areas[j];
          if (t1Area.$case == "box") {
            const t1Box = t1Area.value;
            const t1Min = Vector32.subtract(t1World, Vector32.scale(t1Box.scale, 0.5));
            const t1Max = Vector32.add(t1Min, t1Box.scale);
            if (areAABBIntersecting(t0Min, t0Max, t1Min, t1Max))
              return true;
          } else {
            if (areAABBSphereIntersecting(t0Min, t0Max, t1World, t1Area.value.radius))
              return true;
          }
        }
      } else {
        const t0Radius = t0Area.value.radius;
        for (let j = 0; j < t1.areas.length; ++j) {
          const t1World = shapeWorldPos1[j];
          const t1Area = t1.areas[j];
          if (t1Area.$case == "box") {
            const t1Box = t1Area.value;
            const t1Min = Vector32.subtract(t1World, Vector32.scale(t1Box.scale, 0.5));
            const t1Max = Vector32.add(t1Min, t1Box.scale);
            if (areAABBSphereIntersecting(t1Min, t1Max, t0World, t0Radius))
              return true;
          } else {
            if (areSpheresIntersecting(t0World, t0Radius, t1World, t1Area.value.radius))
              return true;
          }
        }
      }
    }
    return false;
  }
  function computeCollisions(entity, shapeWorldPos) {
    let collisions = /* @__PURE__ */ new Set();
    const trigger = Trigger.get(entity);
    if (!trigger.active)
      return collisions;
    for (const [otherEntity, otherTrigger] of targetEngine.getEntitiesWith(Trigger, Transform2)) {
      if (otherEntity == entity)
        continue;
      if (!otherTrigger.active)
        continue;
      if (!(trigger.triggeredByMask & otherTrigger.layerMask))
        continue;
      const intersecting = areTriggersIntersecting(shapeWorldPos.get(entity), trigger, shapeWorldPos.get(otherEntity), otherTrigger);
      if (intersecting)
        collisions.add(otherEntity);
    }
    return collisions;
  }
  function updateCollisions() {
    const collisionsStarted = [];
    const collisionsEnded = [];
    const shapeWorldPositions = /* @__PURE__ */ new Map();
    for (const entity of activeCollisions.keys()) {
      if (targetEngine.getEntityState(entity) == EntityState.Removed || !Trigger.has(entity)) {
        for (const debugEntity of debugEntities.get(entity))
          targetEngine.removeEntity(debugEntity);
        for (const collisions of activeCollisions.values()) {
          if (collisions.has(entity))
            collisions.delete(entity);
        }
        debugEntities.delete(entity);
        activeCollisions.delete(entity);
        triggerEnterCbs.delete(entity);
        triggerExitCbs.delete(entity);
        continue;
      }
      const positions = [];
      const entityWorldPosition = getWorldPosition(entity);
      const entityWorldRotation = getWorldRotation(entity);
      const trigger = Trigger.get(entity);
      for (const shape of trigger.areas) {
        positions.push(Vector32.add(entityWorldPosition, Vector32.rotate(shape.value.position, entityWorldRotation)));
      }
      shapeWorldPositions.set(entity, positions);
    }
    for (const entity of activeCollisions.keys()) {
      const newCollisions = computeCollisions(entity, shapeWorldPositions);
      const oldCollisions = activeCollisions.get(entity);
      for (const oldCollision of oldCollisions) {
        if (!newCollisions.has(oldCollision))
          collisionsEnded.push([entity, oldCollision]);
      }
      for (const newCollision of newCollisions) {
        if (!oldCollisions.has(newCollision))
          collisionsStarted.push([entity, newCollision]);
      }
      activeCollisions.set(entity, newCollisions);
    }
    for (const [entity, collision] of collisionsStarted) {
      const callback = triggerEnterCbs.get(entity);
      if (callback)
        callback(collision);
    }
    for (const [entity, collision] of collisionsEnded) {
      const callback = triggerExitCbs.get(entity);
      if (callback)
        callback(collision);
    }
  }
  function system(dt) {
    updateCollisions();
    updateDebugDraw(debugDraw);
  }
  targetEngine.addSystem(system, priority.TriggerSystemPriority);
  function triggerAreasFromSpec(areas) {
    if (!areas)
      areas = [{ type: "box" }];
    const triggerAreas = [];
    for (const area of areas) {
      if (area.type == "box") {
        triggerAreas.push({
          $case: "box",
          value: {
            position: area.position ? area.position : Vector32.Zero(),
            scale: area.scale ? area.scale : Vector32.One()
          }
        });
      } else {
        triggerAreas.push({
          $case: "sphere",
          value: {
            position: area.position ? area.position : Vector32.Zero(),
            radius: area.radius ? area.radius : 1
          }
        });
      }
    }
    return triggerAreas;
  }
  const triggersInterface = {
    addTrigger(entity, layerMask = NO_LAYERS, triggeredByMask = NO_LAYERS, areas, onEnterCallback, onExitCallback, debugColor) {
      if (layerMask < 0 || layerMask > ALL_LAYERS || !Number.isInteger(layerMask))
        throw new Error(`Bad layerMask: ${layerMask}. Expected a non-negative integer no greater than ${ALL_LAYERS}`);
      if (triggeredByMask < 0 || triggeredByMask > ALL_LAYERS || !Number.isInteger(triggeredByMask))
        throw new Error(`Bad triggeredByMask: ${triggeredByMask}. Expected a non-negative integer no greater than ${ALL_LAYERS}`);
      debugEntities.set(entity, []);
      activeCollisions.set(entity, /* @__PURE__ */ new Set());
      triggerEnterCbs.set(entity, onEnterCallback);
      triggerExitCbs.set(entity, onExitCallback);
      Trigger.createOrReplace(entity, {
        active: true,
        layerMask,
        triggeredByMask,
        areas: triggerAreasFromSpec(areas),
        debugColor: debugColor ? debugColor : Color32.Red()
      });
    },
    removeTrigger(entity) {
      const collisions = activeCollisions.get(entity);
      const callback = triggerExitCbs.get(entity);
      for (const debugEntity of debugEntities.get(entity))
        targetEngine.removeEntity(debugEntity);
      debugEntities.delete(entity);
      activeCollisions.delete(entity);
      triggerEnterCbs.delete(entity);
      triggerExitCbs.delete(entity);
      Trigger.deleteFrom(entity);
      const collidingEntities = [];
      for (const [otherEntity, otherEntityCollisions] of activeCollisions) {
        if (otherEntityCollisions.has(entity)) {
          otherEntityCollisions.delete(entity);
          collidingEntities.push(otherEntity);
        }
      }
      if (callback) {
        for (const collision of collisions)
          callback(collision);
      }
      for (const otherEntity of collidingEntities) {
        const callback2 = triggerExitCbs.get(otherEntity);
        if (callback2)
          callback2(entity);
      }
    },
    oneTimeTrigger(entity, layerMask = NO_LAYERS, triggeredByMask = NO_LAYERS, areas, onEnterCallback, debugColor) {
      this.addTrigger(entity, layerMask, triggeredByMask, areas, function(e) {
        triggers.removeTrigger(entity);
        if (onEnterCallback)
          onEnterCallback(e);
      }, void 0, debugColor);
    },
    enableTrigger(entity, enabled) {
      Trigger.getMutable(entity).active = enabled;
    },
    isTriggerEnabled(entity) {
      return Trigger.get(entity).active;
    },
    getLayerMask(entity) {
      return Trigger.get(entity).layerMask;
    },
    setLayerMask(entity, mask) {
      if (mask < 0 || mask > ALL_LAYERS || !Number.isInteger(mask))
        throw new Error(`Bad layerMask: ${mask}. Expected a non-negative integer no greater than ${ALL_LAYERS}`);
      Trigger.getMutable(entity).layerMask = mask;
    },
    getTriggeredByMask(entity) {
      return Trigger.get(entity).triggeredByMask;
    },
    setTriggeredByMask(entity, mask) {
      if (mask < 0 || mask > ALL_LAYERS || !Number.isInteger(mask))
        throw new Error(`Bad layerMask: ${mask}. Expected a non-negative integer no greater than ${ALL_LAYERS}`);
      Trigger.getMutable(entity).triggeredByMask = mask;
    },
    getAreas(entity) {
      return Trigger.get(entity).areas;
    },
    setAreas(entity, areas) {
      Trigger.getMutable(entity).areas = triggerAreasFromSpec(areas);
    },
    setOnEnterCallback(entity, callback) {
      triggerEnterCbs.set(entity, callback);
    },
    setOnExitCallback(entity, callback) {
      triggerExitCbs.set(entity, callback);
    },
    enableDebugDraw(enabled) {
      debugDraw = enabled;
      if (!enabled) {
        for (const shapes of debugEntities.values()) {
          for (const shape of shapes)
            targetEngine.removeEntity(shape);
          shapes.length = 0;
        }
      }
    },
    isDebugDrawEnabled() {
      return debugDraw;
    }
  };
  triggersInterface.addTrigger(targetEngine.PlayerEntity, LAYER_1, NO_LAYERS, [{
    type: "box",
    scale: { x: 0.65, y: 1.92, z: 0.65 },
    position: { x: 0, y: 0.15, z: 0 }
  }], void 0, void 0, Color32.Green());
  return triggersInterface;
}
var triggers = createTriggers(engine);

// node_modules/@dcl-sdk/utils/dist/action.js
var actions;
(function(actions2) {
  class SequenceRunner {
    constructor(targetEngine, sequenceBuilt, onFinishCallback) {
      this.beginSequenceNode = null;
      this.currentSequenceNode = null;
      this.running = false;
      this.started = false;
      this.engine = targetEngine;
      this.systemFn = (dt) => {
        this.update(dt);
      };
      this.engine.addSystem(this.systemFn, priority.ActionSystemPriority);
      if (sequenceBuilt) {
        this.startSequence(sequenceBuilt);
      }
      if (onFinishCallback)
        this.setOnFinishCallback(onFinishCallback);
    }
    startSequence(sequenceBuilt) {
      this.beginSequenceNode = sequenceBuilt.beginSequenceNode;
      this.currentSequenceNode = this.beginSequenceNode;
      this.running = true;
      this.started = false;
    }
    destroy() {
      this.engine.removeSystem(this.systemFn);
    }
    setOnFinishCallback(onFinishCallback) {
      this.onFinishCallback = onFinishCallback;
    }
    isRunning() {
      return this.running;
    }
    stop() {
      this.running = false;
    }
    resume() {
      if (this.beginSequenceNode != null)
        this.running = true;
    }
    reset() {
      this.currentSequenceNode = this.beginSequenceNode;
      this.running = true;
      this.started = false;
    }
    getRunningAction() {
      let currentNode = this.currentSequenceNode;
      if (this.currentSequenceNode instanceof SubSequenceNode) {
        do {
          currentNode = currentNode.currentInnerSequence;
        } while (currentNode instanceof SubSequenceNode);
      }
      return currentNode.action;
    }
    update(dt) {
      if (!this.running)
        return;
      if (!this.started) {
        this.currentSequenceNode.onStart();
        this.started = true;
        return;
      }
      if (!this.currentSequenceNode.hasFinish()) {
        this.currentSequenceNode.update(dt);
        return;
      }
      this.currentSequenceNode.onFinish();
      this.currentSequenceNode = this.currentSequenceNode.next;
      if (this.currentSequenceNode) {
        this.currentSequenceNode.onStart();
      } else {
        this.running = false;
        if (this.onFinishCallback)
          this.onFinishCallback();
      }
    }
  }
  actions2.SequenceRunner = SequenceRunner;
  class SequenceBuilder {
    constructor() {
      this.currentSequenceNode = null;
      this.beginSequenceNode = null;
      this.whileNodeStack = [];
    }
    then(action) {
      if (this.currentSequenceNode == null) {
        this.currentSequenceNode = new SequenceNode();
        this.currentSequenceNode.action = action;
        this.beginSequenceNode = this.currentSequenceNode;
      } else {
        let next = new SequenceNode();
        next.action = action;
        this.currentSequenceNode = this.currentSequenceNode.then(next);
      }
      return this;
    }
    if(condition) {
      let ifSeq = new IfSequenceNode(condition);
      if (this.currentSequenceNode == null) {
        this.currentSequenceNode = ifSeq;
        this.beginSequenceNode = ifSeq;
      } else {
        this.currentSequenceNode = this.currentSequenceNode.then(ifSeq);
      }
      return this;
    }
    else() {
      let seq = this.currentSequenceNode.getSequence();
      if (seq instanceof IfSequenceNode) {
        seq.closed = true;
        let elseSeq = new ElseSequenceNode(seq);
        this.currentSequenceNode = this.currentSequenceNode.then(elseSeq);
      } else {
        throw new Error("IF statement is needed to be called before ELSE statement.");
      }
      return this;
    }
    endIf() {
      let seq = this.currentSequenceNode.getSequence();
      if (seq instanceof IfSequenceNode || seq instanceof ElseSequenceNode) {
        seq.closed = true;
      } else {
        throw new Error("IF statement is needed to be called before ENDIF statement.");
      }
      return this;
    }
    while(condition) {
      let whileSeq = new WhileSequenceNode(condition);
      if (this.currentSequenceNode == null) {
        this.currentSequenceNode = whileSeq;
        this.beginSequenceNode = whileSeq;
      } else {
        this.currentSequenceNode = this.currentSequenceNode.then(whileSeq);
      }
      this.whileNodeStack.push(whileSeq);
      return this;
    }
    endWhile() {
      let seq = this.currentSequenceNode.getSequence();
      if (seq instanceof WhileSequenceNode) {
        seq.closed = true;
        if (this.whileNodeStack.length > 0) {
          this.whileNodeStack.splice(this.whileNodeStack.length - 1, 1);
        }
      } else {
        throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");
      }
      return this;
    }
    breakWhile() {
      if (this.whileNodeStack.length > 0) {
        this.currentSequenceNode = this.currentSequenceNode.then(new BreakWhileSequenceNode(this.whileNodeStack[this.whileNodeStack.length - 1]));
      } else {
        throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");
      }
      return this;
    }
  }
  actions2.SequenceBuilder = SequenceBuilder;
  class SequenceNode {
    constructor() {
      this.action = null;
      this.next = null;
    }
    then(next) {
      this.next = next;
      return next;
    }
    onStart() {
      if (this.action)
        this.action.onStart();
    }
    update(dt) {
      if (this.action)
        this.action.update(dt);
    }
    onFinish() {
      if (this.action)
        this.action.onFinish();
    }
    hasFinish() {
      if (this.action)
        return this.action.hasFinished;
      else
        return true;
    }
    getSequence() {
      return this;
    }
  }
  actions2.SequenceNode = SequenceNode;
  class SubSequenceNode extends SequenceNode {
    constructor() {
      super(...arguments);
      this.currentInnerSequence = null;
      this.startingInnerSequence = null;
      this.closed = false;
    }
    then(next) {
      if (this.currentInnerSequence == null) {
        this.currentInnerSequence = next;
        this.startingInnerSequence = next;
      } else {
        if (this.closed) {
          this.next = next;
          return next;
        } else {
          this.currentInnerSequence = this.currentInnerSequence.then(next);
        }
      }
      return this;
    }
    onStart() {
      this.currentInnerSequence = this.startingInnerSequence;
      if (this.currentInnerSequence)
        this.currentInnerSequence.onStart();
    }
    update(dt) {
      if (this.currentInnerSequence) {
        if (!this.currentInnerSequence.hasFinish()) {
          this.currentInnerSequence.update(dt);
        } else {
          this.currentInnerSequence.onFinish();
          this.currentInnerSequence = this.currentInnerSequence.next;
          if (this.currentInnerSequence)
            this.currentInnerSequence.onStart();
        }
      }
    }
    onFinish() {
      if (this.currentInnerSequence)
        this.currentInnerSequence.onFinish();
    }
    hasFinish() {
      return this.currentInnerSequence == null;
    }
    getSequence() {
      if (this.currentInnerSequence) {
        let innerSeq = this.currentInnerSequence.getSequence();
        if (innerSeq instanceof SubSequenceNode) {
          if (!innerSeq.closed) {
            return innerSeq;
          }
        }
      }
      return this;
    }
  }
  class IfSequenceNode extends SubSequenceNode {
    constructor(condition) {
      super();
      this.result = false;
      this.condition = condition;
    }
    onStart() {
      this.result = this.condition();
      if (this.result)
        super.onStart();
      else
        this.currentInnerSequence = null;
    }
  }
  class ElseSequenceNode extends SubSequenceNode {
    constructor(ifSequence) {
      super();
      this.ifSequence = null;
      this.ifSequence = ifSequence;
    }
    onStart() {
      if (this.ifSequence && !this.ifSequence.result)
        super.onStart();
      else
        this.currentInnerSequence = null;
    }
  }
  class WhileSequenceNode extends SubSequenceNode {
    constructor(condition) {
      super();
      this.breakWhile = false;
      this.condition = condition;
    }
    onStart() {
      this.breakWhile = false;
      if (this.condition())
        super.onStart();
      else
        this.currentInnerSequence = null;
    }
    update(dt) {
      if (this.currentInnerSequence) {
        if (!this.currentInnerSequence.hasFinish()) {
          this.currentInnerSequence.update(dt);
        } else {
          this.currentInnerSequence.onFinish();
          this.currentInnerSequence = this.currentInnerSequence.next;
          if (this.currentInnerSequence == null)
            this.currentInnerSequence = this.startingInnerSequence;
          if (this.currentInnerSequence)
            this.currentInnerSequence.onStart();
        }
      }
    }
    hasFinish() {
      return this.breakWhile || !this.condition();
    }
  }
  class BreakWhileSequenceNode extends SequenceNode {
    constructor(whileNode) {
      super();
      this.whileNode = whileNode;
    }
    onStart() {
      this.whileNode.breakWhile = true;
    }
  }
})(actions || (actions = {}));

// src/components.ts
var Spinner = engine.defineComponent("spinner", { speed: Schemas.Number });

// src/powerBase.ts
stopSound(PartAudio);
stopSound(PowerDown);
var powerRedGlowEntity = engine.addEntity();
GltfContainer2.create(powerRedGlowEntity, { src: "models/punkhead.glb" });
Spinner.create(powerRedGlowEntity, { speed: 100 });
Transform2.create(powerRedGlowEntity, {
  position: Vector32.create(8.12, 2, 3.71),
  scale: Vector32.create(0.1, 0.1, 0.1),
  rotation: Quaternion2.fromEulerDegrees(0, 180, 90)
});
function createPowerBase(position, BoxSource) {
  const entity = engine.addEntity();
  Transform2.create(entity, { position });
  GltfContainer2.create(entity, { src: BoxSource });
  PointerEvents2.create(entity, {
    pointerEvents: [
      {
        eventType: PointerEventType.PET_DOWN,
        eventInfo: {
          showFeedback: false
        }
      }
    ]
  });
  function togglePower(isPowerOn) {
    if (isPowerOn) {
      Transform2.getMutable(powerRedGlowEntity).scale = Vector32.create(0, 0, 0);
      try {
        engine.addSystem(particleSystem);
      } catch (err) {
      }
      playSound(PartAudio);
      for (const [entity2] of engine.getEntitiesWith(Particle)) {
        VisibilityComponent2.deleteFrom(entity2);
      }
    } else {
      for (const [entity2] of engine.getEntitiesWith(Particle)) {
        VisibilityComponent2.createOrReplace(entity2, { visible: false });
      }
      Transform2.getMutable(powerRedGlowEntity).scale = Vector32.create(0.1, 0.1, 0.1);
      engine.removeSystem(particleSystem);
      playOneShot(PowerDown);
      stopSound(PartAudio);
    }
  }
  triggers.addTrigger(
    entity,
    2,
    2,
    [
      {
        type: "box",
        scale: Vector32.create(4, 4, 4),
        position: Vector32.create(0, 0.75, 0)
      }
    ],
    (entity2) => {
      console.log("on enter", { entity: entity2 });
      togglePower(true);
    },
    (entity2) => {
      console.log("on exit", { entity: entity2 });
      togglePower(false);
    }
  );
}

// src/powerCube.ts
stopSound(flower);
var PowerCube = engine.defineComponent("PowerCube", {
  isGrabbed: Schemas.Boolean
});
var Z_OFFSET = 1.5;
var GROUND_HEIGHT = 0.1;
function createPowerCube(position, gltfSrc) {
  const entity = engine.addEntity();
  Transform2.create(entity, { position });
  GltfContainer2.create(entity, { src: gltfSrc });
  PowerCube.create(entity, { isGrabbed: false });
  pointerEventsSystem.onPointerDown(
    {
      entity,
      opts: {
        button: InputAction.IA_PRIMARY,
        hoverText: "Pick Up",
        maxDistance: 5
      }
    },
    () => {
      const powerCube = PowerCube.getMutable(entity);
      playOneShot(flower);
      if (!powerCube.isGrabbed) {
        const transform = Transform2.getMutable(entity);
        powerCube.isGrabbed = true;
        transform.position = Vector32.Zero();
        transform.rotation = Quaternion2.Identity();
        transform.position.y = -1;
        transform.position.z += Z_OFFSET;
        const dummyParent = engine.addEntity();
        Transform2.create(dummyParent, {});
        transform.parent = dummyParent;
        AvatarAttach2.createOrReplace(transform.parent, {
          anchorPointId: AvatarAnchorPointType.AAPT_NAME_TAG
        });
        const pointerEvent = PointerEvents2.getMutable(entity).pointerEvents[0];
        if (pointerEvent && pointerEvent.eventInfo) {
          pointerEvent.eventInfo.showFeedback = false;
        }
      }
    }
  );
  triggers.addTrigger(entity, 2, 2, [{ type: "box", scale: Vector32.create(1, 1, 1) }]);
  return entity;
}
engine.addSystem(() => {
  if (inputSystem.isTriggered(InputAction.IA_SECONDARY, PointerEventType.PET_DOWN)) {
    dropAllCubes();
  }
});
function dropAllCubes() {
  for (const [entity] of engine.getEntitiesWith(PowerCube)) {
    const powerCube = PowerCube.getMutable(entity);
    const transform = Transform2.getMutable(entity);
    if (!powerCube.isGrabbed)
      return;
    powerCube.isGrabbed = false;
    playOneShot(flower);
    const cameraTransform = Transform2.get(engine.PlayerEntity);
    const forwardVector = Vector32.rotate(Vector32.scale(Vector32.Forward(), Z_OFFSET), cameraTransform.rotation);
    transform.position = Vector32.add(cameraTransform.position, forwardVector);
    transform.position.y = GROUND_HEIGHT;
    transform.rotation = Quaternion2.fromLookAt(transform.position, cameraTransform.position);
    transform.rotation.x = 0;
    transform.rotation.z = 0;
    transform.parent = void 0;
    const pointerEvent = PointerEvents2.getMutable(entity).pointerEvents[0];
    if (pointerEvent && pointerEvent.eventInfo) {
      pointerEvent.eventInfo.showFeedback = true;
    }
  }
}

// src/systems.ts
function circularSystem(dt) {
  const entitiesWithSpinner = engine.getEntitiesWith(Spinner, Transform2);
  for (const [entity, _spinner, _transform] of entitiesWithSpinner) {
    const mutableTransform = Transform2.getMutable(entity);
    const spinnerData = Spinner.get(entity);
    mutableTransform.rotation = Quaternion2.multiply(
      mutableTransform.rotation,
      Quaternion2.fromAngleAxis(dt * spinnerData.speed, Vector32.Left())
    );
  }
}

// src/index.ts
engine.addSystem(circularSystem);
function main() {
  playSound(intro);
  const staticBase = engine.addEntity();
  PointerEvents2.create(staticBase, {
    pointerEvents: [
      {
        eventType: PointerEventType.PET_DOWN,
        eventInfo: {
          showFeedback: false
        }
      }
    ]
  });
  const GROUND_HEIGHT2 = 0.55;
  createPowerBase(Vector32.create(8, 0.024, 3.5), "base");
  const powerCubeEntity = createPowerCube(Vector32.create(8.56, GROUND_HEIGHT2, -14.02), "models/PlantAqua.glb");
  MeshCollider3.setBox(powerCubeEntity);
  const tile1 = engine.addEntity();
  GltfContainer2.create(tile1, { src: "models/CityTile.glb" });
  Transform2.create(tile1, {
    position: Vector32.create(8, 0, 8),
    scale: Vector32.create(1, 1, 1),
    rotation: Quaternion2.fromEulerDegrees(0, 180, 0)
  });
  const tile2 = engine.addEntity();
  GltfContainer2.create(tile2, { src: "models/CityTile.glb" });
  Transform2.create(tile2, {
    position: Vector32.create(8, 0, -8),
    scale: Vector32.create(1, 1, 1),
    rotation: Quaternion2.fromEulerDegrees(0, 180, 0)
  });
}

// node_modules/@dcl/sdk/index.js
var import_EngineApi2 = require("~system/EngineApi");

// node_modules/@dcl/sdk/internal/transports/rendererTransport.js
function createRendererTransport(engineApi) {
  async function sendToRenderer(message) {
    const response = await engineApi.crdtSendToRenderer({
      data: new Uint8Array(message)
    });
    if (response && response.data && response.data.length) {
      if (rendererTransport2.onmessage) {
        for (const byteArray of response.data) {
          rendererTransport2.onmessage(byteArray);
        }
      }
    }
  }
  const rendererTransport2 = {
    async send(message) {
      try {
        await sendToRenderer(message);
      } catch (error) {
        console.error(error);
        debugger;
      }
    },
    filter(message) {
      if (message.componentId > MAX_STATIC_COMPONENT) {
        return false;
      }
      return !!message;
    }
  };
  return rendererTransport2;
}

// node_modules/@dcl/sdk/internal/Observable.js
var ObserverEventState = class {
  constructor(mask, skipNextObservers = false, target, currentTarget) {
    this.initalize(mask, skipNextObservers, target, currentTarget);
  }
  initalize(mask, skipNextObservers = false, target, currentTarget) {
    this.mask = mask;
    this.skipNextObservers = skipNextObservers;
    this.target = target;
    this.currentTarget = currentTarget;
    return this;
  }
};
var Observer = class {
  constructor(callback, mask, scope = null) {
    this.callback = callback;
    this.mask = mask;
    this.scope = scope;
    this.unregisterOnNextCall = false;
    this._willBeUnregistered = false;
  }
};
var Observable = class _Observable {
  constructor(onObserverAdded) {
    this._observers = new Array();
    this._onObserverAdded = null;
    this._eventState = new ObserverEventState(0);
    if (onObserverAdded) {
      this._onObserverAdded = onObserverAdded;
    }
  }
  add(callback, mask = -1, insertFirst = false, scope = null, unregisterOnFirstCall = false) {
    if (!callback) {
      return null;
    }
    const observer = new Observer(callback, mask, scope);
    observer.unregisterOnNextCall = unregisterOnFirstCall;
    if (insertFirst) {
      this._observers.unshift(observer);
    } else {
      this._observers.push(observer);
    }
    if (this._onObserverAdded) {
      this._onObserverAdded(observer);
    }
    return observer;
  }
  addOnce(callback) {
    return this.add(callback, void 0, void 0, void 0, true);
  }
  remove(observer) {
    if (!observer) {
      return false;
    }
    const index = this._observers.indexOf(observer);
    if (index !== -1) {
      this._deferUnregister(observer);
      return true;
    }
    return false;
  }
  removeCallback(callback, scope) {
    for (let index = 0; index < this._observers.length; index++) {
      if (this._observers[index].callback === callback && (!scope || scope === this._observers[index].scope)) {
        this._deferUnregister(this._observers[index]);
        return true;
      }
    }
    return false;
  }
  notifyObservers(eventData, mask = -1, target, currentTarget) {
    if (!this._observers.length) {
      return true;
    }
    const state = this._eventState;
    state.mask = mask;
    state.target = target;
    state.currentTarget = currentTarget;
    state.skipNextObservers = false;
    state.lastReturnValue = eventData;
    for (const obs of this._observers) {
      if (obs._willBeUnregistered) {
        continue;
      }
      if (obs.mask & mask) {
        if (obs.scope) {
          state.lastReturnValue = obs.callback.apply(obs.scope, [eventData, state]);
        } else {
          state.lastReturnValue = obs.callback(eventData, state);
        }
        if (obs.unregisterOnNextCall) {
          this._deferUnregister(obs);
        }
      }
      if (state.skipNextObservers) {
        return false;
      }
    }
    return true;
  }
  notifyObserversWithPromise(eventData, mask = -1, target, currentTarget) {
    let p = Promise.resolve(eventData);
    if (!this._observers.length) {
      return p;
    }
    const state = this._eventState;
    state.mask = mask;
    state.target = target;
    state.currentTarget = currentTarget;
    state.skipNextObservers = false;
    this._observers.forEach((obs) => {
      if (state.skipNextObservers) {
        return;
      }
      if (obs._willBeUnregistered) {
        return;
      }
      if (obs.mask & mask) {
        if (obs.scope) {
          p = p.then((lastReturnedValue) => {
            state.lastReturnValue = lastReturnedValue;
            return obs.callback.apply(obs.scope, [eventData, state]);
          });
        } else {
          p = p.then((lastReturnedValue) => {
            state.lastReturnValue = lastReturnedValue;
            return obs.callback(eventData, state);
          });
        }
        if (obs.unregisterOnNextCall) {
          this._deferUnregister(obs);
        }
      }
    });
    return p.then(() => {
      return eventData;
    });
  }
  notifyObserver(observer, eventData, mask = -1) {
    const state = this._eventState;
    state.mask = mask;
    state.skipNextObservers = false;
    observer.callback(eventData, state);
  }
  hasObservers() {
    return this._observers.length > 0;
  }
  clear() {
    this._observers = new Array();
    this._onObserverAdded = null;
  }
  clone() {
    const result = new _Observable();
    result._observers = this._observers.slice(0);
    return result;
  }
  hasSpecificMask(mask = -1) {
    for (const obs of this._observers) {
      if (obs.mask & mask || obs.mask === mask) {
        return true;
      }
    }
    return false;
  }
  _deferUnregister(observer) {
    observer.unregisterOnNextCall = false;
    observer._willBeUnregistered = true;
    Promise.resolve().then.bind(Promise.resolve())(async () => this._remove(observer)).catch(console.error);
  }
  _remove(observer) {
    if (!observer) {
      return false;
    }
    const index = this._observers.indexOf(observer);
    if (index !== -1) {
      this._observers.splice(index, 1);
      return true;
    }
    return false;
  }
};

// node_modules/@dcl/sdk/observables.js
var import_EngineApi = require("~system/EngineApi");
var subscribeFunction = import_EngineApi.subscribe;
function createSubscriber(eventName) {
  return () => {
    subscribeFunction({ eventId: eventName }).catch(console.error);
  };
}
var onEnterSceneObservable = new Observable(createSubscriber("onEnterScene"));
var onLeaveSceneObservable = new Observable(createSubscriber("onLeaveScene"));
var onSceneReadyObservable = new Observable(createSubscriber("sceneStart"));
var onPlayerExpressionObservable = new Observable(createSubscriber("playerExpression"));
var onVideoEvent = new Observable(createSubscriber("videoEvent"));
var onProfileChanged = new Observable(createSubscriber("profileChanged"));
var onPlayerConnectedObservable = new Observable(createSubscriber("playerConnected"));
var onPlayerDisconnectedObservable = new Observable(createSubscriber("playerDisconnected"));
var onRealmChangedObservable = new Observable(createSubscriber("onRealmChanged"));
var onPlayerClickedObservable = new Observable(createSubscriber("playerClicked"));
var onCommsMessage = new Observable(createSubscriber("comms"));
async function pollEvents(sendBatch2) {
  const { events } = await sendBatch2({ actions: [] });
  for (const e of events) {
    if (e.generic) {
      const data = JSON.parse(e.generic.eventData);
      switch (e.generic.eventId) {
        case "onEnterScene": {
          onEnterSceneObservable.notifyObservers(data);
          break;
        }
        case "onLeaveScene": {
          onLeaveSceneObservable.notifyObservers(data);
          break;
        }
        case "sceneStart": {
          onSceneReadyObservable.notifyObservers(data);
          break;
        }
        case "playerExpression": {
          onPlayerExpressionObservable.notifyObservers(data);
          break;
        }
        case "videoEvent": {
          const videoData = data;
          onVideoEvent.notifyObservers(videoData);
          break;
        }
        case "profileChanged": {
          onProfileChanged.notifyObservers(data);
          break;
        }
        case "playerConnected": {
          onPlayerConnectedObservable.notifyObservers(data);
          break;
        }
        case "playerDisconnected": {
          onPlayerDisconnectedObservable.notifyObservers(data);
          break;
        }
        case "onRealmChanged": {
          onRealmChangedObservable.notifyObservers(data);
          break;
        }
        case "playerClicked": {
          onPlayerClickedObservable.notifyObservers(data);
          break;
        }
        case "comms": {
          onCommsMessage.notifyObservers(data);
          break;
        }
      }
    }
  }
}

// sdk-composite:all-composites
var compositeFromLoader = { "assets/scene/main.composite": { "version": 1, "components": [{ "name": "core::Transform", "jsonSchema": { "type": "object", "properties": { "position": { "type": "object", "properties": { "x": { "type": "number" }, "y": { "type": "number" }, "z": { "type": "number" } } }, "scale": { "type": "object", "properties": { "x": { "type": "number" }, "y": { "type": "number" }, "z": { "type": "number" } } }, "rotation": { "type": "object", "properties": { "x": { "type": "number" }, "y": { "type": "number" }, "z": { "type": "number" }, "w": { "type": "number" } } }, "parent": { "type": "integer" } }, "serializationType": "transform" }, "data": { "512": { "json": { "position": { "x": 8, "y": 1, "z": 8 }, "scale": { "x": 1, "y": 1, "z": 1 }, "rotation": { "x": 0, "y": 0, "z": 0, "w": 1 }, "parent": 0 } } } }, { "name": "core::MeshRenderer", "jsonSchema": { "type": "object", "properties": {}, "serializationType": "protocol-buffer", "protocolBuffer": "PBMeshRenderer" }, "data": { "512": { "json": { "mesh": { "$case": "box", "box": { "uvs": [] } } } } } }, { "name": "core-schema::Name", "jsonSchema": { "type": "object", "properties": { "value": { "type": "string", "serializationType": "utf8-string" } }, "serializationType": "map" }, "data": { "512": { "json": { "value": "Magic Cube" } } } }, { "name": "inspector::Scene", "jsonSchema": { "type": "object", "properties": { "layout": { "type": "object", "properties": { "base": { "type": "object", "properties": { "x": { "type": "integer", "serializationType": "int32" }, "y": { "type": "integer", "serializationType": "int32" } }, "serializationType": "map" }, "parcels": { "type": "array", "items": { "type": "object", "properties": { "x": { "type": "integer", "serializationType": "int32" }, "y": { "type": "integer", "serializationType": "int32" } }, "serializationType": "map" }, "serializationType": "array" } }, "serializationType": "map" } }, "serializationType": "map" }, "data": { "0": { "json": { "layout": { "base": { "x": 0, "y": 0 }, "parcels": [{ "x": 0, "y": 0 }] } } } } }, { "name": "inspector::Nodes", "jsonSchema": { "type": "object", "properties": { "value": { "type": "array", "items": { "type": "object", "properties": { "entity": { "type": "integer", "serializationType": "entity" }, "open": { "type": "boolean", "serializationType": "optional", "optionalJsonSchema": { "type": "boolean", "serializationType": "boolean" } }, "children": { "type": "array", "items": { "type": "integer", "serializationType": "entity" }, "serializationType": "array" } }, "serializationType": "map" }, "serializationType": "array" } }, "serializationType": "map" }, "data": { "0": { "json": { "value": [{ "entity": 512, "children": [513], "open": true }, { "entity": 513, "children": [] }] } } } }, { "name": "cube-id", "jsonSchema": { "type": "object", "properties": {}, "serializationType": "map" }, "data": { "512": { "json": {} } } }] } };

// node_modules/@dcl/sdk/composite-provider.js
var composites = [];
var compositeProvider = {
  getCompositeOrNull(src, _currentPath) {
    const fromLoader = compositeFromLoader[src];
    if (fromLoader) {
      try {
        if (fromLoader instanceof Uint8Array) {
          const composite = Composite.fromBinary(fromLoader);
          composites.push({ src, composite });
        } else if (typeof fromLoader === "string") {
          const composite = Composite.fromJson(JSON.parse(fromLoader));
          composites.push({ src, composite });
        } else if (typeof fromLoader === "object") {
          const composite = Composite.fromJson(fromLoader);
          composites.push({ src, composite });
        }
      } catch (err) {
        console.error(err);
      }
      delete compositeFromLoader[src];
    }
    return composites.find((item) => item.src === src) || null;
  }
};

// node_modules/@dcl/sdk/index.js
var rendererTransport = createRendererTransport({ crdtSendToRenderer: import_EngineApi2.crdtSendToRenderer });
engine.addTransport(rendererTransport);
async function onUpdate(deltaTime) {
  engine.seal();
  await engine.update(deltaTime);
  await pollEvents(import_EngineApi2.sendBatch);
}
async function onStart() {
  const response = await (0, import_EngineApi2.crdtGetState)({ data: new Uint8Array() });
  if (!response.hasEntities) {
    const mainComposite = compositeProvider.getCompositeOrNull("main.composite");
    if (mainComposite) {
      try {
        Composite.instance(engine, mainComposite, compositeProvider);
      } catch (err) {
        console.log(`Warning: main.composite couldn't be instanced.`);
        console.error(err);
      }
    }
  }
  if (!!rendererTransport.onmessage) {
    if (response && response.data && response.data.length) {
      for (const byteArray of response.data) {
        rendererTransport.onmessage(byteArray);
      }
    }
  }
}

// src/index.ts.entry-point.ts
if (main !== void 0) {
  let _INTERNAL_startup_system = function() {
    const maybePromise = main();
    if (maybePromise && typeof maybePromise === "object" && typeof maybePromise.then === "function") {
      maybePromise.catch(console.error);
    }
    engine.removeSystem(_INTERNAL_startup_system);
  };
  engine.addSystem(_INTERNAL_startup_system, Infinity);
}
/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL2FzcHJvbWlzZS9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvYmFzZTY0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9ldmVudGVtaXR0ZXIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL2Zsb2F0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9pbnF1aXJlL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy91dGY4L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9wb29sL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsL2xvbmdiaXRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsL21pbmltYWwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3dyaXRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvd3JpdGVyX2J1ZmZlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcmVhZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9yZWFkZXJfYnVmZmVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9ycGMvc2VydmljZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcnBjLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9yb290cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvaW5kZXgtbWluaW1hbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9taW5pbWFsLmpzIiwgIi4uL3NyYy9pbmRleC50cy5lbnRyeS1wb2ludC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYW5pbWF0b3IuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0FuaW1hdG9yLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXVkaW9fc291cmNlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdWRpb1NvdXJjZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F1ZGlvX3N0cmVhbS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQXVkaW9TdHJlYW0uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfYXR0YWNoLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJBdHRhY2guZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfbW9kaWZpZXJfYXJlYS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL2NvbW1vbi92ZWN0b3JzLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJNb2RpZmllckFyZWEuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9sb25nL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfc2hhcGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9jb21tb24vY29sb3JzLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJTaGFwZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2JpbGxib2FyZC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQmlsbGJvYXJkLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0NhbWVyYU1vZGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jYW1lcmFfbW9kZV9hcmVhLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9DYW1lcmFNb2RlQXJlYS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2VuZ2luZV9pbmZvLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9FbmdpbmVJbmZvLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZ2x0Zl9jb250YWluZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0dsdGZDb250YWluZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lcl9sb2FkaW5nX3N0YXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9HbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWF0ZXJpYWwuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9jb21tb24vdGV4dHVyZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvTWF0ZXJpYWwuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tZXNoX2NvbGxpZGVyLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9NZXNoQ29sbGlkZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tZXNoX3JlbmRlcmVyLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9NZXNoUmVuZGVyZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9uZnRfc2hhcGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL05mdFNoYXBlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHMuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1BvaW50ZXJFdmVudHMuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wb2ludGVyX2V2ZW50c19yZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vcmF5Y2FzdF9oaXQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1BvaW50ZXJFdmVudHNSZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wb2ludGVyX2xvY2suZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1BvaW50ZXJMb2NrLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcmF5Y2FzdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvUmF5Y2FzdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3JheWNhc3RfcmVzdWx0Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9SYXljYXN0UmVzdWx0Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdGV4dF9zaGFwZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVGV4dFNoYXBlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdHdlZW4uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1R3ZWVuLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdHdlZW5fc2VxdWVuY2UuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1R3ZWVuU2VxdWVuY2UuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbl9zdGF0ZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVHdlZW5TdGF0ZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2JhY2tncm91bmQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9jb21tb24vYm9yZGVyX3JlY3QuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpQmFja2dyb3VuZC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2NhbnZhc19pbmZvcm1hdGlvbi5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlDYW52YXNJbmZvcm1hdGlvbi5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2Ryb3Bkb3duLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9VaURyb3Bkb3duLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd25fcmVzdWx0Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9VaURyb3Bkb3duUmVzdWx0Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfaW5wdXQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpSW5wdXQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9pbnB1dF9yZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpSW5wdXRSZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV90ZXh0Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9VaVRleHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV90cmFuc2Zvcm0uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpVHJhbnNmb3JtLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlkZW9fZXZlbnQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1ZpZGVvRXZlbnQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aWRlb19wbGF5ZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1ZpZGVvUGxheWVyLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlzaWJpbGl0eV9jb21wb25lbnQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1Zpc2liaWxpdHlDb21wb25lbnQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL2luZGV4Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2V4dGVuZGVkL01hdGVyaWFsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZXh0ZW5kZWQvTWVzaENvbGxpZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZXh0ZW5kZWQvTWVzaFJlbmRlcmVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZXh0ZW5kZWQvVHdlZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9BcnJheS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2Jhc2ljL0Jvb2xlYW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9iYXNpYy9JbnRlZ2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYmFzaWMvU3RyaW5nLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYmFzaWMvRW51bS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2Jhc2ljL0Zsb2F0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvY3VzdG9tL0NvbG9yMy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2N1c3RvbS9Db2xvcjQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9jdXN0b20vRW50aXR5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvY3VzdG9tL1F1YXRlcm5pb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9jdXN0b20vVmVjdG9yMy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL01hcC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL09wdGlvbmFsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvT25lT2YuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9idWlsZFNjaGVtYS91dGlscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2J1aWxkU2NoZW1hL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9tYW51YWwvTmFtZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL21hbnVhbC9UcmFuc2Zvcm0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9jb21wb25lbnQtbmFtZXMuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvY29tcG9uZW50LW51bWJlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9ydW50aW1lL2NyYy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9ydW50aW1lL2ludmFyaWFudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zeXN0ZW1zL2NyZHQvZ3NldC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9lbmdpbmUvZW50aXR5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlci9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvdHlwZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L2NyZHRNZXNzYWdlUHJvdG9jb2wuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L2RlbGV0ZUNvbXBvbmVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvYXBwZW5kVmFsdWUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L2RlbGV0ZUVudGl0eS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvcHV0Q29tcG9uZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3N5c3RlbXMvY3JkdC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zeXN0ZW1zL2NyZHQvdXRpbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL3JlYWRvbmx5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2VuZ2luZS9sd3ctZWxlbWVudC1zZXQtY29tcG9uZW50LWRlZmluaXRpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL3N5c3RlbXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2dyb3ctb25seS12YWx1ZS1zZXQtY29tcG9uZW50LWRlZmluaXRpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvcnVudGltZS9oZWxwZXJzL3RyZWUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2lucHV0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2VuZ2luZS9jb21wb25lbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3N5c3RlbXMvZXZlbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3N5c3RlbXMvdHdlZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvcnVudGltZS9pbml0aWFsaXphdGlvbi9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9nbG9iYWwuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vY2FtZXJhX3R5cGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vaW5wdXRfYWN0aW9uLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY29tbW9uL2xvYWRpbmdfc3RhdGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vdGV4dHMuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvc2l0ZS9jb21wb25lbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvc2l0ZS9wYXRoLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvc2l0ZS9pbnN0YW5jZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb3NpdGUvcHJvdG8vZ2VuL2NvbXBvc2l0ZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9zaXRlL3Byb3RvL2dlbi9nb29nbGUvcHJvdG9idWYvc3RydWN0Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb3NpdGUvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC90eXBlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L1NjYWxhci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L1ZlY3RvcjMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9QbGFuZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L01hdHJpeC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L1F1YXRlcm5pb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9Db2xvcjQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9Db2xvcjMuanMiLCAiLi4vc3JjL3BhcnRpY2xlcy50cyIsICIuLi9zcmMvc291bmQudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wtc2RrL3V0aWxzL3NyYy9tYXRoLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsLXNkay91dGlscy9zcmMvcHJpb3JpdHkudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wtc2RrL3V0aWxzL3NyYy90aW1lci50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC1zZGsvdXRpbHMvc3JjL3RvZ2dsZS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC1zZGsvdXRpbHMvc3JjL3R3ZWVuLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsLXNkay91dGlscy9zcmMvcGVycGV0dWFsTW90aW9uLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsLXNkay91dGlscy9zcmMvcGF0aC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC1zZGsvdXRpbHMvc3JjL3RyaWdnZXIudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wtc2RrL3V0aWxzL3NyYy9hY3Rpb24udHMiLCAiLi4vc3JjL2NvbXBvbmVudHMudHMiLCAiLi4vc3JjL3Bvd2VyQmFzZS50cyIsICIuLi9zcmMvcG93ZXJDdWJlLnRzIiwgIi4uL3NyYy9zeXN0ZW1zLnRzIiwgIi4uL3NyYy9pbmRleC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9zZGsvc3JjL2luZGV4LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvaW50ZXJuYWwvdHJhbnNwb3J0cy9yZW5kZXJlclRyYW5zcG9ydC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9zZGsvc3JjL2ludGVybmFsL09ic2VydmFibGUudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvc2RrL3NyYy9vYnNlcnZhYmxlcy50cyIsICJzZGstY29tcG9zaXRlOmFsbC1jb21wb3NpdGVzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvY29tcG9zaXRlLXByb3ZpZGVyLnRzIl0sCiAgInNvdXJjZVJvb3QiOiAiZmlsZTovLy9Vc2Vycy9yYWRlay9Eb2N1bWVudHMvR0l0aHViL0NsYXJlU2lsdmVyL1BhcnRpY2xlLVN5c3RlbS1pbi1EQ0wvYmluIiwKICAic291cmNlc0NvbnRlbnQiOiBbIlwidXNlIHN0cmljdFwiO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGFzUHJvbWlzZTtcclxuXHJcbi8qKlxyXG4gKiBDYWxsYmFjayBhcyB1c2VkIGJ5IHtAbGluayB1dGlsLmFzUHJvbWlzZX0uXHJcbiAqIEB0eXBlZGVmIGFzUHJvbWlzZUNhbGxiYWNrXHJcbiAqIEB0eXBlIHtmdW5jdGlvbn1cclxuICogQHBhcmFtIHtFcnJvcnxudWxsfSBlcnJvciBFcnJvciwgaWYgYW55XHJcbiAqIEBwYXJhbSB7Li4uKn0gcGFyYW1zIEFkZGl0aW9uYWwgYXJndW1lbnRzXHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBwcm9taXNlIGZyb20gYSBub2RlLXN0eWxlIGNhbGxiYWNrIGZ1bmN0aW9uLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAcGFyYW0ge2FzUHJvbWlzZUNhbGxiYWNrfSBmbiBGdW5jdGlvbiB0byBjYWxsXHJcbiAqIEBwYXJhbSB7Kn0gY3R4IEZ1bmN0aW9uIGNvbnRleHRcclxuICogQHBhcmFtIHsuLi4qfSBwYXJhbXMgRnVuY3Rpb24gYXJndW1lbnRzXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPCo+fSBQcm9taXNpZmllZCBmdW5jdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gYXNQcm9taXNlKGZuLCBjdHgvKiwgdmFyYXJncyAqLykge1xyXG4gICAgdmFyIHBhcmFtcyAgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpLFxyXG4gICAgICAgIG9mZnNldCAgPSAwLFxyXG4gICAgICAgIGluZGV4ICAgPSAyLFxyXG4gICAgICAgIHBlbmRpbmcgPSB0cnVlO1xyXG4gICAgd2hpbGUgKGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aClcclxuICAgICAgICBwYXJhbXNbb2Zmc2V0KytdID0gYXJndW1lbnRzW2luZGV4KytdO1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIHBhcmFtc1tvZmZzZXRdID0gZnVuY3Rpb24gY2FsbGJhY2soZXJyLyosIHZhcmFyZ3MgKi8pIHtcclxuICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgcGFyYW1zLmxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zW29mZnNldCsrXSA9IGFyZ3VtZW50c1tvZmZzZXRdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUuYXBwbHkobnVsbCwgcGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm4uYXBwbHkoY3R4IHx8IG51bGwsIHBhcmFtcyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qKlxyXG4gKiBBIG1pbmltYWwgYmFzZTY0IGltcGxlbWVudGF0aW9uIGZvciBudW1iZXIgYXJyYXlzLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAbmFtZXNwYWNlXHJcbiAqL1xyXG52YXIgYmFzZTY0ID0gZXhwb3J0cztcclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBieXRlIGxlbmd0aCBvZiBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBCYXNlNjQgZW5jb2RlZCBzdHJpbmdcclxuICogQHJldHVybnMge251bWJlcn0gQnl0ZSBsZW5ndGhcclxuICovXHJcbmJhc2U2NC5sZW5ndGggPSBmdW5jdGlvbiBsZW5ndGgoc3RyaW5nKSB7XHJcbiAgICB2YXIgcCA9IHN0cmluZy5sZW5ndGg7XHJcbiAgICBpZiAoIXApXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB2YXIgbiA9IDA7XHJcbiAgICB3aGlsZSAoLS1wICUgNCA+IDEgJiYgc3RyaW5nLmNoYXJBdChwKSA9PT0gXCI9XCIpXHJcbiAgICAgICAgKytuO1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbChzdHJpbmcubGVuZ3RoICogMykgLyA0IC0gbjtcclxufTtcclxuXHJcbi8vIEJhc2U2NCBlbmNvZGluZyB0YWJsZVxyXG52YXIgYjY0ID0gbmV3IEFycmF5KDY0KTtcclxuXHJcbi8vIEJhc2U2NCBkZWNvZGluZyB0YWJsZVxyXG52YXIgczY0ID0gbmV3IEFycmF5KDEyMyk7XHJcblxyXG4vLyA2NS4uOTAsIDk3Li4xMjIsIDQ4Li41NywgNDMsIDQ3XHJcbmZvciAodmFyIGkgPSAwOyBpIDwgNjQ7KVxyXG4gICAgczY0W2I2NFtpXSA9IGkgPCAyNiA/IGkgKyA2NSA6IGkgPCA1MiA/IGkgKyA3MSA6IGkgPCA2MiA/IGkgLSA0IDogaSAtIDU5IHwgNDNdID0gaSsrO1xyXG5cclxuLyoqXHJcbiAqIEVuY29kZXMgYSBidWZmZXIgdG8gYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFNvdXJjZSBzdGFydFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIFNvdXJjZSBlbmRcclxuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0IGVuY29kZWQgc3RyaW5nXHJcbiAqL1xyXG5iYXNlNjQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKGJ1ZmZlciwgc3RhcnQsIGVuZCkge1xyXG4gICAgdmFyIHBhcnRzID0gbnVsbCxcclxuICAgICAgICBjaHVuayA9IFtdO1xyXG4gICAgdmFyIGkgPSAwLCAvLyBvdXRwdXQgaW5kZXhcclxuICAgICAgICBqID0gMCwgLy8gZ290byBpbmRleFxyXG4gICAgICAgIHQ7ICAgICAvLyB0ZW1wb3JhcnlcclxuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xyXG4gICAgICAgIHZhciBiID0gYnVmZmVyW3N0YXJ0KytdO1xyXG4gICAgICAgIHN3aXRjaCAoaikge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBjaHVua1tpKytdID0gYjY0W2IgPj4gMl07XHJcbiAgICAgICAgICAgICAgICB0ID0gKGIgJiAzKSA8PCA0O1xyXG4gICAgICAgICAgICAgICAgaiA9IDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFt0IHwgYiA+PiA0XTtcclxuICAgICAgICAgICAgICAgIHQgPSAoYiAmIDE1KSA8PCAyO1xyXG4gICAgICAgICAgICAgICAgaiA9IDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFt0IHwgYiA+PiA2XTtcclxuICAgICAgICAgICAgICAgIGNodW5rW2krK10gPSBiNjRbYiAmIDYzXTtcclxuICAgICAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpID4gODE5MSkge1xyXG4gICAgICAgICAgICAocGFydHMgfHwgKHBhcnRzID0gW10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjaHVuaykpO1xyXG4gICAgICAgICAgICBpID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaikge1xyXG4gICAgICAgIGNodW5rW2krK10gPSBiNjRbdF07XHJcbiAgICAgICAgY2h1bmtbaSsrXSA9IDYxO1xyXG4gICAgICAgIGlmIChqID09PSAxKVxyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gNjE7XHJcbiAgICB9XHJcbiAgICBpZiAocGFydHMpIHtcclxuICAgICAgICBpZiAoaSlcclxuICAgICAgICAgICAgcGFydHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpKTtcclxuICAgICAgICByZXR1cm4gcGFydHMuam9pbihcIlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpO1xyXG59O1xyXG5cclxudmFyIGludmFsaWRFbmNvZGluZyA9IFwiaW52YWxpZCBlbmNvZGluZ1wiO1xyXG5cclxuLyoqXHJcbiAqIERlY29kZXMgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgdG8gYSBidWZmZXIuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU291cmNlIHN0cmluZ1xyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBEZXN0aW5hdGlvbiBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBEZXN0aW5hdGlvbiBvZmZzZXRcclxuICogQHJldHVybnMge251bWJlcn0gTnVtYmVyIG9mIGJ5dGVzIHdyaXR0ZW5cclxuICogQHRocm93cyB7RXJyb3J9IElmIGVuY29kaW5nIGlzIGludmFsaWRcclxuICovXHJcbmJhc2U2NC5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUoc3RyaW5nLCBidWZmZXIsIG9mZnNldCkge1xyXG4gICAgdmFyIHN0YXJ0ID0gb2Zmc2V0O1xyXG4gICAgdmFyIGogPSAwLCAvLyBnb3RvIGluZGV4XHJcbiAgICAgICAgdDsgICAgIC8vIHRlbXBvcmFyeVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOykge1xyXG4gICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSsrKTtcclxuICAgICAgICBpZiAoYyA9PT0gNjEgJiYgaiA+IDEpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGlmICgoYyA9IHM2NFtjXSkgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEVuY29kaW5nKTtcclxuICAgICAgICBzd2l0Y2ggKGopIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgdCA9IGM7XHJcbiAgICAgICAgICAgICAgICBqID0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gdCA8PCAyIHwgKGMgJiA0OCkgPj4gNDtcclxuICAgICAgICAgICAgICAgIHQgPSBjO1xyXG4gICAgICAgICAgICAgICAgaiA9IDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9ICh0ICYgMTUpIDw8IDQgfCAoYyAmIDYwKSA+PiAyO1xyXG4gICAgICAgICAgICAgICAgdCA9IGM7XHJcbiAgICAgICAgICAgICAgICBqID0gMztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gKHQgJiAzKSA8PCA2IHwgYztcclxuICAgICAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGogPT09IDEpXHJcbiAgICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEVuY29kaW5nKTtcclxuICAgIHJldHVybiBvZmZzZXQgLSBzdGFydDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHN0cmluZyBhcHBlYXJzIHRvIGJlIGJhc2U2NCBlbmNvZGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byB0ZXN0XHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgcHJvYmFibHkgYmFzZTY0IGVuY29kZWQsIG90aGVyd2lzZSBmYWxzZVxyXG4gKi9cclxuYmFzZTY0LnRlc3QgPSBmdW5jdGlvbiB0ZXN0KHN0cmluZykge1xyXG4gICAgcmV0dXJuIC9eKD86W0EtWmEtejAtOSsvXXs0fSkqKD86W0EtWmEtejAtOSsvXXsyfT09fFtBLVphLXowLTkrL117M309KT8kLy50ZXN0KHN0cmluZyk7XHJcbn07XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XHJcblxyXG4vKipcclxuICogQ29uc3RydWN0cyBhIG5ldyBldmVudCBlbWl0dGVyIGluc3RhbmNlLlxyXG4gKiBAY2xhc3NkZXNjIEEgbWluaW1hbCBldmVudCBlbWl0dGVyLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxyXG4gICAgICogQHR5cGUge09iamVjdC48c3RyaW5nLCo+fVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RlcnMgYW4gZXZlbnQgbGlzdGVuZXIuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBldnQgRXZlbnQgbmFtZVxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiBMaXN0ZW5lclxyXG4gKiBAcGFyYW0geyp9IFtjdHhdIExpc3RlbmVyIGNvbnRleHRcclxuICogQHJldHVybnMge3V0aWwuRXZlbnRFbWl0dGVyfSBgdGhpc2BcclxuICovXHJcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldnQsIGZuLCBjdHgpIHtcclxuICAgICh0aGlzLl9saXN0ZW5lcnNbZXZ0XSB8fCAodGhpcy5fbGlzdGVuZXJzW2V2dF0gPSBbXSkpLnB1c2goe1xyXG4gICAgICAgIGZuICA6IGZuLFxyXG4gICAgICAgIGN0eCA6IGN0eCB8fCB0aGlzXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgb3IgYW55IG1hdGNoaW5nIGxpc3RlbmVycyBpZiBhcmd1bWVudHMgYXJlIG9taXR0ZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZXZ0XSBFdmVudCBuYW1lLiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgaWYgb21pdHRlZC5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2ZuXSBMaXN0ZW5lciB0byByZW1vdmUuIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBvZiBgZXZ0YCBpZiBvbWl0dGVkLlxyXG4gKiBAcmV0dXJucyB7dXRpbC5FdmVudEVtaXR0ZXJ9IGB0aGlzYFxyXG4gKi9cclxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiBvZmYoZXZ0LCBmbikge1xyXG4gICAgaWYgKGV2dCA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGZuID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVyc1tldnRdID0gW107XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnNbZXZ0XTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOylcclxuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0uZm4gPT09IGZuKVxyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgKytpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEVtaXRzIGFuIGV2ZW50IGJ5IGNhbGxpbmcgaXRzIGxpc3RlbmVycyB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZ0IEV2ZW50IG5hbWVcclxuICogQHBhcmFtIHsuLi4qfSBhcmdzIEFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7dXRpbC5FdmVudEVtaXR0ZXJ9IGB0aGlzYFxyXG4gKi9cclxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldnQpIHtcclxuICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnNbZXZ0XTtcclxuICAgIGlmIChsaXN0ZW5lcnMpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdLFxyXG4gICAgICAgICAgICBpID0gMTtcclxuICAgICAgICBmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7KVxyXG4gICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOylcclxuICAgICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpKytdLmN0eCwgYXJncyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxufTtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KGZhY3RvcnkpO1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIC8gd3JpdGVzIGZsb2F0cyAvIGRvdWJsZXMgZnJvbSAvIHRvIGJ1ZmZlcnMuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXRcclxuICogQG5hbWVzcGFjZVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBXcml0ZXMgYSAzMiBiaXQgZmxvYXQgdG8gYSBidWZmZXIgdXNpbmcgbGl0dGxlIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRmxvYXRMRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZiBUYXJnZXQgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgVGFyZ2V0IGJ1ZmZlciBvZmZzZXRcclxuICogQHJldHVybnMge3VuZGVmaW5lZH1cclxuICovXHJcblxyXG4vKipcclxuICogV3JpdGVzIGEgMzIgYml0IGZsb2F0IHRvIGEgYnVmZmVyIHVzaW5nIGJpZyBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC53cml0ZUZsb2F0QkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgMzIgYml0IGZsb2F0IGZyb20gYSBidWZmZXIgdXNpbmcgbGl0dGxlIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LnJlYWRGbG9hdExFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZiBTb3VyY2UgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgU291cmNlIGJ1ZmZlciBvZmZzZXRcclxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZWFkcyBhIDMyIGJpdCBmbG9hdCBmcm9tIGEgYnVmZmVyIHVzaW5nIGJpZyBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRmxvYXRCRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFNvdXJjZSBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcclxuICovXHJcblxyXG4vKipcclxuICogV3JpdGVzIGEgNjQgYml0IGRvdWJsZSB0byBhIGJ1ZmZlciB1c2luZyBsaXR0bGUgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQud3JpdGVEb3VibGVMRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZiBUYXJnZXQgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgVGFyZ2V0IGJ1ZmZlciBvZmZzZXRcclxuICogQHJldHVybnMge3VuZGVmaW5lZH1cclxuICovXHJcblxyXG4vKipcclxuICogV3JpdGVzIGEgNjQgYml0IGRvdWJsZSB0byBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQud3JpdGVEb3VibGVCRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZiBUYXJnZXQgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgVGFyZ2V0IGJ1ZmZlciBvZmZzZXRcclxuICogQHJldHVybnMge3VuZGVmaW5lZH1cclxuICovXHJcblxyXG4vKipcclxuICogUmVhZHMgYSA2NCBiaXQgZG91YmxlIGZyb20gYSBidWZmZXIgdXNpbmcgbGl0dGxlIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LnJlYWREb3VibGVMRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFNvdXJjZSBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcclxuICovXHJcblxyXG4vKipcclxuICogUmVhZHMgYSA2NCBiaXQgZG91YmxlIGZyb20gYSBidWZmZXIgdXNpbmcgYmlnIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LnJlYWREb3VibGVCRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFNvdXJjZSBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcclxuICovXHJcblxyXG4vLyBGYWN0b3J5IGZ1bmN0aW9uIGZvciB0aGUgcHVycG9zZSBvZiBub2RlLWJhc2VkIHRlc3RpbmcgaW4gbW9kaWZpZWQgZ2xvYmFsIGVudmlyb25tZW50c1xyXG5mdW5jdGlvbiBmYWN0b3J5KGV4cG9ydHMpIHtcclxuXHJcbiAgICAvLyBmbG9hdDogdHlwZWQgYXJyYXlcclxuICAgIGlmICh0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSBcInVuZGVmaW5lZFwiKSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciBmMzIgPSBuZXcgRmxvYXQzMkFycmF5KFsgLTAgXSksXHJcbiAgICAgICAgICAgIGY4YiA9IG5ldyBVaW50OEFycmF5KGYzMi5idWZmZXIpLFxyXG4gICAgICAgICAgICBsZSAgPSBmOGJbM10gPT09IDEyODtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9mMzJfY3B5KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjMyWzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbMF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4YlsxXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzJdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbM107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZUZsb2F0X2YzMl9yZXYodmFsLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmMzJbMF0gPSB2YWw7XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgICAgXSA9IGY4YlszXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDFdID0gZjhiWzJdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMl0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAzXSA9IGY4YlswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy53cml0ZUZsb2F0TEUgPSBsZSA/IHdyaXRlRmxvYXRfZjMyX2NweSA6IHdyaXRlRmxvYXRfZjMyX3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVGbG9hdEJFID0gbGUgPyB3cml0ZUZsb2F0X2YzMl9yZXYgOiB3cml0ZUZsb2F0X2YzMl9jcHk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWRGbG9hdF9mMzJfY3B5KGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGY4YlswXSA9IGJ1Zltwb3MgICAgXTtcclxuICAgICAgICAgICAgZjhiWzFdID0gYnVmW3BvcyArIDFdO1xyXG4gICAgICAgICAgICBmOGJbMl0gPSBidWZbcG9zICsgMl07XHJcbiAgICAgICAgICAgIGY4YlszXSA9IGJ1Zltwb3MgKyAzXTtcclxuICAgICAgICAgICAgcmV0dXJuIGYzMlswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWRGbG9hdF9mMzJfcmV2KGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGY4YlszXSA9IGJ1Zltwb3MgICAgXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDFdO1xyXG4gICAgICAgICAgICBmOGJbMV0gPSBidWZbcG9zICsgMl07XHJcbiAgICAgICAgICAgIGY4YlswXSA9IGJ1Zltwb3MgKyAzXTtcclxuICAgICAgICAgICAgcmV0dXJuIGYzMlswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRmxvYXRMRSA9IGxlID8gcmVhZEZsb2F0X2YzMl9jcHkgOiByZWFkRmxvYXRfZjMyX3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0QkUgPSBsZSA/IHJlYWRGbG9hdF9mMzJfcmV2IDogcmVhZEZsb2F0X2YzMl9jcHk7XHJcblxyXG4gICAgLy8gZmxvYXQ6IGllZWU3NTRcclxuICAgIH0pKCk7IGVsc2UgKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZUZsb2F0X2llZWU3NTQod3JpdGVVaW50LCB2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIHZhciBzaWduID0gdmFsIDwgMCA/IDEgOiAwO1xyXG4gICAgICAgICAgICBpZiAoc2lnbilcclxuICAgICAgICAgICAgICAgIHZhbCA9IC12YWw7XHJcbiAgICAgICAgICAgIGlmICh2YWwgPT09IDApXHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMSAvIHZhbCA+IDAgPyAvKiBwb3NpdGl2ZSAqLyAwIDogLyogbmVnYXRpdmUgMCAqLyAyMTQ3NDgzNjQ4LCBidWYsIHBvcyk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzTmFOKHZhbCkpXHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMjE0MzI4OTM0NCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPiAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KSAvLyArLUluZmluaXR5XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCAyMTM5MDk1MDQwKSA+Pj4gMCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPCAxLjE3NTQ5NDM1MDgyMjI4NzVlLTM4KSAvLyBkZW5vcm1hbFxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgTWF0aC5yb3VuZCh2YWwgLyAxLjQwMTI5ODQ2NDMyNDgxN2UtNDUpKSA+Pj4gMCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBleHBvbmVudCA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsKSAvIE1hdGguTE4yKSxcclxuICAgICAgICAgICAgICAgICAgICBtYW50aXNzYSA9IE1hdGgucm91bmQodmFsICogTWF0aC5wb3coMiwgLWV4cG9uZW50KSAqIDgzODg2MDgpICYgODM4ODYwNztcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgoc2lnbiA8PCAzMSB8IGV4cG9uZW50ICsgMTI3IDw8IDIzIHwgbWFudGlzc2EpID4+PiAwLCBidWYsIHBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMud3JpdGVGbG9hdExFID0gd3JpdGVGbG9hdF9pZWVlNzU0LmJpbmQobnVsbCwgd3JpdGVVaW50TEUpO1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVGbG9hdEJFID0gd3JpdGVGbG9hdF9pZWVlNzU0LmJpbmQobnVsbCwgd3JpdGVVaW50QkUpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfaWVlZTc1NChyZWFkVWludCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgdmFyIHVpbnQgPSByZWFkVWludChidWYsIHBvcyksXHJcbiAgICAgICAgICAgICAgICBzaWduID0gKHVpbnQgPj4gMzEpICogMiArIDEsXHJcbiAgICAgICAgICAgICAgICBleHBvbmVudCA9IHVpbnQgPj4+IDIzICYgMjU1LFxyXG4gICAgICAgICAgICAgICAgbWFudGlzc2EgPSB1aW50ICYgODM4ODYwNztcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9uZW50ID09PSAyNTVcclxuICAgICAgICAgICAgICAgID8gbWFudGlzc2FcclxuICAgICAgICAgICAgICAgID8gTmFOXHJcbiAgICAgICAgICAgICAgICA6IHNpZ24gKiBJbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgOiBleHBvbmVudCA9PT0gMCAvLyBkZW5vcm1hbFxyXG4gICAgICAgICAgICAgICAgPyBzaWduICogMS40MDEyOTg0NjQzMjQ4MTdlLTQ1ICogbWFudGlzc2FcclxuICAgICAgICAgICAgICAgIDogc2lnbiAqIE1hdGgucG93KDIsIGV4cG9uZW50IC0gMTUwKSAqIChtYW50aXNzYSArIDgzODg2MDgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRmxvYXRMRSA9IHJlYWRGbG9hdF9pZWVlNzU0LmJpbmQobnVsbCwgcmVhZFVpbnRMRSk7XHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRmxvYXRCRSA9IHJlYWRGbG9hdF9pZWVlNzU0LmJpbmQobnVsbCwgcmVhZFVpbnRCRSk7XHJcblxyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvLyBkb3VibGU6IHR5cGVkIGFycmF5XHJcbiAgICBpZiAodHlwZW9mIEZsb2F0NjRBcnJheSAhPT0gXCJ1bmRlZmluZWRcIikgKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgZjY0ID0gbmV3IEZsb2F0NjRBcnJheShbLTBdKSxcclxuICAgICAgICAgICAgZjhiID0gbmV3IFVpbnQ4QXJyYXkoZjY0LmJ1ZmZlciksXHJcbiAgICAgICAgICAgIGxlICA9IGY4Yls3XSA9PT0gMTI4O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZURvdWJsZV9mNjRfY3B5KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjY0WzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbMF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4YlsxXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzJdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbM107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA0XSA9IGY4Yls0XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDVdID0gZjhiWzVdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNl0gPSBmOGJbNl07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA3XSA9IGY4Yls3XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlRG91YmxlX2Y2NF9yZXYodmFsLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmNjRbMF0gPSB2YWw7XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgICAgXSA9IGY4Yls3XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDFdID0gZjhiWzZdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMl0gPSBmOGJbNV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAzXSA9IGY4Yls0XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDRdID0gZjhiWzNdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNV0gPSBmOGJbMl07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA2XSA9IGY4YlsxXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDddID0gZjhiWzBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLndyaXRlRG91YmxlTEUgPSBsZSA/IHdyaXRlRG91YmxlX2Y2NF9jcHkgOiB3cml0ZURvdWJsZV9mNjRfcmV2O1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUJFID0gbGUgPyB3cml0ZURvdWJsZV9mNjRfcmV2IDogd3JpdGVEb3VibGVfZjY0X2NweTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZERvdWJsZV9mNjRfY3B5KGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGY4YlswXSA9IGJ1Zltwb3MgICAgXTtcclxuICAgICAgICAgICAgZjhiWzFdID0gYnVmW3BvcyArIDFdO1xyXG4gICAgICAgICAgICBmOGJbMl0gPSBidWZbcG9zICsgMl07XHJcbiAgICAgICAgICAgIGY4YlszXSA9IGJ1Zltwb3MgKyAzXTtcclxuICAgICAgICAgICAgZjhiWzRdID0gYnVmW3BvcyArIDRdO1xyXG4gICAgICAgICAgICBmOGJbNV0gPSBidWZbcG9zICsgNV07XHJcbiAgICAgICAgICAgIGY4Yls2XSA9IGJ1Zltwb3MgKyA2XTtcclxuICAgICAgICAgICAgZjhiWzddID0gYnVmW3BvcyArIDddO1xyXG4gICAgICAgICAgICByZXR1cm4gZjY0WzBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZERvdWJsZV9mNjRfcmV2KGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGY4Yls3XSA9IGJ1Zltwb3MgICAgXTtcclxuICAgICAgICAgICAgZjhiWzZdID0gYnVmW3BvcyArIDFdO1xyXG4gICAgICAgICAgICBmOGJbNV0gPSBidWZbcG9zICsgMl07XHJcbiAgICAgICAgICAgIGY4Yls0XSA9IGJ1Zltwb3MgKyAzXTtcclxuICAgICAgICAgICAgZjhiWzNdID0gYnVmW3BvcyArIDRdO1xyXG4gICAgICAgICAgICBmOGJbMl0gPSBidWZbcG9zICsgNV07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyA2XTtcclxuICAgICAgICAgICAgZjhiWzBdID0gYnVmW3BvcyArIDddO1xyXG4gICAgICAgICAgICByZXR1cm4gZjY0WzBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLnJlYWREb3VibGVMRSA9IGxlID8gcmVhZERvdWJsZV9mNjRfY3B5IDogcmVhZERvdWJsZV9mNjRfcmV2O1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlQkUgPSBsZSA/IHJlYWREb3VibGVfZjY0X3JldiA6IHJlYWREb3VibGVfZjY0X2NweTtcclxuXHJcbiAgICAvLyBkb3VibGU6IGllZWU3NTRcclxuICAgIH0pKCk7IGVsc2UgKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZURvdWJsZV9pZWVlNzU0KHdyaXRlVWludCwgb2ZmMCwgb2ZmMSwgdmFsLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IHZhbCA8IDAgPyAxIDogMDtcclxuICAgICAgICAgICAgaWYgKHNpZ24pXHJcbiAgICAgICAgICAgICAgICB2YWwgPSAtdmFsO1xyXG4gICAgICAgICAgICBpZiAodmFsID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMCwgYnVmLCBwb3MgKyBvZmYwKTtcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgxIC8gdmFsID4gMCA/IC8qIHBvc2l0aXZlICovIDAgOiAvKiBuZWdhdGl2ZSAwICovIDIxNDc0ODM2NDgsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOYU4odmFsKSkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMjE0Njk1OTM2MCwgYnVmLCBwb3MgKyBvZmYxKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWwgPiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCkgeyAvLyArLUluZmluaXR5XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMCwgYnVmLCBwb3MgKyBvZmYwKTtcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgoc2lnbiA8PCAzMSB8IDIxNDY0MzUwNzIpID4+PiAwLCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hbnRpc3NhO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IDIuMjI1MDczODU4NTA3MjAxNGUtMzA4KSB7IC8vIGRlbm9ybWFsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSB2YWwgLyA1ZS0zMjQ7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVVaW50KG1hbnRpc3NhID4+PiAwLCBidWYsIHBvcyArIG9mZjApO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludCgoc2lnbiA8PCAzMSB8IG1hbnRpc3NhIC8gNDI5NDk2NzI5NikgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBleHBvbmVudCA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsKSAvIE1hdGguTE4yKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhwb25lbnQgPT09IDEwMjQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9uZW50ID0gMTAyMztcclxuICAgICAgICAgICAgICAgICAgICBtYW50aXNzYSA9IHZhbCAqIE1hdGgucG93KDIsIC1leHBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVVaW50KG1hbnRpc3NhICogNDUwMzU5OTYyNzM3MDQ5NiA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYwKTtcclxuICAgICAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBleHBvbmVudCArIDEwMjMgPDwgMjAgfCBtYW50aXNzYSAqIDEwNDg1NzYgJiAxMDQ4NTc1KSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUxFID0gd3JpdGVEb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludExFLCAwLCA0KTtcclxuICAgICAgICBleHBvcnRzLndyaXRlRG91YmxlQkUgPSB3cml0ZURvdWJsZV9pZWVlNzU0LmJpbmQobnVsbCwgd3JpdGVVaW50QkUsIDQsIDApO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRG91YmxlX2llZWU3NTQocmVhZFVpbnQsIG9mZjAsIG9mZjEsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIHZhciBsbyA9IHJlYWRVaW50KGJ1ZiwgcG9zICsgb2ZmMCksXHJcbiAgICAgICAgICAgICAgICBoaSA9IHJlYWRVaW50KGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgIHZhciBzaWduID0gKGhpID4+IDMxKSAqIDIgKyAxLFxyXG4gICAgICAgICAgICAgICAgZXhwb25lbnQgPSBoaSA+Pj4gMjAgJiAyMDQ3LFxyXG4gICAgICAgICAgICAgICAgbWFudGlzc2EgPSA0Mjk0OTY3Mjk2ICogKGhpICYgMTA0ODU3NSkgKyBsbztcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9uZW50ID09PSAyMDQ3XHJcbiAgICAgICAgICAgICAgICA/IG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA/IE5hTlxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogSW5maW5pdHlcclxuICAgICAgICAgICAgICAgIDogZXhwb25lbnQgPT09IDAgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgID8gc2lnbiAqIDVlLTMyNCAqIG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA6IHNpZ24gKiBNYXRoLnBvdygyLCBleHBvbmVudCAtIDEwNzUpICogKG1hbnRpc3NhICsgNDUwMzU5OTYyNzM3MDQ5Nik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnRzLnJlYWREb3VibGVMRSA9IHJlYWREb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50TEUsIDAsIDQpO1xyXG4gICAgICAgIGV4cG9ydHMucmVhZERvdWJsZUJFID0gcmVhZERvdWJsZV9pZWVlNzU0LmJpbmQobnVsbCwgcmVhZFVpbnRCRSwgNCwgMCk7XHJcblxyXG4gICAgfSkoKTtcclxuXHJcbiAgICByZXR1cm4gZXhwb3J0cztcclxufVxyXG5cclxuLy8gdWludCBoZWxwZXJzXHJcblxyXG5mdW5jdGlvbiB3cml0ZVVpbnRMRSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICBidWZbcG9zICAgIF0gPSAgdmFsICAgICAgICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAxXSA9ICB2YWwgPj4+IDggICYgMjU1O1xyXG4gICAgYnVmW3BvcyArIDJdID0gIHZhbCA+Pj4gMTYgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgM10gPSAgdmFsID4+PiAyNDtcclxufVxyXG5cclxuZnVuY3Rpb24gd3JpdGVVaW50QkUodmFsLCBidWYsIHBvcykge1xyXG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCA+Pj4gMjQ7XHJcbiAgICBidWZbcG9zICsgMV0gPSAgdmFsID4+PiAxNiAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAyXSA9ICB2YWwgPj4+IDggICYgMjU1O1xyXG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCAgICAgICAgJiAyNTU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYWRVaW50TEUoYnVmLCBwb3MpIHtcclxuICAgIHJldHVybiAoYnVmW3BvcyAgICBdXHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAxXSA8PCA4XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAyXSA8PCAxNlxyXG4gICAgICAgICAgfCBidWZbcG9zICsgM10gPDwgMjQpID4+PiAwO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkVWludEJFKGJ1ZiwgcG9zKSB7XHJcbiAgICByZXR1cm4gKGJ1Zltwb3MgICAgXSA8PCAyNFxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMV0gPDwgMTZcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDJdIDw8IDhcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDNdKSA+Pj4gMDtcclxufVxyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gaW5xdWlyZTtcclxuXHJcbi8qKlxyXG4gKiBSZXF1aXJlcyBhIG1vZHVsZSBvbmx5IGlmIGF2YWlsYWJsZS5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZU5hbWUgTW9kdWxlIHRvIHJlcXVpcmVcclxuICogQHJldHVybnMgez9PYmplY3R9IFJlcXVpcmVkIG1vZHVsZSBpZiBhdmFpbGFibGUgYW5kIG5vdCBlbXB0eSwgb3RoZXJ3aXNlIGBudWxsYFxyXG4gKi9cclxuZnVuY3Rpb24gaW5xdWlyZShtb2R1bGVOYW1lKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBtb2QgPSBldmFsKFwicXVpcmVcIi5yZXBsYWNlKC9eLyxcInJlXCIpKShtb2R1bGVOYW1lKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1ldmFsXHJcbiAgICAgICAgaWYgKG1vZCAmJiAobW9kLmxlbmd0aCB8fCBPYmplY3Qua2V5cyhtb2QpLmxlbmd0aCkpXHJcbiAgICAgICAgICAgIHJldHVybiBtb2Q7XHJcbiAgICB9IGNhdGNoIChlKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuICogQSBtaW5pbWFsIFVURjggaW1wbGVtZW50YXRpb24gZm9yIG51bWJlciBhcnJheXMuXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBuYW1lc3BhY2VcclxuICovXHJcbnZhciB1dGY4ID0gZXhwb3J0cztcclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBVVEY4IGJ5dGUgbGVuZ3RoIG9mIGEgc3RyaW5nLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZ1xyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBCeXRlIGxlbmd0aFxyXG4gKi9cclxudXRmOC5sZW5ndGggPSBmdW5jdGlvbiB1dGY4X2xlbmd0aChzdHJpbmcpIHtcclxuICAgIHZhciBsZW4gPSAwLFxyXG4gICAgICAgIGMgPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpXHJcbiAgICAgICAgICAgIGxlbiArPSAxO1xyXG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KVxyXG4gICAgICAgICAgICBsZW4gKz0gMjtcclxuICAgICAgICBlbHNlIGlmICgoYyAmIDB4RkMwMCkgPT09IDB4RDgwMCAmJiAoc3RyaW5nLmNoYXJDb2RlQXQoaSArIDEpICYgMHhGQzAwKSA9PT0gMHhEQzAwKSB7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgbGVuICs9IDQ7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIGxlbiArPSAzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlbjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZWFkcyBVVEY4IGJ5dGVzIGFzIGEgc3RyaW5nLlxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBTb3VyY2UgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBTb3VyY2Ugc3RhcnRcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBTb3VyY2UgZW5kXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFN0cmluZyByZWFkXHJcbiAqL1xyXG51dGY4LnJlYWQgPSBmdW5jdGlvbiB1dGY4X3JlYWQoYnVmZmVyLCBzdGFydCwgZW5kKSB7XHJcbiAgICB2YXIgbGVuID0gZW5kIC0gc3RhcnQ7XHJcbiAgICBpZiAobGVuIDwgMSlcclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIHZhciBwYXJ0cyA9IG51bGwsXHJcbiAgICAgICAgY2h1bmsgPSBbXSxcclxuICAgICAgICBpID0gMCwgLy8gY2hhciBvZmZzZXRcclxuICAgICAgICB0OyAgICAgLy8gdGVtcG9yYXJ5XHJcbiAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcclxuICAgICAgICB0ID0gYnVmZmVyW3N0YXJ0KytdO1xyXG4gICAgICAgIGlmICh0IDwgMTI4KVxyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gdDtcclxuICAgICAgICBlbHNlIGlmICh0ID4gMTkxICYmIHQgPCAyMjQpXHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSAodCAmIDMxKSA8PCA2IHwgYnVmZmVyW3N0YXJ0KytdICYgNjM7XHJcbiAgICAgICAgZWxzZSBpZiAodCA+IDIzOSAmJiB0IDwgMzY1KSB7XHJcbiAgICAgICAgICAgIHQgPSAoKHQgJiA3KSA8PCAxOCB8IChidWZmZXJbc3RhcnQrK10gJiA2MykgPDwgMTIgfCAoYnVmZmVyW3N0YXJ0KytdICYgNjMpIDw8IDYgfCBidWZmZXJbc3RhcnQrK10gJiA2MykgLSAweDEwMDAwO1xyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gMHhEODAwICsgKHQgPj4gMTApO1xyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gMHhEQzAwICsgKHQgJiAxMDIzKTtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9ICh0ICYgMTUpIDw8IDEyIHwgKGJ1ZmZlcltzdGFydCsrXSAmIDYzKSA8PCA2IHwgYnVmZmVyW3N0YXJ0KytdICYgNjM7XHJcbiAgICAgICAgaWYgKGkgPiA4MTkxKSB7XHJcbiAgICAgICAgICAgIChwYXJ0cyB8fCAocGFydHMgPSBbXSkpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rKSk7XHJcbiAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwYXJ0cykge1xyXG4gICAgICAgIGlmIChpKVxyXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjaHVuay5zbGljZSgwLCBpKSkpO1xyXG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKFwiXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjaHVuay5zbGljZSgwLCBpKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogV3JpdGVzIGEgc3RyaW5nIGFzIFVURjggYnl0ZXMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU291cmNlIHN0cmluZ1xyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBEZXN0aW5hdGlvbiBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBEZXN0aW5hdGlvbiBvZmZzZXRcclxuICogQHJldHVybnMge251bWJlcn0gQnl0ZXMgd3JpdHRlblxyXG4gKi9cclxudXRmOC53cml0ZSA9IGZ1bmN0aW9uIHV0Zjhfd3JpdGUoc3RyaW5nLCBidWZmZXIsIG9mZnNldCkge1xyXG4gICAgdmFyIHN0YXJ0ID0gb2Zmc2V0LFxyXG4gICAgICAgIGMxLCAvLyBjaGFyYWN0ZXIgMVxyXG4gICAgICAgIGMyOyAvLyBjaGFyYWN0ZXIgMlxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBjMSA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjMSA8IDEyOCkge1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzE7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjMSA8IDIwNDgpIHtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDYgICAgICAgfCAxOTI7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSAgICAgICAmIDYzIHwgMTI4O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoKGMxICYgMHhGQzAwKSA9PT0gMHhEODAwICYmICgoYzIgPSBzdHJpbmcuY2hhckNvZGVBdChpICsgMSkpICYgMHhGQzAwKSA9PT0gMHhEQzAwKSB7XHJcbiAgICAgICAgICAgIGMxID0gMHgxMDAwMCArICgoYzEgJiAweDAzRkYpIDw8IDEwKSArIChjMiAmIDB4MDNGRik7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDE4ICAgICAgfCAyNDA7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiAxMiAmIDYzIHwgMTI4O1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gNiAgJiA2MyB8IDEyODtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxICAgICAgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDEyICAgICAgfCAyMjQ7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiA2ICAmIDYzIHwgMTI4O1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgICAgICAgJiA2MyB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2Zmc2V0IC0gc3RhcnQ7XHJcbn07XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxubW9kdWxlLmV4cG9ydHMgPSBwb29sO1xyXG5cclxuLyoqXHJcbiAqIEFuIGFsbG9jYXRvciBhcyB1c2VkIGJ5IHtAbGluayB1dGlsLnBvb2x9LlxyXG4gKiBAdHlwZWRlZiBQb29sQWxsb2NhdG9yXHJcbiAqIEB0eXBlIHtmdW5jdGlvbn1cclxuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgQnVmZmVyIHNpemVcclxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IEJ1ZmZlclxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBBIHNsaWNlciBhcyB1c2VkIGJ5IHtAbGluayB1dGlsLnBvb2x9LlxyXG4gKiBAdHlwZWRlZiBQb29sU2xpY2VyXHJcbiAqIEB0eXBlIHtmdW5jdGlvbn1cclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFN0YXJ0IG9mZnNldFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZCBvZmZzZXRcclxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IEJ1ZmZlciBzbGljZVxyXG4gKiBAdGhpcyB7VWludDhBcnJheX1cclxuICovXHJcblxyXG4vKipcclxuICogQSBnZW5lcmFsIHB1cnBvc2UgYnVmZmVyIHBvb2wuXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge1Bvb2xBbGxvY2F0b3J9IGFsbG9jIEFsbG9jYXRvclxyXG4gKiBAcGFyYW0ge1Bvb2xTbGljZXJ9IHNsaWNlIFNsaWNlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gW3NpemU9ODE5Ml0gU2xhYiBzaXplXHJcbiAqIEByZXR1cm5zIHtQb29sQWxsb2NhdG9yfSBQb29sZWQgYWxsb2NhdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBwb29sKGFsbG9jLCBzbGljZSwgc2l6ZSkge1xyXG4gICAgdmFyIFNJWkUgICA9IHNpemUgfHwgODE5MjtcclxuICAgIHZhciBNQVggICAgPSBTSVpFID4+PiAxO1xyXG4gICAgdmFyIHNsYWIgICA9IG51bGw7XHJcbiAgICB2YXIgb2Zmc2V0ID0gU0laRTtcclxuICAgIHJldHVybiBmdW5jdGlvbiBwb29sX2FsbG9jKHNpemUpIHtcclxuICAgICAgICBpZiAoc2l6ZSA8IDEgfHwgc2l6ZSA+IE1BWClcclxuICAgICAgICAgICAgcmV0dXJuIGFsbG9jKHNpemUpO1xyXG4gICAgICAgIGlmIChvZmZzZXQgKyBzaXplID4gU0laRSkge1xyXG4gICAgICAgICAgICBzbGFiID0gYWxsb2MoU0laRSk7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBidWYgPSBzbGljZS5jYWxsKHNsYWIsIG9mZnNldCwgb2Zmc2V0ICs9IHNpemUpO1xyXG4gICAgICAgIGlmIChvZmZzZXQgJiA3KSAvLyBhbGlnbiB0byAzMiBiaXRcclxuICAgICAgICAgICAgb2Zmc2V0ID0gKG9mZnNldCB8IDcpICsgMTtcclxuICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgfTtcclxufVxyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IExvbmdCaXRzO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuLi91dGlsL21pbmltYWxcIik7XG5cbi8qKlxuICogQ29uc3RydWN0cyBuZXcgbG9uZyBiaXRzLlxuICogQGNsYXNzZGVzYyBIZWxwZXIgY2xhc3MgZm9yIHdvcmtpbmcgd2l0aCB0aGUgbG93IGFuZCBoaWdoIGJpdHMgb2YgYSA2NCBiaXQgdmFsdWUuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0gbG8gTG93IDMyIGJpdHMsIHVuc2lnbmVkXG4gKiBAcGFyYW0ge251bWJlcn0gaGkgSGlnaCAzMiBiaXRzLCB1bnNpZ25lZFxuICovXG5mdW5jdGlvbiBMb25nQml0cyhsbywgaGkpIHtcblxuICAgIC8vIG5vdGUgdGhhdCB0aGUgY2FzdHMgYmVsb3cgYXJlIHRoZW9yZXRpY2FsbHkgdW5uZWNlc3NhcnkgYXMgb2YgdG9kYXksIGJ1dCBvbGRlciBzdGF0aWNhbGx5XG4gICAgLy8gZ2VuZXJhdGVkIGNvbnZlcnRlciBjb2RlIG1pZ2h0IHN0aWxsIGNhbGwgdGhlIGN0b3Igd2l0aCBzaWduZWQgMzJiaXRzLiBrZXB0IGZvciBjb21wYXQuXG5cbiAgICAvKipcbiAgICAgKiBMb3cgYml0cy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubG8gPSBsbyA+Pj4gMDtcblxuICAgIC8qKlxuICAgICAqIEhpZ2ggYml0cy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGkgPSBoaSA+Pj4gMDtcbn1cblxuLyoqXG4gKiBaZXJvIGJpdHMuXG4gKiBAbWVtYmVyb2YgdXRpbC5Mb25nQml0c1xuICogQHR5cGUge3V0aWwuTG9uZ0JpdHN9XG4gKi9cbnZhciB6ZXJvID0gTG9uZ0JpdHMuemVybyA9IG5ldyBMb25nQml0cygwLCAwKTtcblxuemVyby50b051bWJlciA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbnplcm8uenpFbmNvZGUgPSB6ZXJvLnp6RGVjb2RlID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9O1xuemVyby5sZW5ndGggPSBmdW5jdGlvbigpIHsgcmV0dXJuIDE7IH07XG5cbi8qKlxuICogWmVybyBoYXNoLlxuICogQG1lbWJlcm9mIHV0aWwuTG9uZ0JpdHNcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciB6ZXJvSGFzaCA9IExvbmdCaXRzLnplcm9IYXNoID0gXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIjtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIG5ldyBsb25nIGJpdHMgZnJvbSB0aGUgc3BlY2lmaWVkIG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZVxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IEluc3RhbmNlXG4gKi9cbkxvbmdCaXRzLmZyb21OdW1iZXIgPSBmdW5jdGlvbiBmcm9tTnVtYmVyKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICByZXR1cm4gemVybztcbiAgICB2YXIgc2lnbiA9IHZhbHVlIDwgMDtcbiAgICBpZiAoc2lnbilcbiAgICAgICAgdmFsdWUgPSAtdmFsdWU7XG4gICAgdmFyIGxvID0gdmFsdWUgPj4+IDAsXG4gICAgICAgIGhpID0gKHZhbHVlIC0gbG8pIC8gNDI5NDk2NzI5NiA+Pj4gMDtcbiAgICBpZiAoc2lnbikge1xuICAgICAgICBoaSA9IH5oaSA+Pj4gMDtcbiAgICAgICAgbG8gPSB+bG8gPj4+IDA7XG4gICAgICAgIGlmICgrK2xvID4gNDI5NDk2NzI5NSkge1xuICAgICAgICAgICAgbG8gPSAwO1xuICAgICAgICAgICAgaWYgKCsraGkgPiA0Mjk0OTY3Mjk1KVxuICAgICAgICAgICAgICAgIGhpID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IExvbmdCaXRzKGxvLCBoaSk7XG59O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgbmV3IGxvbmcgYml0cyBmcm9tIGEgbnVtYmVyLCBsb25nIG9yIHN0cmluZy5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZVxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IEluc3RhbmNlXG4gKi9cbkxvbmdCaXRzLmZyb20gPSBmdW5jdGlvbiBmcm9tKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgcmV0dXJuIExvbmdCaXRzLmZyb21OdW1iZXIodmFsdWUpO1xuICAgIGlmICh1dGlsLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAodXRpbC5Mb25nKVxuICAgICAgICAgICAgdmFsdWUgPSB1dGlsLkxvbmcuZnJvbVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBMb25nQml0cy5mcm9tTnVtYmVyKHBhcnNlSW50KHZhbHVlLCAxMCkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUubG93IHx8IHZhbHVlLmhpZ2ggPyBuZXcgTG9uZ0JpdHModmFsdWUubG93ID4+PiAwLCB2YWx1ZS5oaWdoID4+PiAwKSA6IHplcm87XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbG9uZyBiaXRzIHRvIGEgcG9zc2libHkgdW5zYWZlIEphdmFTY3JpcHQgbnVtYmVyLlxuICogQHBhcmFtIHtib29sZWFufSBbdW5zaWduZWQ9ZmFsc2VdIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBQb3NzaWJseSB1bnNhZmUgbnVtYmVyXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS50b051bWJlciA9IGZ1bmN0aW9uIHRvTnVtYmVyKHVuc2lnbmVkKSB7XG4gICAgaWYgKCF1bnNpZ25lZCAmJiB0aGlzLmhpID4+PiAzMSkge1xuICAgICAgICB2YXIgbG8gPSB+dGhpcy5sbyArIDEgPj4+IDAsXG4gICAgICAgICAgICBoaSA9IH50aGlzLmhpICAgICA+Pj4gMDtcbiAgICAgICAgaWYgKCFsbylcbiAgICAgICAgICAgIGhpID0gaGkgKyAxID4+PiAwO1xuICAgICAgICByZXR1cm4gLShsbyArIGhpICogNDI5NDk2NzI5Nik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmxvICsgdGhpcy5oaSAqIDQyOTQ5NjcyOTY7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbG9uZyBiaXRzIHRvIGEgbG9uZy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vuc2lnbmVkPWZhbHNlXSBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdFxuICogQHJldHVybnMge0xvbmd9IExvbmdcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnRvTG9uZyA9IGZ1bmN0aW9uIHRvTG9uZyh1bnNpZ25lZCkge1xuICAgIHJldHVybiB1dGlsLkxvbmdcbiAgICAgICAgPyBuZXcgdXRpbC5Mb25nKHRoaXMubG8gfCAwLCB0aGlzLmhpIHwgMCwgQm9vbGVhbih1bnNpZ25lZCkpXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIDogeyBsb3c6IHRoaXMubG8gfCAwLCBoaWdoOiB0aGlzLmhpIHwgMCwgdW5zaWduZWQ6IEJvb2xlYW4odW5zaWduZWQpIH07XG59O1xuXG52YXIgY2hhckNvZGVBdCA9IFN0cmluZy5wcm90b3R5cGUuY2hhckNvZGVBdDtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIG5ldyBsb25nIGJpdHMgZnJvbSB0aGUgc3BlY2lmaWVkIDggY2hhcmFjdGVycyBsb25nIGhhc2guXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaCBIYXNoXG4gKiBAcmV0dXJucyB7dXRpbC5Mb25nQml0c30gQml0c1xuICovXG5Mb25nQml0cy5mcm9tSGFzaCA9IGZ1bmN0aW9uIGZyb21IYXNoKGhhc2gpIHtcbiAgICBpZiAoaGFzaCA9PT0gemVyb0hhc2gpXG4gICAgICAgIHJldHVybiB6ZXJvO1xuICAgIHJldHVybiBuZXcgTG9uZ0JpdHMoXG4gICAgICAgICggY2hhckNvZGVBdC5jYWxsKGhhc2gsIDApXG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDEpIDw8IDhcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgMikgPDwgMTZcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgMykgPDwgMjQpID4+PiAwXG4gICAgLFxuICAgICAgICAoIGNoYXJDb2RlQXQuY2FsbChoYXNoLCA0KVxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCA1KSA8PCA4XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDYpIDw8IDE2XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDcpIDw8IDI0KSA+Pj4gMFxuICAgICk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbG9uZyBiaXRzIHRvIGEgOCBjaGFyYWN0ZXJzIGxvbmcgaGFzaC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEhhc2hcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnRvSGFzaCA9IGZ1bmN0aW9uIHRvSGFzaCgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAgICAgdGhpcy5sbyAgICAgICAgJiAyNTUsXG4gICAgICAgIHRoaXMubG8gPj4+IDggICYgMjU1LFxuICAgICAgICB0aGlzLmxvID4+PiAxNiAmIDI1NSxcbiAgICAgICAgdGhpcy5sbyA+Pj4gMjQgICAgICAsXG4gICAgICAgIHRoaXMuaGkgICAgICAgICYgMjU1LFxuICAgICAgICB0aGlzLmhpID4+PiA4ICAmIDI1NSxcbiAgICAgICAgdGhpcy5oaSA+Pj4gMTYgJiAyNTUsXG4gICAgICAgIHRoaXMuaGkgPj4+IDI0XG4gICAgKTtcbn07XG5cbi8qKlxuICogWmlnLXphZyBlbmNvZGVzIHRoaXMgbG9uZyBiaXRzLlxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IGB0aGlzYFxuICovXG5Mb25nQml0cy5wcm90b3R5cGUuenpFbmNvZGUgPSBmdW5jdGlvbiB6ekVuY29kZSgpIHtcbiAgICB2YXIgbWFzayA9ICAgdGhpcy5oaSA+PiAzMTtcbiAgICB0aGlzLmhpICA9ICgodGhpcy5oaSA8PCAxIHwgdGhpcy5sbyA+Pj4gMzEpIF4gbWFzaykgPj4+IDA7XG4gICAgdGhpcy5sbyAgPSAoIHRoaXMubG8gPDwgMSAgICAgICAgICAgICAgICAgICBeIG1hc2spID4+PiAwO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBaaWctemFnIGRlY29kZXMgdGhpcyBsb25nIGJpdHMuXG4gKiBAcmV0dXJucyB7dXRpbC5Mb25nQml0c30gYHRoaXNgXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS56ekRlY29kZSA9IGZ1bmN0aW9uIHp6RGVjb2RlKCkge1xuICAgIHZhciBtYXNrID0gLSh0aGlzLmxvICYgMSk7XG4gICAgdGhpcy5sbyAgPSAoKHRoaXMubG8gPj4+IDEgfCB0aGlzLmhpIDw8IDMxKSBeIG1hc2spID4+PiAwO1xuICAgIHRoaXMuaGkgID0gKCB0aGlzLmhpID4+PiAxICAgICAgICAgICAgICAgICAgXiBtYXNrKSA+Pj4gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIHRoaXMgbG9uZ2JpdHMgd2hlbiBlbmNvZGVkIGFzIGEgdmFyaW50LlxuICogQHJldHVybnMge251bWJlcn0gTGVuZ3RoXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiBsZW5ndGgoKSB7XG4gICAgdmFyIHBhcnQwID0gIHRoaXMubG8sXG4gICAgICAgIHBhcnQxID0gKHRoaXMubG8gPj4+IDI4IHwgdGhpcy5oaSA8PCA0KSA+Pj4gMCxcbiAgICAgICAgcGFydDIgPSAgdGhpcy5oaSA+Pj4gMjQ7XG4gICAgcmV0dXJuIHBhcnQyID09PSAwXG4gICAgICAgICA/IHBhcnQxID09PSAwXG4gICAgICAgICAgID8gcGFydDAgPCAxNjM4NFxuICAgICAgICAgICAgID8gcGFydDAgPCAxMjggPyAxIDogMlxuICAgICAgICAgICAgIDogcGFydDAgPCAyMDk3MTUyID8gMyA6IDRcbiAgICAgICAgICAgOiBwYXJ0MSA8IDE2Mzg0XG4gICAgICAgICAgICAgPyBwYXJ0MSA8IDEyOCA/IDUgOiA2XG4gICAgICAgICAgICAgOiBwYXJ0MSA8IDIwOTcxNTIgPyA3IDogOFxuICAgICAgICAgOiBwYXJ0MiA8IDEyOCA/IDkgOiAxMDtcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgdXRpbCA9IGV4cG9ydHM7XG5cbi8vIHVzZWQgdG8gcmV0dXJuIGEgUHJvbWlzZSB3aGVyZSBjYWxsYmFjayBpcyBvbWl0dGVkXG51dGlsLmFzUHJvbWlzZSA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9hc3Byb21pc2VcIik7XG5cbi8vIGNvbnZlcnRzIHRvIC8gZnJvbSBiYXNlNjQgZW5jb2RlZCBzdHJpbmdzXG51dGlsLmJhc2U2NCA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9iYXNlNjRcIik7XG5cbi8vIGJhc2UgY2xhc3Mgb2YgcnBjLlNlcnZpY2VcbnV0aWwuRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2V2ZW50ZW1pdHRlclwiKTtcblxuLy8gZmxvYXQgaGFuZGxpbmcgYWNjcm9zcyBicm93c2Vyc1xudXRpbC5mbG9hdCA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9mbG9hdFwiKTtcblxuLy8gcmVxdWlyZXMgbW9kdWxlcyBvcHRpb25hbGx5IGFuZCBoaWRlcyB0aGUgY2FsbCBmcm9tIGJ1bmRsZXJzXG51dGlsLmlucXVpcmUgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvaW5xdWlyZVwiKTtcblxuLy8gY29udmVydHMgdG8gLyBmcm9tIHV0ZjggZW5jb2RlZCBzdHJpbmdzXG51dGlsLnV0ZjggPSByZXF1aXJlKFwiQHByb3RvYnVmanMvdXRmOFwiKTtcblxuLy8gcHJvdmlkZXMgYSBub2RlLWxpa2UgYnVmZmVyIHBvb2wgaW4gdGhlIGJyb3dzZXJcbnV0aWwucG9vbCA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9wb29sXCIpO1xuXG4vLyB1dGlsaXR5IHRvIHdvcmsgd2l0aCB0aGUgbG93IGFuZCBoaWdoIGJpdHMgb2YgYSA2NCBiaXQgdmFsdWVcbnV0aWwuTG9uZ0JpdHMgPSByZXF1aXJlKFwiLi9sb25nYml0c1wiKTtcblxuLyoqXG4gKiBXaGV0aGVyIHJ1bm5pbmcgd2l0aGluIG5vZGUgb3Igbm90LlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG51dGlsLmlzTm9kZSA9IEJvb2xlYW4odHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgICAgICYmIGdsb2JhbFxuICAgICAgICAgICAgICAgICAgICYmIGdsb2JhbC5wcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgJiYgZ2xvYmFsLnByb2Nlc3MudmVyc2lvbnNcbiAgICAgICAgICAgICAgICAgICAmJiBnbG9iYWwucHJvY2Vzcy52ZXJzaW9ucy5ub2RlKTtcblxuLyoqXG4gKiBHbG9iYWwgb2JqZWN0IHJlZmVyZW5jZS5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG51dGlsLmdsb2JhbCA9IHV0aWwuaXNOb2RlICYmIGdsb2JhbFxuICAgICAgICAgICB8fCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvd1xuICAgICAgICAgICB8fCB0eXBlb2Ygc2VsZiAgICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGZcbiAgICAgICAgICAgfHwgdGhpczsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXNcblxuLyoqXG4gKiBBbiBpbW11YWJsZSBlbXB0eSBhcnJheS5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAdHlwZSB7QXJyYXkuPCo+fVxuICogQGNvbnN0XG4gKi9cbnV0aWwuZW1wdHlBcnJheSA9IE9iamVjdC5mcmVlemUgPyBPYmplY3QuZnJlZXplKFtdKSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFtdOyAvLyB1c2VkIG9uIHByb3RvdHlwZXNcblxuLyoqXG4gKiBBbiBpbW11dGFibGUgZW1wdHkgb2JqZWN0LlxuICogQHR5cGUge09iamVjdH1cbiAqIEBjb25zdFxuICovXG51dGlsLmVtcHR5T2JqZWN0ID0gT2JqZWN0LmZyZWV6ZSA/IE9iamVjdC5mcmVlemUoe30pIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8ge307IC8vIHVzZWQgb24gcHJvdG90eXBlc1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYW4gaW50ZWdlci5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhbiBpbnRlZ2VyXG4gKi9cbnV0aWwuaXNJbnRlZ2VyID0gTnVtYmVyLmlzSW50ZWdlciB8fCAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZhbHVlIGlzIGEgc3RyaW5nXG4gKi9cbnV0aWwuaXNTdHJpbmcgPSBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmc7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBub24tbnVsbCBvYmplY3QuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZhbHVlIGlzIGEgbm9uLW51bGwgb2JqZWN0XG4gKi9cbnV0aWwuaXNPYmplY3QgPSBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCI7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIHByb3BlcnR5IG9uIGEgbWVzc2FnZSBpcyBjb25zaWRlcmVkIHRvIGJlIHByZXNlbnQuXG4gKiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayB1dGlsLmlzU2V0fS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBQbGFpbiBvYmplY3Qgb3IgbWVzc2FnZSBpbnN0YW5jZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgbmFtZVxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBjb25zaWRlcmVkIHRvIGJlIHByZXNlbnQsIG90aGVyd2lzZSBgZmFsc2VgXG4gKi9cbnV0aWwuaXNzZXQgPVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHByb3BlcnR5IG9uIGEgbWVzc2FnZSBpcyBjb25zaWRlcmVkIHRvIGJlIHByZXNlbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFBsYWluIG9iamVjdCBvciBtZXNzYWdlIGluc3RhbmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSBuYW1lXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGNvbnNpZGVyZWQgdG8gYmUgcHJlc2VudCwgb3RoZXJ3aXNlIGBmYWxzZWBcbiAqL1xudXRpbC5pc1NldCA9IGZ1bmN0aW9uIGlzU2V0KG9iaiwgcHJvcCkge1xuICAgIHZhciB2YWx1ZSA9IG9ialtwcm9wXTtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiBvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxLCBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggOiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoKSA+IDA7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBBbnkgY29tcGF0aWJsZSBCdWZmZXIgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIGEgbWluaW1hbCBzdGFuZC1hbG9uZSBkZWZpbml0aW9uIG9mIGEgQnVmZmVyIGluc3RhbmNlLiBUaGUgYWN0dWFsIHR5cGUgaXMgdGhhdCBleHBvcnRlZCBieSBub2RlJ3MgdHlwaW5ncy5cbiAqIEBpbnRlcmZhY2UgQnVmZmVyXG4gKiBAZXh0ZW5kcyBVaW50OEFycmF5XG4gKi9cblxuLyoqXG4gKiBOb2RlJ3MgQnVmZmVyIGNsYXNzIGlmIGF2YWlsYWJsZS5cbiAqIEB0eXBlIHtDb25zdHJ1Y3RvcjxCdWZmZXI+fVxuICovXG51dGlsLkJ1ZmZlciA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgQnVmZmVyID0gdXRpbC5pbnF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcjtcbiAgICAgICAgLy8gcmVmdXNlIHRvIHVzZSBub24tbm9kZSBidWZmZXJzIGlmIG5vdCBleHBsaWNpdGx5IGFzc2lnbmVkIChwZXJmIHJlYXNvbnMpOlxuICAgICAgICByZXR1cm4gQnVmZmVyLnByb3RvdHlwZS51dGY4V3JpdGUgPyBCdWZmZXIgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBudWxsO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufSkoKTtcblxuLy8gSW50ZXJuYWwgYWxpYXMgb2Ygb3IgcG9seWZ1bGwgZm9yIEJ1ZmZlci5mcm9tLlxudXRpbC5fQnVmZmVyX2Zyb20gPSBudWxsO1xuXG4vLyBJbnRlcm5hbCBhbGlhcyBvZiBvciBwb2x5ZmlsbCBmb3IgQnVmZmVyLmFsbG9jVW5zYWZlLlxudXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlID0gbnVsbDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGJ1ZmZlciBvZiB3aGF0ZXZlciB0eXBlIHN1cHBvcnRlZCBieSB0aGUgZW52aXJvbm1lbnQuXG4gKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gW3NpemVPckFycmF5PTBdIEJ1ZmZlciBzaXplIG9yIG51bWJlciBhcnJheVxuICogQHJldHVybnMge1VpbnQ4QXJyYXl8QnVmZmVyfSBCdWZmZXJcbiAqL1xudXRpbC5uZXdCdWZmZXIgPSBmdW5jdGlvbiBuZXdCdWZmZXIoc2l6ZU9yQXJyYXkpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiB0eXBlb2Ygc2l6ZU9yQXJyYXkgPT09IFwibnVtYmVyXCJcbiAgICAgICAgPyB1dGlsLkJ1ZmZlclxuICAgICAgICAgICAgPyB1dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmUoc2l6ZU9yQXJyYXkpXG4gICAgICAgICAgICA6IG5ldyB1dGlsLkFycmF5KHNpemVPckFycmF5KVxuICAgICAgICA6IHV0aWwuQnVmZmVyXG4gICAgICAgICAgICA/IHV0aWwuX0J1ZmZlcl9mcm9tKHNpemVPckFycmF5KVxuICAgICAgICAgICAgOiB0eXBlb2YgVWludDhBcnJheSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgID8gc2l6ZU9yQXJyYXlcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KHNpemVPckFycmF5KTtcbn07XG5cbi8qKlxuICogQXJyYXkgaW1wbGVtZW50YXRpb24gdXNlZCBpbiB0aGUgYnJvd3Nlci4gYFVpbnQ4QXJyYXlgIGlmIHN1cHBvcnRlZCwgb3RoZXJ3aXNlIGBBcnJheWAuXG4gKiBAdHlwZSB7Q29uc3RydWN0b3I8VWludDhBcnJheT59XG4gKi9cbnV0aWwuQXJyYXkgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gXCJ1bmRlZmluZWRcIiA/IFVpbnQ4QXJyYXkgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gOiBBcnJheTtcblxuLyoqXG4gKiBBbnkgY29tcGF0aWJsZSBMb25nIGluc3RhbmNlLlxuICogVGhpcyBpcyBhIG1pbmltYWwgc3RhbmQtYWxvbmUgZGVmaW5pdGlvbiBvZiBhIExvbmcgaW5zdGFuY2UuIFRoZSBhY3R1YWwgdHlwZSBpcyB0aGF0IGV4cG9ydGVkIGJ5IGxvbmcuanMuXG4gKiBAaW50ZXJmYWNlIExvbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsb3cgTG93IGJpdHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoaWdoIEhpZ2ggYml0c1xuICogQHByb3BlcnR5IHtib29sZWFufSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdFxuICovXG5cbi8qKlxuICogTG9uZy5qcydzIExvbmcgY2xhc3MgaWYgYXZhaWxhYmxlLlxuICogQHR5cGUge0NvbnN0cnVjdG9yPExvbmc+fVxuICovXG51dGlsLkxvbmcgPSAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB1dGlsLmdsb2JhbC5kY29kZUlPICYmIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHV0aWwuZ2xvYmFsLmRjb2RlSU8uTG9uZ1xuICAgICAgICAgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdXRpbC5nbG9iYWwuTG9uZ1xuICAgICAgICAgfHwgdXRpbC5pbnF1aXJlKFwibG9uZ1wiKTtcblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCB0byB2ZXJpZnkgMiBiaXQgKGBib29sYCkgbWFwIGtleXMuXG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQGNvbnN0XG4gKi9cbnV0aWwua2V5MlJlID0gL150cnVlfGZhbHNlfDB8MSQvO1xuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHZlcmlmeSAzMiBiaXQgKGBpbnQzMmAgZXRjLikgbWFwIGtleXMuXG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQGNvbnN0XG4gKi9cbnV0aWwua2V5MzJSZSA9IC9eLT8oPzowfFsxLTldWzAtOV0qKSQvO1xuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHZlcmlmeSA2NCBiaXQgKGBpbnQ2NGAgZXRjLikgbWFwIGtleXMuXG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQGNvbnN0XG4gKi9cbnV0aWwua2V5NjRSZSA9IC9eKD86W1xcXFx4MDAtXFxcXHhmZl17OH18LT8oPzowfFsxLTldWzAtOV0qKSkkLztcblxuLyoqXG4gKiBDb252ZXJ0cyBhIG51bWJlciBvciBsb25nIHRvIGFuIDggY2hhcmFjdGVycyBsb25nIGhhc2ggc3RyaW5nLlxuICogQHBhcmFtIHtMb25nfG51bWJlcn0gdmFsdWUgVmFsdWUgdG8gY29udmVydFxuICogQHJldHVybnMge3N0cmluZ30gSGFzaFxuICovXG51dGlsLmxvbmdUb0hhc2ggPSBmdW5jdGlvbiBsb25nVG9IYXNoKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gdXRpbC5Mb25nQml0cy5mcm9tKHZhbHVlKS50b0hhc2goKVxuICAgICAgICA6IHV0aWwuTG9uZ0JpdHMuemVyb0hhc2g7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGFuIDggY2hhcmFjdGVycyBsb25nIGhhc2ggc3RyaW5nIHRvIGEgbG9uZyBvciBudW1iZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaCBIYXNoXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bnNpZ25lZD1mYWxzZV0gV2hldGhlciB1bnNpZ25lZCBvciBub3RcbiAqIEByZXR1cm5zIHtMb25nfG51bWJlcn0gT3JpZ2luYWwgdmFsdWVcbiAqL1xudXRpbC5sb25nRnJvbUhhc2ggPSBmdW5jdGlvbiBsb25nRnJvbUhhc2goaGFzaCwgdW5zaWduZWQpIHtcbiAgICB2YXIgYml0cyA9IHV0aWwuTG9uZ0JpdHMuZnJvbUhhc2goaGFzaCk7XG4gICAgaWYgKHV0aWwuTG9uZylcbiAgICAgICAgcmV0dXJuIHV0aWwuTG9uZy5mcm9tQml0cyhiaXRzLmxvLCBiaXRzLmhpLCB1bnNpZ25lZCk7XG4gICAgcmV0dXJuIGJpdHMudG9OdW1iZXIoQm9vbGVhbih1bnNpZ25lZCkpO1xufTtcblxuLyoqXG4gKiBNZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgdGhlIHNvdXJjZSBvYmplY3QgaW50byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IGRzdCBEZXN0aW5hdGlvbiBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IHNyYyBTb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpZk5vdFNldD1mYWxzZV0gTWVyZ2VzIG9ubHkgaWYgdGhlIGtleSBpcyBub3QgYWxyZWFkeSBzZXRcbiAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gRGVzdGluYXRpb24gb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1lcmdlKGRzdCwgc3JjLCBpZk5vdFNldCkgeyAvLyB1c2VkIGJ5IGNvbnZlcnRlcnNcbiAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAoZHN0W2tleXNbaV1dID09PSB1bmRlZmluZWQgfHwgIWlmTm90U2V0KVxuICAgICAgICAgICAgZHN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgIHJldHVybiBkc3Q7XG59XG5cbnV0aWwubWVyZ2UgPSBtZXJnZTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc3RyaW5nIHRvIGxvd2VyIGNhc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIFN0cmluZyB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBDb252ZXJ0ZWQgc3RyaW5nXG4gKi9cbnV0aWwubGNGaXJzdCA9IGZ1bmN0aW9uIGxjRmlyc3Qoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHN0ci5zdWJzdHJpbmcoMSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjdXN0b20gZXJyb3IgY29uc3RydWN0b3IuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXJyb3IgbmFtZVxuICogQHJldHVybnMge0NvbnN0cnVjdG9yPEVycm9yPn0gQ3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIG5ld0Vycm9yKG5hbWUpIHtcblxuICAgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UsIHByb3BlcnRpZXMpIHtcblxuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ3VzdG9tRXJyb3IpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDdXN0b21FcnJvcihtZXNzYWdlLCBwcm9wZXJ0aWVzKTtcblxuICAgICAgICAvLyBFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAvLyBeIGp1c3QgcmV0dXJucyBhIG5ldyBlcnJvciBpbnN0YW5jZSBiZWNhdXNlIHRoZSBjdG9yIGNhbiBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvblxuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1lc3NhZ2VcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbWVzc2FnZTsgfSB9KTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIC8vIG5vZGVcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEN1c3RvbUVycm9yKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhY2tcIiwgeyB2YWx1ZTogbmV3IEVycm9yKCkuc3RhY2sgfHwgXCJcIiB9KTtcblxuICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgIG1lcmdlKHRoaXMsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIEN1c3RvbUVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgICB2YWx1ZTogQ3VzdG9tRXJyb3IsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsgcmV0dXJuIG5hbWU7IH0sXG4gICAgICAgICAgICBzZXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgLy8gY29uZmlndXJhYmxlOiBmYWxzZSB3b3VsZCBhY2N1cmF0ZWx5IHByZXNlcnZlIHRoZSBiZWhhdmlvciBvZlxuICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBidXQgSSdtIGd1ZXNzaW5nIHRoYXQgd2FzIG5vdCBpbnRlbnRpb25hbC5cbiAgICAgICAgICAgIC8vIEZvciBhbiBhY3R1YWwgZXJyb3Igc3ViY2xhc3MsIHRoaXMgcHJvcGVydHkgd291bGRcbiAgICAgICAgICAgIC8vIGJlIGNvbmZpZ3VyYWJsZS5cbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgdG9TdHJpbmc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHsgcmV0dXJuIHRoaXMubmFtZSArIFwiOiBcIiArIHRoaXMubWVzc2FnZTsgfSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gQ3VzdG9tRXJyb3I7XG59XG5cbnV0aWwubmV3RXJyb3IgPSBuZXdFcnJvcjtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IHByb3RvY29sIGVycm9yLlxuICogQGNsYXNzZGVzYyBFcnJvciBzdWJjbGFzcyBpbmRpY2F0aW5nIGEgcHJvdG9jb2wgc3BlY2lmYyBlcnJvci5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAZXh0ZW5kcyBFcnJvclxuICogQHRlbXBsYXRlIFQgZXh0ZW5kcyBNZXNzYWdlPFQ+XG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIEVycm9yIG1lc3NhZ2VcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IFtwcm9wZXJ0aWVzXSBBZGRpdGlvbmFsIHByb3BlcnRpZXNcbiAqIEBleGFtcGxlXG4gKiB0cnkge1xuICogICAgIE15TWVzc2FnZS5kZWNvZGUoc29tZUJ1ZmZlcik7IC8vIHRocm93cyBpZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAqIH0gY2F0Y2ggKGUpIHtcbiAqICAgICBpZiAoZSBpbnN0YW5jZW9mIFByb3RvY29sRXJyb3IgJiYgZS5pbnN0YW5jZSlcbiAqICAgICAgICAgY29uc29sZS5sb2coXCJkZWNvZGVkIHNvIGZhcjogXCIgKyBKU09OLnN0cmluZ2lmeShlLmluc3RhbmNlKSk7XG4gKiB9XG4gKi9cbnV0aWwuUHJvdG9jb2xFcnJvciA9IG5ld0Vycm9yKFwiUHJvdG9jb2xFcnJvclwiKTtcblxuLyoqXG4gKiBTbyBmYXIgZGVjb2RlZCBtZXNzYWdlIGluc3RhbmNlLlxuICogQG5hbWUgdXRpbC5Qcm90b2NvbEVycm9yI2luc3RhbmNlXG4gKiBAdHlwZSB7TWVzc2FnZTxUPn1cbiAqL1xuXG4vKipcbiAqIEEgT25lT2YgZ2V0dGVyIGFzIHJldHVybmVkIGJ5IHtAbGluayB1dGlsLm9uZU9mR2V0dGVyfS5cbiAqIEB0eXBlZGVmIE9uZU9mR2V0dGVyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gU2V0IGZpZWxkIG5hbWUsIGlmIGFueVxuICovXG5cbi8qKlxuICogQnVpbGRzIGEgZ2V0dGVyIGZvciBhIG9uZW9mJ3MgcHJlc2VudCBmaWVsZCBuYW1lLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gZmllbGROYW1lcyBGaWVsZCBuYW1lc1xuICogQHJldHVybnMge09uZU9mR2V0dGVyfSBVbmJvdW5kIGdldHRlclxuICovXG51dGlsLm9uZU9mR2V0dGVyID0gZnVuY3Rpb24gZ2V0T25lT2YoZmllbGROYW1lcykge1xuICAgIHZhciBmaWVsZE1hcCA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGROYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAgZmllbGRNYXBbZmllbGROYW1lc1tpXV0gPSAxO1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFNldCBmaWVsZCBuYW1lLCBpZiBhbnlcbiAgICAgKiBAdGhpcyBPYmplY3RcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKSwgaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+IC0xOyAtLWkpXG4gICAgICAgICAgICBpZiAoZmllbGRNYXBba2V5c1tpXV0gPT09IDEgJiYgdGhpc1trZXlzW2ldXSAhPT0gdW5kZWZpbmVkICYmIHRoaXNba2V5c1tpXV0gIT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXNbaV07XG4gICAgfTtcbn07XG5cbi8qKlxuICogQSBPbmVPZiBzZXR0ZXIgYXMgcmV0dXJuZWQgYnkge0BsaW5rIHV0aWwub25lT2ZTZXR0ZXJ9LlxuICogQHR5cGVkZWYgT25lT2ZTZXR0ZXJcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gdmFsdWUgRmllbGQgbmFtZVxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuXG4vKipcbiAqIEJ1aWxkcyBhIHNldHRlciBmb3IgYSBvbmVvZidzIHByZXNlbnQgZmllbGQgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGZpZWxkTmFtZXMgRmllbGQgbmFtZXNcbiAqIEByZXR1cm5zIHtPbmVPZlNldHRlcn0gVW5ib3VuZCBzZXR0ZXJcbiAqL1xudXRpbC5vbmVPZlNldHRlciA9IGZ1bmN0aW9uIHNldE9uZU9mKGZpZWxkTmFtZXMpIHtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEZpZWxkIG5hbWVcbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqIEB0aGlzIE9iamVjdFxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkTmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBpZiAoZmllbGROYW1lc1tpXSAhPT0gbmFtZSlcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1tmaWVsZE5hbWVzW2ldXTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBEZWZhdWx0IGNvbnZlcnNpb24gb3B0aW9ucyB1c2VkIGZvciB7QGxpbmsgTWVzc2FnZSN0b0pTT059IGltcGxlbWVudGF0aW9ucy5cbiAqXG4gKiBUaGVzZSBvcHRpb25zIGFyZSBjbG9zZSB0byBwcm90bzMncyBKU09OIG1hcHBpbmcgd2l0aCB0aGUgZXhjZXB0aW9uIHRoYXQgaW50ZXJuYWwgdHlwZXMgbGlrZSBBbnkgYXJlIGhhbmRsZWQganVzdCBsaWtlIG1lc3NhZ2VzLiBNb3JlIHByZWNpc2VseTpcbiAqXG4gKiAtIExvbmdzIGJlY29tZSBzdHJpbmdzXG4gKiAtIEVudW1zIGJlY29tZSBzdHJpbmcga2V5c1xuICogLSBCeXRlcyBiZWNvbWUgYmFzZTY0IGVuY29kZWQgc3RyaW5nc1xuICogLSAoU3ViLSlNZXNzYWdlcyBiZWNvbWUgcGxhaW4gb2JqZWN0c1xuICogLSBNYXBzIGJlY29tZSBwbGFpbiBvYmplY3RzIHdpdGggYWxsIHN0cmluZyBrZXlzXG4gKiAtIFJlcGVhdGVkIGZpZWxkcyBiZWNvbWUgYXJyYXlzXG4gKiAtIE5hTiBhbmQgSW5maW5pdHkgZm9yIGZsb2F0IGFuZCBkb3VibGUgZmllbGRzIGJlY29tZSBzdHJpbmdzXG4gKlxuICogQHR5cGUge0lDb252ZXJzaW9uT3B0aW9uc31cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9kb2NzL3Byb3RvMz9obD1lbiNqc29uXG4gKi9cbnV0aWwudG9KU09OT3B0aW9ucyA9IHtcbiAgICBsb25nczogU3RyaW5nLFxuICAgIGVudW1zOiBTdHJpbmcsXG4gICAgYnl0ZXM6IFN0cmluZyxcbiAgICBqc29uOiB0cnVlXG59O1xuXG4vLyBTZXRzIHVwIGJ1ZmZlciB1dGlsaXR5IGFjY29yZGluZyB0byB0aGUgZW52aXJvbm1lbnQgKGNhbGxlZCBpbiBpbmRleC1taW5pbWFsKVxudXRpbC5fY29uZmlndXJlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIEJ1ZmZlciA9IHV0aWwuQnVmZmVyO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghQnVmZmVyKSB7XG4gICAgICAgIHV0aWwuX0J1ZmZlcl9mcm9tID0gdXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBiZWNhdXNlIG5vZGUgNC54IGJ1ZmZlcnMgYXJlIGluY29tcGF0aWJsZSAmIGltbXV0YWJsZVxuICAgIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vcHJvdG9idWYuanMvcHVsbC82NjVcbiAgICB1dGlsLl9CdWZmZXJfZnJvbSA9IEJ1ZmZlci5mcm9tICE9PSBVaW50OEFycmF5LmZyb20gJiYgQnVmZmVyLmZyb20gfHxcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZnVuY3Rpb24gQnVmZmVyX2Zyb20odmFsdWUsIGVuY29kaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmcpO1xuICAgICAgICB9O1xuICAgIHV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZSA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSB8fFxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBmdW5jdGlvbiBCdWZmZXJfYWxsb2NVbnNhZmUoc2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXIoc2l6ZSk7XG4gICAgICAgIH07XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBXcml0ZXI7XG5cbnZhciB1dGlsICAgICAgPSByZXF1aXJlKFwiLi91dGlsL21pbmltYWxcIik7XG5cbnZhciBCdWZmZXJXcml0ZXI7IC8vIGN5Y2xpY1xuXG52YXIgTG9uZ0JpdHMgID0gdXRpbC5Mb25nQml0cyxcbiAgICBiYXNlNjQgICAgPSB1dGlsLmJhc2U2NCxcbiAgICB1dGY4ICAgICAgPSB1dGlsLnV0Zjg7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgb3BlcmF0aW9uIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBTY2hlZHVsZWQgd3JpdGVyIG9wZXJhdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtmdW5jdGlvbigqLCBVaW50OEFycmF5LCBudW1iZXIpfSBmbiBGdW5jdGlvbiB0byBjYWxsXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuIFZhbHVlIGJ5dGUgbGVuZ3RoXG4gKiBAcGFyYW0geyp9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBPcChmbiwgbGVuLCB2YWwpIHtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKFVpbnQ4QXJyYXksIG51bWJlciwgKil9XG4gICAgICovXG4gICAgdGhpcy5mbiA9IGZuO1xuXG4gICAgLyoqXG4gICAgICogVmFsdWUgYnl0ZSBsZW5ndGguXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxlbiA9IGxlbjtcblxuICAgIC8qKlxuICAgICAqIE5leHQgb3BlcmF0aW9uLlxuICAgICAqIEB0eXBlIHtXcml0ZXIuT3B8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFZhbHVlIHRvIHdyaXRlLlxuICAgICAqIEB0eXBlIHsqfVxuICAgICAqL1xuICAgIHRoaXMudmFsID0gdmFsOyAvLyB0eXBlIHZhcmllc1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gbm9vcCgpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IHdyaXRlciBzdGF0ZSBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgQ29waWVkIHdyaXRlciBzdGF0ZS5cbiAqIEBtZW1iZXJvZiBXcml0ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtXcml0ZXJ9IHdyaXRlciBXcml0ZXIgdG8gY29weSBzdGF0ZSBmcm9tXG4gKiBAaWdub3JlXG4gKi9cbmZ1bmN0aW9uIFN0YXRlKHdyaXRlcikge1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBoZWFkLlxuICAgICAqIEB0eXBlIHtXcml0ZXIuT3B9XG4gICAgICovXG4gICAgdGhpcy5oZWFkID0gd3JpdGVyLmhlYWQ7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHRhaWwuXG4gICAgICogQHR5cGUge1dyaXRlci5PcH1cbiAgICAgKi9cbiAgICB0aGlzLnRhaWwgPSB3cml0ZXIudGFpbDtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgYnVmZmVyIGxlbmd0aC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGVuID0gd3JpdGVyLmxlbjtcblxuICAgIC8qKlxuICAgICAqIE5leHQgc3RhdGUuXG4gICAgICogQHR5cGUge1N0YXRlfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gd3JpdGVyLnN0YXRlcztcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IHdyaXRlciBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgV2lyZSBmb3JtYXQgd3JpdGVyIHVzaW5nIGBVaW50OEFycmF5YCBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBgQXJyYXlgLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFdyaXRlcigpIHtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgbGVuZ3RoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSAwO1xuXG4gICAgLyoqXG4gICAgICogT3BlcmF0aW9ucyBoZWFkLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5oZWFkID0gbmV3IE9wKG5vb3AsIDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogT3BlcmF0aW9ucyB0YWlsXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRhaWwgPSB0aGlzLmhlYWQ7XG5cbiAgICAvKipcbiAgICAgKiBMaW5rZWQgZm9ya2VkIHN0YXRlcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fG51bGx9XG4gICAgICovXG4gICAgdGhpcy5zdGF0ZXMgPSBudWxsO1xuXG4gICAgLy8gV2hlbiBhIHZhbHVlIGlzIHdyaXR0ZW4sIHRoZSB3cml0ZXIgY2FsY3VsYXRlcyBpdHMgYnl0ZSBsZW5ndGggYW5kIHB1dHMgaXQgaW50byBhIGxpbmtlZFxuICAgIC8vIGxpc3Qgb2Ygb3BlcmF0aW9ucyB0byBwZXJmb3JtIHdoZW4gZmluaXNoKCkgaXMgY2FsbGVkLiBUaGlzIGJvdGggYWxsb3dzIHVzIHRvIGFsbG9jYXRlXG4gICAgLy8gYnVmZmVycyBvZiB0aGUgZXhhY3QgcmVxdWlyZWQgc2l6ZSBhbmQgcmVkdWNlcyB0aGUgYW1vdW50IG9mIHdvcmsgd2UgaGF2ZSB0byBkbyBjb21wYXJlZFxuICAgIC8vIHRvIGZpcnN0IGNhbGN1bGF0aW5nIG92ZXIgb2JqZWN0cyBhbmQgdGhlbiBlbmNvZGluZyBvdmVyIG9iamVjdHMuIEluIG91ciBjYXNlLCB0aGUgZW5jb2RpbmdcbiAgICAvLyBwYXJ0IGlzIGp1c3QgYSBsaW5rZWQgbGlzdCB3YWxrIGNhbGxpbmcgb3BlcmF0aW9ucyB3aXRoIGFscmVhZHkgcHJlcGFyZWQgdmFsdWVzLlxufVxuXG52YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHJldHVybiB1dGlsLkJ1ZmZlclxuICAgICAgICA/IGZ1bmN0aW9uIGNyZWF0ZV9idWZmZXJfc2V0dXAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKFdyaXRlci5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyV3JpdGVyKCk7XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIDogZnVuY3Rpb24gY3JlYXRlX2FycmF5KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBXcml0ZXIoKTtcbiAgICAgICAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB3cml0ZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtCdWZmZXJXcml0ZXJ8V3JpdGVyfSBBIHtAbGluayBCdWZmZXJXcml0ZXJ9IHdoZW4gQnVmZmVycyBhcmUgc3VwcG9ydGVkLCBvdGhlcndpc2UgYSB7QGxpbmsgV3JpdGVyfVxuICovXG5Xcml0ZXIuY3JlYXRlID0gY3JlYXRlKCk7XG5cbi8qKlxuICogQWxsb2NhdGVzIGEgYnVmZmVyIG9mIHRoZSBzcGVjaWZpZWQgc2l6ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIEJ1ZmZlciBzaXplXG4gKiBAcmV0dXJucyB7VWludDhBcnJheX0gQnVmZmVyXG4gKi9cbldyaXRlci5hbGxvYyA9IGZ1bmN0aW9uIGFsbG9jKHNpemUpIHtcbiAgICByZXR1cm4gbmV3IHV0aWwuQXJyYXkoc2l6ZSk7XG59O1xuXG4vLyBVc2UgVWludDhBcnJheSBidWZmZXIgcG9vbCBpbiB0aGUgYnJvd3NlciwganVzdCBsaWtlIG5vZGUgZG9lcyB3aXRoIGJ1ZmZlcnNcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5pZiAodXRpbC5BcnJheSAhPT0gQXJyYXkpXG4gICAgV3JpdGVyLmFsbG9jID0gdXRpbC5wb29sKFdyaXRlci5hbGxvYywgdXRpbC5BcnJheS5wcm90b3R5cGUuc3ViYXJyYXkpO1xuXG4vKipcbiAqIFB1c2hlcyBhIG5ldyBvcGVyYXRpb24gdG8gdGhlIHF1ZXVlLlxuICogQHBhcmFtIHtmdW5jdGlvbihVaW50OEFycmF5LCBudW1iZXIsICopfSBmbiBGdW5jdGlvbiB0byBjYWxsXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuIFZhbHVlIGJ5dGUgbGVuZ3RoXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqIEBwcml2YXRlXG4gKi9cbldyaXRlci5wcm90b3R5cGUuX3B1c2ggPSBmdW5jdGlvbiBwdXNoKGZuLCBsZW4sIHZhbCkge1xuICAgIHRoaXMudGFpbCA9IHRoaXMudGFpbC5uZXh0ID0gbmV3IE9wKGZuLCBsZW4sIHZhbCk7XG4gICAgdGhpcy5sZW4gKz0gbGVuO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gd3JpdGVCeXRlKHZhbCwgYnVmLCBwb3MpIHtcbiAgICBidWZbcG9zXSA9IHZhbCAmIDI1NTtcbn1cblxuZnVuY3Rpb24gd3JpdGVWYXJpbnQzMih2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgd2hpbGUgKHZhbCA+IDEyNykge1xuICAgICAgICBidWZbcG9zKytdID0gdmFsICYgMTI3IHwgMTI4O1xuICAgICAgICB2YWwgPj4+PSA3O1xuICAgIH1cbiAgICBidWZbcG9zXSA9IHZhbDtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IHZhcmludCB3cml0ZXIgb3BlcmF0aW9uIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBTY2hlZHVsZWQgdmFyaW50IHdyaXRlciBvcGVyYXRpb24uXG4gKiBAZXh0ZW5kcyBPcFxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuIFZhbHVlIGJ5dGUgbGVuZ3RoXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIFZhbHVlIHRvIHdyaXRlXG4gKiBAaWdub3JlXG4gKi9cbmZ1bmN0aW9uIFZhcmludE9wKGxlbiwgdmFsKSB7XG4gICAgdGhpcy5sZW4gPSBsZW47XG4gICAgdGhpcy5uZXh0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudmFsID0gdmFsO1xufVxuXG5WYXJpbnRPcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9wLnByb3RvdHlwZSk7XG5WYXJpbnRPcC5wcm90b3R5cGUuZm4gPSB3cml0ZVZhcmludDMyO1xuXG4vKipcbiAqIFdyaXRlcyBhbiB1bnNpZ25lZCAzMiBiaXQgdmFsdWUgYXMgYSB2YXJpbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLnVpbnQzMiA9IGZ1bmN0aW9uIHdyaXRlX3VpbnQzMih2YWx1ZSkge1xuICAgIC8vIGhlcmUsIHRoZSBjYWxsIHRvIHRoaXMucHVzaCBoYXMgYmVlbiBpbmxpbmVkIGFuZCBhIHZhcmludCBzcGVjaWZpYyBPcCBzdWJjbGFzcyBpcyB1c2VkLlxuICAgIC8vIHVpbnQzMiBpcyBieSBmYXIgdGhlIG1vc3QgZnJlcXVlbnRseSB1c2VkIG9wZXJhdGlvbiBhbmQgYmVuZWZpdHMgc2lnbmlmaWNhbnRseSBmcm9tIHRoaXMuXG4gICAgdGhpcy5sZW4gKz0gKHRoaXMudGFpbCA9IHRoaXMudGFpbC5uZXh0ID0gbmV3IFZhcmludE9wKFxuICAgICAgICAodmFsdWUgPSB2YWx1ZSA+Pj4gMClcbiAgICAgICAgICAgICAgICA8IDEyOCAgICAgICA/IDFcbiAgICAgICAgOiB2YWx1ZSA8IDE2Mzg0ICAgICA/IDJcbiAgICAgICAgOiB2YWx1ZSA8IDIwOTcxNTIgICA/IDNcbiAgICAgICAgOiB2YWx1ZSA8IDI2ODQzNTQ1NiA/IDRcbiAgICAgICAgOiAgICAgICAgICAgICAgICAgICAgIDUsXG4gICAgdmFsdWUpKS5sZW47XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNpZ25lZCAzMiBiaXQgdmFsdWUgYXMgYSB2YXJpbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuaW50MzIgPSBmdW5jdGlvbiB3cml0ZV9pbnQzMih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA8IDBcbiAgICAgICAgPyB0aGlzLl9wdXNoKHdyaXRlVmFyaW50NjQsIDEwLCBMb25nQml0cy5mcm9tTnVtYmVyKHZhbHVlKSkgLy8gMTAgYnl0ZXMgcGVyIHNwZWNcbiAgICAgICAgOiB0aGlzLnVpbnQzMih2YWx1ZSk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIDMyIGJpdCB2YWx1ZSBhcyBhIHZhcmludCwgemlnLXphZyBlbmNvZGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5zaW50MzIgPSBmdW5jdGlvbiB3cml0ZV9zaW50MzIodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy51aW50MzIoKHZhbHVlIDw8IDEgXiB2YWx1ZSA+PiAzMSkgPj4+IDApO1xufTtcblxuZnVuY3Rpb24gd3JpdGVWYXJpbnQ2NCh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgd2hpbGUgKHZhbC5oaSkge1xuICAgICAgICBidWZbcG9zKytdID0gdmFsLmxvICYgMTI3IHwgMTI4O1xuICAgICAgICB2YWwubG8gPSAodmFsLmxvID4+PiA3IHwgdmFsLmhpIDw8IDI1KSA+Pj4gMDtcbiAgICAgICAgdmFsLmhpID4+Pj0gNztcbiAgICB9XG4gICAgd2hpbGUgKHZhbC5sbyA+IDEyNykge1xuICAgICAgICBidWZbcG9zKytdID0gdmFsLmxvICYgMTI3IHwgMTI4O1xuICAgICAgICB2YWwubG8gPSB2YWwubG8gPj4+IDc7XG4gICAgfVxuICAgIGJ1Zltwb3MrK10gPSB2YWwubG87XG59XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGB2YWx1ZWAgaXMgYSBzdHJpbmcgYW5kIG5vIGxvbmcgbGlicmFyeSBpcyBwcmVzZW50LlxuICovXG5Xcml0ZXIucHJvdG90eXBlLnVpbnQ2NCA9IGZ1bmN0aW9uIHdyaXRlX3VpbnQ2NCh2YWx1ZSkge1xuICAgIHZhciBiaXRzID0gTG9uZ0JpdHMuZnJvbSh2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2god3JpdGVWYXJpbnQ2NCwgYml0cy5sZW5ndGgoKSwgYml0cyk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGB2YWx1ZWAgaXMgYSBzdHJpbmcgYW5kIG5vIGxvbmcgbGlicmFyeSBpcyBwcmVzZW50LlxuICovXG5Xcml0ZXIucHJvdG90eXBlLmludDY0ID0gV3JpdGVyLnByb3RvdHlwZS51aW50NjQ7XG5cbi8qKlxuICogV3JpdGVzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBhIHZhcmludCwgemlnLXphZyBlbmNvZGVkLlxuICogQHBhcmFtIHtMb25nfG51bWJlcnxzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYHZhbHVlYCBpcyBhIHN0cmluZyBhbmQgbm8gbG9uZyBsaWJyYXJ5IGlzIHByZXNlbnQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ludDY0ID0gZnVuY3Rpb24gd3JpdGVfc2ludDY0KHZhbHVlKSB7XG4gICAgdmFyIGJpdHMgPSBMb25nQml0cy5mcm9tKHZhbHVlKS56ekVuY29kZSgpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlVmFyaW50NjQsIGJpdHMubGVuZ3RoKCksIGJpdHMpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBib29saXNoIHZhbHVlIGFzIGEgdmFyaW50LlxuICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuYm9vbCA9IGZ1bmN0aW9uIHdyaXRlX2Jvb2wodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh3cml0ZUJ5dGUsIDEsIHZhbHVlID8gMSA6IDApO1xufTtcblxuZnVuY3Rpb24gd3JpdGVGaXhlZDMyKHZhbCwgYnVmLCBwb3MpIHtcbiAgICBidWZbcG9zICAgIF0gPSAgdmFsICAgICAgICAgJiAyNTU7XG4gICAgYnVmW3BvcyArIDFdID0gIHZhbCA+Pj4gOCAgICYgMjU1O1xuICAgIGJ1Zltwb3MgKyAyXSA9ICB2YWwgPj4+IDE2ICAmIDI1NTtcbiAgICBidWZbcG9zICsgM10gPSAgdmFsID4+PiAyNDtcbn1cblxuLyoqXG4gKiBXcml0ZXMgYW4gdW5zaWduZWQgMzIgYml0IHZhbHVlIGFzIGZpeGVkIDMyIGJpdHMuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmZpeGVkMzIgPSBmdW5jdGlvbiB3cml0ZV9maXhlZDMyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2god3JpdGVGaXhlZDMyLCA0LCB2YWx1ZSA+Pj4gMCk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNpZ25lZCAzMiBiaXQgdmFsdWUgYXMgZml4ZWQgMzIgYml0cy5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5zZml4ZWQzMiA9IFdyaXRlci5wcm90b3R5cGUuZml4ZWQzMjtcblxuLyoqXG4gKiBXcml0ZXMgYW4gdW5zaWduZWQgNjQgYml0IHZhbHVlIGFzIGZpeGVkIDY0IGJpdHMuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maXhlZDY0ID0gZnVuY3Rpb24gd3JpdGVfZml4ZWQ2NCh2YWx1ZSkge1xuICAgIHZhciBiaXRzID0gTG9uZ0JpdHMuZnJvbSh2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2god3JpdGVGaXhlZDMyLCA0LCBiaXRzLmxvKS5fcHVzaCh3cml0ZUZpeGVkMzIsIDQsIGJpdHMuaGkpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgNjQgYml0IHZhbHVlIGFzIGZpeGVkIDY0IGJpdHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGB2YWx1ZWAgaXMgYSBzdHJpbmcgYW5kIG5vIGxvbmcgbGlicmFyeSBpcyBwcmVzZW50LlxuICovXG5Xcml0ZXIucHJvdG90eXBlLnNmaXhlZDY0ID0gV3JpdGVyLnByb3RvdHlwZS5maXhlZDY0O1xuXG4vKipcbiAqIFdyaXRlcyBhIGZsb2F0ICgzMiBiaXQpLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmZsb2F0ID0gZnVuY3Rpb24gd3JpdGVfZmxvYXQodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh1dGlsLmZsb2F0LndyaXRlRmxvYXRMRSwgNCwgdmFsdWUpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBkb3VibGUgKDY0IGJpdCBmbG9hdCkuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZG91YmxlID0gZnVuY3Rpb24gd3JpdGVfZG91YmxlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2godXRpbC5mbG9hdC53cml0ZURvdWJsZUxFLCA4LCB2YWx1ZSk7XG59O1xuXG52YXIgd3JpdGVCeXRlcyA9IHV0aWwuQXJyYXkucHJvdG90eXBlLnNldFxuICAgID8gZnVuY3Rpb24gd3JpdGVCeXRlc19zZXQodmFsLCBidWYsIHBvcykge1xuICAgICAgICBidWYuc2V0KHZhbCwgcG9zKTsgLy8gYWxzbyB3b3JrcyBmb3IgcGxhaW4gYXJyYXkgdmFsdWVzXG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgOiBmdW5jdGlvbiB3cml0ZUJ5dGVzX2Zvcih2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgYnVmW3BvcyArIGldID0gdmFsW2ldO1xuICAgIH07XG5cbi8qKlxuICogV3JpdGVzIGEgc2VxdWVuY2Ugb2YgYnl0ZXMuXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl8c3RyaW5nfSB2YWx1ZSBCdWZmZXIgb3IgYmFzZTY0IGVuY29kZWQgc3RyaW5nIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5ieXRlcyA9IGZ1bmN0aW9uIHdyaXRlX2J5dGVzKHZhbHVlKSB7XG4gICAgdmFyIGxlbiA9IHZhbHVlLmxlbmd0aCA+Pj4gMDtcbiAgICBpZiAoIWxlbilcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCAwKTtcbiAgICBpZiAodXRpbC5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IFdyaXRlci5hbGxvYyhsZW4gPSBiYXNlNjQubGVuZ3RoKHZhbHVlKSk7XG4gICAgICAgIGJhc2U2NC5kZWNvZGUodmFsdWUsIGJ1ZiwgMCk7XG4gICAgICAgIHZhbHVlID0gYnVmO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy51aW50MzIobGVuKS5fcHVzaCh3cml0ZUJ5dGVzLCBsZW4sIHZhbHVlKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5zdHJpbmcgPSBmdW5jdGlvbiB3cml0ZV9zdHJpbmcodmFsdWUpIHtcbiAgICB2YXIgbGVuID0gdXRmOC5sZW5ndGgodmFsdWUpO1xuICAgIHJldHVybiBsZW5cbiAgICAgICAgPyB0aGlzLnVpbnQzMihsZW4pLl9wdXNoKHV0Zjgud3JpdGUsIGxlbiwgdmFsdWUpXG4gICAgICAgIDogdGhpcy5fcHVzaCh3cml0ZUJ5dGUsIDEsIDApO1xufTtcblxuLyoqXG4gKiBGb3JrcyB0aGlzIHdyaXRlcidzIHN0YXRlIGJ5IHB1c2hpbmcgaXQgdG8gYSBzdGFjay5cbiAqIENhbGxpbmcge0BsaW5rIFdyaXRlciNyZXNldHxyZXNldH0gb3Ige0BsaW5rIFdyaXRlciNsZGVsaW18bGRlbGltfSByZXNldHMgdGhlIHdyaXRlciB0byB0aGUgcHJldmlvdXMgc3RhdGUuXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5mb3JrID0gZnVuY3Rpb24gZm9yaygpIHtcbiAgICB0aGlzLnN0YXRlcyA9IG5ldyBTdGF0ZSh0aGlzKTtcbiAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBuZXcgT3Aobm9vcCwgMCwgMCk7XG4gICAgdGhpcy5sZW4gPSAwO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdGhpcyBpbnN0YW5jZSB0byB0aGUgbGFzdCBzdGF0ZS5cbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGVzKSB7XG4gICAgICAgIHRoaXMuaGVhZCAgID0gdGhpcy5zdGF0ZXMuaGVhZDtcbiAgICAgICAgdGhpcy50YWlsICAgPSB0aGlzLnN0YXRlcy50YWlsO1xuICAgICAgICB0aGlzLmxlbiAgICA9IHRoaXMuc3RhdGVzLmxlbjtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSB0aGlzLnN0YXRlcy5uZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG5ldyBPcChub29wLCAwLCAwKTtcbiAgICAgICAgdGhpcy5sZW4gID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlc2V0cyB0byB0aGUgbGFzdCBzdGF0ZSBhbmQgYXBwZW5kcyB0aGUgZm9yayBzdGF0ZSdzIGN1cnJlbnQgd3JpdGUgbGVuZ3RoIGFzIGEgdmFyaW50IGZvbGxvd2VkIGJ5IGl0cyBvcGVyYXRpb25zLlxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUubGRlbGltID0gZnVuY3Rpb24gbGRlbGltKCkge1xuICAgIHZhciBoZWFkID0gdGhpcy5oZWFkLFxuICAgICAgICB0YWlsID0gdGhpcy50YWlsLFxuICAgICAgICBsZW4gID0gdGhpcy5sZW47XG4gICAgdGhpcy5yZXNldCgpLnVpbnQzMihsZW4pO1xuICAgIGlmIChsZW4pIHtcbiAgICAgICAgdGhpcy50YWlsLm5leHQgPSBoZWFkLm5leHQ7IC8vIHNraXAgbm9vcFxuICAgICAgICB0aGlzLnRhaWwgPSB0YWlsO1xuICAgICAgICB0aGlzLmxlbiArPSBsZW47XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBGaW5pc2hlcyB0aGUgd3JpdGUgb3BlcmF0aW9uLlxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IEZpbmlzaGVkIGJ1ZmZlclxuICovXG5Xcml0ZXIucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICB2YXIgaGVhZCA9IHRoaXMuaGVhZC5uZXh0LCAvLyBza2lwIG5vb3BcbiAgICAgICAgYnVmICA9IHRoaXMuY29uc3RydWN0b3IuYWxsb2ModGhpcy5sZW4pLFxuICAgICAgICBwb3MgID0gMDtcbiAgICB3aGlsZSAoaGVhZCkge1xuICAgICAgICBoZWFkLmZuKGhlYWQudmFsLCBidWYsIHBvcyk7XG4gICAgICAgIHBvcyArPSBoZWFkLmxlbjtcbiAgICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICB9XG4gICAgLy8gdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtcbiAgICByZXR1cm4gYnVmO1xufTtcblxuV3JpdGVyLl9jb25maWd1cmUgPSBmdW5jdGlvbihCdWZmZXJXcml0ZXJfKSB7XG4gICAgQnVmZmVyV3JpdGVyID0gQnVmZmVyV3JpdGVyXztcbiAgICBXcml0ZXIuY3JlYXRlID0gY3JlYXRlKCk7XG4gICAgQnVmZmVyV3JpdGVyLl9jb25maWd1cmUoKTtcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IEJ1ZmZlcldyaXRlcjtcblxuLy8gZXh0ZW5kcyBXcml0ZXJcbnZhciBXcml0ZXIgPSByZXF1aXJlKFwiLi93cml0ZXJcIik7XG4oQnVmZmVyV3JpdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV3JpdGVyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gQnVmZmVyV3JpdGVyO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IGJ1ZmZlciB3cml0ZXIgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHdyaXRlciB1c2luZyBub2RlIGJ1ZmZlcnMuXG4gKiBAZXh0ZW5kcyBXcml0ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBCdWZmZXJXcml0ZXIoKSB7XG4gICAgV3JpdGVyLmNhbGwodGhpcyk7XG59XG5cbkJ1ZmZlcldyaXRlci5fY29uZmlndXJlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEFsbG9jYXRlcyBhIGJ1ZmZlciBvZiB0aGUgc3BlY2lmaWVkIHNpemUuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgQnVmZmVyIHNpemVcbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBCdWZmZXJcbiAgICAgKi9cbiAgICBCdWZmZXJXcml0ZXIuYWxsb2MgPSB1dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmU7XG5cbiAgICBCdWZmZXJXcml0ZXIud3JpdGVCeXRlc0J1ZmZlciA9IHV0aWwuQnVmZmVyICYmIHV0aWwuQnVmZmVyLnByb3RvdHlwZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgJiYgdXRpbC5CdWZmZXIucHJvdG90eXBlLnNldC5uYW1lID09PSBcInNldFwiXG4gICAgICAgID8gZnVuY3Rpb24gd3JpdGVCeXRlc0J1ZmZlcl9zZXQodmFsLCBidWYsIHBvcykge1xuICAgICAgICAgIGJ1Zi5zZXQodmFsLCBwb3MpOyAvLyBmYXN0ZXIgdGhhbiBjb3B5IChyZXF1aXJlcyBub2RlID49IDQgd2hlcmUgQnVmZmVycyBleHRlbmQgVWludDhBcnJheSBhbmQgc2V0IGlzIHByb3Blcmx5IGluaGVyaXRlZClcbiAgICAgICAgICAvLyBhbHNvIHdvcmtzIGZvciBwbGFpbiBhcnJheSB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGZ1bmN0aW9uIHdyaXRlQnl0ZXNCdWZmZXJfY29weSh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgICAgICAgaWYgKHZhbC5jb3B5KSAvLyBCdWZmZXIgdmFsdWVzXG4gICAgICAgICAgICB2YWwuY29weShidWYsIHBvcywgMCwgdmFsLmxlbmd0aCk7XG4gICAgICAgICAgZWxzZSBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7KSAvLyBwbGFpbiBhcnJheSB2YWx1ZXNcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSB2YWxbaSsrXTtcbiAgICAgICAgfTtcbn07XG5cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuQnVmZmVyV3JpdGVyLnByb3RvdHlwZS5ieXRlcyA9IGZ1bmN0aW9uIHdyaXRlX2J5dGVzX2J1ZmZlcih2YWx1ZSkge1xuICAgIGlmICh1dGlsLmlzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgdmFsdWUgPSB1dGlsLl9CdWZmZXJfZnJvbSh2YWx1ZSwgXCJiYXNlNjRcIik7XG4gICAgdmFyIGxlbiA9IHZhbHVlLmxlbmd0aCA+Pj4gMDtcbiAgICB0aGlzLnVpbnQzMihsZW4pO1xuICAgIGlmIChsZW4pXG4gICAgICAgIHRoaXMuX3B1c2goQnVmZmVyV3JpdGVyLndyaXRlQnl0ZXNCdWZmZXIsIGxlbiwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gd3JpdGVTdHJpbmdCdWZmZXIodmFsLCBidWYsIHBvcykge1xuICAgIGlmICh2YWwubGVuZ3RoIDwgNDApIC8vIHBsYWluIGpzIGlzIGZhc3RlciBmb3Igc2hvcnQgc3RyaW5ncyAocHJvYmFibHkgZHVlIHRvIHJlZHVuZGFudCBhc3NlcnRpb25zKVxuICAgICAgICB1dGlsLnV0Zjgud3JpdGUodmFsLCBidWYsIHBvcyk7XG4gICAgZWxzZSBpZiAoYnVmLnV0ZjhXcml0ZSlcbiAgICAgICAgYnVmLnV0ZjhXcml0ZSh2YWwsIHBvcyk7XG4gICAgZWxzZVxuICAgICAgICBidWYud3JpdGUodmFsLCBwb3MpO1xufVxuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5CdWZmZXJXcml0ZXIucHJvdG90eXBlLnN0cmluZyA9IGZ1bmN0aW9uIHdyaXRlX3N0cmluZ19idWZmZXIodmFsdWUpIHtcbiAgICB2YXIgbGVuID0gdXRpbC5CdWZmZXIuYnl0ZUxlbmd0aCh2YWx1ZSk7XG4gICAgdGhpcy51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKVxuICAgICAgICB0aGlzLl9wdXNoKHdyaXRlU3RyaW5nQnVmZmVyLCBsZW4sIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cblxuLyoqXG4gKiBGaW5pc2hlcyB0aGUgd3JpdGUgb3BlcmF0aW9uLlxuICogQG5hbWUgQnVmZmVyV3JpdGVyI2ZpbmlzaFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBGaW5pc2hlZCBidWZmZXJcbiAqL1xuXG5CdWZmZXJXcml0ZXIuX2NvbmZpZ3VyZSgpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBSZWFkZXI7XG5cbnZhciB1dGlsICAgICAgPSByZXF1aXJlKFwiLi91dGlsL21pbmltYWxcIik7XG5cbnZhciBCdWZmZXJSZWFkZXI7IC8vIGN5Y2xpY1xuXG52YXIgTG9uZ0JpdHMgID0gdXRpbC5Mb25nQml0cyxcbiAgICB1dGY4ICAgICAgPSB1dGlsLnV0Zjg7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBpbmRleE91dE9mUmFuZ2UocmVhZGVyLCB3cml0ZUxlbmd0aCkge1xuICAgIHJldHVybiBSYW5nZUVycm9yKFwiaW5kZXggb3V0IG9mIHJhbmdlOiBcIiArIHJlYWRlci5wb3MgKyBcIiArIFwiICsgKHdyaXRlTGVuZ3RoIHx8IDEpICsgXCIgPiBcIiArIHJlYWRlci5sZW4pO1xufVxuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgcmVhZGVyIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgYnVmZmVyLlxuICogQGNsYXNzZGVzYyBXaXJlIGZvcm1hdCByZWFkZXIgdXNpbmcgYFVpbnQ4QXJyYXlgIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGBBcnJheWAuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIEJ1ZmZlciB0byByZWFkIGZyb21cbiAqL1xuZnVuY3Rpb24gUmVhZGVyKGJ1ZmZlcikge1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBidWZmZXIuXG4gICAgICogQHR5cGUge1VpbnQ4QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5idWYgPSBidWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlciBwb3NpdGlvbi5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucG9zID0gMDtcblxuICAgIC8qKlxuICAgICAqIFJlYWQgYnVmZmVyIGxlbmd0aC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGVuID0gYnVmZmVyLmxlbmd0aDtcbn1cblxudmFyIGNyZWF0ZV9hcnJheSA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSBcInVuZGVmaW5lZFwiXG4gICAgPyBmdW5jdGlvbiBjcmVhdGVfdHlwZWRfYXJyYXkoYnVmZmVyKSB7XG4gICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8IEFycmF5LmlzQXJyYXkoYnVmZmVyKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVhZGVyKGJ1ZmZlcik7XG4gICAgICAgIHRocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIik7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgOiBmdW5jdGlvbiBjcmVhdGVfYXJyYXkoYnVmZmVyKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJ1ZmZlcikpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlYWRlcihidWZmZXIpO1xuICAgICAgICB0aHJvdyBFcnJvcihcImlsbGVnYWwgYnVmZmVyXCIpO1xuICAgIH07XG5cbnZhciBjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIHV0aWwuQnVmZmVyXG4gICAgICAgID8gZnVuY3Rpb24gY3JlYXRlX2J1ZmZlcl9zZXR1cChidWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoUmVhZGVyLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZV9idWZmZXIoYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWwuQnVmZmVyLmlzQnVmZmVyKGJ1ZmZlcilcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgQnVmZmVyUmVhZGVyKGJ1ZmZlcilcbiAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAgICAgOiBjcmVhdGVfYXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIH0pKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgOiBjcmVhdGVfYXJyYXk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcmVhZGVyIHVzaW5nIHRoZSBzcGVjaWZpZWQgYnVmZmVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl8QnVmZmVyfSBidWZmZXIgQnVmZmVyIHRvIHJlYWQgZnJvbVxuICogQHJldHVybnMge1JlYWRlcnxCdWZmZXJSZWFkZXJ9IEEge0BsaW5rIEJ1ZmZlclJlYWRlcn0gaWYgYGJ1ZmZlcmAgaXMgYSBCdWZmZXIsIG90aGVyd2lzZSBhIHtAbGluayBSZWFkZXJ9XG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgYGJ1ZmZlcmAgaXMgbm90IGEgdmFsaWQgYnVmZmVyXG4gKi9cblJlYWRlci5jcmVhdGUgPSBjcmVhdGUoKTtcblxuUmVhZGVyLnByb3RvdHlwZS5fc2xpY2UgPSB1dGlsLkFycmF5LnByb3RvdHlwZS5zdWJhcnJheSB8fCAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB1dGlsLkFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuLyoqXG4gKiBSZWFkcyBhIHZhcmludCBhcyBhbiB1bnNpZ25lZCAzMiBiaXQgdmFsdWUuXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS51aW50MzIgPSAoZnVuY3Rpb24gcmVhZF91aW50MzJfc2V0dXAoKSB7XG4gICAgdmFyIHZhbHVlID0gNDI5NDk2NzI5NTsgLy8gb3B0aW1pemVyIHR5cGUtaGludCwgdGVuZHMgdG8gZGVvcHQgb3RoZXJ3aXNlICg/ISlcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVhZF91aW50MzIoKSB7XG4gICAgICAgIHZhbHVlID0gKCAgICAgICAgIHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNyAgICAgICApID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCAgNykgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IDE0KSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgMjEpID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgIDE1KSA8PCAyOCkgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoKHRoaXMucG9zICs9IDUpID4gdGhpcy5sZW4pIHtcbiAgICAgICAgICAgIHRoaXMucG9zID0gdGhpcy5sZW47XG4gICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgMTApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufSkoKTtcblxuLyoqXG4gKiBSZWFkcyBhIHZhcmludCBhcyBhIHNpZ25lZCAzMiBiaXQgdmFsdWUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuaW50MzIgPSBmdW5jdGlvbiByZWFkX2ludDMyKCkge1xuICAgIHJldHVybiB0aGlzLnVpbnQzMigpIHwgMDtcbn07XG5cbi8qKlxuICogUmVhZHMgYSB6aWctemFnIGVuY29kZWQgdmFyaW50IGFzIGEgc2lnbmVkIDMyIGJpdCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5zaW50MzIgPSBmdW5jdGlvbiByZWFkX3NpbnQzMigpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnVpbnQzMigpO1xuICAgIHJldHVybiB2YWx1ZSA+Pj4gMSBeIC0odmFsdWUgJiAxKSB8IDA7XG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1pbnZhbGlkLXRoaXMgKi9cblxuZnVuY3Rpb24gcmVhZExvbmdWYXJpbnQoKSB7XG4gICAgLy8gdGVuZHMgdG8gZGVvcHQgd2l0aCBsb2NhbCB2YXJzIGZvciBvY3RldCBldGMuXG4gICAgdmFyIGJpdHMgPSBuZXcgTG9uZ0JpdHMoMCwgMCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIGlmICh0aGlzLmxlbiAtIHRoaXMucG9zID4gNCkgeyAvLyBmYXN0IHJvdXRlIChsbylcbiAgICAgICAgZm9yICg7IGkgPCA0OyArK2kpIHtcbiAgICAgICAgICAgIC8vIDFzdC4uNHRoXG4gICAgICAgICAgICBiaXRzLmxvID0gKGJpdHMubG8gfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCBpICogNykgPj4+IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNXRoXG4gICAgICAgIGJpdHMubG8gPSAoYml0cy5sbyB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IDI4KSA+Pj4gMDtcbiAgICAgICAgYml0cy5oaSA9IChiaXRzLmhpIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPj4gIDQpID4+PiAwO1xuICAgICAgICBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpXG4gICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgaSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICg7IGkgPCAzOyArK2kpIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zID49IHRoaXMubGVuKVxuICAgICAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzKTtcbiAgICAgICAgICAgIC8vIDFzdC4uM3RoXG4gICAgICAgICAgICBiaXRzLmxvID0gKGJpdHMubG8gfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCBpICogNykgPj4+IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNHRoXG4gICAgICAgIGJpdHMubG8gPSAoYml0cy5sbyB8ICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSAmIDEyNykgPDwgaSAqIDcpID4+PiAwO1xuICAgICAgICByZXR1cm4gYml0cztcbiAgICB9XG4gICAgaWYgKHRoaXMubGVuIC0gdGhpcy5wb3MgPiA0KSB7IC8vIGZhc3Qgcm91dGUgKGhpKVxuICAgICAgICBmb3IgKDsgaSA8IDU7ICsraSkge1xuICAgICAgICAgICAgLy8gNnRoLi4xMHRoXG4gICAgICAgICAgICBiaXRzLmhpID0gKGJpdHMuaGkgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCBpICogNyArIDMpID4+PiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICg7IGkgPCA1OyArK2kpIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zID49IHRoaXMubGVuKVxuICAgICAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzKTtcbiAgICAgICAgICAgIC8vIDZ0aC4uMTB0aFxuICAgICAgICAgICAgYml0cy5oaSA9IChiaXRzLmhpIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgaSAqIDcgKyAzKSA+Pj4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHRocm93IEVycm9yKFwiaW52YWxpZCB2YXJpbnQgZW5jb2RpbmdcIik7XG59XG5cbi8qIGVzbGludC1lbmFibGUgbm8taW52YWxpZC10aGlzICovXG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYSBzaWduZWQgNjQgYml0IHZhbHVlLlxuICogQG5hbWUgUmVhZGVyI2ludDY0XG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtMb25nfSBWYWx1ZSByZWFkXG4gKi9cblxuLyoqXG4gKiBSZWFkcyBhIHZhcmludCBhcyBhbiB1bnNpZ25lZCA2NCBiaXQgdmFsdWUuXG4gKiBAbmFtZSBSZWFkZXIjdWludDY0XG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtMb25nfSBWYWx1ZSByZWFkXG4gKi9cblxuLyoqXG4gKiBSZWFkcyBhIHppZy16YWcgZW5jb2RlZCB2YXJpbnQgYXMgYSBzaWduZWQgNjQgYml0IHZhbHVlLlxuICogQG5hbWUgUmVhZGVyI3NpbnQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYSBib29sZWFuLlxuICogQHJldHVybnMge2Jvb2xlYW59IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5ib29sID0gZnVuY3Rpb24gcmVhZF9ib29sKCkge1xuICAgIHJldHVybiB0aGlzLnVpbnQzMigpICE9PSAwO1xufTtcblxuZnVuY3Rpb24gcmVhZEZpeGVkMzJfZW5kKGJ1ZiwgZW5kKSB7IC8vIG5vdGUgdGhhdCB0aGlzIHVzZXMgYGVuZGAsIG5vdCBgcG9zYFxuICAgIHJldHVybiAoYnVmW2VuZCAtIDRdXG4gICAgICAgICAgfCBidWZbZW5kIC0gM10gPDwgOFxuICAgICAgICAgIHwgYnVmW2VuZCAtIDJdIDw8IDE2XG4gICAgICAgICAgfCBidWZbZW5kIC0gMV0gPDwgMjQpID4+PiAwO1xufVxuXG4vKipcbiAqIFJlYWRzIGZpeGVkIDMyIGJpdHMgYXMgYW4gdW5zaWduZWQgMzIgYml0IGludGVnZXIuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuZml4ZWQzMiA9IGZ1bmN0aW9uIHJlYWRfZml4ZWQzMigpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDQgPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDQpO1xuXG4gICAgcmV0dXJuIHJlYWRGaXhlZDMyX2VuZCh0aGlzLmJ1ZiwgdGhpcy5wb3MgKz0gNCk7XG59O1xuXG4vKipcbiAqIFJlYWRzIGZpeGVkIDMyIGJpdHMgYXMgYSBzaWduZWQgMzIgYml0IGludGVnZXIuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc2ZpeGVkMzIgPSBmdW5jdGlvbiByZWFkX3NmaXhlZDMyKCkge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgNCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgNCk7XG5cbiAgICByZXR1cm4gcmVhZEZpeGVkMzJfZW5kKHRoaXMuYnVmLCB0aGlzLnBvcyArPSA0KSB8IDA7XG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1pbnZhbGlkLXRoaXMgKi9cblxuZnVuY3Rpb24gcmVhZEZpeGVkNjQoLyogdGhpczogUmVhZGVyICovKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA4ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA4KTtcblxuICAgIHJldHVybiBuZXcgTG9uZ0JpdHMocmVhZEZpeGVkMzJfZW5kKHRoaXMuYnVmLCB0aGlzLnBvcyArPSA0KSwgcmVhZEZpeGVkMzJfZW5kKHRoaXMuYnVmLCB0aGlzLnBvcyArPSA0KSk7XG59XG5cbi8qIGVzbGludC1lbmFibGUgbm8taW52YWxpZC10aGlzICovXG5cbi8qKlxuICogUmVhZHMgZml4ZWQgNjQgYml0cy5cbiAqIEBuYW1lIFJlYWRlciNmaXhlZDY0XG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtMb25nfSBWYWx1ZSByZWFkXG4gKi9cblxuLyoqXG4gKiBSZWFkcyB6aWctemFnIGVuY29kZWQgZml4ZWQgNjQgYml0cy5cbiAqIEBuYW1lIFJlYWRlciNzZml4ZWQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgYSBmbG9hdCAoMzIgYml0KSBhcyBhIG51bWJlci5cbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmZsb2F0ID0gZnVuY3Rpb24gcmVhZF9mbG9hdCgpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDQgPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDQpO1xuXG4gICAgdmFyIHZhbHVlID0gdXRpbC5mbG9hdC5yZWFkRmxvYXRMRSh0aGlzLmJ1ZiwgdGhpcy5wb3MpO1xuICAgIHRoaXMucG9zICs9IDQ7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIGRvdWJsZSAoNjQgYml0IGZsb2F0KSBhcyBhIG51bWJlci5cbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmRvdWJsZSA9IGZ1bmN0aW9uIHJlYWRfZG91YmxlKCkge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgOCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgNCk7XG5cbiAgICB2YXIgdmFsdWUgPSB1dGlsLmZsb2F0LnJlYWREb3VibGVMRSh0aGlzLmJ1ZiwgdGhpcy5wb3MpO1xuICAgIHRoaXMucG9zICs9IDg7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIHNlcXVlbmNlIG9mIGJ5dGVzIHByZWNlZWRlZCBieSBpdHMgbGVuZ3RoIGFzIGEgdmFyaW50LlxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5ieXRlcyA9IGZ1bmN0aW9uIHJlYWRfYnl0ZXMoKSB7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMudWludDMyKCksXG4gICAgICAgIHN0YXJ0ICA9IHRoaXMucG9zLFxuICAgICAgICBlbmQgICAgPSB0aGlzLnBvcyArIGxlbmd0aDtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlbmQgPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIGxlbmd0aCk7XG5cbiAgICB0aGlzLnBvcyArPSBsZW5ndGg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5idWYpKSAvLyBwbGFpbiBhcnJheVxuICAgICAgICByZXR1cm4gdGhpcy5idWYuc2xpY2Uoc3RhcnQsIGVuZCk7XG5cbiAgICBpZiAoc3RhcnQgPT09IGVuZCkgeyAvLyBmaXggZm9yIElFIDEwL1dpbjggYW5kIG90aGVycycgc3ViYXJyYXkgcmV0dXJuaW5nIGFycmF5IG9mIHNpemUgMVxuICAgICAgICB2YXIgbmF0aXZlQnVmZmVyID0gdXRpbC5CdWZmZXI7XG4gICAgICAgIHJldHVybiBuYXRpdmVCdWZmZXJcbiAgICAgICAgICAgID8gbmF0aXZlQnVmZmVyLmFsbG9jKDApXG4gICAgICAgICAgICA6IG5ldyB0aGlzLmJ1Zi5jb25zdHJ1Y3RvcigwKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3NsaWNlLmNhbGwodGhpcy5idWYsIHN0YXJ0LCBlbmQpO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIHN0cmluZyBwcmVjZWVkZWQgYnkgaXRzIGJ5dGUgbGVuZ3RoIGFzIGEgdmFyaW50LlxuICogQHJldHVybnMge3N0cmluZ30gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnN0cmluZyA9IGZ1bmN0aW9uIHJlYWRfc3RyaW5nKCkge1xuICAgIHZhciBieXRlcyA9IHRoaXMuYnl0ZXMoKTtcbiAgICByZXR1cm4gdXRmOC5yZWFkKGJ5dGVzLCAwLCBieXRlcy5sZW5ndGgpO1xufTtcblxuLyoqXG4gKiBTa2lwcyB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBieXRlcyBpZiBzcGVjaWZpZWQsIG90aGVyd2lzZSBza2lwcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBMZW5ndGggaWYga25vd24sIG90aGVyd2lzZSBhIHZhcmludCBpcyBhc3N1bWVkXG4gKiBAcmV0dXJucyB7UmVhZGVyfSBgdGhpc2BcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5za2lwID0gZnVuY3Rpb24gc2tpcChsZW5ndGgpIHtcbiAgICBpZiAodHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHRoaXMucG9zICsgbGVuZ3RoID4gdGhpcy5sZW4pXG4gICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgbGVuZ3RoKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gbGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zID49IHRoaXMubGVuKVxuICAgICAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzKTtcbiAgICAgICAgfSB3aGlsZSAodGhpcy5idWZbdGhpcy5wb3MrK10gJiAxMjgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2tpcHMgdGhlIG5leHQgZWxlbWVudCBvZiB0aGUgc3BlY2lmaWVkIHdpcmUgdHlwZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB3aXJlVHlwZSBXaXJlIHR5cGUgcmVjZWl2ZWRcbiAqIEByZXR1cm5zIHtSZWFkZXJ9IGB0aGlzYFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNraXBUeXBlID0gZnVuY3Rpb24od2lyZVR5cGUpIHtcbiAgICBzd2l0Y2ggKHdpcmVUeXBlKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHRoaXMuc2tpcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRoaXMuc2tpcCg4KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICB0aGlzLnNraXAodGhpcy51aW50MzIoKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgd2hpbGUgKCh3aXJlVHlwZSA9IHRoaXMudWludDMyKCkgJiA3KSAhPT0gNCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcFR5cGUod2lyZVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHRoaXMuc2tpcCg0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcImludmFsaWQgd2lyZSB0eXBlIFwiICsgd2lyZVR5cGUgKyBcIiBhdCBvZmZzZXQgXCIgKyB0aGlzLnBvcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuUmVhZGVyLl9jb25maWd1cmUgPSBmdW5jdGlvbihCdWZmZXJSZWFkZXJfKSB7XG4gICAgQnVmZmVyUmVhZGVyID0gQnVmZmVyUmVhZGVyXztcbiAgICBSZWFkZXIuY3JlYXRlID0gY3JlYXRlKCk7XG4gICAgQnVmZmVyUmVhZGVyLl9jb25maWd1cmUoKTtcblxuICAgIHZhciBmbiA9IHV0aWwuTG9uZyA/IFwidG9Mb25nXCIgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBcInRvTnVtYmVyXCI7XG4gICAgdXRpbC5tZXJnZShSZWFkZXIucHJvdG90eXBlLCB7XG5cbiAgICAgICAgaW50NjQ6IGZ1bmN0aW9uIHJlYWRfaW50NjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZExvbmdWYXJpbnQuY2FsbCh0aGlzKVtmbl0oZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVpbnQ2NDogZnVuY3Rpb24gcmVhZF91aW50NjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZExvbmdWYXJpbnQuY2FsbCh0aGlzKVtmbl0odHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2ludDY0OiBmdW5jdGlvbiByZWFkX3NpbnQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkTG9uZ1ZhcmludC5jYWxsKHRoaXMpLnp6RGVjb2RlKClbZm5dKGZhbHNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBmaXhlZDY0OiBmdW5jdGlvbiByZWFkX2ZpeGVkNjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZEZpeGVkNjQuY2FsbCh0aGlzKVtmbl0odHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2ZpeGVkNjQ6IGZ1bmN0aW9uIHJlYWRfc2ZpeGVkNjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZEZpeGVkNjQuY2FsbCh0aGlzKVtmbl0oZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICB9KTtcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IEJ1ZmZlclJlYWRlcjtcblxuLy8gZXh0ZW5kcyBSZWFkZXJcbnZhciBSZWFkZXIgPSByZXF1aXJlKFwiLi9yZWFkZXJcIik7XG4oQnVmZmVyUmVhZGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUmVhZGVyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gQnVmZmVyUmVhZGVyO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IGJ1ZmZlciByZWFkZXIgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHJlYWRlciB1c2luZyBub2RlIGJ1ZmZlcnMuXG4gKiBAZXh0ZW5kcyBSZWFkZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBCdWZmZXIgdG8gcmVhZCBmcm9tXG4gKi9cbmZ1bmN0aW9uIEJ1ZmZlclJlYWRlcihidWZmZXIpIHtcbiAgICBSZWFkZXIuY2FsbCh0aGlzLCBidWZmZXIpO1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBidWZmZXIuXG4gICAgICogQG5hbWUgQnVmZmVyUmVhZGVyI2J1ZlxuICAgICAqIEB0eXBlIHtCdWZmZXJ9XG4gICAgICovXG59XG5cbkJ1ZmZlclJlYWRlci5fY29uZmlndXJlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHV0aWwuQnVmZmVyKVxuICAgICAgICBCdWZmZXJSZWFkZXIucHJvdG90eXBlLl9zbGljZSA9IHV0aWwuQnVmZmVyLnByb3RvdHlwZS5zbGljZTtcbn07XG5cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuQnVmZmVyUmVhZGVyLnByb3RvdHlwZS5zdHJpbmcgPSBmdW5jdGlvbiByZWFkX3N0cmluZ19idWZmZXIoKSB7XG4gICAgdmFyIGxlbiA9IHRoaXMudWludDMyKCk7IC8vIG1vZGlmaWVzIHBvc1xuICAgIHJldHVybiB0aGlzLmJ1Zi51dGY4U2xpY2VcbiAgICAgICAgPyB0aGlzLmJ1Zi51dGY4U2xpY2UodGhpcy5wb3MsIHRoaXMucG9zID0gTWF0aC5taW4odGhpcy5wb3MgKyBsZW4sIHRoaXMubGVuKSlcbiAgICAgICAgOiB0aGlzLmJ1Zi50b1N0cmluZyhcInV0Zi04XCIsIHRoaXMucG9zLCB0aGlzLnBvcyA9IE1hdGgubWluKHRoaXMucG9zICsgbGVuLCB0aGlzLmxlbikpO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIHNlcXVlbmNlIG9mIGJ5dGVzIHByZWNlZWRlZCBieSBpdHMgbGVuZ3RoIGFzIGEgdmFyaW50LlxuICogQG5hbWUgQnVmZmVyUmVhZGVyI2J5dGVzXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtCdWZmZXJ9IFZhbHVlIHJlYWRcbiAqL1xuXG5CdWZmZXJSZWFkZXIuX2NvbmZpZ3VyZSgpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBTZXJ2aWNlO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuLi91dGlsL21pbmltYWxcIik7XG5cbi8vIEV4dGVuZHMgRXZlbnRFbWl0dGVyXG4oU2VydmljZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHV0aWwuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gU2VydmljZTtcblxuLyoqXG4gKiBBIHNlcnZpY2UgbWV0aG9kIGNhbGxiYWNrIGFzIHVzZWQgYnkge0BsaW5rIHJwYy5TZXJ2aWNlTWV0aG9kfFNlcnZpY2VNZXRob2R9LlxuICpcbiAqIERpZmZlcnMgZnJvbSB7QGxpbmsgUlBDSW1wbENhbGxiYWNrfSBpbiB0aGF0IGl0IGlzIGFuIGFjdHVhbCBjYWxsYmFjayBvZiBhIHNlcnZpY2UgbWV0aG9kIHdoaWNoIG1heSBub3QgcmV0dXJuIGByZXNwb25zZSA9IG51bGxgLlxuICogQHR5cGVkZWYgcnBjLlNlcnZpY2VNZXRob2RDYWxsYmFja1xuICogQHRlbXBsYXRlIFRSZXMgZXh0ZW5kcyBNZXNzYWdlPFRSZXM+XG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge0Vycm9yfG51bGx9IGVycm9yIEVycm9yLCBpZiBhbnlcbiAqIEBwYXJhbSB7VFJlc30gW3Jlc3BvbnNlXSBSZXNwb25zZSBtZXNzYWdlXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5cbi8qKlxuICogQSBzZXJ2aWNlIG1ldGhvZCBwYXJ0IG9mIGEge0BsaW5rIHJwYy5TZXJ2aWNlfSBhcyBjcmVhdGVkIGJ5IHtAbGluayBTZXJ2aWNlLmNyZWF0ZX0uXG4gKiBAdHlwZWRlZiBycGMuU2VydmljZU1ldGhvZFxuICogQHRlbXBsYXRlIFRSZXEgZXh0ZW5kcyBNZXNzYWdlPFRSZXE+XG4gKiBAdGVtcGxhdGUgVFJlcyBleHRlbmRzIE1lc3NhZ2U8VFJlcz5cbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7VFJlcXxQcm9wZXJ0aWVzPFRSZXE+fSByZXF1ZXN0IFJlcXVlc3QgbWVzc2FnZSBvciBwbGFpbiBvYmplY3RcbiAqIEBwYXJhbSB7cnBjLlNlcnZpY2VNZXRob2RDYWxsYmFjazxUUmVzPn0gW2NhbGxiYWNrXSBOb2RlLXN0eWxlIGNhbGxiYWNrIGNhbGxlZCB3aXRoIHRoZSBlcnJvciwgaWYgYW55LCBhbmQgdGhlIHJlc3BvbnNlIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtQcm9taXNlPE1lc3NhZ2U8VFJlcz4+fSBQcm9taXNlIGlmIGBjYWxsYmFja2AgaGFzIGJlZW4gb21pdHRlZCwgb3RoZXJ3aXNlIGB1bmRlZmluZWRgXG4gKi9cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IFJQQyBzZXJ2aWNlIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBBbiBSUEMgc2VydmljZSBhcyByZXR1cm5lZCBieSB7QGxpbmsgU2VydmljZSNjcmVhdGV9LlxuICogQGV4cG9ydHMgcnBjLlNlcnZpY2VcbiAqIEBleHRlbmRzIHV0aWwuRXZlbnRFbWl0dGVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7UlBDSW1wbH0gcnBjSW1wbCBSUEMgaW1wbGVtZW50YXRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlcXVlc3REZWxpbWl0ZWQ9ZmFsc2VdIFdoZXRoZXIgcmVxdWVzdHMgYXJlIGxlbmd0aC1kZWxpbWl0ZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jlc3BvbnNlRGVsaW1pdGVkPWZhbHNlXSBXaGV0aGVyIHJlc3BvbnNlcyBhcmUgbGVuZ3RoLWRlbGltaXRlZFxuICovXG5mdW5jdGlvbiBTZXJ2aWNlKHJwY0ltcGwsIHJlcXVlc3REZWxpbWl0ZWQsIHJlc3BvbnNlRGVsaW1pdGVkKSB7XG5cbiAgICBpZiAodHlwZW9mIHJwY0ltcGwgIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwicnBjSW1wbCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG5cbiAgICB1dGlsLkV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogUlBDIGltcGxlbWVudGF0aW9uLiBCZWNvbWVzIGBudWxsYCBvbmNlIHRoZSBzZXJ2aWNlIGlzIGVuZGVkLlxuICAgICAqIEB0eXBlIHtSUENJbXBsfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5ycGNJbXBsID0gcnBjSW1wbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgcmVxdWVzdHMgYXJlIGxlbmd0aC1kZWxpbWl0ZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZXF1ZXN0RGVsaW1pdGVkID0gQm9vbGVhbihyZXF1ZXN0RGVsaW1pdGVkKTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgcmVzcG9uc2VzIGFyZSBsZW5ndGgtZGVsaW1pdGVkLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVzcG9uc2VEZWxpbWl0ZWQgPSBCb29sZWFuKHJlc3BvbnNlRGVsaW1pdGVkKTtcbn1cblxuLyoqXG4gKiBDYWxscyBhIHNlcnZpY2UgbWV0aG9kIHRocm91Z2gge0BsaW5rIHJwYy5TZXJ2aWNlI3JwY0ltcGx8cnBjSW1wbH0uXG4gKiBAcGFyYW0ge01ldGhvZHxycGMuU2VydmljZU1ldGhvZDxUUmVxLFRSZXM+fSBtZXRob2QgUmVmbGVjdGVkIG9yIHN0YXRpYyBtZXRob2RcbiAqIEBwYXJhbSB7Q29uc3RydWN0b3I8VFJlcT59IHJlcXVlc3RDdG9yIFJlcXVlc3QgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7Q29uc3RydWN0b3I8VFJlcz59IHJlc3BvbnNlQ3RvciBSZXNwb25zZSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtUUmVxfFByb3BlcnRpZXM8VFJlcT59IHJlcXVlc3QgUmVxdWVzdCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdFxuICogQHBhcmFtIHtycGMuU2VydmljZU1ldGhvZENhbGxiYWNrPFRSZXM+fSBjYWxsYmFjayBTZXJ2aWNlIGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogQHRlbXBsYXRlIFRSZXEgZXh0ZW5kcyBNZXNzYWdlPFRSZXE+XG4gKiBAdGVtcGxhdGUgVFJlcyBleHRlbmRzIE1lc3NhZ2U8VFJlcz5cbiAqL1xuU2VydmljZS5wcm90b3R5cGUucnBjQ2FsbCA9IGZ1bmN0aW9uIHJwY0NhbGwobWV0aG9kLCByZXF1ZXN0Q3RvciwgcmVzcG9uc2VDdG9yLCByZXF1ZXN0LCBjYWxsYmFjaykge1xuXG4gICAgaWYgKCFyZXF1ZXN0KVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJyZXF1ZXN0IG11c3QgYmUgc3BlY2lmaWVkXCIpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICghY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB1dGlsLmFzUHJvbWlzZShycGNDYWxsLCBzZWxmLCBtZXRob2QsIHJlcXVlc3RDdG9yLCByZXNwb25zZUN0b3IsIHJlcXVlc3QpO1xuXG4gICAgaWYgKCFzZWxmLnJwY0ltcGwpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2soRXJyb3IoXCJhbHJlYWR5IGVuZGVkXCIpKTsgfSwgMCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHNlbGYucnBjSW1wbChcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHJlcXVlc3RDdG9yW3NlbGYucmVxdWVzdERlbGltaXRlZCA/IFwiZW5jb2RlRGVsaW1pdGVkXCIgOiBcImVuY29kZVwiXShyZXF1ZXN0KS5maW5pc2goKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJwY0NhbGxiYWNrKGVyciwgcmVzcG9uc2UpIHtcblxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwgZXJyLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbmQoLyogZW5kZWRCeVJQQyAqLyB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZSBpbnN0YW5jZW9mIHJlc3BvbnNlQ3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcmVzcG9uc2VDdG9yW3NlbGYucmVzcG9uc2VEZWxpbWl0ZWQgPyBcImRlY29kZURlbGltaXRlZFwiIDogXCJkZWNvZGVcIl0ocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIGVyciwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2VsZi5lbWl0KFwiZGF0YVwiLCByZXNwb25zZSwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCBlcnIsIG1ldGhvZCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKGVycik7IH0sIDApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn07XG5cbi8qKlxuICogRW5kcyB0aGlzIHNlcnZpY2UgYW5kIGVtaXRzIHRoZSBgZW5kYCBldmVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuZGVkQnlSUEM9ZmFsc2VdIFdoZXRoZXIgdGhlIHNlcnZpY2UgaGFzIGJlZW4gZW5kZWQgYnkgdGhlIFJQQyBpbXBsZW1lbnRhdGlvbi5cbiAqIEByZXR1cm5zIHtycGMuU2VydmljZX0gYHRoaXNgXG4gKi9cblNlcnZpY2UucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIGVuZChlbmRlZEJ5UlBDKSB7XG4gICAgaWYgKHRoaXMucnBjSW1wbCkge1xuICAgICAgICBpZiAoIWVuZGVkQnlSUEMpIC8vIHNpZ25hbCBlbmQgdG8gcnBjSW1wbFxuICAgICAgICAgICAgdGhpcy5ycGNJbXBsKG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICB0aGlzLnJwY0ltcGwgPSBudWxsO1xuICAgICAgICB0aGlzLmVtaXQoXCJlbmRcIikub2ZmKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcbiIsICJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBTdHJlYW1pbmcgUlBDIGhlbHBlcnMuXG4gKiBAbmFtZXNwYWNlXG4gKi9cbnZhciBycGMgPSBleHBvcnRzO1xuXG4vKipcbiAqIFJQQyBpbXBsZW1lbnRhdGlvbiBwYXNzZWQgdG8ge0BsaW5rIFNlcnZpY2UjY3JlYXRlfSBwZXJmb3JtaW5nIGEgc2VydmljZSByZXF1ZXN0IG9uIG5ldHdvcmsgbGV2ZWwsIGkuZS4gYnkgdXRpbGl6aW5nIGh0dHAgcmVxdWVzdHMgb3Igd2Vic29ja2V0cy5cbiAqIEB0eXBlZGVmIFJQQ0ltcGxcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7TWV0aG9kfHJwYy5TZXJ2aWNlTWV0aG9kPE1lc3NhZ2U8e30+LE1lc3NhZ2U8e30+Pn0gbWV0aG9kIFJlZmxlY3RlZCBvciBzdGF0aWMgbWV0aG9kIGJlaW5nIGNhbGxlZFxuICogQHBhcmFtIHtVaW50OEFycmF5fSByZXF1ZXN0RGF0YSBSZXF1ZXN0IGRhdGFcbiAqIEBwYXJhbSB7UlBDSW1wbENhbGxiYWNrfSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqIEBleGFtcGxlXG4gKiBmdW5jdGlvbiBycGNJbXBsKG1ldGhvZCwgcmVxdWVzdERhdGEsIGNhbGxiYWNrKSB7XG4gKiAgICAgaWYgKHByb3RvYnVmLnV0aWwubGNGaXJzdChtZXRob2QubmFtZSkgIT09IFwibXlNZXRob2RcIikgLy8gY29tcGF0aWJsZSB3aXRoIHN0YXRpYyBjb2RlXG4gKiAgICAgICAgIHRocm93IEVycm9yKFwibm8gc3VjaCBtZXRob2RcIik7XG4gKiAgICAgYXN5bmNocm9ub3VzbHlPYnRhaW5BUmVzcG9uc2UocmVxdWVzdERhdGEsIGZ1bmN0aW9uKGVyciwgcmVzcG9uc2VEYXRhKSB7XG4gKiAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzcG9uc2VEYXRhKTtcbiAqICAgICB9KTtcbiAqIH1cbiAqL1xuXG4vKipcbiAqIE5vZGUtc3R5bGUgY2FsbGJhY2sgYXMgdXNlZCBieSB7QGxpbmsgUlBDSW1wbH0uXG4gKiBAdHlwZWRlZiBSUENJbXBsQ2FsbGJhY2tcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7RXJyb3J8bnVsbH0gZXJyb3IgRXJyb3IsIGlmIGFueSwgb3RoZXJ3aXNlIGBudWxsYFxuICogQHBhcmFtIHtVaW50OEFycmF5fG51bGx9IFtyZXNwb25zZV0gUmVzcG9uc2UgZGF0YSBvciBgbnVsbGAgdG8gc2lnbmFsIGVuZCBvZiBzdHJlYW0sIGlmIHRoZXJlIGhhc24ndCBiZWVuIGFuIGVycm9yXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5cbnJwYy5TZXJ2aWNlID0gcmVxdWlyZShcIi4vcnBjL3NlcnZpY2VcIik7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vKipcbiAqIE5hbWVkIHJvb3RzLlxuICogVGhpcyBpcyB3aGVyZSBwYmpzIHN0b3JlcyBnZW5lcmF0ZWQgc3RydWN0dXJlcyAodGhlIG9wdGlvbiBgLXIsIC0tcm9vdGAgc3BlY2lmaWVzIGEgbmFtZSkuXG4gKiBDYW4gYWxzbyBiZSB1c2VkIG1hbnVhbGx5IHRvIG1ha2Ugcm9vdHMgYXZhaWxhYmxlIGFjcm9zcyBtb2R1bGVzLlxuICogQG5hbWUgcm9vdHNcbiAqIEB0eXBlIHtPYmplY3QuPHN0cmluZyxSb290Pn1cbiAqIEBleGFtcGxlXG4gKiAvLyBwYmpzIC1yIG15cm9vdCAtbyBjb21waWxlZC5qcyAuLi5cbiAqXG4gKiAvLyBpbiBhbm90aGVyIG1vZHVsZTpcbiAqIHJlcXVpcmUoXCIuL2NvbXBpbGVkLmpzXCIpO1xuICpcbiAqIC8vIGluIGFueSBzdWJzZXF1ZW50IG1vZHVsZTpcbiAqIHZhciByb290ID0gcHJvdG9idWYucm9vdHNbXCJteXJvb3RcIl07XG4gKi9cbiIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBwcm90b2J1ZiA9IGV4cG9ydHM7XG5cbi8qKlxuICogQnVpbGQgdHlwZSwgb25lIG9mIGBcImZ1bGxcImAsIGBcImxpZ2h0XCJgIG9yIGBcIm1pbmltYWxcImAuXG4gKiBAbmFtZSBidWlsZFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBjb25zdFxuICovXG5wcm90b2J1Zi5idWlsZCA9IFwibWluaW1hbFwiO1xuXG4vLyBTZXJpYWxpemF0aW9uXG5wcm90b2J1Zi5Xcml0ZXIgICAgICAgPSByZXF1aXJlKFwiLi93cml0ZXJcIik7XG5wcm90b2J1Zi5CdWZmZXJXcml0ZXIgPSByZXF1aXJlKFwiLi93cml0ZXJfYnVmZmVyXCIpO1xucHJvdG9idWYuUmVhZGVyICAgICAgID0gcmVxdWlyZShcIi4vcmVhZGVyXCIpO1xucHJvdG9idWYuQnVmZmVyUmVhZGVyID0gcmVxdWlyZShcIi4vcmVhZGVyX2J1ZmZlclwiKTtcblxuLy8gVXRpbGl0eVxucHJvdG9idWYudXRpbCAgICAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xucHJvdG9idWYucnBjICAgICAgICAgID0gcmVxdWlyZShcIi4vcnBjXCIpO1xucHJvdG9idWYucm9vdHMgICAgICAgID0gcmVxdWlyZShcIi4vcm9vdHNcIik7XG5wcm90b2J1Zi5jb25maWd1cmUgICAgPSBjb25maWd1cmU7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKipcbiAqIFJlY29uZmlndXJlcyB0aGUgbGlicmFyeSBhY2NvcmRpbmcgdG8gdGhlIGVudmlyb25tZW50LlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gY29uZmlndXJlKCkge1xuICAgIHByb3RvYnVmLnV0aWwuX2NvbmZpZ3VyZSgpO1xuICAgIHByb3RvYnVmLldyaXRlci5fY29uZmlndXJlKHByb3RvYnVmLkJ1ZmZlcldyaXRlcik7XG4gICAgcHJvdG9idWYuUmVhZGVyLl9jb25maWd1cmUocHJvdG9idWYuQnVmZmVyUmVhZGVyKTtcbn1cblxuLy8gU2V0IHVwIGJ1ZmZlciB1dGlsaXR5IGFjY29yZGluZyB0byB0aGUgZW52aXJvbm1lbnRcbmNvbmZpZ3VyZSgpO1xuIiwgIi8vIG1pbmltYWwgbGlicmFyeSBlbnRyeSBwb2ludC5cblxuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3NyYy9pbmRleC1taW5pbWFsXCIpO1xuIiwgIi8vIEJFR0lOIEFVVE8gR0VORVJBVEVEIENPREUgXCJ+c2RrL3NjZW5lLWVudHJ5cG9pbnRcIlxuXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgKiBhcyBlbnRyeXBvaW50IGZyb20gJy9Vc2Vycy9yYWRlay9Eb2N1bWVudHMvR0l0aHViL0NsYXJlU2lsdmVyL1BhcnRpY2xlLVN5c3RlbS1pbi1EQ0wvc3JjL2luZGV4LnRzJ1xuaW1wb3J0IHsgZW5naW5lIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0ICogYXMgc2RrIGZyb20gJ0BkY2wvc2RrJ1xuXG5pZiAoKGVudHJ5cG9pbnQgYXMgYW55KS5tYWluICE9PSB1bmRlZmluZWQpIHtcbiAgZnVuY3Rpb24gX0lOVEVSTkFMX3N0YXJ0dXBfc3lzdGVtKCkge1xuICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IChlbnRyeXBvaW50IGFzIGFueSkubWFpbigpXG4gICAgaWYgKG1heWJlUHJvbWlzZSAmJiB0eXBlb2YgbWF5YmVQcm9taXNlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgKG1heWJlUHJvbWlzZSBhcyB1bmtub3duIGFzIFByb21pc2U8dW5rbm93bj4pLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG1heWJlUHJvbWlzZS5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIH1cbiAgICBlbmdpbmUucmVtb3ZlU3lzdGVtKF9JTlRFUk5BTF9zdGFydHVwX3N5c3RlbSlcbiAgfVxuICBlbmdpbmUuYWRkU3lzdGVtKF9JTlRFUk5BTF9zdGFydHVwX3N5c3RlbSwgSW5maW5pdHkpXG59XG5cbmV4cG9ydCAqIGZyb20gJ0BkY2wvc2RrJ1xuZXhwb3J0ICogZnJvbSAnL1VzZXJzL3JhZGVrL0RvY3VtZW50cy9HSXRodWIvQ2xhcmVTaWx2ZXIvUGFydGljbGUtU3lzdGVtLWluLURDTC9zcmMvaW5kZXgudHMnXG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkFuaW1hdG9yKCkge1xuICAgIHJldHVybiB7IHN0YXRlczogW10gfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQW5pbWF0b3I7XG4oZnVuY3Rpb24gKFBCQW5pbWF0b3IpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5zdGF0ZXMpIHtcbiAgICAgICAgICAgIFBCQW5pbWF0aW9uU3RhdGUuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBbmltYXRvci5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQW5pbWF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGF0ZXMucHVzaChQQkFuaW1hdGlvblN0YXRlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQW5pbWF0b3IuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBbmltYXRvciB8fCAoUEJBbmltYXRvciA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBbmltYXRpb25TdGF0ZSgpIHtcbiAgICByZXR1cm4geyBjbGlwOiBcIlwiLCBwbGF5aW5nOiB1bmRlZmluZWQsIHdlaWdodDogdW5kZWZpbmVkLCBzcGVlZDogdW5kZWZpbmVkLCBsb29wOiB1bmRlZmluZWQsIHNob3VsZFJlc2V0OiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQW5pbWF0aW9uU3RhdGU7XG4oZnVuY3Rpb24gKFBCQW5pbWF0aW9uU3RhdGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5jbGlwICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5jbGlwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wbGF5aW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmJvb2wobWVzc2FnZS5wbGF5aW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53ZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS53ZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNwZWVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDUpLmZsb2F0KG1lc3NhZ2Uuc3BlZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0OCkuYm9vbChtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNob3VsZFJlc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTYpLmJvb2wobWVzc2FnZS5zaG91bGRSZXNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBbmltYXRpb25TdGF0ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQW5pbWF0aW9uU3RhdGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jbGlwID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXlpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndlaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNwZWVkID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9vcCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2hvdWxkUmVzZXQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQW5pbWF0aW9uU3RhdGUuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBbmltYXRpb25TdGF0ZSB8fCAoUEJBbmltYXRpb25TdGF0ZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJBbmltYXRvciB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2FuaW1hdG9yLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQW5pbWF0b3JTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDQyLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkFuaW1hdG9yLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQW5pbWF0b3IuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQW5pbWF0b3IuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQW5pbWF0b3JcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkF1ZGlvU291cmNlKCkge1xuICAgIHJldHVybiB7IHBsYXlpbmc6IHVuZGVmaW5lZCwgdm9sdW1lOiB1bmRlZmluZWQsIGxvb3A6IHVuZGVmaW5lZCwgcGl0Y2g6IHVuZGVmaW5lZCwgYXVkaW9DbGlwVXJsOiBcIlwiIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkF1ZGlvU291cmNlO1xuKGZ1bmN0aW9uIChQQkF1ZGlvU291cmNlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5wbGF5aW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52b2x1bWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS52b2x1bWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuYm9vbChtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBpdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UucGl0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmF1ZGlvQ2xpcFVybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0Mikuc3RyaW5nKG1lc3NhZ2UuYXVkaW9DbGlwVXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF1ZGlvU291cmNlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJBdWRpb1NvdXJjZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGxheWluZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uudm9sdW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9vcCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGl0Y2ggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hdWRpb0NsaXBVcmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJBdWRpb1NvdXJjZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkF1ZGlvU291cmNlIHx8IChQQkF1ZGlvU291cmNlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkF1ZGlvU291cmNlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXVkaW9fc291cmNlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9Tb3VyY2VTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDIwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF1ZGlvU291cmNlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQXVkaW9Tb3VyY2UuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQXVkaW9Tb3VyY2UuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXVkaW9Tb3VyY2VcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkF1ZGlvU3RyZWFtKCkge1xuICAgIHJldHVybiB7IHBsYXlpbmc6IHVuZGVmaW5lZCwgdm9sdW1lOiB1bmRlZmluZWQsIHVybDogXCJcIiB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJBdWRpb1N0cmVhbTtcbihmdW5jdGlvbiAoUEJBdWRpb1N0cmVhbSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBsYXlpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2UucGxheWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uudm9sdW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2Uudm9sdW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS51cmwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLnVybCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBdWRpb1N0cmVhbS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXVkaW9TdHJlYW0oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXlpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZvbHVtZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnVybCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkF1ZGlvU3RyZWFtLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQXVkaW9TdHJlYW0gfHwgKFBCQXVkaW9TdHJlYW0gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQXVkaW9TdHJlYW0gfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19zdHJlYW0uZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb1N0cmVhbVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMjEsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQXVkaW9TdHJlYW0uZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBdWRpb1N0cmVhbS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJBdWRpb1N0cmVhbS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBdWRpb1N0cmVhbVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqIEF2YXRhckFuY2hvclBvaW50VHlwZSBkZXRlcm1pbmVzIHRoZSBwYXJ0IG9mIHRoZSBhdmF0YXIncyBib2R5IHRoYXQgYW5jaG9ycyB0aGUgRW50aXR5LiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQXZhdGFyQW5jaG9yUG9pbnRUeXBlO1xuKGZ1bmN0aW9uIChBdmF0YXJBbmNob3JQb2ludFR5cGUpIHtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9QT1NJVElPTlwiXSA9IDBdID0gXCJBQVBUX1BPU0lUSU9OXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTkFNRV9UQUdcIl0gPSAxXSA9IFwiQUFQVF9OQU1FX1RBR1wiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX0xFRlRfSEFORFwiXSA9IDJdID0gXCJBQVBUX0xFRlRfSEFORFwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1JJR0hUX0hBTkRcIl0gPSAzXSA9IFwiQUFQVF9SSUdIVF9IQU5EXCI7XG59KShBdmF0YXJBbmNob3JQb2ludFR5cGUgfHwgKEF2YXRhckFuY2hvclBvaW50VHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdmF0YXJBdHRhY2goKSB7XG4gICAgcmV0dXJuIHsgYXZhdGFySWQ6IHVuZGVmaW5lZCwgYW5jaG9yUG9pbnRJZDogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJBdmF0YXJBdHRhY2g7XG4oZnVuY3Rpb24gKFBCQXZhdGFyQXR0YWNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXZhdGFySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuYXZhdGFySWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFuY2hvclBvaW50SWQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2UuYW5jaG9yUG9pbnRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBdmF0YXJBdHRhY2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF2YXRhckF0dGFjaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmF2YXRhcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFuY2hvclBvaW50SWQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkF2YXRhckF0dGFjaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkF2YXRhckF0dGFjaCB8fCAoUEJBdmF0YXJBdHRhY2ggPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQXZhdGFyQXR0YWNoIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX2F0dGFjaC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF2YXRhckF0dGFjaFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNzMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQXZhdGFyQXR0YWNoLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyQXR0YWNoLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF2YXRhckF0dGFjaC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBdmF0YXJBdHRhY2hcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKiogQXZhdGFyTW9kaWZpZXJUeXBlIGlzIGFuIGVmZmVjdCB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIGF2YXRhcnMgaW5zaWRlIHRoZSByZWdpb24uICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBBdmF0YXJNb2RpZmllclR5cGU7XG4oZnVuY3Rpb24gKEF2YXRhck1vZGlmaWVyVHlwZSkge1xuICAgIC8qKiBBTVRfSElERV9BVkFUQVJTIC0gYXZhdGFycyBhcmUgaW52aXNpYmxlICovXG4gICAgQXZhdGFyTW9kaWZpZXJUeXBlW0F2YXRhck1vZGlmaWVyVHlwZVtcIkFNVF9ISURFX0FWQVRBUlNcIl0gPSAwXSA9IFwiQU1UX0hJREVfQVZBVEFSU1wiO1xuICAgIC8qKiBBTVRfRElTQUJMRV9QQVNTUE9SVFMgLSBzZWxlY3RpbmcgKGUuZy4gY2xpY2tpbmcpIGFuIGF2YXRhciB3aWxsIG5vdCBicmluZyB1cCB0aGVpciBwcm9maWxlLiAqL1xuICAgIEF2YXRhck1vZGlmaWVyVHlwZVtBdmF0YXJNb2RpZmllclR5cGVbXCJBTVRfRElTQUJMRV9QQVNTUE9SVFNcIl0gPSAxXSA9IFwiQU1UX0RJU0FCTEVfUEFTU1BPUlRTXCI7XG59KShBdmF0YXJNb2RpZmllclR5cGUgfHwgKEF2YXRhck1vZGlmaWVyVHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdmF0YXJNb2RpZmllckFyZWEoKSB7XG4gICAgcmV0dXJuIHsgYXJlYTogdW5kZWZpbmVkLCBleGNsdWRlSWRzOiBbXSwgbW9kaWZpZXJzOiBbXSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJBdmF0YXJNb2RpZmllckFyZWE7XG4oZnVuY3Rpb24gKFBCQXZhdGFyTW9kaWZpZXJBcmVhKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXJlYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmFyZWEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuZXhjbHVkZUlkcykge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKHYpO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKTtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UubW9kaWZpZXJzKSB7XG4gICAgICAgICAgICB3cml0ZXIuaW50MzIodik7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLmxkZWxpbSgpO1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF2YXRhck1vZGlmaWVyQXJlYS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXZhdGFyTW9kaWZpZXJBcmVhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXJlYSA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5leGNsdWRlSWRzLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RpZmllcnMucHVzaChyZWFkZXIuaW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vZGlmaWVycy5wdXNoKHJlYWRlci5pbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJBdmF0YXJNb2RpZmllckFyZWEuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBdmF0YXJNb2RpZmllckFyZWEgfHwgKFBCQXZhdGFyTW9kaWZpZXJBcmVhID0ge30pKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5jb21tb25cIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQb3NpdGlvbigpIHtcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB6OiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQb3NpdGlvbjtcbihmdW5jdGlvbiAoUG9zaXRpb24pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS54ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLngpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnkgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UueiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS56KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQb3NpdGlvbi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBvc2l0aW9uKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS56ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUG9zaXRpb24uZGVjb2RlID0gZGVjb2RlO1xufSkoUG9zaXRpb24gfHwgKFBvc2l0aW9uID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWZWN0b3IzKCkge1xuICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFZlY3RvcjM7XG4oZnVuY3Rpb24gKFZlY3RvcjMpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS54ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLngpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnkgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UueiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS56KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBWZWN0b3IzLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmVjdG9yMygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFZlY3RvcjMuZGVjb2RlID0gZGVjb2RlO1xufSkoVmVjdG9yMyB8fCAoVmVjdG9yMyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVmVjdG9yMigpIHtcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBWZWN0b3IyO1xuKGZ1bmN0aW9uIChWZWN0b3IyKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS55ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFZlY3RvcjIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWZWN0b3IyKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBWZWN0b3IyLmRlY29kZSA9IGRlY29kZTtcbn0pKFZlY3RvcjIgfHwgKFZlY3RvcjIgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVF1YXRlcm5pb24oKSB7XG4gICAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCwgdzogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUXVhdGVybmlvbjtcbihmdW5jdGlvbiAoUXVhdGVybmlvbikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UueCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UueSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS55KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS56ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnopO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLncgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2Uudyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVF1YXRlcm5pb24oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS54ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnogPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5kZWNvZGUgPSBkZWNvZGU7XG59KShRdWF0ZXJuaW9uIHx8IChRdWF0ZXJuaW9uID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkF2YXRhck1vZGlmaWVyQXJlYSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9tb2RpZmllcl9hcmVhLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQXZhdGFyTW9kaWZpZXJBcmVhU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3MCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJBdmF0YXJNb2RpZmllckFyZWEuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBdmF0YXJNb2RpZmllckFyZWEuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyTW9kaWZpZXJBcmVhLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkF2YXRhck1vZGlmaWVyQXJlYVwiXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAwOSBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnNcbiAqIENvcHlyaWdodCAyMDIwIERhbmllbCBXaXJ0eiAvIFRoZSBsb25nLmpzIEF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gV2ViQXNzZW1ibHkgb3B0aW1pemF0aW9ucyB0byBkbyBuYXRpdmUgaTY0IG11bHRpcGxpY2F0aW9uIGFuZCBkaXZpZGVcbnZhciB3YXNtID0gbnVsbDtcbnRyeSB7XG4gIHdhc20gPSBuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShuZXcgVWludDhBcnJheShbXG4gICAgMCwgOTcsIDExNSwgMTA5LCAxLCAwLCAwLCAwLCAxLCAxMywgMiwgOTYsIDAsIDEsIDEyNywgOTYsIDQsIDEyNywgMTI3LCAxMjcsIDEyNywgMSwgMTI3LCAzLCA3LCA2LCAwLCAxLCAxLCAxLCAxLCAxLCA2LCA2LCAxLCAxMjcsIDEsIDY1LCAwLCAxMSwgNywgNTAsIDYsIDMsIDEwOSwgMTE3LCAxMDgsIDAsIDEsIDUsIDEwMCwgMTA1LCAxMTgsIDk1LCAxMTUsIDAsIDIsIDUsIDEwMCwgMTA1LCAxMTgsIDk1LCAxMTcsIDAsIDMsIDUsIDExNCwgMTAxLCAxMDksIDk1LCAxMTUsIDAsIDQsIDUsIDExNCwgMTAxLCAxMDksIDk1LCAxMTcsIDAsIDUsIDgsIDEwMywgMTAxLCAxMTYsIDk1LCAxMDQsIDEwNSwgMTAzLCAxMDQsIDAsIDAsIDEwLCAxOTEsIDEsIDYsIDQsIDAsIDM1LCAwLCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI2LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMjcsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTEsIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLCAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyOCwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCwgMTY3LCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI5LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMzAsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTFcbiAgXSkpLCB7fSkuZXhwb3J0cztcbn0gY2F0Y2ggKGUpIHtcbiAgLy8gbm8gd2FzbSBzdXBwb3J0IDooXG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIDY0IGJpdCB0d28ncy1jb21wbGVtZW50IGludGVnZXIsIGdpdmVuIGl0cyBsb3cgYW5kIGhpZ2ggMzIgYml0IHZhbHVlcyBhcyAqc2lnbmVkKiBpbnRlZ2Vycy5cbiAqICBTZWUgdGhlIGZyb20qIGZ1bmN0aW9ucyBiZWxvdyBmb3IgbW9yZSBjb252ZW5pZW50IHdheXMgb2YgY29uc3RydWN0aW5nIExvbmdzLlxuICogQGV4cG9ydHMgTG9uZ1xuICogQGNsYXNzIEEgTG9uZyBjbGFzcyBmb3IgcmVwcmVzZW50aW5nIGEgNjQgYml0IHR3bydzLWNvbXBsZW1lbnQgaW50ZWdlciB2YWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3cgVGhlIGxvdyAoc2lnbmVkKSAzMiBiaXRzIG9mIHRoZSBsb25nXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaCBUaGUgaGlnaCAoc2lnbmVkKSAzMiBiaXRzIG9mIHRoZSBsb25nXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTG9uZyhsb3csIGhpZ2gsIHVuc2lnbmVkKSB7XG5cbiAgLyoqXG4gICAqIFRoZSBsb3cgMzIgYml0cyBhcyBhIHNpZ25lZCB2YWx1ZS5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMubG93ID0gbG93IHwgMDtcblxuICAvKipcbiAgICogVGhlIGhpZ2ggMzIgYml0cyBhcyBhIHNpZ25lZCB2YWx1ZS5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuaGlnaCA9IGhpZ2ggfCAwO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdC5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICB0aGlzLnVuc2lnbmVkID0gISF1bnNpZ25lZDtcbn1cblxuLy8gVGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGEgbG9uZyBpcyB0aGUgdHdvIGdpdmVuIHNpZ25lZCwgMzItYml0IHZhbHVlcy5cbi8vIFdlIHVzZSAzMi1iaXQgcGllY2VzIGJlY2F1c2UgdGhlc2UgYXJlIHRoZSBzaXplIG9mIGludGVnZXJzIG9uIHdoaWNoXG4vLyBKYXZhc2NyaXB0IHBlcmZvcm1zIGJpdC1vcGVyYXRpb25zLiAgRm9yIG9wZXJhdGlvbnMgbGlrZSBhZGRpdGlvbiBhbmRcbi8vIG11bHRpcGxpY2F0aW9uLCB3ZSBzcGxpdCBlYWNoIG51bWJlciBpbnRvIDE2IGJpdCBwaWVjZXMsIHdoaWNoIGNhbiBlYXNpbHkgYmVcbi8vIG11bHRpcGxpZWQgd2l0aGluIEphdmFzY3JpcHQncyBmbG9hdGluZy1wb2ludCByZXByZXNlbnRhdGlvbiB3aXRob3V0IG92ZXJmbG93XG4vLyBvciBjaGFuZ2UgaW4gc2lnbi5cbi8vXG4vLyBJbiB0aGUgYWxnb3JpdGhtcyBiZWxvdywgd2UgZnJlcXVlbnRseSByZWR1Y2UgdGhlIG5lZ2F0aXZlIGNhc2UgdG8gdGhlXG4vLyBwb3NpdGl2ZSBjYXNlIGJ5IG5lZ2F0aW5nIHRoZSBpbnB1dChzKSBhbmQgdGhlbiBwb3N0LXByb2Nlc3NpbmcgdGhlIHJlc3VsdC5cbi8vIE5vdGUgdGhhdCB3ZSBtdXN0IEFMV0FZUyBjaGVjayBzcGVjaWFsbHkgd2hldGhlciB0aG9zZSB2YWx1ZXMgYXJlIE1JTl9WQUxVRVxuLy8gKC0yXjYzKSBiZWNhdXNlIC1NSU5fVkFMVUUgPT0gTUlOX1ZBTFVFIChzaW5jZSAyXjYzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBhc1xuLy8gYSBwb3NpdGl2ZSBudW1iZXIsIGl0IG92ZXJmbG93cyBiYWNrIGludG8gYSBuZWdhdGl2ZSkuICBOb3QgaGFuZGxpbmcgdGhpc1xuLy8gY2FzZSB3b3VsZCBvZnRlbiByZXN1bHQgaW4gaW5maW5pdGUgcmVjdXJzaW9uLlxuLy9cbi8vIENvbW1vbiBjb25zdGFudCB2YWx1ZXMgWkVSTywgT05FLCBORUdfT05FLCBldGMuIGFyZSBkZWZpbmVkIGJlbG93IHRoZSBmcm9tKlxuLy8gbWV0aG9kcyBvbiB3aGljaCB0aGV5IGRlcGVuZC5cblxuLyoqXG4gKiBBbiBpbmRpY2F0b3IgdXNlZCB0byByZWxpYWJseSBkZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgTG9uZyBvciBub3QuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBjb25zdFxuICogQHByaXZhdGVcbiAqL1xuTG9uZy5wcm90b3R5cGUuX19pc0xvbmdfXztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExvbmcucHJvdG90eXBlLCBcIl9faXNMb25nX19cIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiBAaW5uZXJcbiAqL1xuZnVuY3Rpb24gaXNMb25nKG9iaikge1xuICByZXR1cm4gKG9iaiAmJiBvYmpbXCJfX2lzTG9uZ19fXCJdKSA9PT0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgbnVtYmVyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICogQGlubmVyXG4gKi9cbmZ1bmN0aW9uIGN0ejMyKHZhbHVlKSB7XG4gIHZhciBjID0gTWF0aC5jbHozMih2YWx1ZSAmIC12YWx1ZSk7XG4gIHJldHVybiB2YWx1ZSA/IDMxIC0gYyA6IGM7XG59XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCBvYmplY3QgaXMgYSBMb25nLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyp9IG9iaiBPYmplY3RcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nLmlzTG9uZyA9IGlzTG9uZztcblxuLyoqXG4gKiBBIGNhY2hlIG9mIHRoZSBMb25nIHJlcHJlc2VudGF0aW9ucyBvZiBzbWFsbCBpbnRlZ2VyIHZhbHVlcy5cbiAqIEB0eXBlIHshT2JqZWN0fVxuICogQGlubmVyXG4gKi9cbnZhciBJTlRfQ0FDSEUgPSB7fTtcblxuLyoqXG4gKiBBIGNhY2hlIG9mIHRoZSBMb25nIHJlcHJlc2VudGF0aW9ucyBvZiBzbWFsbCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy5cbiAqIEB0eXBlIHshT2JqZWN0fVxuICogQGlubmVyXG4gKi9cbnZhciBVSU5UX0NBQ0hFID0ge307XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZFxuICogQHJldHVybnMgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbmZ1bmN0aW9uIGZyb21JbnQodmFsdWUsIHVuc2lnbmVkKSB7XG4gIHZhciBvYmosIGNhY2hlZE9iaiwgY2FjaGU7XG4gIGlmICh1bnNpZ25lZCkge1xuICAgIHZhbHVlID4+Pj0gMDtcbiAgICBpZiAoY2FjaGUgPSAoMCA8PSB2YWx1ZSAmJiB2YWx1ZSA8IDI1NikpIHtcbiAgICAgIGNhY2hlZE9iaiA9IFVJTlRfQ0FDSEVbdmFsdWVdO1xuICAgICAgaWYgKGNhY2hlZE9iailcbiAgICAgICAgcmV0dXJuIGNhY2hlZE9iajtcbiAgICB9XG4gICAgb2JqID0gZnJvbUJpdHModmFsdWUsIDAsIHRydWUpO1xuICAgIGlmIChjYWNoZSlcbiAgICAgIFVJTlRfQ0FDSEVbdmFsdWVdID0gb2JqO1xuICAgIHJldHVybiBvYmo7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgfD0gMDtcbiAgICBpZiAoY2FjaGUgPSAoLTEyOCA8PSB2YWx1ZSAmJiB2YWx1ZSA8IDEyOCkpIHtcbiAgICAgIGNhY2hlZE9iaiA9IElOVF9DQUNIRVt2YWx1ZV07XG4gICAgICBpZiAoY2FjaGVkT2JqKVxuICAgICAgICByZXR1cm4gY2FjaGVkT2JqO1xuICAgIH1cbiAgICBvYmogPSBmcm9tQml0cyh2YWx1ZSwgdmFsdWUgPCAwID8gLTEgOiAwLCBmYWxzZSk7XG4gICAgaWYgKGNhY2hlKVxuICAgICAgSU5UX0NBQ0hFW3ZhbHVlXSA9IG9iajtcbiAgICByZXR1cm4gb2JqO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiAzMiBiaXQgaW50ZWdlciB2YWx1ZS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSAzMiBiaXQgaW50ZWdlciBpbiBxdWVzdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXG4gKi9cbkxvbmcuZnJvbUludCA9IGZyb21JbnQ7XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZFxuICogQHJldHVybnMgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbmZ1bmN0aW9uIGZyb21OdW1iZXIodmFsdWUsIHVuc2lnbmVkKSB7XG4gIGlmIChpc05hTih2YWx1ZSkpXG4gICAgcmV0dXJuIHVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xuICBpZiAodW5zaWduZWQpIHtcbiAgICBpZiAodmFsdWUgPCAwKVxuICAgICAgcmV0dXJuIFVaRVJPO1xuICAgIGlmICh2YWx1ZSA+PSBUV09fUFdSXzY0X0RCTClcbiAgICAgIHJldHVybiBNQVhfVU5TSUdORURfVkFMVUU7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbHVlIDw9IC1UV09fUFdSXzYzX0RCTClcbiAgICAgIHJldHVybiBNSU5fVkFMVUU7XG4gICAgaWYgKHZhbHVlICsgMSA+PSBUV09fUFdSXzYzX0RCTClcbiAgICAgIHJldHVybiBNQVhfVkFMVUU7XG4gIH1cbiAgaWYgKHZhbHVlIDwgMClcbiAgICByZXR1cm4gZnJvbU51bWJlcigtdmFsdWUsIHVuc2lnbmVkKS5uZWcoKTtcbiAgcmV0dXJuIGZyb21CaXRzKCh2YWx1ZSAlIFRXT19QV1JfMzJfREJMKSB8IDAsICh2YWx1ZSAvIFRXT19QV1JfMzJfREJMKSB8IDAsIHVuc2lnbmVkKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIHZhbHVlLCBwcm92aWRlZCB0aGF0IGl0IGlzIGEgZmluaXRlIG51bWJlci4gT3RoZXJ3aXNlLCB6ZXJvIGlzIHJldHVybmVkLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIG51bWJlciBpbiBxdWVzdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXG4gKi9cbkxvbmcuZnJvbU51bWJlciA9IGZyb21OdW1iZXI7XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGxvd0JpdHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoQml0c1xuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG5mdW5jdGlvbiBmcm9tQml0cyhsb3dCaXRzLCBoaWdoQml0cywgdW5zaWduZWQpIHtcbiAgcmV0dXJuIG5ldyBMb25nKGxvd0JpdHMsIGhpZ2hCaXRzLCB1bnNpZ25lZCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50aW5nIHRoZSA2NCBiaXQgaW50ZWdlciB0aGF0IGNvbWVzIGJ5IGNvbmNhdGVuYXRpbmcgdGhlIGdpdmVuIGxvdyBhbmQgaGlnaCBiaXRzLiBFYWNoIGlzXG4gKiAgYXNzdW1lZCB0byB1c2UgMzIgYml0cy5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IGxvd0JpdHMgVGhlIGxvdyAzMiBiaXRzXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaEJpdHMgVGhlIGhpZ2ggMzIgYml0c1xuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXG4gKi9cbkxvbmcuZnJvbUJpdHMgPSBmcm9tQml0cztcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBiYXNlXG4gKiBAcGFyYW0ge251bWJlcn0gZXhwb25lbnRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKiBAaW5uZXJcbiAqL1xudmFyIHBvd19kYmwgPSBNYXRoLnBvdzsgLy8gVXNlZCA0IHRpbWVzICg0KjggdG8gMTUrNClcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcGFyYW0geyhib29sZWFufG51bWJlcik9fSB1bnNpZ25lZFxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeFxuICogQHJldHVybnMgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbmZ1bmN0aW9uIGZyb21TdHJpbmcoc3RyLCB1bnNpZ25lZCwgcmFkaXgpIHtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApXG4gICAgdGhyb3cgRXJyb3IoJ2VtcHR5IHN0cmluZycpO1xuICBpZiAodHlwZW9mIHVuc2lnbmVkID09PSAnbnVtYmVyJykge1xuICAgIC8vIEZvciBnb29nLm1hdGgubG9uZyBjb21wYXRpYmlsaXR5XG4gICAgcmFkaXggPSB1bnNpZ25lZDtcbiAgICB1bnNpZ25lZCA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHVuc2lnbmVkID0gISF1bnNpZ25lZDtcbiAgfVxuICBpZiAoc3RyID09PSBcIk5hTlwiIHx8IHN0ciA9PT0gXCJJbmZpbml0eVwiIHx8IHN0ciA9PT0gXCIrSW5maW5pdHlcIiB8fCBzdHIgPT09IFwiLUluZmluaXR5XCIpXG4gICAgcmV0dXJuIHVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xuICByYWRpeCA9IHJhZGl4IHx8IDEwO1xuICBpZiAocmFkaXggPCAyIHx8IDM2IDwgcmFkaXgpXG4gICAgdGhyb3cgUmFuZ2VFcnJvcigncmFkaXgnKTtcblxuICB2YXIgcDtcbiAgaWYgKChwID0gc3RyLmluZGV4T2YoJy0nKSkgPiAwKVxuICAgIHRocm93IEVycm9yKCdpbnRlcmlvciBoeXBoZW4nKTtcbiAgZWxzZSBpZiAocCA9PT0gMCkge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHN0ci5zdWJzdHJpbmcoMSksIHVuc2lnbmVkLCByYWRpeCkubmVnKCk7XG4gIH1cblxuICAvLyBEbyBzZXZlcmFsICg4KSBkaWdpdHMgZWFjaCB0aW1lIHRocm91Z2ggdGhlIGxvb3AsIHNvIGFzIHRvXG4gIC8vIG1pbmltaXplIHRoZSBjYWxscyB0byB0aGUgdmVyeSBleHBlbnNpdmUgZW11bGF0ZWQgZGl2LlxuICB2YXIgcmFkaXhUb1Bvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCA4KSk7XG5cbiAgdmFyIHJlc3VsdCA9IFpFUk87XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSA4KSB7XG4gICAgdmFyIHNpemUgPSBNYXRoLm1pbig4LCBzdHIubGVuZ3RoIC0gaSksXG4gICAgICB2YWx1ZSA9IHBhcnNlSW50KHN0ci5zdWJzdHJpbmcoaSwgaSArIHNpemUpLCByYWRpeCk7XG4gICAgaWYgKHNpemUgPCA4KSB7XG4gICAgICB2YXIgcG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIHNpemUpKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWwocG93ZXIpLmFkZChmcm9tTnVtYmVyKHZhbHVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWwocmFkaXhUb1Bvd2VyKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5hZGQoZnJvbU51bWJlcih2YWx1ZSkpO1xuICAgIH1cbiAgfVxuICByZXN1bHQudW5zaWduZWQgPSB1bnNpZ25lZDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gc3RyaW5nLCB3cml0dGVuIHVzaW5nIHRoZSBzcGVjaWZpZWQgcmFkaXguXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgVGhlIHRleHR1YWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIExvbmdcbiAqIEBwYXJhbSB7KGJvb2xlYW58bnVtYmVyKT19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAqIEBwYXJhbSB7bnVtYmVyPX0gcmFkaXggVGhlIHJhZGl4IGluIHdoaWNoIHRoZSB0ZXh0IGlzIHdyaXR0ZW4gKDItMzYpLCBkZWZhdWx0cyB0byAxMFxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXG4gKi9cbkxvbmcuZnJvbVN0cmluZyA9IGZyb21TdHJpbmc7XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd8IXtsb3c6IG51bWJlciwgaGlnaDogbnVtYmVyLCB1bnNpZ25lZDogYm9vbGVhbn19IHZhbFxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG5mdW5jdGlvbiBmcm9tVmFsdWUodmFsLCB1bnNpZ25lZCkge1xuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpXG4gICAgcmV0dXJuIGZyb21OdW1iZXIodmFsLCB1bnNpZ25lZCk7XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJylcbiAgICByZXR1cm4gZnJvbVN0cmluZyh2YWwsIHVuc2lnbmVkKTtcbiAgLy8gVGhyb3dzIGZvciBub24tb2JqZWN0cywgY29udmVydHMgbm9uLWluc3RhbmNlb2YgTG9uZzpcbiAgcmV0dXJuIGZyb21CaXRzKHZhbC5sb3csIHZhbC5oaWdoLCB0eXBlb2YgdW5zaWduZWQgPT09ICdib29sZWFuJyA/IHVuc2lnbmVkIDogdmFsLnVuc2lnbmVkKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHZhbHVlIHRvIGEgTG9uZyB1c2luZyB0aGUgYXBwcm9wcmlhdGUgZnJvbSogZnVuY3Rpb24gZm9yIGl0cyB0eXBlLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd8IXtsb3c6IG51bWJlciwgaGlnaDogbnVtYmVyLCB1bnNpZ25lZDogYm9vbGVhbn19IHZhbCBWYWx1ZVxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQHJldHVybnMgeyFMb25nfVxuICovXG5Mb25nLmZyb21WYWx1ZSA9IGZyb21WYWx1ZTtcblxuLy8gTk9URTogdGhlIGNvbXBpbGVyIHNob3VsZCBpbmxpbmUgdGhlc2UgY29uc3RhbnQgdmFsdWVzIGJlbG93IGFuZCB0aGVuIHJlbW92ZSB0aGVzZSB2YXJpYWJsZXMsIHNvIHRoZXJlIHNob3VsZCBiZVxuLy8gbm8gcnVudGltZSBwZW5hbHR5IGZvciB0aGVzZS5cblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKiBAaW5uZXJcbiAqL1xudmFyIFRXT19QV1JfMTZfREJMID0gMSA8PCAxNjtcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKiBAaW5uZXJcbiAqL1xudmFyIFRXT19QV1JfMjRfREJMID0gMSA8PCAyNDtcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKiBAaW5uZXJcbiAqL1xudmFyIFRXT19QV1JfMzJfREJMID0gVFdPX1BXUl8xNl9EQkwgKiBUV09fUFdSXzE2X0RCTDtcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKiBAaW5uZXJcbiAqL1xudmFyIFRXT19QV1JfNjRfREJMID0gVFdPX1BXUl8zMl9EQkwgKiBUV09fUFdSXzMyX0RCTDtcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKiBAaW5uZXJcbiAqL1xudmFyIFRXT19QV1JfNjNfREJMID0gVFdPX1BXUl82NF9EQkwgLyAyO1xuXG4vKipcbiAqIEB0eXBlIHshTG9uZ31cbiAqIEBjb25zdFxuICogQGlubmVyXG4gKi9cbnZhciBUV09fUFdSXzI0ID0gZnJvbUludChUV09fUFdSXzI0X0RCTCk7XG5cbi8qKlxuICogQHR5cGUgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbnZhciBaRVJPID0gZnJvbUludCgwKTtcblxuLyoqXG4gKiBTaWduZWQgemVyby5cbiAqIEB0eXBlIHshTG9uZ31cbiAqL1xuTG9uZy5aRVJPID0gWkVSTztcblxuLyoqXG4gKiBAdHlwZSB7IUxvbmd9XG4gKiBAaW5uZXJcbiAqL1xudmFyIFVaRVJPID0gZnJvbUludCgwLCB0cnVlKTtcblxuLyoqXG4gKiBVbnNpZ25lZCB6ZXJvLlxuICogQHR5cGUgeyFMb25nfVxuICovXG5Mb25nLlVaRVJPID0gVVpFUk87XG5cbi8qKlxuICogQHR5cGUgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbnZhciBPTkUgPSBmcm9tSW50KDEpO1xuXG4vKipcbiAqIFNpZ25lZCBvbmUuXG4gKiBAdHlwZSB7IUxvbmd9XG4gKi9cbkxvbmcuT05FID0gT05FO1xuXG4vKipcbiAqIEB0eXBlIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG52YXIgVU9ORSA9IGZyb21JbnQoMSwgdHJ1ZSk7XG5cbi8qKlxuICogVW5zaWduZWQgb25lLlxuICogQHR5cGUgeyFMb25nfVxuICovXG5Mb25nLlVPTkUgPSBVT05FO1xuXG4vKipcbiAqIEB0eXBlIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG52YXIgTkVHX09ORSA9IGZyb21JbnQoLTEpO1xuXG4vKipcbiAqIFNpZ25lZCBuZWdhdGl2ZSBvbmUuXG4gKiBAdHlwZSB7IUxvbmd9XG4gKi9cbkxvbmcuTkVHX09ORSA9IE5FR19PTkU7XG5cbi8qKlxuICogQHR5cGUgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbnZhciBNQVhfVkFMVUUgPSBmcm9tQml0cygweEZGRkZGRkZGIHwgMCwgMHg3RkZGRkZGRiB8IDAsIGZhbHNlKTtcblxuLyoqXG4gKiBNYXhpbXVtIHNpZ25lZCB2YWx1ZS5cbiAqIEB0eXBlIHshTG9uZ31cbiAqL1xuTG9uZy5NQVhfVkFMVUUgPSBNQVhfVkFMVUU7XG5cbi8qKlxuICogQHR5cGUgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbnZhciBNQVhfVU5TSUdORURfVkFMVUUgPSBmcm9tQml0cygweEZGRkZGRkZGIHwgMCwgMHhGRkZGRkZGRiB8IDAsIHRydWUpO1xuXG4vKipcbiAqIE1heGltdW0gdW5zaWduZWQgdmFsdWUuXG4gKiBAdHlwZSB7IUxvbmd9XG4gKi9cbkxvbmcuTUFYX1VOU0lHTkVEX1ZBTFVFID0gTUFYX1VOU0lHTkVEX1ZBTFVFO1xuXG4vKipcbiAqIEB0eXBlIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG52YXIgTUlOX1ZBTFVFID0gZnJvbUJpdHMoMCwgMHg4MDAwMDAwMCB8IDAsIGZhbHNlKTtcblxuLyoqXG4gKiBNaW5pbXVtIHNpZ25lZCB2YWx1ZS5cbiAqIEB0eXBlIHshTG9uZ31cbiAqL1xuTG9uZy5NSU5fVkFMVUUgPSBNSU5fVkFMVUU7XG5cbi8qKlxuICogQGFsaWFzIExvbmcucHJvdG90eXBlXG4gKiBAaW5uZXJcbiAqL1xudmFyIExvbmdQcm90b3R5cGUgPSBMb25nLnByb3RvdHlwZTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgTG9uZyB0byBhIDMyIGJpdCBpbnRlZ2VyLCBhc3N1bWluZyBpdCBpcyBhIDMyIGJpdCBpbnRlZ2VyLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS50b0ludCA9IGZ1bmN0aW9uIHRvSW50KCkge1xuICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IHRoaXMubG93ID4+PiAwIDogdGhpcy5sb3c7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBMb25nIHRvIGEgdGhlIG5lYXJlc3QgZmxvYXRpbmctcG9pbnQgcmVwcmVzZW50YXRpb24gb2YgdGhpcyB2YWx1ZSAoZG91YmxlLCA1MyBiaXQgbWFudGlzc2EpLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS50b051bWJlciA9IGZ1bmN0aW9uIHRvTnVtYmVyKCkge1xuICBpZiAodGhpcy51bnNpZ25lZClcbiAgICByZXR1cm4gKCh0aGlzLmhpZ2ggPj4+IDApICogVFdPX1BXUl8zMl9EQkwpICsgKHRoaXMubG93ID4+PiAwKTtcbiAgcmV0dXJuIHRoaXMuaGlnaCAqIFRXT19QV1JfMzJfREJMICsgKHRoaXMubG93ID4+PiAwKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIExvbmcgdG8gYSBzdHJpbmcgd3JpdHRlbiBpbiB0aGUgc3BlY2lmaWVkIHJhZGl4LlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeCBSYWRpeCAoMi0zNiksIGRlZmF1bHRzIHRvIDEwXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQG92ZXJyaWRlXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBJZiBgcmFkaXhgIGlzIG91dCBvZiByYW5nZVxuICovXG5Mb25nUHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcocmFkaXgpIHtcbiAgcmFkaXggPSByYWRpeCB8fCAxMDtcbiAgaWYgKHJhZGl4IDwgMiB8fCAzNiA8IHJhZGl4KVxuICAgIHRocm93IFJhbmdlRXJyb3IoJ3JhZGl4Jyk7XG4gIGlmICh0aGlzLmlzWmVybygpKVxuICAgIHJldHVybiAnMCc7XG4gIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkgeyAvLyBVbnNpZ25lZCBMb25ncyBhcmUgbmV2ZXIgbmVnYXRpdmVcbiAgICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGNoYW5nZSB0aGUgTG9uZyB2YWx1ZSBiZWZvcmUgaXQgY2FuIGJlIG5lZ2F0ZWQsIHNvIHdlIHJlbW92ZVxuICAgICAgLy8gdGhlIGJvdHRvbS1tb3N0IGRpZ2l0IGluIHRoaXMgYmFzZSBhbmQgdGhlbiByZWN1cnNlIHRvIGRvIHRoZSByZXN0LlxuICAgICAgdmFyIHJhZGl4TG9uZyA9IGZyb21OdW1iZXIocmFkaXgpLFxuICAgICAgICBkaXYgPSB0aGlzLmRpdihyYWRpeExvbmcpLFxuICAgICAgICByZW0xID0gZGl2Lm11bChyYWRpeExvbmcpLnN1Yih0aGlzKTtcbiAgICAgIHJldHVybiBkaXYudG9TdHJpbmcocmFkaXgpICsgcmVtMS50b0ludCgpLnRvU3RyaW5nKHJhZGl4KTtcbiAgICB9IGVsc2VcbiAgICAgIHJldHVybiAnLScgKyB0aGlzLm5lZygpLnRvU3RyaW5nKHJhZGl4KTtcbiAgfVxuXG4gIC8vIERvIHNldmVyYWwgKDYpIGRpZ2l0cyBlYWNoIHRpbWUgdGhyb3VnaCB0aGUgbG9vcCwgc28gYXMgdG9cbiAgLy8gbWluaW1pemUgdGhlIGNhbGxzIHRvIHRoZSB2ZXJ5IGV4cGVuc2l2ZSBlbXVsYXRlZCBkaXYuXG4gIHZhciByYWRpeFRvUG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIDYpLCB0aGlzLnVuc2lnbmVkKSxcbiAgICByZW0gPSB0aGlzO1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIHJlbURpdiA9IHJlbS5kaXYocmFkaXhUb1Bvd2VyKSxcbiAgICAgIGludHZhbCA9IHJlbS5zdWIocmVtRGl2Lm11bChyYWRpeFRvUG93ZXIpKS50b0ludCgpID4+PiAwLFxuICAgICAgZGlnaXRzID0gaW50dmFsLnRvU3RyaW5nKHJhZGl4KTtcbiAgICByZW0gPSByZW1EaXY7XG4gICAgaWYgKHJlbS5pc1plcm8oKSlcbiAgICAgIHJldHVybiBkaWdpdHMgKyByZXN1bHQ7XG4gICAgZWxzZSB7XG4gICAgICB3aGlsZSAoZGlnaXRzLmxlbmd0aCA8IDYpXG4gICAgICAgIGRpZ2l0cyA9ICcwJyArIGRpZ2l0cztcbiAgICAgIHJlc3VsdCA9ICcnICsgZGlnaXRzICsgcmVzdWx0O1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBoaWdoIDMyIGJpdHMgYXMgYSBzaWduZWQgaW50ZWdlci5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFNpZ25lZCBoaWdoIGJpdHNcbiAqL1xuTG9uZ1Byb3RvdHlwZS5nZXRIaWdoQml0cyA9IGZ1bmN0aW9uIGdldEhpZ2hCaXRzKCkge1xuICByZXR1cm4gdGhpcy5oaWdoO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBoaWdoIDMyIGJpdHMgYXMgYW4gdW5zaWduZWQgaW50ZWdlci5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFVuc2lnbmVkIGhpZ2ggYml0c1xuICovXG5Mb25nUHJvdG90eXBlLmdldEhpZ2hCaXRzVW5zaWduZWQgPSBmdW5jdGlvbiBnZXRIaWdoQml0c1Vuc2lnbmVkKCkge1xuICByZXR1cm4gdGhpcy5oaWdoID4+PiAwO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBsb3cgMzIgYml0cyBhcyBhIHNpZ25lZCBpbnRlZ2VyLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge251bWJlcn0gU2lnbmVkIGxvdyBiaXRzXG4gKi9cbkxvbmdQcm90b3R5cGUuZ2V0TG93Qml0cyA9IGZ1bmN0aW9uIGdldExvd0JpdHMoKSB7XG4gIHJldHVybiB0aGlzLmxvdztcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgbG93IDMyIGJpdHMgYXMgYW4gdW5zaWduZWQgaW50ZWdlci5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFVuc2lnbmVkIGxvdyBiaXRzXG4gKi9cbkxvbmdQcm90b3R5cGUuZ2V0TG93Qml0c1Vuc2lnbmVkID0gZnVuY3Rpb24gZ2V0TG93Qml0c1Vuc2lnbmVkKCkge1xuICByZXR1cm4gdGhpcy5sb3cgPj4+IDA7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIG51bWJlciBvZiBiaXRzIG5lZWRlZCB0byByZXByZXNlbnQgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgTG9uZy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbkxvbmdQcm90b3R5cGUuZ2V0TnVtQml0c0FicyA9IGZ1bmN0aW9uIGdldE51bUJpdHNBYnMoKSB7XG4gIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkgLy8gVW5zaWduZWQgTG9uZ3MgYXJlIG5ldmVyIG5lZ2F0aXZlXG4gICAgcmV0dXJuIHRoaXMuZXEoTUlOX1ZBTFVFKSA/IDY0IDogdGhpcy5uZWcoKS5nZXROdW1CaXRzQWJzKCk7XG4gIHZhciB2YWwgPSB0aGlzLmhpZ2ggIT0gMCA/IHRoaXMuaGlnaCA6IHRoaXMubG93O1xuICBmb3IgKHZhciBiaXQgPSAzMTsgYml0ID4gMDsgYml0LS0pXG4gICAgaWYgKCh2YWwgJiAoMSA8PCBiaXQpKSAhPSAwKVxuICAgICAgYnJlYWs7XG4gIHJldHVybiB0aGlzLmhpZ2ggIT0gMCA/IGJpdCArIDMzIDogYml0ICsgMTtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZXF1YWxzIHplcm8uXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5pc1plcm8gPSBmdW5jdGlvbiBpc1plcm8oKSB7XG4gIHJldHVybiB0aGlzLmhpZ2ggPT09IDAgJiYgdGhpcy5sb3cgPT09IDA7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB6ZXJvLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2lzWmVyb30uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5lcXogPSBMb25nUHJvdG90eXBlLmlzWmVybztcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBuZWdhdGl2ZS5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmlzTmVnYXRpdmUgPSBmdW5jdGlvbiBpc05lZ2F0aXZlKCkge1xuICByZXR1cm4gIXRoaXMudW5zaWduZWQgJiYgdGhpcy5oaWdoIDwgMDtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgcG9zaXRpdmUgb3IgemVyby5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmlzUG9zaXRpdmUgPSBmdW5jdGlvbiBpc1Bvc2l0aXZlKCkge1xuICByZXR1cm4gdGhpcy51bnNpZ25lZCB8fCB0aGlzLmhpZ2ggPj0gMDtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgb2RkLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuaXNPZGQgPSBmdW5jdGlvbiBpc09kZCgpIHtcbiAgcmV0dXJuICh0aGlzLmxvdyAmIDEpID09PSAxO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBldmVuLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuaXNFdmVuID0gZnVuY3Rpb24gaXNFdmVuKCkge1xuICByZXR1cm4gKHRoaXMubG93ICYgMSkgPT09IDA7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB0aGUgc3BlY2lmaWVkJ3MuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgaWYgKCFpc0xvbmcob3RoZXIpKVxuICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgaWYgKHRoaXMudW5zaWduZWQgIT09IG90aGVyLnVuc2lnbmVkICYmICh0aGlzLmhpZ2ggPj4+IDMxKSA9PT0gMSAmJiAob3RoZXIuaGlnaCA+Pj4gMzEpID09PSAxKVxuICAgIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHRoaXMuaGlnaCA9PT0gb3RoZXIuaGlnaCAmJiB0aGlzLmxvdyA9PT0gb3RoZXIubG93O1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2VxdWFsc30uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmVxID0gTG9uZ1Byb3RvdHlwZS5lcXVhbHM7XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBzcGVjaWZpZWQncy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLm5vdEVxdWFscyA9IGZ1bmN0aW9uIG5vdEVxdWFscyhvdGhlcikge1xuICByZXR1cm4gIXRoaXMuZXEoLyogdmFsaWRhdGVzICovIG90aGVyKTtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNub3RFcXVhbHN9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5uZXEgPSBMb25nUHJvdG90eXBlLm5vdEVxdWFscztcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25vdEVxdWFsc30uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLm5lID0gTG9uZ1Byb3RvdHlwZS5ub3RFcXVhbHM7XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIHRoZSBzcGVjaWZpZWQncy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmxlc3NUaGFuID0gZnVuY3Rpb24gbGVzc1RoYW4ob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMuY29tcCgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpIDwgMDtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNsZXNzVGhhbn0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmx0ID0gTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbjtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsID0gZnVuY3Rpb24gbGVzc1RoYW5PckVxdWFsKG90aGVyKSB7XG4gIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA8PSAwO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2xlc3NUaGFuT3JFcXVhbH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmx0ZSA9IExvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsO1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbGVzc1RoYW5PckVxdWFsfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUubGUgPSBMb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbDtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIHNwZWNpZmllZCdzLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW4gPSBmdW5jdGlvbiBncmVhdGVyVGhhbihvdGhlcikge1xuICByZXR1cm4gdGhpcy5jb21wKC8qIHZhbGlkYXRlcyAqLyBvdGhlcikgPiAwO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFufS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZ3QgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuO1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbk9yRXF1YWwgPSBmdW5jdGlvbiBncmVhdGVyVGhhbk9yRXF1YWwob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMuY29tcCgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpID49IDA7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZ3JlYXRlclRoYW5PckVxdWFsfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZ3RlID0gTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbk9yRXF1YWw7XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNncmVhdGVyVGhhbk9yRXF1YWx9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5nZSA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsO1xuXG4vKipcbiAqIENvbXBhcmVzIHRoaXMgTG9uZydzIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCdzLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn0gMCBpZiB0aGV5IGFyZSB0aGUgc2FtZSwgMSBpZiB0aGUgdGhpcyBpcyBncmVhdGVyIGFuZCAtMVxuICogIGlmIHRoZSBnaXZlbiBvbmUgaXMgZ3JlYXRlclxuICovXG5Mb25nUHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlKG90aGVyKSB7XG4gIGlmICghaXNMb25nKG90aGVyKSlcbiAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XG4gIGlmICh0aGlzLmVxKG90aGVyKSlcbiAgICByZXR1cm4gMDtcbiAgdmFyIHRoaXNOZWcgPSB0aGlzLmlzTmVnYXRpdmUoKSxcbiAgICBvdGhlck5lZyA9IG90aGVyLmlzTmVnYXRpdmUoKTtcbiAgaWYgKHRoaXNOZWcgJiYgIW90aGVyTmVnKVxuICAgIHJldHVybiAtMTtcbiAgaWYgKCF0aGlzTmVnICYmIG90aGVyTmVnKVxuICAgIHJldHVybiAxO1xuICAvLyBBdCB0aGlzIHBvaW50IHRoZSBzaWduIGJpdHMgYXJlIHRoZSBzYW1lXG4gIGlmICghdGhpcy51bnNpZ25lZClcbiAgICByZXR1cm4gdGhpcy5zdWIob3RoZXIpLmlzTmVnYXRpdmUoKSA/IC0xIDogMTtcbiAgLy8gQm90aCBhcmUgcG9zaXRpdmUgaWYgYXQgbGVhc3Qgb25lIGlzIHVuc2lnbmVkXG4gIHJldHVybiAob3RoZXIuaGlnaCA+Pj4gMCkgPiAodGhpcy5oaWdoID4+PiAwKSB8fCAob3RoZXIuaGlnaCA9PT0gdGhpcy5oaWdoICYmIChvdGhlci5sb3cgPj4+IDApID4gKHRoaXMubG93ID4+PiAwKSkgPyAtMSA6IDE7XG59O1xuXG4vKipcbiAqIENvbXBhcmVzIHRoaXMgTG9uZydzIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2NvbXBhcmV9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIHRoZXkgYXJlIHRoZSBzYW1lLCAxIGlmIHRoZSB0aGlzIGlzIGdyZWF0ZXIgYW5kIC0xXG4gKiAgaWYgdGhlIGdpdmVuIG9uZSBpcyBncmVhdGVyXG4gKi9cbkxvbmdQcm90b3R5cGUuY29tcCA9IExvbmdQcm90b3R5cGUuY29tcGFyZTtcblxuLyoqXG4gKiBOZWdhdGVzIHRoaXMgTG9uZydzIHZhbHVlLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMgeyFMb25nfSBOZWdhdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5uZWdhdGUgPSBmdW5jdGlvbiBuZWdhdGUoKSB7XG4gIGlmICghdGhpcy51bnNpZ25lZCAmJiB0aGlzLmVxKE1JTl9WQUxVRSkpXG4gICAgcmV0dXJuIE1JTl9WQUxVRTtcbiAgcmV0dXJuIHRoaXMubm90KCkuYWRkKE9ORSk7XG59O1xuXG4vKipcbiAqIE5lZ2F0ZXMgdGhpcyBMb25nJ3MgdmFsdWUuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbmVnYXRlfS5cbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMgeyFMb25nfSBOZWdhdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5uZWcgPSBMb25nUHJvdG90eXBlLm5lZ2F0ZTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdW0gb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBhZGRlbmQgQWRkZW5kXG4gKiBAcmV0dXJucyB7IUxvbmd9IFN1bVxuICovXG5Mb25nUHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChhZGRlbmQpIHtcbiAgaWYgKCFpc0xvbmcoYWRkZW5kKSlcbiAgICBhZGRlbmQgPSBmcm9tVmFsdWUoYWRkZW5kKTtcblxuICAvLyBEaXZpZGUgZWFjaCBudW1iZXIgaW50byA0IGNodW5rcyBvZiAxNiBiaXRzLCBhbmQgdGhlbiBzdW0gdGhlIGNodW5rcy5cblxuICB2YXIgYTQ4ID0gdGhpcy5oaWdoID4+PiAxNjtcbiAgdmFyIGEzMiA9IHRoaXMuaGlnaCAmIDB4RkZGRjtcbiAgdmFyIGExNiA9IHRoaXMubG93ID4+PiAxNjtcbiAgdmFyIGEwMCA9IHRoaXMubG93ICYgMHhGRkZGO1xuXG4gIHZhciBiNDggPSBhZGRlbmQuaGlnaCA+Pj4gMTY7XG4gIHZhciBiMzIgPSBhZGRlbmQuaGlnaCAmIDB4RkZGRjtcbiAgdmFyIGIxNiA9IGFkZGVuZC5sb3cgPj4+IDE2O1xuICB2YXIgYjAwID0gYWRkZW5kLmxvdyAmIDB4RkZGRjtcblxuICB2YXIgYzQ4ID0gMCwgYzMyID0gMCwgYzE2ID0gMCwgYzAwID0gMDtcbiAgYzAwICs9IGEwMCArIGIwMDtcbiAgYzE2ICs9IGMwMCA+Pj4gMTY7XG4gIGMwMCAmPSAweEZGRkY7XG4gIGMxNiArPSBhMTYgKyBiMTY7XG4gIGMzMiArPSBjMTYgPj4+IDE2O1xuICBjMTYgJj0gMHhGRkZGO1xuICBjMzIgKz0gYTMyICsgYjMyO1xuICBjNDggKz0gYzMyID4+PiAxNjtcbiAgYzMyICY9IDB4RkZGRjtcbiAgYzQ4ICs9IGE0OCArIGI0ODtcbiAgYzQ4ICY9IDB4RkZGRjtcbiAgcmV0dXJuIGZyb21CaXRzKChjMTYgPDwgMTYpIHwgYzAwLCAoYzQ4IDw8IDE2KSB8IGMzMiwgdGhpcy51bnNpZ25lZCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRpZmZlcmVuY2Ugb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBzdWJ0cmFoZW5kIFN1YnRyYWhlbmRcbiAqIEByZXR1cm5zIHshTG9uZ30gRGlmZmVyZW5jZVxuICovXG5Mb25nUHJvdG90eXBlLnN1YnRyYWN0ID0gZnVuY3Rpb24gc3VidHJhY3Qoc3VidHJhaGVuZCkge1xuICBpZiAoIWlzTG9uZyhzdWJ0cmFoZW5kKSlcbiAgICBzdWJ0cmFoZW5kID0gZnJvbVZhbHVlKHN1YnRyYWhlbmQpO1xuICByZXR1cm4gdGhpcy5hZGQoc3VidHJhaGVuZC5uZWcoKSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRpZmZlcmVuY2Ugb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3N1YnRyYWN0fS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBzdWJ0cmFoZW5kIFN1YnRyYWhlbmRcbiAqIEByZXR1cm5zIHshTG9uZ30gRGlmZmVyZW5jZVxuICovXG5Mb25nUHJvdG90eXBlLnN1YiA9IExvbmdQcm90b3R5cGUuc3VidHJhY3Q7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcHJvZHVjdCBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG11bHRpcGxpZXIgTXVsdGlwbGllclxuICogQHJldHVybnMgeyFMb25nfSBQcm9kdWN0XG4gKi9cbkxvbmdQcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiBtdWx0aXBseShtdWx0aXBsaWVyKSB7XG4gIGlmICh0aGlzLmlzWmVybygpKVxuICAgIHJldHVybiB0aGlzO1xuICBpZiAoIWlzTG9uZyhtdWx0aXBsaWVyKSlcbiAgICBtdWx0aXBsaWVyID0gZnJvbVZhbHVlKG11bHRpcGxpZXIpO1xuXG4gIC8vIHVzZSB3YXNtIHN1cHBvcnQgaWYgcHJlc2VudFxuICBpZiAod2FzbSkge1xuICAgIHZhciBsb3cgPSB3YXNtW1wibXVsXCJdKHRoaXMubG93LFxuICAgICAgdGhpcy5oaWdoLFxuICAgICAgbXVsdGlwbGllci5sb3csXG4gICAgICBtdWx0aXBsaWVyLmhpZ2gpO1xuICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc21bXCJnZXRfaGlnaFwiXSgpLCB0aGlzLnVuc2lnbmVkKTtcbiAgfVxuXG4gIGlmIChtdWx0aXBsaWVyLmlzWmVybygpKVxuICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xuICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKVxuICAgIHJldHVybiBtdWx0aXBsaWVyLmlzT2RkKCkgPyBNSU5fVkFMVUUgOiBaRVJPO1xuICBpZiAobXVsdGlwbGllci5lcShNSU5fVkFMVUUpKVxuICAgIHJldHVybiB0aGlzLmlzT2RkKCkgPyBNSU5fVkFMVUUgOiBaRVJPO1xuXG4gIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkge1xuICAgIGlmIChtdWx0aXBsaWVyLmlzTmVnYXRpdmUoKSlcbiAgICAgIHJldHVybiB0aGlzLm5lZygpLm11bChtdWx0aXBsaWVyLm5lZygpKTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gdGhpcy5uZWcoKS5tdWwobXVsdGlwbGllcikubmVnKCk7XG4gIH0gZWxzZSBpZiAobXVsdGlwbGllci5pc05lZ2F0aXZlKCkpXG4gICAgcmV0dXJuIHRoaXMubXVsKG11bHRpcGxpZXIubmVnKCkpLm5lZygpO1xuXG4gIC8vIElmIGJvdGggbG9uZ3MgYXJlIHNtYWxsLCB1c2UgZmxvYXQgbXVsdGlwbGljYXRpb25cbiAgaWYgKHRoaXMubHQoVFdPX1BXUl8yNCkgJiYgbXVsdGlwbGllci5sdChUV09fUFdSXzI0KSlcbiAgICByZXR1cm4gZnJvbU51bWJlcih0aGlzLnRvTnVtYmVyKCkgKiBtdWx0aXBsaWVyLnRvTnVtYmVyKCksIHRoaXMudW5zaWduZWQpO1xuXG4gIC8vIERpdmlkZSBlYWNoIGxvbmcgaW50byA0IGNodW5rcyBvZiAxNiBiaXRzLCBhbmQgdGhlbiBhZGQgdXAgNHg0IHByb2R1Y3RzLlxuICAvLyBXZSBjYW4gc2tpcCBwcm9kdWN0cyB0aGF0IHdvdWxkIG92ZXJmbG93LlxuXG4gIHZhciBhNDggPSB0aGlzLmhpZ2ggPj4+IDE2O1xuICB2YXIgYTMyID0gdGhpcy5oaWdoICYgMHhGRkZGO1xuICB2YXIgYTE2ID0gdGhpcy5sb3cgPj4+IDE2O1xuICB2YXIgYTAwID0gdGhpcy5sb3cgJiAweEZGRkY7XG5cbiAgdmFyIGI0OCA9IG11bHRpcGxpZXIuaGlnaCA+Pj4gMTY7XG4gIHZhciBiMzIgPSBtdWx0aXBsaWVyLmhpZ2ggJiAweEZGRkY7XG4gIHZhciBiMTYgPSBtdWx0aXBsaWVyLmxvdyA+Pj4gMTY7XG4gIHZhciBiMDAgPSBtdWx0aXBsaWVyLmxvdyAmIDB4RkZGRjtcblxuICB2YXIgYzQ4ID0gMCwgYzMyID0gMCwgYzE2ID0gMCwgYzAwID0gMDtcbiAgYzAwICs9IGEwMCAqIGIwMDtcbiAgYzE2ICs9IGMwMCA+Pj4gMTY7XG4gIGMwMCAmPSAweEZGRkY7XG4gIGMxNiArPSBhMTYgKiBiMDA7XG4gIGMzMiArPSBjMTYgPj4+IDE2O1xuICBjMTYgJj0gMHhGRkZGO1xuICBjMTYgKz0gYTAwICogYjE2O1xuICBjMzIgKz0gYzE2ID4+PiAxNjtcbiAgYzE2ICY9IDB4RkZGRjtcbiAgYzMyICs9IGEzMiAqIGIwMDtcbiAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gIGMzMiAmPSAweEZGRkY7XG4gIGMzMiArPSBhMTYgKiBiMTY7XG4gIGM0OCArPSBjMzIgPj4+IDE2O1xuICBjMzIgJj0gMHhGRkZGO1xuICBjMzIgKz0gYTAwICogYjMyO1xuICBjNDggKz0gYzMyID4+PiAxNjtcbiAgYzMyICY9IDB4RkZGRjtcbiAgYzQ4ICs9IGE0OCAqIGIwMCArIGEzMiAqIGIxNiArIGExNiAqIGIzMiArIGEwMCAqIGI0ODtcbiAgYzQ4ICY9IDB4RkZGRjtcbiAgcmV0dXJuIGZyb21CaXRzKChjMTYgPDwgMTYpIHwgYzAwLCAoYzQ4IDw8IDE2KSB8IGMzMiwgdGhpcy51bnNpZ25lZCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHByb2R1Y3Qgb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI211bHRpcGx5fS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBtdWx0aXBsaWVyIE11bHRpcGxpZXJcbiAqIEByZXR1cm5zIHshTG9uZ30gUHJvZHVjdFxuICovXG5Mb25nUHJvdG90eXBlLm11bCA9IExvbmdQcm90b3R5cGUubXVsdGlwbHk7XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgZGl2aWRlZCBieSB0aGUgc3BlY2lmaWVkLiBUaGUgcmVzdWx0IGlzIHNpZ25lZCBpZiB0aGlzIExvbmcgaXMgc2lnbmVkIG9yXG4gKiAgdW5zaWduZWQgaWYgdGhpcyBMb25nIGlzIHVuc2lnbmVkLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcbiAqIEByZXR1cm5zIHshTG9uZ30gUXVvdGllbnRcbiAqL1xuTG9uZ1Byb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUoZGl2aXNvcikge1xuICBpZiAoIWlzTG9uZyhkaXZpc29yKSlcbiAgICBkaXZpc29yID0gZnJvbVZhbHVlKGRpdmlzb3IpO1xuICBpZiAoZGl2aXNvci5pc1plcm8oKSlcbiAgICB0aHJvdyBFcnJvcignZGl2aXNpb24gYnkgemVybycpO1xuXG4gIC8vIHVzZSB3YXNtIHN1cHBvcnQgaWYgcHJlc2VudFxuICBpZiAod2FzbSkge1xuICAgIC8vIGd1YXJkIGFnYWluc3Qgc2lnbmVkIGRpdmlzaW9uIG92ZXJmbG93OiB0aGUgbGFyZ2VzdFxuICAgIC8vIG5lZ2F0aXZlIG51bWJlciAvIC0xIHdvdWxkIGJlIDEgbGFyZ2VyIHRoYW4gdGhlIGxhcmdlc3RcbiAgICAvLyBwb3NpdGl2ZSBudW1iZXIsIGR1ZSB0byB0d28ncyBjb21wbGVtZW50LlxuICAgIGlmICghdGhpcy51bnNpZ25lZCAmJlxuICAgICAgdGhpcy5oaWdoID09PSAtMHg4MDAwMDAwMCAmJlxuICAgICAgZGl2aXNvci5sb3cgPT09IC0xICYmIGRpdmlzb3IuaGlnaCA9PT0gLTEpIHtcbiAgICAgIC8vIGJlIGNvbnNpc3RlbnQgd2l0aCBub24td2FzbSBjb2RlIHBhdGhcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgbG93ID0gKHRoaXMudW5zaWduZWQgPyB3YXNtW1wiZGl2X3VcIl0gOiB3YXNtW1wiZGl2X3NcIl0pKFxuICAgICAgdGhpcy5sb3csXG4gICAgICB0aGlzLmhpZ2gsXG4gICAgICBkaXZpc29yLmxvdyxcbiAgICAgIGRpdmlzb3IuaGlnaFxuICAgICk7XG4gICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbVtcImdldF9oaWdoXCJdKCksIHRoaXMudW5zaWduZWQpO1xuICB9XG5cbiAgaWYgKHRoaXMuaXNaZXJvKCkpXG4gICAgcmV0dXJuIHRoaXMudW5zaWduZWQgPyBVWkVSTyA6IFpFUk87XG4gIHZhciBhcHByb3gsIHJlbSwgcmVzO1xuICBpZiAoIXRoaXMudW5zaWduZWQpIHtcbiAgICAvLyBUaGlzIHNlY3Rpb24gaXMgb25seSByZWxldmFudCBmb3Igc2lnbmVkIGxvbmdzIGFuZCBpcyBkZXJpdmVkIGZyb20gdGhlXG4gICAgLy8gY2xvc3VyZSBsaWJyYXJ5IGFzIGEgd2hvbGUuXG4gICAgaWYgKHRoaXMuZXEoTUlOX1ZBTFVFKSkge1xuICAgICAgaWYgKGRpdmlzb3IuZXEoT05FKSB8fCBkaXZpc29yLmVxKE5FR19PTkUpKVxuICAgICAgICByZXR1cm4gTUlOX1ZBTFVFOyAgLy8gcmVjYWxsIHRoYXQgLU1JTl9WQUxVRSA9PSBNSU5fVkFMVUVcbiAgICAgIGVsc2UgaWYgKGRpdmlzb3IuZXEoTUlOX1ZBTFVFKSlcbiAgICAgICAgcmV0dXJuIE9ORTtcbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBoYXZlIHxvdGhlcnwgPj0gMiwgc28gfHRoaXMvb3RoZXJ8IDwgfE1JTl9WQUxVRXwuXG4gICAgICAgIHZhciBoYWxmVGhpcyA9IHRoaXMuc2hyKDEpO1xuICAgICAgICBhcHByb3ggPSBoYWxmVGhpcy5kaXYoZGl2aXNvcikuc2hsKDEpO1xuICAgICAgICBpZiAoYXBwcm94LmVxKFpFUk8pKSB7XG4gICAgICAgICAgcmV0dXJuIGRpdmlzb3IuaXNOZWdhdGl2ZSgpID8gT05FIDogTkVHX09ORTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW0gPSB0aGlzLnN1YihkaXZpc29yLm11bChhcHByb3gpKTtcbiAgICAgICAgICByZXMgPSBhcHByb3guYWRkKHJlbS5kaXYoZGl2aXNvcikpO1xuICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpdmlzb3IuZXEoTUlOX1ZBTFVFKSlcbiAgICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xuICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkge1xuICAgICAgaWYgKGRpdmlzb3IuaXNOZWdhdGl2ZSgpKVxuICAgICAgICByZXR1cm4gdGhpcy5uZWcoKS5kaXYoZGl2aXNvci5uZWcoKSk7XG4gICAgICByZXR1cm4gdGhpcy5uZWcoKS5kaXYoZGl2aXNvcikubmVnKCk7XG4gICAgfSBlbHNlIGlmIChkaXZpc29yLmlzTmVnYXRpdmUoKSlcbiAgICAgIHJldHVybiB0aGlzLmRpdihkaXZpc29yLm5lZygpKS5uZWcoKTtcbiAgICByZXMgPSBaRVJPO1xuICB9IGVsc2Uge1xuICAgIC8vIFRoZSBhbGdvcml0aG0gYmVsb3cgaGFzIG5vdCBiZWVuIG1hZGUgZm9yIHVuc2lnbmVkIGxvbmdzLiBJdCdzIHRoZXJlZm9yZVxuICAgIC8vIHJlcXVpcmVkIHRvIHRha2Ugc3BlY2lhbCBjYXJlIG9mIHRoZSBNU0IgcHJpb3IgdG8gcnVubmluZyBpdC5cbiAgICBpZiAoIWRpdmlzb3IudW5zaWduZWQpXG4gICAgICBkaXZpc29yID0gZGl2aXNvci50b1Vuc2lnbmVkKCk7XG4gICAgaWYgKGRpdmlzb3IuZ3QodGhpcykpXG4gICAgICByZXR1cm4gVVpFUk87XG4gICAgaWYgKGRpdmlzb3IuZ3QodGhpcy5zaHJ1KDEpKSkgLy8gMTUgPj4+IDEgPSA3IDsgd2l0aCBkaXZpc29yID0gOCA7IHRydWVcbiAgICAgIHJldHVybiBVT05FO1xuICAgIHJlcyA9IFVaRVJPO1xuICB9XG5cbiAgLy8gUmVwZWF0IHRoZSBmb2xsb3dpbmcgdW50aWwgdGhlIHJlbWFpbmRlciBpcyBsZXNzIHRoYW4gb3RoZXI6ICBmaW5kIGFcbiAgLy8gZmxvYXRpbmctcG9pbnQgdGhhdCBhcHByb3hpbWF0ZXMgcmVtYWluZGVyIC8gb3RoZXIgKmZyb20gYmVsb3cqLCBhZGQgdGhpc1xuICAvLyBpbnRvIHRoZSByZXN1bHQsIGFuZCBzdWJ0cmFjdCBpdCBmcm9tIHRoZSByZW1haW5kZXIuICBJdCBpcyBjcml0aWNhbCB0aGF0XG4gIC8vIHRoZSBhcHByb3hpbWF0ZSB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHJlYWwgdmFsdWUgc28gdGhhdCB0aGVcbiAgLy8gcmVtYWluZGVyIG5ldmVyIGJlY29tZXMgbmVnYXRpdmUuXG4gIHJlbSA9IHRoaXM7XG4gIHdoaWxlIChyZW0uZ3RlKGRpdmlzb3IpKSB7XG4gICAgLy8gQXBwcm94aW1hdGUgdGhlIHJlc3VsdCBvZiBkaXZpc2lvbi4gVGhpcyBtYXkgYmUgYSBsaXR0bGUgZ3JlYXRlciBvclxuICAgIC8vIHNtYWxsZXIgdGhhbiB0aGUgYWN0dWFsIHZhbHVlLlxuICAgIGFwcHJveCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IocmVtLnRvTnVtYmVyKCkgLyBkaXZpc29yLnRvTnVtYmVyKCkpKTtcblxuICAgIC8vIFdlIHdpbGwgdHdlYWsgdGhlIGFwcHJveGltYXRlIHJlc3VsdCBieSBjaGFuZ2luZyBpdCBpbiB0aGUgNDgtdGggZGlnaXQgb3JcbiAgICAvLyB0aGUgc21hbGxlc3Qgbm9uLWZyYWN0aW9uYWwgZGlnaXQsIHdoaWNoZXZlciBpcyBsYXJnZXIuXG4gICAgdmFyIGxvZzIgPSBNYXRoLmNlaWwoTWF0aC5sb2coYXBwcm94KSAvIE1hdGguTE4yKSxcbiAgICAgIGRlbHRhID0gKGxvZzIgPD0gNDgpID8gMSA6IHBvd19kYmwoMiwgbG9nMiAtIDQ4KSxcblxuICAgICAgLy8gRGVjcmVhc2UgdGhlIGFwcHJveGltYXRpb24gdW50aWwgaXQgaXMgc21hbGxlciB0aGFuIHRoZSByZW1haW5kZXIuICBOb3RlXG4gICAgICAvLyB0aGF0IGlmIGl0IGlzIHRvbyBsYXJnZSwgdGhlIHByb2R1Y3Qgb3ZlcmZsb3dzIGFuZCBpcyBuZWdhdGl2ZS5cbiAgICAgIGFwcHJveFJlcyA9IGZyb21OdW1iZXIoYXBwcm94KSxcbiAgICAgIGFwcHJveFJlbSA9IGFwcHJveFJlcy5tdWwoZGl2aXNvcik7XG4gICAgd2hpbGUgKGFwcHJveFJlbS5pc05lZ2F0aXZlKCkgfHwgYXBwcm94UmVtLmd0KHJlbSkpIHtcbiAgICAgIGFwcHJveCAtPSBkZWx0YTtcbiAgICAgIGFwcHJveFJlcyA9IGZyb21OdW1iZXIoYXBwcm94LCB0aGlzLnVuc2lnbmVkKTtcbiAgICAgIGFwcHJveFJlbSA9IGFwcHJveFJlcy5tdWwoZGl2aXNvcik7XG4gICAgfVxuXG4gICAgLy8gV2Uga25vdyB0aGUgYW5zd2VyIGNhbid0IGJlIHplcm8uLi4gYW5kIGFjdHVhbGx5LCB6ZXJvIHdvdWxkIGNhdXNlXG4gICAgLy8gaW5maW5pdGUgcmVjdXJzaW9uIHNpbmNlIHdlIHdvdWxkIG1ha2Ugbm8gcHJvZ3Jlc3MuXG4gICAgaWYgKGFwcHJveFJlcy5pc1plcm8oKSlcbiAgICAgIGFwcHJveFJlcyA9IE9ORTtcblxuICAgIHJlcyA9IHJlcy5hZGQoYXBwcm94UmVzKTtcbiAgICByZW0gPSByZW0uc3ViKGFwcHJveFJlbSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgZGl2aWRlZCBieSB0aGUgc3BlY2lmaWVkLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2RpdmlkZX0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXG4gKiBAcmV0dXJucyB7IUxvbmd9IFF1b3RpZW50XG4gKi9cbkxvbmdQcm90b3R5cGUuZGl2ID0gTG9uZ1Byb3RvdHlwZS5kaXZpZGU7XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgbW9kdWxvIHRoZSBzcGVjaWZpZWQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxuICogQHJldHVybnMgeyFMb25nfSBSZW1haW5kZXJcbiAqL1xuTG9uZ1Byb3RvdHlwZS5tb2R1bG8gPSBmdW5jdGlvbiBtb2R1bG8oZGl2aXNvcikge1xuICBpZiAoIWlzTG9uZyhkaXZpc29yKSlcbiAgICBkaXZpc29yID0gZnJvbVZhbHVlKGRpdmlzb3IpO1xuXG4gIC8vIHVzZSB3YXNtIHN1cHBvcnQgaWYgcHJlc2VudFxuICBpZiAod2FzbSkge1xuICAgIHZhciBsb3cgPSAodGhpcy51bnNpZ25lZCA/IHdhc21bXCJyZW1fdVwiXSA6IHdhc21bXCJyZW1fc1wiXSkoXG4gICAgICB0aGlzLmxvdyxcbiAgICAgIHRoaXMuaGlnaCxcbiAgICAgIGRpdmlzb3IubG93LFxuICAgICAgZGl2aXNvci5oaWdoXG4gICAgKTtcbiAgICByZXR1cm4gZnJvbUJpdHMobG93LCB3YXNtW1wiZ2V0X2hpZ2hcIl0oKSwgdGhpcy51bnNpZ25lZCk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5zdWIodGhpcy5kaXYoZGl2aXNvcikubXVsKGRpdmlzb3IpKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgbW9kdWxvIHRoZSBzcGVjaWZpZWQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbW9kdWxvfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXG4gKi9cbkxvbmdQcm90b3R5cGUubW9kID0gTG9uZ1Byb3RvdHlwZS5tb2R1bG87XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgbW9kdWxvIHRoZSBzcGVjaWZpZWQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbW9kdWxvfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXG4gKi9cbkxvbmdQcm90b3R5cGUucmVtID0gTG9uZ1Byb3RvdHlwZS5tb2R1bG87XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYml0d2lzZSBOT1Qgb2YgdGhpcyBMb25nLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMgeyFMb25nfVxuICovXG5Mb25nUHJvdG90eXBlLm5vdCA9IGZ1bmN0aW9uIG5vdCgpIHtcbiAgcmV0dXJuIGZyb21CaXRzKH50aGlzLmxvdywgfnRoaXMuaGlnaCwgdGhpcy51bnNpZ25lZCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgY291bnQgbGVhZGluZyB6ZXJvcyBvZiB0aGlzIExvbmcuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IW51bWJlcn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5jb3VudExlYWRpbmdaZXJvcyA9IGZ1bmN0aW9uIGNvdW50TGVhZGluZ1plcm9zKCkge1xuICByZXR1cm4gdGhpcy5oaWdoID8gTWF0aC5jbHozMih0aGlzLmhpZ2gpIDogTWF0aC5jbHozMih0aGlzLmxvdykgKyAzMjtcbn07XG5cbi8qKlxuICogUmV0dXJucyBjb3VudCBsZWFkaW5nIHplcm9zLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2NvdW50TGVhZGluZ1plcm9zfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ31cbiAqIEByZXR1cm5zIHshbnVtYmVyfVxuICovXG5Mb25nUHJvdG90eXBlLmNseiA9IExvbmdQcm90b3R5cGUuY291bnRMZWFkaW5nWmVyb3M7XG5cbi8qKlxuICogUmV0dXJucyBjb3VudCB0cmFpbGluZyB6ZXJvcyBvZiB0aGlzIExvbmcuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IW51bWJlcn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5jb3VudFRyYWlsaW5nWmVyb3MgPSBmdW5jdGlvbiBjb3VudFRyYWlsaW5nWmVyb3MoKSB7XG4gIHJldHVybiB0aGlzLmxvdyA/IGN0ejMyKHRoaXMubG93KSA6IGN0ejMyKHRoaXMuaGlnaCkgKyAzMjtcbn07XG5cbi8qKlxuICogUmV0dXJucyBjb3VudCB0cmFpbGluZyB6ZXJvcy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNjb3VudFRyYWlsaW5nWmVyb3N9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfVxuICogQHJldHVybnMgeyFudW1iZXJ9XG4gKi9cbkxvbmdQcm90b3R5cGUuY3R6ID0gTG9uZ1Byb3RvdHlwZS5jb3VudFRyYWlsaW5nWmVyb3M7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYml0d2lzZSBBTkQgb2YgdGhpcyBMb25nIGFuZCB0aGUgc3BlY2lmaWVkLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciBMb25nXG4gKiBAcmV0dXJucyB7IUxvbmd9XG4gKi9cbkxvbmdQcm90b3R5cGUuYW5kID0gZnVuY3Rpb24gYW5kKG90aGVyKSB7XG4gIGlmICghaXNMb25nKG90aGVyKSlcbiAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XG4gIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyAmIG90aGVyLmxvdywgdGhpcy5oaWdoICYgb3RoZXIuaGlnaCwgdGhpcy51bnNpZ25lZCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGJpdHdpc2UgT1Igb2YgdGhpcyBMb25nIGFuZCB0aGUgc3BlY2lmaWVkLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciBMb25nXG4gKiBAcmV0dXJucyB7IUxvbmd9XG4gKi9cbkxvbmdQcm90b3R5cGUub3IgPSBmdW5jdGlvbiBvcihvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpXG4gICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgfCBvdGhlci5sb3csIHRoaXMuaGlnaCB8IG90aGVyLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBiaXR3aXNlIFhPUiBvZiB0aGlzIExvbmcgYW5kIHRoZSBnaXZlbiBvbmUuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIExvbmdcbiAqIEByZXR1cm5zIHshTG9uZ31cbiAqL1xuTG9uZ1Byb3RvdHlwZS54b3IgPSBmdW5jdGlvbiB4b3Iob3RoZXIpIHtcbiAgaWYgKCFpc0xvbmcob3RoZXIpKVxuICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IF4gb3RoZXIubG93LCB0aGlzLmhpZ2ggXiBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHNoaWZ0ZWQgdG8gdGhlIGxlZnQgYnkgdGhlIGdpdmVuIGFtb3VudC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnNoaWZ0TGVmdCA9IGZ1bmN0aW9uIHNoaWZ0TGVmdChudW1CaXRzKSB7XG4gIGlmIChpc0xvbmcobnVtQml0cykpXG4gICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcbiAgaWYgKChudW1CaXRzICY9IDYzKSA9PT0gMClcbiAgICByZXR1cm4gdGhpcztcbiAgZWxzZSBpZiAobnVtQml0cyA8IDMyKVxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyA8PCBudW1CaXRzLCAodGhpcy5oaWdoIDw8IG51bUJpdHMpIHwgKHRoaXMubG93ID4+PiAoMzIgLSBudW1CaXRzKSksIHRoaXMudW5zaWduZWQpO1xuICBlbHNlXG4gICAgcmV0dXJuIGZyb21CaXRzKDAsIHRoaXMubG93IDw8IChudW1CaXRzIC0gMzIpLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHNoaWZ0ZWQgdG8gdGhlIGxlZnQgYnkgdGhlIGdpdmVuIGFtb3VudC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzaGlmdExlZnR9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5zaGwgPSBMb25nUHJvdG90eXBlLnNoaWZ0TGVmdDtcblxuLyoqXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgYXJpdGhtZXRpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnNoaWZ0UmlnaHQgPSBmdW5jdGlvbiBzaGlmdFJpZ2h0KG51bUJpdHMpIHtcbiAgaWYgKGlzTG9uZyhudW1CaXRzKSlcbiAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xuICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKVxuICAgIHJldHVybiB0aGlzO1xuICBlbHNlIGlmIChudW1CaXRzIDwgMzIpXG4gICAgcmV0dXJuIGZyb21CaXRzKCh0aGlzLmxvdyA+Pj4gbnVtQml0cykgfCAodGhpcy5oaWdoIDw8ICgzMiAtIG51bUJpdHMpKSwgdGhpcy5oaWdoID4+IG51bUJpdHMsIHRoaXMudW5zaWduZWQpO1xuICBlbHNlXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCA+PiAobnVtQml0cyAtIDMyKSwgdGhpcy5oaWdoID49IDAgPyAwIDogLTEsIHRoaXMudW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgYXJpdGhtZXRpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzaGlmdFJpZ2h0fS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXG4gKi9cbkxvbmdQcm90b3R5cGUuc2hyID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBsb2dpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnNoaWZ0UmlnaHRVbnNpZ25lZCA9IGZ1bmN0aW9uIHNoaWZ0UmlnaHRVbnNpZ25lZChudW1CaXRzKSB7XG4gIGlmIChpc0xvbmcobnVtQml0cykpIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XG4gIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApIHJldHVybiB0aGlzO1xuICBpZiAobnVtQml0cyA8IDMyKSByZXR1cm4gZnJvbUJpdHMoKHRoaXMubG93ID4+PiBudW1CaXRzKSB8ICh0aGlzLmhpZ2ggPDwgKDMyIC0gbnVtQml0cykpLCB0aGlzLmhpZ2ggPj4+IG51bUJpdHMsIHRoaXMudW5zaWduZWQpO1xuICBpZiAobnVtQml0cyA9PT0gMzIpIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2gsIDAsIHRoaXMudW5zaWduZWQpO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5oaWdoID4+PiAobnVtQml0cyAtIDMyKSwgMCwgdGhpcy51bnNpZ25lZCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBsb2dpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzaGlmdFJpZ2h0VW5zaWduZWR9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5zaHJ1ID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ7XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGxvZ2ljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHRVbnNpZ25lZH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnNocl91ID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ7XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHJvdGF0ZWQgdG8gdGhlIGxlZnQgYnkgdGhlIGdpdmVuIGFtb3VudC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJvdGF0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnJvdGF0ZUxlZnQgPSBmdW5jdGlvbiByb3RhdGVMZWZ0KG51bUJpdHMpIHtcbiAgdmFyIGI7XG4gIGlmIChpc0xvbmcobnVtQml0cykpIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XG4gIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApIHJldHVybiB0aGlzO1xuICBpZiAobnVtQml0cyA9PT0gMzIpIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2gsIHRoaXMubG93LCB0aGlzLnVuc2lnbmVkKTtcbiAgaWYgKG51bUJpdHMgPCAzMikge1xuICAgIGIgPSAoMzIgLSBudW1CaXRzKTtcbiAgICByZXR1cm4gZnJvbUJpdHMoKCh0aGlzLmxvdyA8PCBudW1CaXRzKSB8ICh0aGlzLmhpZ2ggPj4+IGIpKSwgKCh0aGlzLmhpZ2ggPDwgbnVtQml0cykgfCAodGhpcy5sb3cgPj4+IGIpKSwgdGhpcy51bnNpZ25lZCk7XG4gIH1cbiAgbnVtQml0cyAtPSAzMjtcbiAgYiA9ICgzMiAtIG51bUJpdHMpO1xuICByZXR1cm4gZnJvbUJpdHMoKCh0aGlzLmhpZ2ggPDwgbnVtQml0cykgfCAodGhpcy5sb3cgPj4+IGIpKSwgKCh0aGlzLmxvdyA8PCBudW1CaXRzKSB8ICh0aGlzLmhpZ2ggPj4+IGIpKSwgdGhpcy51bnNpZ25lZCk7XG59XG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyByb3RhdGVkIHRvIHRoZSBsZWZ0IGJ5IHRoZSBnaXZlbiBhbW91bnQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjcm90YXRlTGVmdH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJvdGF0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnJvdGwgPSBMb25nUHJvdG90eXBlLnJvdGF0ZUxlZnQ7XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHJvdGF0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBSb3RhdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5yb3RhdGVSaWdodCA9IGZ1bmN0aW9uIHJvdGF0ZVJpZ2h0KG51bUJpdHMpIHtcbiAgdmFyIGI7XG4gIGlmIChpc0xvbmcobnVtQml0cykpIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XG4gIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApIHJldHVybiB0aGlzO1xuICBpZiAobnVtQml0cyA9PT0gMzIpIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2gsIHRoaXMubG93LCB0aGlzLnVuc2lnbmVkKTtcbiAgaWYgKG51bUJpdHMgPCAzMikge1xuICAgIGIgPSAoMzIgLSBudW1CaXRzKTtcbiAgICByZXR1cm4gZnJvbUJpdHMoKCh0aGlzLmhpZ2ggPDwgYikgfCAodGhpcy5sb3cgPj4+IG51bUJpdHMpKSwgKCh0aGlzLmxvdyA8PCBiKSB8ICh0aGlzLmhpZ2ggPj4+IG51bUJpdHMpKSwgdGhpcy51bnNpZ25lZCk7XG4gIH1cbiAgbnVtQml0cyAtPSAzMjtcbiAgYiA9ICgzMiAtIG51bUJpdHMpO1xuICByZXR1cm4gZnJvbUJpdHMoKCh0aGlzLmxvdyA8PCBiKSB8ICh0aGlzLmhpZ2ggPj4+IG51bUJpdHMpKSwgKCh0aGlzLmhpZ2ggPDwgYikgfCAodGhpcy5sb3cgPj4+IG51bUJpdHMpKSwgdGhpcy51bnNpZ25lZCk7XG59XG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyByb3RhdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3JvdGF0ZVJpZ2h0fS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcbiAqIEByZXR1cm5zIHshTG9uZ30gUm90YXRlZCBMb25nXG4gKi9cbkxvbmdQcm90b3R5cGUucm90ciA9IExvbmdQcm90b3R5cGUucm90YXRlUmlnaHQ7XG5cbi8qKlxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIHNpZ25lZC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHshTG9uZ30gU2lnbmVkIGxvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS50b1NpZ25lZCA9IGZ1bmN0aW9uIHRvU2lnbmVkKCkge1xuICBpZiAoIXRoaXMudW5zaWduZWQpXG4gICAgcmV0dXJuIHRoaXM7XG4gIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdywgdGhpcy5oaWdoLCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byB1bnNpZ25lZC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHshTG9uZ30gVW5zaWduZWQgbG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnRvVW5zaWduZWQgPSBmdW5jdGlvbiB0b1Vuc2lnbmVkKCkge1xuICBpZiAodGhpcy51bnNpZ25lZClcbiAgICByZXR1cm4gdGhpcztcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93LCB0aGlzLmhpZ2gsIHRydWUpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gaXRzIGJ5dGUgcmVwcmVzZW50YXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBsZSBXaGV0aGVyIGxpdHRsZSBvciBiaWcgZW5kaWFuLCBkZWZhdWx0cyB0byBiaWcgZW5kaWFuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IUFycmF5LjxudW1iZXI+fSBCeXRlIHJlcHJlc2VudGF0aW9uXG4gKi9cbkxvbmdQcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIHRvQnl0ZXMobGUpIHtcbiAgcmV0dXJuIGxlID8gdGhpcy50b0J5dGVzTEUoKSA6IHRoaXMudG9CeXRlc0JFKCk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byBpdHMgbGl0dGxlIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMgeyFBcnJheS48bnVtYmVyPn0gTGl0dGxlIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uXG4gKi9cbkxvbmdQcm90b3R5cGUudG9CeXRlc0xFID0gZnVuY3Rpb24gdG9CeXRlc0xFKCkge1xuICB2YXIgaGkgPSB0aGlzLmhpZ2gsXG4gICAgbG8gPSB0aGlzLmxvdztcbiAgcmV0dXJuIFtcbiAgICBsbyAmIDB4ZmYsXG4gICAgbG8gPj4+IDggJiAweGZmLFxuICAgIGxvID4+PiAxNiAmIDB4ZmYsXG4gICAgbG8gPj4+IDI0LFxuICAgIGhpICYgMHhmZixcbiAgICBoaSA+Pj4gOCAmIDB4ZmYsXG4gICAgaGkgPj4+IDE2ICYgMHhmZixcbiAgICBoaSA+Pj4gMjRcbiAgXTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIGl0cyBiaWcgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IUFycmF5LjxudW1iZXI+fSBCaWcgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb25cbiAqL1xuTG9uZ1Byb3RvdHlwZS50b0J5dGVzQkUgPSBmdW5jdGlvbiB0b0J5dGVzQkUoKSB7XG4gIHZhciBoaSA9IHRoaXMuaGlnaCxcbiAgICBsbyA9IHRoaXMubG93O1xuICByZXR1cm4gW1xuICAgIGhpID4+PiAyNCxcbiAgICBoaSA+Pj4gMTYgJiAweGZmLFxuICAgIGhpID4+PiA4ICYgMHhmZixcbiAgICBoaSAmIDB4ZmYsXG4gICAgbG8gPj4+IDI0LFxuICAgIGxvID4+PiAxNiAmIDB4ZmYsXG4gICAgbG8gPj4+IDggJiAweGZmLFxuICAgIGxvICYgMHhmZlxuICBdO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgTG9uZyBmcm9tIGl0cyBieXRlIHJlcHJlc2VudGF0aW9uLlxuICogQHBhcmFtIHshQXJyYXkuPG51bWJlcj59IGJ5dGVzIEJ5dGUgcmVwcmVzZW50YXRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGxlIFdoZXRoZXIgbGl0dGxlIG9yIGJpZyBlbmRpYW4sIGRlZmF1bHRzIHRvIGJpZyBlbmRpYW5cbiAqIEByZXR1cm5zIHtMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXG4gKi9cbkxvbmcuZnJvbUJ5dGVzID0gZnVuY3Rpb24gZnJvbUJ5dGVzKGJ5dGVzLCB1bnNpZ25lZCwgbGUpIHtcbiAgcmV0dXJuIGxlID8gTG9uZy5mcm9tQnl0ZXNMRShieXRlcywgdW5zaWduZWQpIDogTG9uZy5mcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgTG9uZyBmcm9tIGl0cyBsaXR0bGUgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXG4gKiBAcGFyYW0geyFBcnJheS48bnVtYmVyPn0gYnl0ZXMgTGl0dGxlIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXG4gKiBAcmV0dXJucyB7TG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxuICovXG5Mb25nLmZyb21CeXRlc0xFID0gZnVuY3Rpb24gZnJvbUJ5dGVzTEUoYnl0ZXMsIHVuc2lnbmVkKSB7XG4gIHJldHVybiBuZXcgTG9uZyhcbiAgICBieXRlc1swXSB8XG4gICAgYnl0ZXNbMV0gPDwgOCB8XG4gICAgYnl0ZXNbMl0gPDwgMTYgfFxuICAgIGJ5dGVzWzNdIDw8IDI0LFxuICAgIGJ5dGVzWzRdIHxcbiAgICBieXRlc1s1XSA8PCA4IHxcbiAgICBieXRlc1s2XSA8PCAxNiB8XG4gICAgYnl0ZXNbN10gPDwgMjQsXG4gICAgdW5zaWduZWRcbiAgKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIExvbmcgZnJvbSBpdHMgYmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uLlxuICogQHBhcmFtIHshQXJyYXkuPG51bWJlcj59IGJ5dGVzIEJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQHJldHVybnMge0xvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcbiAqL1xuTG9uZy5mcm9tQnl0ZXNCRSA9IGZ1bmN0aW9uIGZyb21CeXRlc0JFKGJ5dGVzLCB1bnNpZ25lZCkge1xuICByZXR1cm4gbmV3IExvbmcoXG4gICAgYnl0ZXNbNF0gPDwgMjQgfFxuICAgIGJ5dGVzWzVdIDw8IDE2IHxcbiAgICBieXRlc1s2XSA8PCA4IHxcbiAgICBieXRlc1s3XSxcbiAgICBieXRlc1swXSA8PCAyNCB8XG4gICAgYnl0ZXNbMV0gPDwgMTYgfFxuICAgIGJ5dGVzWzJdIDw8IDggfFxuICAgIGJ5dGVzWzNdLFxuICAgIHVuc2lnbmVkXG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMb25nO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgTG9uZyBmcm9tIFwibG9uZ1wiO1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdmF0YXJTaGFwZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogXCJcIixcbiAgICAgICAgbmFtZTogdW5kZWZpbmVkLFxuICAgICAgICBib2R5U2hhcGU6IHVuZGVmaW5lZCxcbiAgICAgICAgc2tpbkNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGhhaXJDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBleWVDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBleHByZXNzaW9uVHJpZ2dlcklkOiB1bmRlZmluZWQsXG4gICAgICAgIGV4cHJlc3Npb25UcmlnZ2VyVGltZXN0YW1wOiB1bmRlZmluZWQsXG4gICAgICAgIHRhbGtpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgd2VhcmFibGVzOiBbXSxcbiAgICAgICAgZW1vdGVzOiBbXSxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJBdmF0YXJTaGFwZTtcbihmdW5jdGlvbiAoUEJBdmF0YXJTaGFwZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmlkICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib2R5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UuYm9keVNoYXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5za2luQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLnNraW5Db2xvciwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5oYWlyQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLmhhaXJDb2xvciwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5leWVDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjMuZW5jb2RlKG1lc3NhZ2UuZXllQ29sb3IsIHdyaXRlci51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDU4KS5zdHJpbmcobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlcklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDY0KS5pbnQ2NChtZXNzYWdlLmV4cHJlc3Npb25UcmlnZ2VyVGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50YWxraW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNzIpLmJvb2wobWVzc2FnZS50YWxraW5nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS53ZWFyYWJsZXMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODIpLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5lbW90ZXMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTApLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF2YXRhclNoYXBlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJBdmF0YXJTaGFwZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9keVNoYXBlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNraW5Db2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhhaXJDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV5ZUNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA2NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCA9IGxvbmdUb051bWJlcihyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFsa2luZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndlYXJhYmxlcy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDkwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVtb3Rlcy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJBdmF0YXJTaGFwZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkF2YXRhclNoYXBlIHx8IChQQkF2YXRhclNoYXBlID0ge30pKTtcbmNvbnN0IHRzUHJvdG9HbG9iYWxUaGlzID0gKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB9XG4gICAgdGhyb3cgXCJVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3RcIjtcbn0pKCk7XG5mdW5jdGlvbiBsb25nVG9OdW1iZXIobG9uZykge1xuICAgIGlmIChsb25nLmd0KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSkge1xuICAgICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXCJWYWx1ZSBpcyBsYXJnZXIgdGhhbiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvbmcudG9OdW1iZXIoKTtcbn1cbmlmIChfbTAudXRpbC5Mb25nICE9PSBMb25nKSB7XG4gICAgX20wLnV0aWwuTG9uZyA9IExvbmc7XG4gICAgX20wLmNvbmZpZ3VyZSgpO1xufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLmNvbW1vblwiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbG9yMygpIHtcbiAgICByZXR1cm4geyByOiAwLCBnOiAwLCBiOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb2xvcjM7XG4oZnVuY3Rpb24gKENvbG9yMykge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2Uucik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5iICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLmIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIENvbG9yMy5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbG9yMygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnIgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIENvbG9yMy5kZWNvZGUgPSBkZWNvZGU7XG59KShDb2xvcjMgfHwgKENvbG9yMyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29sb3I0KCkge1xuICAgIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENvbG9yNDtcbihmdW5jdGlvbiAoQ29sb3I0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuciAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS5yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UuYik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5hKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBDb2xvcjQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb2xvcjQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmIgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29sb3I0LmRlY29kZSA9IGRlY29kZTtcbn0pKENvbG9yNCB8fCAoQ29sb3I0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkF2YXRhclNoYXBlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX3NoYXBlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQXZhdGFyU2hhcGVTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDgwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF2YXRhclNoYXBlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyU2hhcGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyU2hhcGUuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXZhdGFyU2hhcGVcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQmlsbGJvYXJkTW9kZSBpbmRpY2F0ZXMgb25lIG9yIG1vcmUgYXhpcyBmb3IgYXV0b21hdGljIHJvdGF0aW9uLCBpbiBPUi1hYmxlIGJpdCBmbGFnIGZvcm0uXG4gKiBPbmx5IHRoZSB2YWx1ZXMgYmVsb3cgYW5kIHRoZSAoQk1fWCB8IEJNX1kpIGNvbWJpbmF0aW9uIGFyZSB2YWxpZC5cbiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQmlsbGJvYXJkTW9kZTtcbihmdW5jdGlvbiAoQmlsbGJvYXJkTW9kZSkge1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX05PTkVcIl0gPSAwXSA9IFwiQk1fTk9ORVwiO1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX1hcIl0gPSAxXSA9IFwiQk1fWFwiO1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX1lcIl0gPSAyXSA9IFwiQk1fWVwiO1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX1pcIl0gPSA0XSA9IFwiQk1fWlwiO1xuICAgIC8qKiBCTV9BTEwgLSBiaXR3aXNlIGNvbWJpbmF0aW9uIEJNX1ggfCBCTV9ZIHwgQk1fWiAqL1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX0FMTFwiXSA9IDddID0gXCJCTV9BTExcIjtcbn0pKEJpbGxib2FyZE1vZGUgfHwgKEJpbGxib2FyZE1vZGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQmlsbGJvYXJkKCkge1xuICAgIHJldHVybiB7IGJpbGxib2FyZE1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJCaWxsYm9hcmQ7XG4oZnVuY3Rpb24gKFBCQmlsbGJvYXJkKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYmlsbGJvYXJkTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UuYmlsbGJvYXJkTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJCaWxsYm9hcmQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkJpbGxib2FyZCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmlsbGJvYXJkTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQmlsbGJvYXJkLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQmlsbGJvYXJkIHx8IChQQkJpbGxib2FyZCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJCaWxsYm9hcmQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9iaWxsYm9hcmQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBCaWxsYm9hcmRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDkwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkJpbGxib2FyZC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkJpbGxib2FyZC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJCaWxsYm9hcmQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQmlsbGJvYXJkXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDYW1lcmFNb2RlKCkge1xuICAgIHJldHVybiB7IG1vZGU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQ2FtZXJhTW9kZTtcbihmdW5jdGlvbiAoUEJDYW1lcmFNb2RlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLm1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQ2FtZXJhTW9kZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQ2FtZXJhTW9kZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQ2FtZXJhTW9kZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkNhbWVyYU1vZGUgfHwgKFBCQ2FtZXJhTW9kZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJDYW1lcmFNb2RlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGUuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBDYW1lcmFNb2RlU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3MixcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJDYW1lcmFNb2RlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQ2FtZXJhTW9kZS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJDYW1lcmFNb2RlLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkNhbWVyYU1vZGVcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDYW1lcmFNb2RlQXJlYSgpIHtcbiAgICByZXR1cm4geyBhcmVhOiB1bmRlZmluZWQsIG1vZGU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQ2FtZXJhTW9kZUFyZWE7XG4oZnVuY3Rpb24gKFBCQ2FtZXJhTW9kZUFyZWEpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5hcmVhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuYXJlYSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tb2RlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLm1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQ2FtZXJhTW9kZUFyZWEuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNhbWVyYU1vZGVBcmVhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXJlYSA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJDYW1lcmFNb2RlQXJlYS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkNhbWVyYU1vZGVBcmVhIHx8IChQQkNhbWVyYU1vZGVBcmVhID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkNhbWVyYU1vZGVBcmVhIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGVfYXJlYS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IENhbWVyYU1vZGVBcmVhU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3MSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJDYW1lcmFNb2RlQXJlYS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkNhbWVyYU1vZGVBcmVhLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkNhbWVyYU1vZGVBcmVhLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkNhbWVyYU1vZGVBcmVhXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJFbmdpbmVJbmZvKCkge1xuICAgIHJldHVybiB7IGZyYW1lTnVtYmVyOiAwLCB0b3RhbFJ1bnRpbWU6IDAsIHRpY2tOdW1iZXI6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCRW5naW5lSW5mbztcbihmdW5jdGlvbiAoUEJFbmdpbmVJbmZvKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZnJhbWVOdW1iZXIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UuZnJhbWVOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRvdGFsUnVudGltZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS50b3RhbFJ1bnRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRpY2tOdW1iZXIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLnVpbnQzMihtZXNzYWdlLnRpY2tOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCRW5naW5lSW5mby5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCRW5naW5lSW5mbygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZnJhbWVOdW1iZXIgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudG90YWxSdW50aW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGlja051bWJlciA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkVuZ2luZUluZm8uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJFbmdpbmVJbmZvIHx8IChQQkVuZ2luZUluZm8gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCRW5naW5lSW5mbyB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2VuZ2luZV9pbmZvLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRW5naW5lSW5mb1NjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDgsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCRW5naW5lSW5mby5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkVuZ2luZUluZm8uZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCRW5naW5lSW5mby5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJFbmdpbmVJbmZvXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJHbHRmQ29udGFpbmVyKCkge1xuICAgIHJldHVybiB7IHNyYzogXCJcIiwgdmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2s6IHVuZGVmaW5lZCwgaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzazogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkdsdGZDb250YWluZXI7XG4oZnVuY3Rpb24gKFBCR2x0ZkNvbnRhaW5lcikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnNyYyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uuc3JjKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS51aW50MzIobWVzc2FnZS52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS51aW50MzIobWVzc2FnZS5pbnZpc2libGVNZXNoZXNDb2xsaXNpb25NYXNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkdsdGZDb250YWluZXIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkdsdGZDb250YWluZXIoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zcmMgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2sgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkdsdGZDb250YWluZXIuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJHbHRmQ29udGFpbmVyIHx8IChQQkdsdGZDb250YWluZXIgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCR2x0ZkNvbnRhaW5lciB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2dsdGZfY29udGFpbmVyLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lclNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDEsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCR2x0ZkNvbnRhaW5lci5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkdsdGZDb250YWluZXIuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCR2x0ZkNvbnRhaW5lci5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJHbHRmQ29udGFpbmVyXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlKCkge1xuICAgIHJldHVybiB7IGN1cnJlbnRTdGF0ZTogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlO1xuKGZ1bmN0aW9uIChQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50U3RhdGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5jdXJyZW50U3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY3VycmVudFN0YXRlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSB8fCAoUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lcl9sb2FkaW5nX3N0YXRlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDksXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IENvbG9yMywgQ29sb3I0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5pbXBvcnQgeyBUZXh0dXJlVW5pb24gfSBmcm9tIFwiLi4vLi4vY29tbW9uL3RleHR1cmUuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlO1xuKGZ1bmN0aW9uIChNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGUpIHtcbiAgICBNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW1wiTVRNX09QQVFVRVwiXSA9IDBdID0gXCJNVE1fT1BBUVVFXCI7XG4gICAgTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW01hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtcIk1UTV9BTFBIQV9URVNUXCJdID0gMV0gPSBcIk1UTV9BTFBIQV9URVNUXCI7XG4gICAgTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW01hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtcIk1UTV9BTFBIQV9CTEVORFwiXSA9IDJdID0gXCJNVE1fQUxQSEFfQkxFTkRcIjtcbiAgICBNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW1wiTVRNX0FMUEhBX1RFU1RfQU5EX0FMUEhBX0JMRU5EXCJdID0gM10gPSBcIk1UTV9BTFBIQV9URVNUX0FORF9BTFBIQV9CTEVORFwiO1xuICAgIE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbXCJNVE1fQVVUT1wiXSA9IDRdID0gXCJNVE1fQVVUT1wiO1xufSkoTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlIHx8IChNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWF0ZXJpYWwoKSB7XG4gICAgcmV0dXJuIHsgbWF0ZXJpYWw6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNYXRlcmlhbDtcbihmdW5jdGlvbiAoUEJNYXRlcmlhbCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tYXRlcmlhbD8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ1bmxpdFwiOlxuICAgICAgICAgICAgICAgIFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbC5lbmNvZGUobWVzc2FnZS5tYXRlcmlhbC51bmxpdCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwYnJcIjpcbiAgICAgICAgICAgICAgICBQQk1hdGVyaWFsX1Bick1hdGVyaWFsLmVuY29kZShtZXNzYWdlLm1hdGVyaWFsLnBiciwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1hdGVyaWFsLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNYXRlcmlhbCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hdGVyaWFsID0geyAkY2FzZTogXCJ1bmxpdFwiLCB1bmxpdDogUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXRlcmlhbCA9IHsgJGNhc2U6IFwicGJyXCIsIHBicjogUEJNYXRlcmlhbF9QYnJNYXRlcmlhbC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNYXRlcmlhbC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1hdGVyaWFsIHx8IChQQk1hdGVyaWFsID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwoKSB7XG4gICAgcmV0dXJuIHsgdGV4dHVyZTogdW5kZWZpbmVkLCBhbHBoYVRlc3Q6IHVuZGVmaW5lZCwgY2FzdFNoYWRvd3M6IHVuZGVmaW5lZCwgZGlmZnVzZUNvbG9yOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbDtcbihmdW5jdGlvbiAoUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUZXh0dXJlVW5pb24uZW5jb2RlKG1lc3NhZ2UudGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbHBoYVRlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5hbHBoYVRlc3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNhc3RTaGFkb3dzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmJvb2wobWVzc2FnZS5jYXN0U2hhZG93cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlmZnVzZUNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yNC5lbmNvZGUobWVzc2FnZS5kaWZmdXNlQ29sb3IsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dHVyZSA9IFRleHR1cmVVbmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFscGhhVGVzdCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNhc3RTaGFkb3dzID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaWZmdXNlQ29sb3IgPSBDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsIHx8IChQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dHVyZTogdW5kZWZpbmVkLFxuICAgICAgICBhbHBoYVRlc3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgY2FzdFNoYWRvd3M6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxwaGFUZXh0dXJlOiB1bmRlZmluZWQsXG4gICAgICAgIGVtaXNzaXZlVGV4dHVyZTogdW5kZWZpbmVkLFxuICAgICAgICBidW1wVGV4dHVyZTogdW5kZWZpbmVkLFxuICAgICAgICBhbGJlZG9Db2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHJlZmxlY3Rpdml0eUNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHRyYW5zcGFyZW5jeU1vZGU6IHVuZGVmaW5lZCxcbiAgICAgICAgbWV0YWxsaWM6IHVuZGVmaW5lZCxcbiAgICAgICAgcm91Z2huZXNzOiB1bmRlZmluZWQsXG4gICAgICAgIHNwZWN1bGFySW50ZW5zaXR5OiB1bmRlZmluZWQsXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiB1bmRlZmluZWQsXG4gICAgICAgIGRpcmVjdEludGVuc2l0eTogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1hdGVyaWFsX1Bick1hdGVyaWFsO1xuKGZ1bmN0aW9uIChQQk1hdGVyaWFsX1Bick1hdGVyaWFsKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUZXh0dXJlVW5pb24uZW5jb2RlKG1lc3NhZ2UudGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbHBoYVRlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5hbHBoYVRlc3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNhc3RTaGFkb3dzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmJvb2wobWVzc2FnZS5jYXN0U2hhZG93cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWxwaGFUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRleHR1cmVVbmlvbi5lbmNvZGUobWVzc2FnZS5hbHBoYVRleHR1cmUsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW1pc3NpdmVUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRleHR1cmVVbmlvbi5lbmNvZGUobWVzc2FnZS5lbWlzc2l2ZVRleHR1cmUsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYnVtcFRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGV4dHVyZVVuaW9uLmVuY29kZShtZXNzYWdlLmJ1bXBUZXh0dXJlLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFsYmVkb0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yNC5lbmNvZGUobWVzc2FnZS5hbGJlZG9Db2xvciwgd3JpdGVyLnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbWlzc2l2ZUNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5lbWlzc2l2ZUNvbG9yLCB3cml0ZXIudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJlZmxlY3Rpdml0eUNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5yZWZsZWN0aXZpdHlDb2xvciwgd3JpdGVyLnVpbnQzMig3NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50cmFuc3BhcmVuY3lNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODApLmludDMyKG1lc3NhZ2UudHJhbnNwYXJlbmN5TW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0YWxsaWMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig5MykuZmxvYXQobWVzc2FnZS5tZXRhbGxpYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uucm91Z2huZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTAxKS5mbG9hdChtZXNzYWdlLnJvdWdobmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3BlY3VsYXJJbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMTcpLmZsb2F0KG1lc3NhZ2Uuc3BlY3VsYXJJbnRlbnNpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVtaXNzaXZlSW50ZW5zaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTI1KS5mbG9hdChtZXNzYWdlLmVtaXNzaXZlSW50ZW5zaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXJlY3RJbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMzMpLmZsb2F0KG1lc3NhZ2UuZGlyZWN0SW50ZW5zaXR5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1hdGVyaWFsX1Bick1hdGVyaWFsLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNYXRlcmlhbF9QYnJNYXRlcmlhbCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbHBoYVRlc3QgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jYXN0U2hhZG93cyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWxwaGFUZXh0dXJlID0gVGV4dHVyZVVuaW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW1pc3NpdmVUZXh0dXJlID0gVGV4dHVyZVVuaW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYnVtcFRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbGJlZG9Db2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDY2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVtaXNzaXZlQ29sb3IgPSBDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA3NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yZWZsZWN0aXZpdHlDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50cmFuc3BhcmVuY3lNb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDkzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1ldGFsbGljID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yb3VnaG5lc3MgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTE3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNwZWN1bGFySW50ZW5zaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEyNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbWlzc2l2ZUludGVuc2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMzMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0SW50ZW5zaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNYXRlcmlhbF9QYnJNYXRlcmlhbC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1hdGVyaWFsX1Bick1hdGVyaWFsIHx8IChQQk1hdGVyaWFsX1Bick1hdGVyaWFsID0ge30pKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFRleHR1cmVXcmFwTW9kZTtcbihmdW5jdGlvbiAoVGV4dHVyZVdyYXBNb2RlKSB7XG4gICAgVGV4dHVyZVdyYXBNb2RlW1RleHR1cmVXcmFwTW9kZVtcIlRXTV9SRVBFQVRcIl0gPSAwXSA9IFwiVFdNX1JFUEVBVFwiO1xuICAgIFRleHR1cmVXcmFwTW9kZVtUZXh0dXJlV3JhcE1vZGVbXCJUV01fQ0xBTVBcIl0gPSAxXSA9IFwiVFdNX0NMQU1QXCI7XG4gICAgVGV4dHVyZVdyYXBNb2RlW1RleHR1cmVXcmFwTW9kZVtcIlRXTV9NSVJST1JcIl0gPSAyXSA9IFwiVFdNX01JUlJPUlwiO1xufSkoVGV4dHVyZVdyYXBNb2RlIHx8IChUZXh0dXJlV3JhcE1vZGUgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVGV4dHVyZUZpbHRlck1vZGU7XG4oZnVuY3Rpb24gKFRleHR1cmVGaWx0ZXJNb2RlKSB7XG4gICAgVGV4dHVyZUZpbHRlck1vZGVbVGV4dHVyZUZpbHRlck1vZGVbXCJURk1fUE9JTlRcIl0gPSAwXSA9IFwiVEZNX1BPSU5UXCI7XG4gICAgVGV4dHVyZUZpbHRlck1vZGVbVGV4dHVyZUZpbHRlck1vZGVbXCJURk1fQklMSU5FQVJcIl0gPSAxXSA9IFwiVEZNX0JJTElORUFSXCI7XG4gICAgVGV4dHVyZUZpbHRlck1vZGVbVGV4dHVyZUZpbHRlck1vZGVbXCJURk1fVFJJTElORUFSXCJdID0gMl0gPSBcIlRGTV9UUklMSU5FQVJcIjtcbn0pKFRleHR1cmVGaWx0ZXJNb2RlIHx8IChUZXh0dXJlRmlsdGVyTW9kZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVGV4dHVyZSgpIHtcbiAgICByZXR1cm4geyBzcmM6IFwiXCIsIHdyYXBNb2RlOiB1bmRlZmluZWQsIGZpbHRlck1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVGV4dHVyZTtcbihmdW5jdGlvbiAoVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnNyYyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uuc3JjKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53cmFwTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLndyYXBNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5maWx0ZXJNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuZmlsdGVyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgVGV4dHVyZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRleHR1cmUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zcmMgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud3JhcE1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5maWx0ZXJNb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgVGV4dHVyZS5kZWNvZGUgPSBkZWNvZGU7XG59KShUZXh0dXJlIHx8IChUZXh0dXJlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VBdmF0YXJUZXh0dXJlKCkge1xuICAgIHJldHVybiB7IHVzZXJJZDogXCJcIiwgd3JhcE1vZGU6IHVuZGVmaW5lZCwgZmlsdGVyTW9kZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBBdmF0YXJUZXh0dXJlO1xuKGZ1bmN0aW9uIChBdmF0YXJUZXh0dXJlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudXNlcklkICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS51c2VySWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndyYXBNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2Uud3JhcE1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZpbHRlck1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5maWx0ZXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBBdmF0YXJUZXh0dXJlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQXZhdGFyVGV4dHVyZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnVzZXJJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53cmFwTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZpbHRlck1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBBdmF0YXJUZXh0dXJlLmRlY29kZSA9IGRlY29kZTtcbn0pKEF2YXRhclRleHR1cmUgfHwgKEF2YXRhclRleHR1cmUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVZpZGVvVGV4dHVyZSgpIHtcbiAgICByZXR1cm4geyB2aWRlb1BsYXllckVudGl0eTogMCwgd3JhcE1vZGU6IHVuZGVmaW5lZCwgZmlsdGVyTW9kZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBWaWRlb1RleHR1cmU7XG4oZnVuY3Rpb24gKFZpZGVvVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnZpZGVvUGxheWVyRW50aXR5ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQzMihtZXNzYWdlLnZpZGVvUGxheWVyRW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53cmFwTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLndyYXBNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5maWx0ZXJNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuZmlsdGVyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgVmlkZW9UZXh0dXJlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmlkZW9UZXh0dXJlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52aWRlb1BsYXllckVudGl0eSA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53cmFwTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZpbHRlck1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBWaWRlb1RleHR1cmUuZGVjb2RlID0gZGVjb2RlO1xufSkoVmlkZW9UZXh0dXJlIHx8IChWaWRlb1RleHR1cmUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVRleHR1cmVVbmlvbigpIHtcbiAgICByZXR1cm4geyB0ZXg6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVGV4dHVyZVVuaW9uO1xuKGZ1bmN0aW9uIChUZXh0dXJlVW5pb24pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudGV4Py4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcInRleHR1cmVcIjpcbiAgICAgICAgICAgICAgICBUZXh0dXJlLmVuY29kZShtZXNzYWdlLnRleC50ZXh0dXJlLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImF2YXRhclRleHR1cmVcIjpcbiAgICAgICAgICAgICAgICBBdmF0YXJUZXh0dXJlLmVuY29kZShtZXNzYWdlLnRleC5hdmF0YXJUZXh0dXJlLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInZpZGVvVGV4dHVyZVwiOlxuICAgICAgICAgICAgICAgIFZpZGVvVGV4dHVyZS5lbmNvZGUobWVzc2FnZS50ZXgudmlkZW9UZXh0dXJlLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFRleHR1cmVVbmlvbi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRleHR1cmVVbmlvbigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleCA9IHsgJGNhc2U6IFwidGV4dHVyZVwiLCB0ZXh0dXJlOiBUZXh0dXJlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXggPSB7ICRjYXNlOiBcImF2YXRhclRleHR1cmVcIiwgYXZhdGFyVGV4dHVyZTogQXZhdGFyVGV4dHVyZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4ID0geyAkY2FzZTogXCJ2aWRlb1RleHR1cmVcIiwgdmlkZW9UZXh0dXJlOiBWaWRlb1RleHR1cmUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFRleHR1cmVVbmlvbi5kZWNvZGUgPSBkZWNvZGU7XG59KShUZXh0dXJlVW5pb24gfHwgKFRleHR1cmVVbmlvbiA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJNYXRlcmlhbCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21hdGVyaWFsLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgTWF0ZXJpYWxTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDE3LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQk1hdGVyaWFsLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCTWF0ZXJpYWwuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCTWF0ZXJpYWwuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCTWF0ZXJpYWxcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKiBDb2xsaWRlckxheWVyIGRldGVybWluZXMgdGhlIGtpbmQgb2YgY29sbGlzaW9uIHRvIGRldGVjdCwgaW4gT1ItYWJsZSBiaXQgZmxhZyBmb3JtLiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29sbGlkZXJMYXllcjtcbihmdW5jdGlvbiAoQ29sbGlkZXJMYXllcikge1xuICAgIC8qKiBDTF9OT05FIC0gbm8gY29sbGlzaW9ucyAqL1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX05PTkVcIl0gPSAwXSA9IFwiQ0xfTk9ORVwiO1xuICAgIC8qKiBDTF9QT0lOVEVSIC0gY29sbGlzaW9ucyB3aXRoIHRoZSBwbGF5ZXIncyBwb2ludGVyIHJheSAoZS5nLiBtb3VzZSBjdXJzb3IgaG92ZXJpbmcpICovXG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfUE9JTlRFUlwiXSA9IDFdID0gXCJDTF9QT0lOVEVSXCI7XG4gICAgLyoqIENMX1BIWVNJQ1MgLSBjb2xsaXNpb24gYWZmZWN0aW5nIHlvdXIgcGxheWVyJ3MgcGh5c2ljcyBpLmUuIHdhbGxzLCBmbG9vciwgbW92aW5nIHBsYXRmcm9tcyAqL1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1BIWVNJQ1NcIl0gPSAyXSA9IFwiQ0xfUEhZU0lDU1wiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1JFU0VSVkVEMVwiXSA9IDRdID0gXCJDTF9SRVNFUlZFRDFcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9SRVNFUlZFRDJcIl0gPSA4XSA9IFwiQ0xfUkVTRVJWRUQyXCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfUkVTRVJWRUQzXCJdID0gMTZdID0gXCJDTF9SRVNFUlZFRDNcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9SRVNFUlZFRDRcIl0gPSAzMl0gPSBcIkNMX1JFU0VSVkVENFwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1JFU0VSVkVENVwiXSA9IDY0XSA9IFwiQ0xfUkVTRVJWRUQ1XCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfUkVTRVJWRUQ2XCJdID0gMTI4XSA9IFwiQ0xfUkVTRVJWRUQ2XCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfQ1VTVE9NMVwiXSA9IDI1Nl0gPSBcIkNMX0NVU1RPTTFcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9DVVNUT00yXCJdID0gNTEyXSA9IFwiQ0xfQ1VTVE9NMlwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTNcIl0gPSAxMDI0XSA9IFwiQ0xfQ1VTVE9NM1wiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTRcIl0gPSAyMDQ4XSA9IFwiQ0xfQ1VTVE9NNFwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTVcIl0gPSA0MDk2XSA9IFwiQ0xfQ1VTVE9NNVwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTZcIl0gPSA4MTkyXSA9IFwiQ0xfQ1VTVE9NNlwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTdcIl0gPSAxNjM4NF0gPSBcIkNMX0NVU1RPTTdcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9DVVNUT004XCJdID0gMzI3NjhdID0gXCJDTF9DVVNUT004XCI7XG59KShDb2xsaWRlckxheWVyIHx8IChDb2xsaWRlckxheWVyID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcigpIHtcbiAgICByZXR1cm4geyBjb2xsaXNpb25NYXNrOiB1bmRlZmluZWQsIG1lc2g6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoQ29sbGlkZXI7XG4oZnVuY3Rpb24gKFBCTWVzaENvbGxpZGVyKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQzMihtZXNzYWdlLmNvbGxpc2lvbk1hc2spO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tZXNoPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcImJveFwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaENvbGxpZGVyX0JveE1lc2guZW5jb2RlKG1lc3NhZ2UubWVzaC5ib3gsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3BoZXJlXCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLnNwaGVyZSwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjeWxpbmRlclwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLmN5bGluZGVyLCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBsYW5lXCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoLmVuY29kZShtZXNzYWdlLm1lc2gucGxhbmUsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29sbGlzaW9uTWFzayA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJib3hcIiwgYm94OiBQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJzcGhlcmVcIiwgc3BoZXJlOiBQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJjeWxpbmRlclwiLCBjeWxpbmRlcjogUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJwbGFuZVwiLCBwbGFuZTogUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlci5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hDb2xsaWRlciB8fCAoUEJNZXNoQ29sbGlkZXIgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX0JveE1lc2goKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoQ29sbGlkZXJfQm94TWVzaDtcbihmdW5jdGlvbiAoUEJNZXNoQ29sbGlkZXJfQm94TWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShfLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX0JveE1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXJfQm94TWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoIHx8IChQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2goKSB7XG4gICAgcmV0dXJuIHsgcmFkaXVzVG9wOiB1bmRlZmluZWQsIHJhZGl1c0JvdHRvbTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2g7XG4oZnVuY3Rpb24gKFBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnJhZGl1c1RvcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLnJhZGl1c1RvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucmFkaXVzQm90dG9tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UucmFkaXVzQm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yYWRpdXNUb3AgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yYWRpdXNCb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoIHx8IChQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2ggPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaCgpIHtcbiAgICByZXR1cm4ge307XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2g7XG4oZnVuY3Rpb24gKFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShfLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2ggfHwgKFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaCgpIHtcbiAgICByZXR1cm4ge307XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKF8sIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2ggfHwgKFBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2ggPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCTWVzaENvbGxpZGVyIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9jb2xsaWRlci5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1lc2hDb2xsaWRlclNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMTksXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCTWVzaENvbGxpZGVyLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCTWVzaENvbGxpZGVyLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQk1lc2hDb2xsaWRlci5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJNZXNoQ29sbGlkZXJcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcigpIHtcbiAgICByZXR1cm4geyBtZXNoOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaFJlbmRlcmVyO1xuKGZ1bmN0aW9uIChQQk1lc2hSZW5kZXJlcikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tZXNoPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcImJveFwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaFJlbmRlcmVyX0JveE1lc2guZW5jb2RlKG1lc3NhZ2UubWVzaC5ib3gsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3BoZXJlXCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLnNwaGVyZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjeWxpbmRlclwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLmN5bGluZGVyLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBsYW5lXCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoLmVuY29kZShtZXNzYWdlLm1lc2gucGxhbmUsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcImJveFwiLCBib3g6IFBCTWVzaFJlbmRlcmVyX0JveE1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcInNwaGVyZVwiLCBzcGhlcmU6IFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcImN5bGluZGVyXCIsIGN5bGluZGVyOiBQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcInBsYW5lXCIsIHBsYW5lOiBQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaFJlbmRlcmVyIHx8IChQQk1lc2hSZW5kZXJlciA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfQm94TWVzaCgpIHtcbiAgICByZXR1cm4geyB1dnM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpO1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS51dnMpIHtcbiAgICAgICAgICAgIHdyaXRlci5mbG9hdCh2KTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX0JveE1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXZzLnB1c2gocmVhZGVyLmZsb2F0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX0JveE1lc2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoUmVuZGVyZXJfQm94TWVzaCB8fCAoUEJNZXNoUmVuZGVyZXJfQm94TWVzaCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoKCkge1xuICAgIHJldHVybiB7IHJhZGl1c1RvcDogdW5kZWZpbmVkLCByYWRpdXNCb3R0b206IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5yYWRpdXNUb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS5yYWRpdXNUb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJhZGl1c0JvdHRvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnJhZGl1c0JvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmFkaXVzVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmFkaXVzQm90dG9tID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaCB8fCAoUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2goKSB7XG4gICAgcmV0dXJuIHsgdXZzOiBbXSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICB3cml0ZXIudWludDMyKDEwKS5mb3JrKCk7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnV2cykge1xuICAgICAgICAgICAgd3JpdGVyLmZsb2F0KHYpO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlci5sZGVsaW0oKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXZzLnB1c2gocmVhZGVyLmZsb2F0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2ggfHwgKFBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaCgpIHtcbiAgICByZXR1cm4ge307XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKF8sIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2ggfHwgKFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2ggPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCTWVzaFJlbmRlcmVyIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9yZW5kZXJlci5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1lc2hSZW5kZXJlclNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMTgsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCTWVzaFJlbmRlcmVyLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCTWVzaFJlbmRlcmVyLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQk1lc2hSZW5kZXJlci5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJNZXNoUmVuZGVyZXJcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3IzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqIE5mdEZyYW1lVHlwZSBpcyBhIHByZWRlZmluZWQgZnJhbWluZyBzdHlsZSBmb3IgdGhlIGltYWdlLiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgTmZ0RnJhbWVUeXBlO1xuKGZ1bmN0aW9uIChOZnRGcmFtZVR5cGUpIHtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0NMQVNTSUNcIl0gPSAwXSA9IFwiTkZUX0NMQVNTSUNcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0JBUk9RVUVfT1JOQU1FTlRcIl0gPSAxXSA9IFwiTkZUX0JBUk9RVUVfT1JOQU1FTlRcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0RJQU1PTkRfT1JOQU1FTlRcIl0gPSAyXSA9IFwiTkZUX0RJQU1PTkRfT1JOQU1FTlRcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX01JTklNQUxfV0lERVwiXSA9IDNdID0gXCJORlRfTUlOSU1BTF9XSURFXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NSU5JTUFMX0dSRVlcIl0gPSA0XSA9IFwiTkZUX01JTklNQUxfR1JFWVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfQkxPQ0tZXCJdID0gNV0gPSBcIk5GVF9CTE9DS1lcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0dPTERfRURHRVNcIl0gPSA2XSA9IFwiTkZUX0dPTERfRURHRVNcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0dPTERfQ0FSVkVEXCJdID0gN10gPSBcIk5GVF9HT0xEX0NBUlZFRFwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfR09MRF9XSURFXCJdID0gOF0gPSBcIk5GVF9HT0xEX1dJREVcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0dPTERfUk9VTkRFRFwiXSA9IDldID0gXCJORlRfR09MRF9ST1VOREVEXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NRVRBTF9NRURJVU1cIl0gPSAxMF0gPSBcIk5GVF9NRVRBTF9NRURJVU1cIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX01FVEFMX1dJREVcIl0gPSAxMV0gPSBcIk5GVF9NRVRBTF9XSURFXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NRVRBTF9TTElNXCJdID0gMTJdID0gXCJORlRfTUVUQUxfU0xJTVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTUVUQUxfUk9VTkRFRFwiXSA9IDEzXSA9IFwiTkZUX01FVEFMX1JPVU5ERURcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX1BJTlNcIl0gPSAxNF0gPSBcIk5GVF9QSU5TXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NSU5JTUFMX0JMQUNLXCJdID0gMTVdID0gXCJORlRfTUlOSU1BTF9CTEFDS1wiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTUlOSU1BTF9XSElURVwiXSA9IDE2XSA9IFwiTkZUX01JTklNQUxfV0hJVEVcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX1RBUEVcIl0gPSAxN10gPSBcIk5GVF9UQVBFXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9XT09EX1NMSU1cIl0gPSAxOF0gPSBcIk5GVF9XT09EX1NMSU1cIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX1dPT0RfV0lERVwiXSA9IDE5XSA9IFwiTkZUX1dPT0RfV0lERVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfV09PRF9UV0lHU1wiXSA9IDIwXSA9IFwiTkZUX1dPT0RfVFdJR1NcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0NBTlZBU1wiXSA9IDIxXSA9IFwiTkZUX0NBTlZBU1wiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTk9ORVwiXSA9IDIyXSA9IFwiTkZUX05PTkVcIjtcbn0pKE5mdEZyYW1lVHlwZSB8fCAoTmZ0RnJhbWVUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk5mdFNoYXBlKCkge1xuICAgIHJldHVybiB7IHVybjogXCJcIiwgc3R5bGU6IHVuZGVmaW5lZCwgY29sb3I6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJOZnRTaGFwZTtcbihmdW5jdGlvbiAoUEJOZnRTaGFwZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnVybiAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudXJuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjMuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJOZnRTaGFwZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTmZ0U2hhcGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51cm4gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3R5bGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTmZ0U2hhcGUuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJOZnRTaGFwZSB8fCAoUEJOZnRTaGFwZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJOZnRTaGFwZSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL25mdF9zaGFwZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE5mdFNoYXBlU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA0MCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJOZnRTaGFwZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQk5mdFNoYXBlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQk5mdFNoYXBlLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQk5mdFNoYXBlXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzKCkge1xuICAgIHJldHVybiB7IHBvaW50ZXJFdmVudHM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlBvaW50ZXJFdmVudHM7XG4oZnVuY3Rpb24gKFBCUG9pbnRlckV2ZW50cykge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnBvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIFBCUG9pbnRlckV2ZW50c19FbnRyeS5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHMuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlBvaW50ZXJFdmVudHMoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb2ludGVyRXZlbnRzLnB1c2goUEJQb2ludGVyRXZlbnRzX0VudHJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50cy5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlBvaW50ZXJFdmVudHMgfHwgKFBCUG9pbnRlckV2ZW50cyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzX0luZm8oKSB7XG4gICAgcmV0dXJuIHsgYnV0dG9uOiB1bmRlZmluZWQsIGhvdmVyVGV4dDogdW5kZWZpbmVkLCBtYXhEaXN0YW5jZTogdW5kZWZpbmVkLCBzaG93RmVlZGJhY2s6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJQb2ludGVyRXZlbnRzX0luZm87XG4oZnVuY3Rpb24gKFBCUG9pbnRlckV2ZW50c19JbmZvKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYnV0dG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5idXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhvdmVyVGV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5ob3ZlclRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1heERpc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UubWF4RGlzdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNob3dGZWVkYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5ib29sKG1lc3NhZ2Uuc2hvd0ZlZWRiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHNfSW5mby5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUG9pbnRlckV2ZW50c19JbmZvKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5idXR0b24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ob3ZlclRleHQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF4RGlzdGFuY2UgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaG93RmVlZGJhY2sgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50c19JbmZvLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCUG9pbnRlckV2ZW50c19JbmZvIHx8IChQQlBvaW50ZXJFdmVudHNfSW5mbyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzX0VudHJ5KCkge1xuICAgIHJldHVybiB7IGV2ZW50VHlwZTogMCwgZXZlbnRJbmZvOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUG9pbnRlckV2ZW50c19FbnRyeTtcbihmdW5jdGlvbiAoUEJQb2ludGVyRXZlbnRzX0VudHJ5KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZXZlbnRUeXBlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UuZXZlbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ldmVudEluZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUEJQb2ludGVyRXZlbnRzX0luZm8uZW5jb2RlKG1lc3NhZ2UuZXZlbnRJbmZvLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50c19FbnRyeS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUG9pbnRlckV2ZW50c19FbnRyeSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXZlbnRUeXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXZlbnRJbmZvID0gUEJQb2ludGVyRXZlbnRzX0luZm8uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHNfRW50cnkuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJQb2ludGVyRXZlbnRzX0VudHJ5IHx8IChQQlBvaW50ZXJFdmVudHNfRW50cnkgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCUG9pbnRlckV2ZW50cyB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BvaW50ZXJfZXZlbnRzLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUG9pbnRlckV2ZW50c1NjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNjIsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCUG9pbnRlckV2ZW50cy5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlBvaW50ZXJFdmVudHMuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckV2ZW50cy5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJQb2ludGVyRXZlbnRzXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFJheWNhc3RIaXQgfSBmcm9tIFwiLi9jb21tb24vcmF5Y2FzdF9oaXQuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUG9pbnRlckV2ZW50c1Jlc3VsdCgpIHtcbiAgICByZXR1cm4geyBidXR0b246IDAsIGhpdDogdW5kZWZpbmVkLCBzdGF0ZTogMCwgdGltZXN0YW1wOiAwLCBhbmFsb2c6IHVuZGVmaW5lZCwgdGlja051bWJlcjogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJQb2ludGVyRXZlbnRzUmVzdWx0O1xuKGZ1bmN0aW9uIChQQlBvaW50ZXJFdmVudHNSZXN1bHQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5idXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSYXljYXN0SGl0LmVuY29kZShtZXNzYWdlLmhpdCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zdGF0ZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS51aW50MzIobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFuYWxvZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLmFuYWxvZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGlja051bWJlciAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikudWludDMyKG1lc3NhZ2UudGlja051bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJQb2ludGVyRXZlbnRzUmVzdWx0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzUmVzdWx0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5idXR0b24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oaXQgPSBSYXljYXN0SGl0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYW5hbG9nID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGlja051bWJlciA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHNSZXN1bHQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJQb2ludGVyRXZlbnRzUmVzdWx0IHx8IChQQlBvaW50ZXJFdmVudHNSZXN1bHQgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL3ZlY3RvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSYXljYXN0SGl0KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBvc2l0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgIGdsb2JhbE9yaWdpbjogdW5kZWZpbmVkLFxuICAgICAgICBkaXJlY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgbm9ybWFsSGl0OiB1bmRlZmluZWQsXG4gICAgICAgIGxlbmd0aDogMCxcbiAgICAgICAgbWVzaE5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgZW50aXR5SWQ6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUmF5Y2FzdEhpdDtcbihmdW5jdGlvbiAoUmF5Y2FzdEhpdCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UucG9zaXRpb24sIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZ2xvYmFsT3JpZ2luICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZ2xvYmFsT3JpZ2luLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRpcmVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmRpcmVjdGlvbiwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ub3JtYWxIaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5ub3JtYWxIaXQsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQ1KS5mbG9hdChtZXNzYWdlLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWVzaE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1MCkuc3RyaW5nKG1lc3NhZ2UubWVzaE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVudGl0eUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTYpLnVpbnQzMihtZXNzYWdlLmVudGl0eUlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBSYXljYXN0SGl0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmF5Y2FzdEhpdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmdsb2JhbE9yaWdpbiA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXJlY3Rpb24gPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uubm9ybWFsSGl0ID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxlbmd0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2hOYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVudGl0eUlkID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFJheWNhc3RIaXQuZGVjb2RlID0gZGVjb2RlO1xufSkoUmF5Y2FzdEhpdCB8fCAoUmF5Y2FzdEhpdCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJQb2ludGVyRXZlbnRzUmVzdWx0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHNfcmVzdWx0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUG9pbnRlckV2ZW50c1Jlc3VsdFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNjMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCUG9pbnRlckV2ZW50c1Jlc3VsdC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlBvaW50ZXJFdmVudHNSZXN1bHQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckV2ZW50c1Jlc3VsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJQb2ludGVyRXZlbnRzUmVzdWx0XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQb2ludGVyTG9jaygpIHtcbiAgICByZXR1cm4geyBpc1BvaW50ZXJMb2NrZWQ6IGZhbHNlIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlBvaW50ZXJMb2NrO1xuKGZ1bmN0aW9uIChQQlBvaW50ZXJMb2NrKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuaXNQb2ludGVyTG9ja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5pc1BvaW50ZXJMb2NrZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCUG9pbnRlckxvY2suZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlBvaW50ZXJMb2NrKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pc1BvaW50ZXJMb2NrZWQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUG9pbnRlckxvY2suZGVjb2RlID0gZGVjb2RlO1xufSkoUEJQb2ludGVyTG9jayB8fCAoUEJQb2ludGVyTG9jayA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJQb2ludGVyTG9jayB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BvaW50ZXJfbG9jay5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFBvaW50ZXJMb2NrU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3NCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJQb2ludGVyTG9jay5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlBvaW50ZXJMb2NrLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlBvaW50ZXJMb2NrLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlBvaW50ZXJMb2NrXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3ZlY3RvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqIFJheWNhc3RRdWVyeVR5cGUgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJheSBzaG91bGQgc3RvcCBvbiB0aGUgZmlyc3QgY29sbGl0aW9uLCBvciBjb250aW51ZS4gKi9cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFJheWNhc3RRdWVyeVR5cGU7XG4oZnVuY3Rpb24gKFJheWNhc3RRdWVyeVR5cGUpIHtcbiAgICAvKiogUlFUX0hJVF9GSVJTVCAtIFBpY2sgdGhlIGZpcnN0IChub3QgbmVjZXNzYXJpbHkgdGhlIGNsb3Nlc3QpIGhpdCB3aXRoaW4gdGhlIHJhbmdlICovXG4gICAgUmF5Y2FzdFF1ZXJ5VHlwZVtSYXljYXN0UXVlcnlUeXBlW1wiUlFUX0hJVF9GSVJTVFwiXSA9IDBdID0gXCJSUVRfSElUX0ZJUlNUXCI7XG4gICAgLyoqIFJRVF9RVUVSWV9BTEwgLSBQaWNrIGFsbCBoaXRzIHdpdGhpbiB0aGUgcmFuZ2UgKi9cbiAgICBSYXljYXN0UXVlcnlUeXBlW1JheWNhc3RRdWVyeVR5cGVbXCJSUVRfUVVFUllfQUxMXCJdID0gMV0gPSBcIlJRVF9RVUVSWV9BTExcIjtcbiAgICAvKiogUlFUX05PTkUgLSBEbyBub3QgcGVyZm9ybSB0aGUgcmF5Y2FzdCwgb25seSBzZXQgdGhlIHJheWNhc3QgcmVzdWx0IHdpdGggZW1wdHkgaGl0cyAqL1xuICAgIFJheWNhc3RRdWVyeVR5cGVbUmF5Y2FzdFF1ZXJ5VHlwZVtcIlJRVF9OT05FXCJdID0gMl0gPSBcIlJRVF9OT05FXCI7XG59KShSYXljYXN0UXVlcnlUeXBlIHx8IChSYXljYXN0UXVlcnlUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlJheWNhc3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZXN0YW1wOiB1bmRlZmluZWQsXG4gICAgICAgIG9yaWdpbk9mZnNldDogdW5kZWZpbmVkLFxuICAgICAgICBkaXJlY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgbWF4RGlzdGFuY2U6IDAsXG4gICAgICAgIHF1ZXJ5VHlwZTogMCxcbiAgICAgICAgY29udGludW91czogdW5kZWZpbmVkLFxuICAgICAgICBjb2xsaXNpb25NYXNrOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUmF5Y2FzdDtcbihmdW5jdGlvbiAoUEJSYXljYXN0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5vcmlnaW5PZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5vcmlnaW5PZmZzZXQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLmRpcmVjdGlvbj8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsb2NhbERpcmVjdGlvblwiOlxuICAgICAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLmxvY2FsRGlyZWN0aW9uLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImdsb2JhbERpcmVjdGlvblwiOlxuICAgICAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLmdsb2JhbERpcmVjdGlvbiwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJnbG9iYWxUYXJnZXRcIjpcbiAgICAgICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmRpcmVjdGlvbi5nbG9iYWxUYXJnZXQsIHdyaXRlci51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidGFyZ2V0RW50aXR5XCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4MCkudWludDMyKG1lc3NhZ2UuZGlyZWN0aW9uLnRhcmdldEVudGl0eSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4RGlzdGFuY2UgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UubWF4RGlzdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnF1ZXJ5VHlwZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS5xdWVyeVR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbnRpbnVvdXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2NCkuYm9vbChtZXNzYWdlLmNvbnRpbnVvdXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbGxpc2lvbk1hc2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig3MikudWludDMyKG1lc3NhZ2UuY29sbGlzaW9uTWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJSYXljYXN0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJSYXljYXN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3JpZ2luT2Zmc2V0ID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IHsgJGNhc2U6IFwibG9jYWxEaXJlY3Rpb25cIiwgbG9jYWxEaXJlY3Rpb246IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IHsgJGNhc2U6IFwiZ2xvYmFsRGlyZWN0aW9uXCIsIGdsb2JhbERpcmVjdGlvbjogVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0geyAkY2FzZTogXCJnbG9iYWxUYXJnZXRcIiwgZ2xvYmFsVGFyZ2V0OiBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0geyAkY2FzZTogXCJ0YXJnZXRFbnRpdHlcIiwgdGFyZ2V0RW50aXR5OiByZWFkZXIudWludDMyKCkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXhEaXN0YW5jZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnF1ZXJ5VHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRpbnVvdXMgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDcyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbGxpc2lvbk1hc2sgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJSYXljYXN0LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCUmF5Y2FzdCB8fCAoUEJSYXljYXN0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlJheWNhc3QgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yYXljYXN0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUmF5Y2FzdFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNjcsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCUmF5Y2FzdC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlJheWNhc3QuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCUmF5Y2FzdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJSYXljYXN0XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3ZlY3RvcnMuZ2VuXCI7XG5pbXBvcnQgeyBSYXljYXN0SGl0IH0gZnJvbSBcIi4vY29tbW9uL3JheWNhc3RfaGl0LmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlJheWNhc3RSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdGltZXN0YW1wOiB1bmRlZmluZWQsIGdsb2JhbE9yaWdpbjogdW5kZWZpbmVkLCBkaXJlY3Rpb246IHVuZGVmaW5lZCwgaGl0czogW10sIHRpY2tOdW1iZXI6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUmF5Y2FzdFJlc3VsdDtcbihmdW5jdGlvbiAoUEJSYXljYXN0UmVzdWx0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nbG9iYWxPcmlnaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5nbG9iYWxPcmlnaW4sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmhpdHMpIHtcbiAgICAgICAgICAgIFJheWNhc3RIaXQuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGlja051bWJlciAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkudWludDMyKG1lc3NhZ2UudGlja051bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJSYXljYXN0UmVzdWx0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJSYXljYXN0UmVzdWx0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2xvYmFsT3JpZ2luID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oaXRzLnB1c2goUmF5Y2FzdEhpdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aWNrTnVtYmVyID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUmF5Y2FzdFJlc3VsdC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlJheWNhc3RSZXN1bHQgfHwgKFBCUmF5Y2FzdFJlc3VsdCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJSYXljYXN0UmVzdWx0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcmF5Y2FzdF9yZXN1bHQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBSYXljYXN0UmVzdWx0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA2OCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJSYXljYXN0UmVzdWx0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUmF5Y2FzdFJlc3VsdC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJSYXljYXN0UmVzdWx0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlJheWNhc3RSZXN1bHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3IzLCBDb2xvcjQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJUZXh0U2hhcGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgZm9udDogdW5kZWZpbmVkLFxuICAgICAgICBmb250U2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICBmb250QXV0b1NpemU6IHVuZGVmaW5lZCxcbiAgICAgICAgdGV4dEFsaWduOiB1bmRlZmluZWQsXG4gICAgICAgIHdpZHRoOiB1bmRlZmluZWQsXG4gICAgICAgIGhlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICBwYWRkaW5nVG9wOiB1bmRlZmluZWQsXG4gICAgICAgIHBhZGRpbmdSaWdodDogdW5kZWZpbmVkLFxuICAgICAgICBwYWRkaW5nQm90dG9tOiB1bmRlZmluZWQsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiB1bmRlZmluZWQsXG4gICAgICAgIGxpbmVTcGFjaW5nOiB1bmRlZmluZWQsXG4gICAgICAgIGxpbmVDb3VudDogdW5kZWZpbmVkLFxuICAgICAgICB0ZXh0V3JhcHBpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgc2hhZG93Qmx1cjogdW5kZWZpbmVkLFxuICAgICAgICBzaGFkb3dPZmZzZXRYOiB1bmRlZmluZWQsXG4gICAgICAgIHNoYWRvd09mZnNldFk6IHVuZGVmaW5lZCxcbiAgICAgICAgb3V0bGluZVdpZHRoOiB1bmRlZmluZWQsXG4gICAgICAgIHNoYWRvd0NvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIG91dGxpbmVDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICB0ZXh0Q29sb3I6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJUZXh0U2hhcGU7XG4oZnVuY3Rpb24gKFBCVGV4dFNoYXBlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLmZvbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnRTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UuZm9udFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnRBdXRvU2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5ib29sKG1lc3NhZ2UuZm9udEF1dG9TaXplKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0QWxpZ24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS50ZXh0QWxpZ24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTMpLmZsb2F0KG1lc3NhZ2Uud2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDYxKS5mbG9hdChtZXNzYWdlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ1RvcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDY5KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDc3KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdSaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ0JvdHRvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDg1KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdCb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdMZWZ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTMpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0xlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxpbmVTcGFjaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTAxKS5mbG9hdChtZXNzYWdlLmxpbmVTcGFjaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5saW5lQ291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMDQpLmludDMyKG1lc3NhZ2UubGluZUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0V3JhcHBpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMTIpLmJvb2wobWVzc2FnZS50ZXh0V3JhcHBpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNoYWRvd0JsdXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjUpLmZsb2F0KG1lc3NhZ2Uuc2hhZG93Qmx1cik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzMykuZmxvYXQobWVzc2FnZS5zaGFkb3dPZmZzZXRYKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zaGFkb3dPZmZzZXRZICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTQxKS5mbG9hdChtZXNzYWdlLnNoYWRvd09mZnNldFkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm91dGxpbmVXaWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE0OSkuZmxvYXQobWVzc2FnZS5vdXRsaW5lV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5zaGFkb3dDb2xvciwgd3JpdGVyLnVpbnQzMigxNTQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uub3V0bGluZUNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5vdXRsaW5lQ29sb3IsIHdyaXRlci51aW50MzIoMTYyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHRDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UudGV4dENvbG9yLCB3cml0ZXIudWludDMyKDE3MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlRleHRTaGFwZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVGV4dFNoYXBlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9udFNpemUgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250QXV0b1NpemUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRBbGlnbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1RvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDc3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdSaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDkzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5saW5lU3BhY2luZyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGluZUNvdW50ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDExMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0V3JhcHBpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMzMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3V0bGluZVdpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE1NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaGFkb3dDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3V0bGluZUNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE3MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0Q29sb3IgPSBDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlRleHRTaGFwZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlRleHRTaGFwZSB8fCAoUEJUZXh0U2hhcGUgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVGV4dFNoYXBlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdGV4dF9zaGFwZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFRleHRTaGFwZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMzAsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVGV4dFNoYXBlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVGV4dFNoYXBlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlRleHRTaGFwZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJUZXh0U2hhcGVcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgUXVhdGVybmlvbiwgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKipcbiAqIEltcGxlbWVudGF0aW9uIGd1aWRlbGluZXMgZm9yIHRoZXNlIGVhc2luZyBmdW5jdGlvbnMgY2FuIGJlIGZvdW5kXG4gKiBhdCBodHRwczovL2dpdGh1Yi5jb20vYWkvZWFzaW5ncy5uZXQvYmxvYi82ZmNkNWY4NTJhNDcwYmYxYTc4OTBlODE3OGFmYTBmNDcxZDVmMmVjL3NyYy9lYXNpbmdzL2Vhc2luZ3NGdW5jdGlvbnMudHNcbiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgRWFzaW5nRnVuY3Rpb247XG4oZnVuY3Rpb24gKEVhc2luZ0Z1bmN0aW9uKSB7XG4gICAgLyoqIEVGX0xJTkVBUiAtIGRlZmF1bHQgKi9cbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0xJTkVBUlwiXSA9IDBdID0gXCJFRl9MSU5FQVJcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VJTlFVQURcIl0gPSAxXSA9IFwiRUZfRUFTRUlOUVVBRFwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVFFVQURcIl0gPSAyXSA9IFwiRUZfRUFTRU9VVFFVQURcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VRVUFEXCJdID0gM10gPSBcIkVGX0VBU0VRVUFEXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFSU5TSU5FXCJdID0gNF0gPSBcIkVGX0VBU0VJTlNJTkVcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VPVVRTSU5FXCJdID0gNV0gPSBcIkVGX0VBU0VPVVRTSU5FXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFU0lORVwiXSA9IDZdID0gXCJFRl9FQVNFU0lORVwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlORVhQT1wiXSA9IDddID0gXCJFRl9FQVNFSU5FWFBPXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFT1VURVhQT1wiXSA9IDhdID0gXCJFRl9FQVNFT1VURVhQT1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUVYUE9cIl0gPSA5XSA9IFwiRUZfRUFTRUVYUE9cIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VJTkVMQVNUSUNcIl0gPSAxMF0gPSBcIkVGX0VBU0VJTkVMQVNUSUNcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VPVVRFTEFTVElDXCJdID0gMTFdID0gXCJFRl9FQVNFT1VURUxBU1RJQ1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUVMQVNUSUNcIl0gPSAxMl0gPSBcIkVGX0VBU0VFTEFTVElDXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFSU5CT1VOQ0VcIl0gPSAxM10gPSBcIkVGX0VBU0VJTkJPVU5DRVwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVEJPVU5DRVwiXSA9IDE0XSA9IFwiRUZfRUFTRU9VVEJPVU5DRVwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUJPVU5DRVwiXSA9IDE1XSA9IFwiRUZfRUFTRUJPVU5DRVwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlOQ1VCSUNcIl0gPSAxNl0gPSBcIkVGX0VBU0VJTkNVQklDXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFT1VUQ1VCSUNcIl0gPSAxN10gPSBcIkVGX0VBU0VPVVRDVUJJQ1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUNVQklDXCJdID0gMThdID0gXCJFRl9FQVNFQ1VCSUNcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VJTlFVQVJUXCJdID0gMTldID0gXCJFRl9FQVNFSU5RVUFSVFwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVFFVQVJUXCJdID0gMjBdID0gXCJFRl9FQVNFT1VUUVVBUlRcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VRVUFSVFwiXSA9IDIxXSA9IFwiRUZfRUFTRVFVQVJUXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFSU5RVUlOVFwiXSA9IDIyXSA9IFwiRUZfRUFTRUlOUVVJTlRcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VPVVRRVUlOVFwiXSA9IDIzXSA9IFwiRUZfRUFTRU9VVFFVSU5UXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFUVVJTlRcIl0gPSAyNF0gPSBcIkVGX0VBU0VRVUlOVFwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlOQ0lSQ1wiXSA9IDI1XSA9IFwiRUZfRUFTRUlOQ0lSQ1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVENJUkNcIl0gPSAyNl0gPSBcIkVGX0VBU0VPVVRDSVJDXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFQ0lSQ1wiXSA9IDI3XSA9IFwiRUZfRUFTRUNJUkNcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VJTkJBQ0tcIl0gPSAyOF0gPSBcIkVGX0VBU0VJTkJBQ0tcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VPVVRCQUNLXCJdID0gMjldID0gXCJFRl9FQVNFT1VUQkFDS1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUJBQ0tcIl0gPSAzMF0gPSBcIkVGX0VBU0VCQUNLXCI7XG59KShFYXNpbmdGdW5jdGlvbiB8fCAoRWFzaW5nRnVuY3Rpb24gPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVHdlZW4oKSB7XG4gICAgcmV0dXJuIHsgZHVyYXRpb246IDAsIGVhc2luZ0Z1bmN0aW9uOiAwLCBtb2RlOiB1bmRlZmluZWQsIHBsYXlpbmc6IHVuZGVmaW5lZCwgY3VycmVudFRpbWU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJUd2VlbjtcbihmdW5jdGlvbiAoUEJUd2Vlbikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmR1cmF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLmR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lYXNpbmdGdW5jdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5lYXNpbmdGdW5jdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLm1vZGU/LiRjYXNlKSB7XG4gICAgICAgICAgICBjYXNlIFwibW92ZVwiOlxuICAgICAgICAgICAgICAgIE1vdmUuZW5jb2RlKG1lc3NhZ2UubW9kZS5tb3ZlLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJvdGF0ZVwiOlxuICAgICAgICAgICAgICAgIFJvdGF0ZS5lbmNvZGUobWVzc2FnZS5tb2RlLnJvdGF0ZSwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzY2FsZVwiOlxuICAgICAgICAgICAgICAgIFNjYWxlLmVuY29kZShtZXNzYWdlLm1vZGUuc2NhbGUsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQ4KS5ib29sKG1lc3NhZ2UucGxheWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY3VycmVudFRpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2MSkuZmxvYXQobWVzc2FnZS5jdXJyZW50VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJUd2Vlbi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVHdlZW4oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kdXJhdGlvbiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVhc2luZ0Z1bmN0aW9uID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHsgJGNhc2U6IFwibW92ZVwiLCBtb3ZlOiBNb3ZlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0geyAkY2FzZTogXCJyb3RhdGVcIiwgcm90YXRlOiBSb3RhdGUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vZGUgPSB7ICRjYXNlOiBcInNjYWxlXCIsIHNjYWxlOiBTY2FsZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGxheWluZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY3VycmVudFRpbWUgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlR3ZWVuLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVHdlZW4gfHwgKFBCVHdlZW4gPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZU1vdmUoKSB7XG4gICAgcmV0dXJuIHsgc3RhcnQ6IHVuZGVmaW5lZCwgZW5kOiB1bmRlZmluZWQsIGZhY2VEaXJlY3Rpb246IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgTW92ZTtcbihmdW5jdGlvbiAoTW92ZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2Uuc3RhcnQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZW5kLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZhY2VEaXJlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuYm9vbChtZXNzYWdlLmZhY2VEaXJlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIE1vdmUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNb3ZlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhcnQgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW5kID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZhY2VEaXJlY3Rpb24gPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIE1vdmUuZGVjb2RlID0gZGVjb2RlO1xufSkoTW92ZSB8fCAoTW92ZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUm90YXRlKCkge1xuICAgIHJldHVybiB7IHN0YXJ0OiB1bmRlZmluZWQsIGVuZDogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBSb3RhdGU7XG4oZnVuY3Rpb24gKFJvdGF0ZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFF1YXRlcm5pb24uZW5jb2RlKG1lc3NhZ2Uuc3RhcnQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFF1YXRlcm5pb24uZW5jb2RlKG1lc3NhZ2UuZW5kLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFJvdGF0ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJvdGF0ZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXJ0ID0gUXVhdGVybmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVuZCA9IFF1YXRlcm5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBSb3RhdGUuZGVjb2RlID0gZGVjb2RlO1xufSkoUm90YXRlIHx8IChSb3RhdGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVNjYWxlKCkge1xuICAgIHJldHVybiB7IHN0YXJ0OiB1bmRlZmluZWQsIGVuZDogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBTY2FsZTtcbihmdW5jdGlvbiAoU2NhbGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLnN0YXJ0LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmVuZCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBTY2FsZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNjYWxlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhcnQgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW5kID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFNjYWxlLmRlY29kZSA9IGRlY29kZTtcbn0pKFNjYWxlIHx8IChTY2FsZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJUd2VlbiB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3R3ZWVuLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVHdlZW5TY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMTAyLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlR3ZWVuLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVHdlZW4uZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVHdlZW4uZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVHdlZW5cIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgUEJUd2VlbiB9IGZyb20gXCIuL3R3ZWVuLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFR3ZWVuTG9vcDtcbihmdW5jdGlvbiAoVHdlZW5Mb29wKSB7XG4gICAgVHdlZW5Mb29wW1R3ZWVuTG9vcFtcIlRMX1JFU1RBUlRcIl0gPSAwXSA9IFwiVExfUkVTVEFSVFwiO1xuICAgIFR3ZWVuTG9vcFtUd2Vlbkxvb3BbXCJUTF9ZT1lPXCJdID0gMV0gPSBcIlRMX1lPWU9cIjtcbn0pKFR3ZWVuTG9vcCB8fCAoVHdlZW5Mb29wID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlR3ZWVuU2VxdWVuY2UoKSB7XG4gICAgcmV0dXJuIHsgc2VxdWVuY2U6IFtdLCBsb29wOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVHdlZW5TZXF1ZW5jZTtcbihmdW5jdGlvbiAoUEJUd2VlblNlcXVlbmNlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uuc2VxdWVuY2UpIHtcbiAgICAgICAgICAgIFBCVHdlZW4uZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubG9vcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVHdlZW5TZXF1ZW5jZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVHdlZW5TZXF1ZW5jZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlcXVlbmNlLnB1c2goUEJUd2Vlbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb29wID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJUd2VlblNlcXVlbmNlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVHdlZW5TZXF1ZW5jZSB8fCAoUEJUd2VlblNlcXVlbmNlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlR3ZWVuU2VxdWVuY2UgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbl9zZXF1ZW5jZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFR3ZWVuU2VxdWVuY2VTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMTA0LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlR3ZWVuU2VxdWVuY2UuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJUd2VlblNlcXVlbmNlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlR3ZWVuU2VxdWVuY2UuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVHdlZW5TZXF1ZW5jZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVHdlZW5TdGF0ZVN0YXR1cztcbihmdW5jdGlvbiAoVHdlZW5TdGF0ZVN0YXR1cykge1xuICAgIFR3ZWVuU3RhdGVTdGF0dXNbVHdlZW5TdGF0ZVN0YXR1c1tcIlRTX0FDVElWRVwiXSA9IDBdID0gXCJUU19BQ1RJVkVcIjtcbiAgICBUd2VlblN0YXRlU3RhdHVzW1R3ZWVuU3RhdGVTdGF0dXNbXCJUU19DT01QTEVURURcIl0gPSAxXSA9IFwiVFNfQ09NUExFVEVEXCI7XG4gICAgVHdlZW5TdGF0ZVN0YXR1c1tUd2VlblN0YXRlU3RhdHVzW1wiVFNfUEFVU0VEXCJdID0gMl0gPSBcIlRTX1BBVVNFRFwiO1xufSkoVHdlZW5TdGF0ZVN0YXR1cyB8fCAoVHdlZW5TdGF0ZVN0YXR1cyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJUd2VlblN0YXRlKCkge1xuICAgIHJldHVybiB7IHN0YXRlOiAwLCBjdXJyZW50VGltZTogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJUd2VlblN0YXRlO1xuKGZ1bmN0aW9uIChQQlR3ZWVuU3RhdGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zdGF0ZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50VGltZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5jdXJyZW50VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJUd2VlblN0YXRlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUd2VlblN0YXRlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGF0ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmN1cnJlbnRUaW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJUd2VlblN0YXRlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVHdlZW5TdGF0ZSB8fCAoUEJUd2VlblN0YXRlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlR3ZWVuU3RhdGUgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbl9zdGF0ZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFR3ZWVuU3RhdGVTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMTAzLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlR3ZWVuU3RhdGUuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJUd2VlblN0YXRlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlR3ZWVuU3RhdGUuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVHdlZW5TdGF0ZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBCb3JkZXJSZWN0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9ib3JkZXJfcmVjdC5nZW5cIjtcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuaW1wb3J0IHsgVGV4dHVyZVVuaW9uIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi90ZXh0dXJlLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEJhY2tncm91bmRUZXh0dXJlTW9kZTtcbihmdW5jdGlvbiAoQmFja2dyb3VuZFRleHR1cmVNb2RlKSB7XG4gICAgLyoqXG4gICAgICogTklORV9TTElDRVMgLSBodHRwczovL2RvY3MudW5pdHkzZC5jb20vTWFudWFsL1VJRS1VU1MtU3VwcG9ydGVkUHJvcGVydGllcy5odG1sIChTbGljaW5nIHNlY3Rpb24pXG4gICAgICogaHR0cHM6Ly9mb3J1bS51bml0eS5jb20vdGhyZWFkcy9ob3ctZG9lcy1zbGljaW5nLWluLXVpLXRvb2traXQtd29ya3MuMTIzNTg2My9cbiAgICAgKiBodHRwczovL2RvY3MudW5pdHkzZC5jb20vTWFudWFsLzlTbGljZVNwcml0ZXMuaHRtbFxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9ib3JkZXItaW1hZ2Utc2xpY2VcbiAgICAgKi9cbiAgICBCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbQmFja2dyb3VuZFRleHR1cmVNb2RlW1wiTklORV9TTElDRVNcIl0gPSAwXSA9IFwiTklORV9TTElDRVNcIjtcbiAgICAvKipcbiAgICAgKiBDRU5URVIgLSBDRU5URVIgZW5hYmxlcyB0aGUgdGV4dHVyZSB0byBiZSByZW5kZXJlZCBjZW50ZXJlZCBpbiByZWxhdGlvbiB0byB0aGVcbiAgICAgKiBlbGVtZW50LiBJZiB0aGUgZWxlbWVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHRleHR1cmUgdGhlbiB0aGUgYmFja2dyb3VuZFxuICAgICAqIHNob3VsZCB1c2UgdGhlIGVsZW1lbnQgYXMgc3RlbmNpbCB0byBjdXQgb2ZmIHRoZSBvdXQtb2YtYm91bmRzIGFyZWFcbiAgICAgKi9cbiAgICBCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbQmFja2dyb3VuZFRleHR1cmVNb2RlW1wiQ0VOVEVSXCJdID0gMV0gPSBcIkNFTlRFUlwiO1xuICAgIC8qKlxuICAgICAqIFNUUkVUQ0ggLSBTVFJFVENIIGVuYWJsZXMgdGhlIHRleHR1cmUgdG8gY292ZXIgYWxsIHRoZSBhcmVhIG9mIHRoZSBjb250YWluZXIsXG4gICAgICogYWRvcHRpbmcgaXRzIGFzcGVjdCByYXRpby5cbiAgICAgKi9cbiAgICBCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbQmFja2dyb3VuZFRleHR1cmVNb2RlW1wiU1RSRVRDSFwiXSA9IDJdID0gXCJTVFJFVENIXCI7XG59KShCYWNrZ3JvdW5kVGV4dHVyZU1vZGUgfHwgKEJhY2tncm91bmRUZXh0dXJlTW9kZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVaUJhY2tncm91bmQoKSB7XG4gICAgcmV0dXJuIHsgY29sb3I6IHVuZGVmaW5lZCwgdGV4dHVyZTogdW5kZWZpbmVkLCB0ZXh0dXJlTW9kZTogMCwgdGV4dHVyZVNsaWNlczogdW5kZWZpbmVkLCB1dnM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpQmFja2dyb3VuZDtcbihmdW5jdGlvbiAoUEJVaUJhY2tncm91bmQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUZXh0dXJlVW5pb24uZW5jb2RlKG1lc3NhZ2UudGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0dXJlTW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS50ZXh0dXJlTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dHVyZVNsaWNlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCb3JkZXJSZWN0LmVuY29kZShtZXNzYWdlLnRleHR1cmVTbGljZXMsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpO1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS51dnMpIHtcbiAgICAgICAgICAgIHdyaXRlci5mbG9hdCh2KTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlCYWNrZ3JvdW5kLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaUJhY2tncm91bmQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0dXJlTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHR1cmVTbGljZXMgPSBCb3JkZXJSZWN0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXZzLnB1c2gocmVhZGVyLmZsb2F0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlCYWNrZ3JvdW5kLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVWlCYWNrZ3JvdW5kIHx8IChQQlVpQmFja2dyb3VuZCA9IHt9KSk7XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuY29tbW9uXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQm9yZGVyUmVjdCgpIHtcbiAgICByZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEJvcmRlclJlY3Q7XG4oZnVuY3Rpb24gKEJvcmRlclJlY3QpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50b3AgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UudG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5sZWZ0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3R0b20gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UuYm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBCb3JkZXJSZWN0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQm9yZGVyUmVjdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIEJvcmRlclJlY3QuZGVjb2RlID0gZGVjb2RlO1xufSkoQm9yZGVyUmVjdCB8fCAoQm9yZGVyUmVjdCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVjdCgpIHtcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBSZWN0O1xuKGZ1bmN0aW9uIChSZWN0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS55ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLndpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5oZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBSZWN0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVjdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBSZWN0LmRlY29kZSA9IGRlY29kZTtcbn0pKFJlY3QgfHwgKFJlY3QgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlCYWNrZ3JvdW5kIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfYmFja2dyb3VuZC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpQmFja2dyb3VuZFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNTMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlCYWNrZ3JvdW5kLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlCYWNrZ3JvdW5kLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpQmFja2dyb3VuZC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaUJhY2tncm91bmRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQm9yZGVyUmVjdCB9IGZyb20gXCIuLi8uLi9jb21tb24vYm9yZGVyX3JlY3QuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlDYW52YXNJbmZvcm1hdGlvbigpIHtcbiAgICByZXR1cm4geyBkZXZpY2VQaXhlbFJhdGlvOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwLCBpbnRlcmFjdGFibGVBcmVhOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlDYW52YXNJbmZvcm1hdGlvbjtcbihmdW5jdGlvbiAoUEJVaUNhbnZhc0luZm9ybWF0aW9uKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZGV2aWNlUGl4ZWxSYXRpbyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaW50ZXJhY3RhYmxlQXJlYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCb3JkZXJSZWN0LmVuY29kZShtZXNzYWdlLmludGVyYWN0YWJsZUFyZWEsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaUNhbnZhc0luZm9ybWF0aW9uLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaUNhbnZhc0luZm9ybWF0aW9uKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGV2aWNlUGl4ZWxSYXRpbyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndpZHRoID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW50ZXJhY3RhYmxlQXJlYSA9IEJvcmRlclJlY3QuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJVaUNhbnZhc0luZm9ybWF0aW9uIHx8IChQQlVpQ2FudmFzSW5mb3JtYXRpb24gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlDYW52YXNJbmZvcm1hdGlvbiB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2NhbnZhc19pbmZvcm1hdGlvbi5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpQ2FudmFzSW5mb3JtYXRpb25TY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDU0LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJVaUNhbnZhc0luZm9ybWF0aW9uLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVWlDYW52YXNJbmZvcm1hdGlvblwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVaURyb3Bkb3duKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjY2VwdEVtcHR5OiBmYWxzZSxcbiAgICAgICAgZW1wdHlMYWJlbDogdW5kZWZpbmVkLFxuICAgICAgICBvcHRpb25zOiBbXSxcbiAgICAgICAgc2VsZWN0ZWRJbmRleDogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIGNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHRleHRBbGlnbjogdW5kZWZpbmVkLFxuICAgICAgICBmb250OiB1bmRlZmluZWQsXG4gICAgICAgIGZvbnRTaXplOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlEcm9wZG93bjtcbihmdW5jdGlvbiAoUEJVaURyb3Bkb3duKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYWNjZXB0RW1wdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLmFjY2VwdEVtcHR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbXB0eUxhYmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmVtcHR5TGFiZWwpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zZWxlY3RlZEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2Uuc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmJvb2wobWVzc2FnZS5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHRBbGlnbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgwKS5pbnQzMihtZXNzYWdlLnRleHRBbGlnbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDg4KS5pbnQzMihtZXNzYWdlLmZvbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnRTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTYpLmludDMyKG1lc3NhZ2UuZm9udFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlEcm9wZG93bi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVWlEcm9wZG93bigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWNjZXB0RW1wdHkgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVtcHR5TGFiZWwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3B0aW9ucy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VsZWN0ZWRJbmRleCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpc2FibGVkID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0QWxpZ24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9udCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA5Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250U2l6ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlEcm9wZG93bi5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpRHJvcGRvd24gfHwgKFBCVWlEcm9wZG93biA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaURyb3Bkb3duIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd24uZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBVaURyb3Bkb3duU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA5NCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaURyb3Bkb3duLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlEcm9wZG93bi5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJVaURyb3Bkb3duLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpRHJvcGRvd25cIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVpRHJvcGRvd25SZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlEcm9wZG93blJlc3VsdDtcbihmdW5jdGlvbiAoUEJVaURyb3Bkb3duUmVzdWx0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaURyb3Bkb3duUmVzdWx0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaURyb3Bkb3duUmVzdWx0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlEcm9wZG93blJlc3VsdC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpRHJvcGRvd25SZXN1bHQgfHwgKFBCVWlEcm9wZG93blJlc3VsdCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaURyb3Bkb3duUmVzdWx0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd25fcmVzdWx0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVWlEcm9wZG93blJlc3VsdFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwOTYsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlEcm9wZG93blJlc3VsdC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlVpRHJvcGRvd25SZXN1bHQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVWlEcm9wZG93blJlc3VsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaURyb3Bkb3duUmVzdWx0XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVpSW5wdXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCIsXG4gICAgICAgIGNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHBsYWNlaG9sZGVyQ29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICB0ZXh0QWxpZ246IHVuZGVmaW5lZCxcbiAgICAgICAgZm9udDogdW5kZWZpbmVkLFxuICAgICAgICBmb250U2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpSW5wdXQ7XG4oZnVuY3Rpb24gKFBCVWlJbnB1dCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBsYWNlaG9sZGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5wbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dEFsaWduICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODApLmludDMyKG1lc3NhZ2UudGV4dEFsaWduKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODgpLmludDMyKG1lc3NhZ2UuZm9udCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udFNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig5NikuaW50MzIobWVzc2FnZS5mb250U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMDYpLnN0cmluZyhtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlVpSW5wdXQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpSW5wdXQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGFjZWhvbGRlciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IgPSBDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXNhYmxlZCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRBbGlnbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDk2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvbnRTaXplID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpSW5wdXQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJVaUlucHV0IHx8IChQQlVpSW5wdXQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlJbnB1dCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2lucHV0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVWlJbnB1dFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwOTMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlJbnB1dC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlVpSW5wdXQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVWlJbnB1dC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaUlucHV0XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVaUlucHV0UmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiBcIlwiIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpSW5wdXRSZXN1bHQ7XG4oZnVuY3Rpb24gKFBCVWlJbnB1dFJlc3VsdCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaUlucHV0UmVzdWx0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaUlucHV0UmVzdWx0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJVaUlucHV0UmVzdWx0LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVWlJbnB1dFJlc3VsdCB8fCAoUEJVaUlucHV0UmVzdWx0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlVpSW5wdXRSZXN1bHQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9pbnB1dF9yZXN1bHQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBVaUlucHV0UmVzdWx0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA5NSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaUlucHV0UmVzdWx0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlJbnB1dFJlc3VsdC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJVaUlucHV0UmVzdWx0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpSW5wdXRSZXN1bHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3I0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlUZXh0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiBcIlwiLCBjb2xvcjogdW5kZWZpbmVkLCB0ZXh0QWxpZ246IHVuZGVmaW5lZCwgZm9udDogdW5kZWZpbmVkLCBmb250U2l6ZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpVGV4dDtcbihmdW5jdGlvbiAoUEJVaVRleHQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yNC5lbmNvZGUobWVzc2FnZS5jb2xvciwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0QWxpZ24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS50ZXh0QWxpZ24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5mb250KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250U2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5pbnQzMihtZXNzYWdlLmZvbnRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlVpVGV4dC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVWlUZXh0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29sb3IgPSBDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0QWxpZ24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9udFNpemUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpVGV4dC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpVGV4dCB8fCAoUEJVaVRleHQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlUZXh0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfdGV4dC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpVGV4dFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNTIsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlUZXh0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlUZXh0LmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpVGV4dC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaVRleHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHUG9zaXRpb25UeXBlO1xuKGZ1bmN0aW9uIChZR1Bvc2l0aW9uVHlwZSkge1xuICAgIFlHUG9zaXRpb25UeXBlW1lHUG9zaXRpb25UeXBlW1wiWUdQVF9SRUxBVElWRVwiXSA9IDBdID0gXCJZR1BUX1JFTEFUSVZFXCI7XG4gICAgWUdQb3NpdGlvblR5cGVbWUdQb3NpdGlvblR5cGVbXCJZR1BUX0FCU09MVVRFXCJdID0gMV0gPSBcIllHUFRfQUJTT0xVVEVcIjtcbn0pKFlHUG9zaXRpb25UeXBlIHx8IChZR1Bvc2l0aW9uVHlwZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR0FsaWduO1xuKGZ1bmN0aW9uIChZR0FsaWduKSB7XG4gICAgWUdBbGlnbltZR0FsaWduW1wiWUdBX0FVVE9cIl0gPSAwXSA9IFwiWUdBX0FVVE9cIjtcbiAgICBZR0FsaWduW1lHQWxpZ25bXCJZR0FfRkxFWF9TVEFSVFwiXSA9IDFdID0gXCJZR0FfRkxFWF9TVEFSVFwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9DRU5URVJcIl0gPSAyXSA9IFwiWUdBX0NFTlRFUlwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9GTEVYX0VORFwiXSA9IDNdID0gXCJZR0FfRkxFWF9FTkRcIjtcbiAgICBZR0FsaWduW1lHQWxpZ25bXCJZR0FfU1RSRVRDSFwiXSA9IDRdID0gXCJZR0FfU1RSRVRDSFwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9CQVNFTElORVwiXSA9IDVdID0gXCJZR0FfQkFTRUxJTkVcIjtcbiAgICBZR0FsaWduW1lHQWxpZ25bXCJZR0FfU1BBQ0VfQkVUV0VFTlwiXSA9IDZdID0gXCJZR0FfU1BBQ0VfQkVUV0VFTlwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9TUEFDRV9BUk9VTkRcIl0gPSA3XSA9IFwiWUdBX1NQQUNFX0FST1VORFwiO1xufSkoWUdBbGlnbiB8fCAoWUdBbGlnbiA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR1VuaXQ7XG4oZnVuY3Rpb24gKFlHVW5pdCkge1xuICAgIFlHVW5pdFtZR1VuaXRbXCJZR1VfVU5ERUZJTkVEXCJdID0gMF0gPSBcIllHVV9VTkRFRklORURcIjtcbiAgICBZR1VuaXRbWUdVbml0W1wiWUdVX1BPSU5UXCJdID0gMV0gPSBcIllHVV9QT0lOVFwiO1xuICAgIFlHVW5pdFtZR1VuaXRbXCJZR1VfUEVSQ0VOVFwiXSA9IDJdID0gXCJZR1VfUEVSQ0VOVFwiO1xuICAgIFlHVW5pdFtZR1VuaXRbXCJZR1VfQVVUT1wiXSA9IDNdID0gXCJZR1VfQVVUT1wiO1xufSkoWUdVbml0IHx8IChZR1VuaXQgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgWUdGbGV4RGlyZWN0aW9uO1xuKGZ1bmN0aW9uIChZR0ZsZXhEaXJlY3Rpb24pIHtcbiAgICBZR0ZsZXhEaXJlY3Rpb25bWUdGbGV4RGlyZWN0aW9uW1wiWUdGRF9ST1dcIl0gPSAwXSA9IFwiWUdGRF9ST1dcIjtcbiAgICBZR0ZsZXhEaXJlY3Rpb25bWUdGbGV4RGlyZWN0aW9uW1wiWUdGRF9DT0xVTU5cIl0gPSAxXSA9IFwiWUdGRF9DT0xVTU5cIjtcbiAgICBZR0ZsZXhEaXJlY3Rpb25bWUdGbGV4RGlyZWN0aW9uW1wiWUdGRF9DT0xVTU5fUkVWRVJTRVwiXSA9IDJdID0gXCJZR0ZEX0NPTFVNTl9SRVZFUlNFXCI7XG4gICAgWUdGbGV4RGlyZWN0aW9uW1lHRmxleERpcmVjdGlvbltcIllHRkRfUk9XX1JFVkVSU0VcIl0gPSAzXSA9IFwiWUdGRF9ST1dfUkVWRVJTRVwiO1xufSkoWUdGbGV4RGlyZWN0aW9uIHx8IChZR0ZsZXhEaXJlY3Rpb24gPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgWUdXcmFwO1xuKGZ1bmN0aW9uIChZR1dyYXApIHtcbiAgICBZR1dyYXBbWUdXcmFwW1wiWUdXX05PX1dSQVBcIl0gPSAwXSA9IFwiWUdXX05PX1dSQVBcIjtcbiAgICBZR1dyYXBbWUdXcmFwW1wiWUdXX1dSQVBcIl0gPSAxXSA9IFwiWUdXX1dSQVBcIjtcbiAgICBZR1dyYXBbWUdXcmFwW1wiWUdXX1dSQVBfUkVWRVJTRVwiXSA9IDJdID0gXCJZR1dfV1JBUF9SRVZFUlNFXCI7XG59KShZR1dyYXAgfHwgKFlHV3JhcCA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR0p1c3RpZnk7XG4oZnVuY3Rpb24gKFlHSnVzdGlmeSkge1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfRkxFWF9TVEFSVFwiXSA9IDBdID0gXCJZR0pfRkxFWF9TVEFSVFwiO1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfQ0VOVEVSXCJdID0gMV0gPSBcIllHSl9DRU5URVJcIjtcbiAgICBZR0p1c3RpZnlbWUdKdXN0aWZ5W1wiWUdKX0ZMRVhfRU5EXCJdID0gMl0gPSBcIllHSl9GTEVYX0VORFwiO1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfU1BBQ0VfQkVUV0VFTlwiXSA9IDNdID0gXCJZR0pfU1BBQ0VfQkVUV0VFTlwiO1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfU1BBQ0VfQVJPVU5EXCJdID0gNF0gPSBcIllHSl9TUEFDRV9BUk9VTkRcIjtcbiAgICBZR0p1c3RpZnlbWUdKdXN0aWZ5W1wiWUdKX1NQQUNFX0VWRU5MWVwiXSA9IDVdID0gXCJZR0pfU1BBQ0VfRVZFTkxZXCI7XG59KShZR0p1c3RpZnkgfHwgKFlHSnVzdGlmeSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR092ZXJmbG93O1xuKGZ1bmN0aW9uIChZR092ZXJmbG93KSB7XG4gICAgWUdPdmVyZmxvd1tZR092ZXJmbG93W1wiWUdPX1ZJU0lCTEVcIl0gPSAwXSA9IFwiWUdPX1ZJU0lCTEVcIjtcbiAgICBZR092ZXJmbG93W1lHT3ZlcmZsb3dbXCJZR09fSElEREVOXCJdID0gMV0gPSBcIllHT19ISURERU5cIjtcbiAgICBZR092ZXJmbG93W1lHT3ZlcmZsb3dbXCJZR09fU0NST0xMXCJdID0gMl0gPSBcIllHT19TQ1JPTExcIjtcbn0pKFlHT3ZlcmZsb3cgfHwgKFlHT3ZlcmZsb3cgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgWUdEaXNwbGF5O1xuKGZ1bmN0aW9uIChZR0Rpc3BsYXkpIHtcbiAgICBZR0Rpc3BsYXlbWUdEaXNwbGF5W1wiWUdEX0ZMRVhcIl0gPSAwXSA9IFwiWUdEX0ZMRVhcIjtcbiAgICBZR0Rpc3BsYXlbWUdEaXNwbGF5W1wiWUdEX05PTkVcIl0gPSAxXSA9IFwiWUdEX05PTkVcIjtcbn0pKFlHRGlzcGxheSB8fCAoWUdEaXNwbGF5ID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHRWRnZTtcbihmdW5jdGlvbiAoWUdFZGdlKSB7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9MRUZUXCJdID0gMF0gPSBcIllHRV9MRUZUXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9UT1BcIl0gPSAxXSA9IFwiWUdFX1RPUFwiO1xuICAgIFlHRWRnZVtZR0VkZ2VbXCJZR0VfUklHSFRcIl0gPSAyXSA9IFwiWUdFX1JJR0hUXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9CT1RUT01cIl0gPSAzXSA9IFwiWUdFX0JPVFRPTVwiO1xuICAgIFlHRWRnZVtZR0VkZ2VbXCJZR0VfU1RBUlRcIl0gPSA0XSA9IFwiWUdFX1NUQVJUXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9FTkRcIl0gPSA1XSA9IFwiWUdFX0VORFwiO1xuICAgIFlHRWRnZVtZR0VkZ2VbXCJZR0VfSE9SSVpPTlRBTFwiXSA9IDZdID0gXCJZR0VfSE9SSVpPTlRBTFwiO1xuICAgIFlHRWRnZVtZR0VkZ2VbXCJZR0VfVkVSVElDQUxcIl0gPSA3XSA9IFwiWUdFX1ZFUlRJQ0FMXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9BTExcIl0gPSA4XSA9IFwiWUdFX0FMTFwiO1xufSkoWUdFZGdlIHx8IChZR0VkZ2UgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGFyZW50OiAwLFxuICAgICAgICByaWdodE9mOiAwLFxuICAgICAgICBhbGlnbkNvbnRlbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxpZ25JdGVtczogdW5kZWZpbmVkLFxuICAgICAgICBmbGV4V3JhcDogdW5kZWZpbmVkLFxuICAgICAgICBmbGV4U2hyaW5rOiB1bmRlZmluZWQsXG4gICAgICAgIHBvc2l0aW9uVHlwZTogMCxcbiAgICAgICAgYWxpZ25TZWxmOiAwLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAwLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogMCxcbiAgICAgICAgb3ZlcmZsb3c6IDAsXG4gICAgICAgIGRpc3BsYXk6IDAsXG4gICAgICAgIGZsZXhCYXNpc1VuaXQ6IDAsXG4gICAgICAgIGZsZXhCYXNpczogMCxcbiAgICAgICAgZmxleEdyb3c6IDAsXG4gICAgICAgIHdpZHRoVW5pdDogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodFVuaXQ6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgbWluV2lkdGhVbml0OiAwLFxuICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgbWluSGVpZ2h0VW5pdDogMCxcbiAgICAgICAgbWluSGVpZ2h0OiAwLFxuICAgICAgICBtYXhXaWR0aFVuaXQ6IDAsXG4gICAgICAgIG1heFdpZHRoOiAwLFxuICAgICAgICBtYXhIZWlnaHRVbml0OiAwLFxuICAgICAgICBtYXhIZWlnaHQ6IDAsXG4gICAgICAgIHBvc2l0aW9uTGVmdFVuaXQ6IDAsXG4gICAgICAgIHBvc2l0aW9uTGVmdDogMCxcbiAgICAgICAgcG9zaXRpb25Ub3BVbml0OiAwLFxuICAgICAgICBwb3NpdGlvblRvcDogMCxcbiAgICAgICAgcG9zaXRpb25SaWdodFVuaXQ6IDAsXG4gICAgICAgIHBvc2l0aW9uUmlnaHQ6IDAsXG4gICAgICAgIHBvc2l0aW9uQm90dG9tVW5pdDogMCxcbiAgICAgICAgcG9zaXRpb25Cb3R0b206IDAsXG4gICAgICAgIG1hcmdpbkxlZnRVbml0OiAwLFxuICAgICAgICBtYXJnaW5MZWZ0OiAwLFxuICAgICAgICBtYXJnaW5Ub3BVbml0OiAwLFxuICAgICAgICBtYXJnaW5Ub3A6IDAsXG4gICAgICAgIG1hcmdpblJpZ2h0VW5pdDogMCxcbiAgICAgICAgbWFyZ2luUmlnaHQ6IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbVVuaXQ6IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMCxcbiAgICAgICAgcGFkZGluZ0xlZnRVbml0OiAwLFxuICAgICAgICBwYWRkaW5nTGVmdDogMCxcbiAgICAgICAgcGFkZGluZ1RvcFVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgICAgIHBhZGRpbmdSaWdodFVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdSaWdodDogMCxcbiAgICAgICAgcGFkZGluZ0JvdHRvbVVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlUcmFuc2Zvcm07XG4oZnVuY3Rpb24gKFBCVWlUcmFuc2Zvcm0pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5wYXJlbnQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5wYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJpZ2h0T2YgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2UucmlnaHRPZik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWxpZ25Db250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuYWxpZ25Db250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbGlnbkl0ZW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2UuYWxpZ25JdGVtcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmxleFdyYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS5mbGV4V3JhcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmxleFNocmluayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLmZsZXhTaHJpbmspO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uVHlwZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikuaW50MzIobWVzc2FnZS5wb3NpdGlvblR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFsaWduU2VsZiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2NCkuaW50MzIobWVzc2FnZS5hbGlnblNlbGYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZsZXhEaXJlY3Rpb24gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNzIpLmludDMyKG1lc3NhZ2UuZmxleERpcmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuanVzdGlmeUNvbnRlbnQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODApLmludDMyKG1lc3NhZ2UuanVzdGlmeUNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm92ZXJmbG93ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDg4KS5pbnQzMihtZXNzYWdlLm92ZXJmbG93KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXNwbGF5ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDk2KS5pbnQzMihtZXNzYWdlLmRpc3BsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZsZXhCYXNpc1VuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTA0KS5pbnQzMihtZXNzYWdlLmZsZXhCYXNpc1VuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZsZXhCYXNpcyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMTcpLmZsb2F0KG1lc3NhZ2UuZmxleEJhc2lzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mbGV4R3JvdyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjUpLmZsb2F0KG1lc3NhZ2UuZmxleEdyb3cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjgpLmludDMyKG1lc3NhZ2Uud2lkdGhVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNDEpLmZsb2F0KG1lc3NhZ2Uud2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTQ0KS5pbnQzMihtZXNzYWdlLmhlaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNTcpLmZsb2F0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5taW5XaWR0aFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYwKS5pbnQzMihtZXNzYWdlLm1pbldpZHRoVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWluV2lkdGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTczKS5mbG9hdChtZXNzYWdlLm1pbldpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5taW5IZWlnaHRVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE3NikuaW50MzIobWVzc2FnZS5taW5IZWlnaHRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5taW5IZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTg5KS5mbG9hdChtZXNzYWdlLm1pbkhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4V2lkdGhVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE5MikuaW50MzIobWVzc2FnZS5tYXhXaWR0aFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1heFdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIwNSkuZmxvYXQobWVzc2FnZS5tYXhXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4SGVpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMDgpLmludDMyKG1lc3NhZ2UubWF4SGVpZ2h0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4SGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIyMSkuZmxvYXQobWVzc2FnZS5tYXhIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uTGVmdFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjI0KS5pbnQzMihtZXNzYWdlLnBvc2l0aW9uTGVmdFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uTGVmdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMzcpLmZsb2F0KG1lc3NhZ2UucG9zaXRpb25MZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wb3NpdGlvblRvcFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQwKS5pbnQzMihtZXNzYWdlLnBvc2l0aW9uVG9wVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb25Ub3AgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjUzKS5mbG9hdChtZXNzYWdlLnBvc2l0aW9uVG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wb3NpdGlvblJpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNTYpLmludDMyKG1lc3NhZ2UucG9zaXRpb25SaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uUmlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjY5KS5mbG9hdChtZXNzYWdlLnBvc2l0aW9uUmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uQm90dG9tVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNzIpLmludDMyKG1lc3NhZ2UucG9zaXRpb25Cb3R0b21Vbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wb3NpdGlvbkJvdHRvbSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyODUpLmZsb2F0KG1lc3NhZ2UucG9zaXRpb25Cb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpbkxlZnRVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI4OCkuaW50MzIobWVzc2FnZS5tYXJnaW5MZWZ0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luTGVmdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMDEpLmZsb2F0KG1lc3NhZ2UubWFyZ2luTGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luVG9wVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMDQpLmludDMyKG1lc3NhZ2UubWFyZ2luVG9wVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luVG9wICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMxNykuZmxvYXQobWVzc2FnZS5tYXJnaW5Ub3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpblJpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMjApLmludDMyKG1lc3NhZ2UubWFyZ2luUmlnaHRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXJnaW5SaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMzMpLmZsb2F0KG1lc3NhZ2UubWFyZ2luUmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpbkJvdHRvbVVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzM2KS5pbnQzMihtZXNzYWdlLm1hcmdpbkJvdHRvbVVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpbkJvdHRvbSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNDkpLmZsb2F0KG1lc3NhZ2UubWFyZ2luQm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nTGVmdFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzUyKS5pbnQzMihtZXNzYWdlLnBhZGRpbmdMZWZ0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ0xlZnQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzY1KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdMZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nVG9wVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNjgpLmludDMyKG1lc3NhZ2UucGFkZGluZ1RvcFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdUb3AgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzgxKS5mbG9hdChtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzg0KS5pbnQzMihtZXNzYWdlLnBhZGRpbmdSaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzOTcpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1JpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nQm90dG9tVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MDApLmludDMyKG1lc3NhZ2UucGFkZGluZ0JvdHRvbVVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdCb3R0b20gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDEzKS5mbG9hdChtZXNzYWdlLnBhZGRpbmdCb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlUcmFuc2Zvcm0uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpVHJhbnNmb3JtKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJlbnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yaWdodE9mID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWxpZ25Db250ZW50ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWxpZ25JdGVtcyA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZsZXhXcmFwID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmxleFNocmluayA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFsaWduU2VsZiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDcyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZsZXhEaXJlY3Rpb24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuanVzdGlmeUNvbnRlbnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3ZlcmZsb3cgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlzcGxheSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmxleEJhc2lzVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmxleEJhc2lzID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEyNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mbGV4R3JvdyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMjgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGhVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53aWR0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5taW5XaWR0aFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTczKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1pbldpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE3Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5taW5IZWlnaHRVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5taW5IZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTkyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heFdpZHRoVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF4V2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heEhlaWdodFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heEhlaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25MZWZ0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25MZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblRvcFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblJpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25SaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25Cb3R0b21Vbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI4NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvbkJvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luTGVmdFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpbkxlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpblRvcFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzE3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpblRvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luUmlnaHRVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMzMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXJnaW5SaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMzYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luQm90dG9tVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luQm90dG9tID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM1Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nTGVmdFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0NTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzY1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM2OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nVG9wVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzODEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1RvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzODQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzOTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDUxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlUcmFuc2Zvcm0uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJVaVRyYW5zZm9ybSB8fCAoUEJVaVRyYW5zZm9ybSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaVRyYW5zZm9ybSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX3RyYW5zZm9ybS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpVHJhbnNmb3JtU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA1MCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaVRyYW5zZm9ybS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlVpVHJhbnNmb3JtLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpVHJhbnNmb3JtLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpVHJhbnNmb3JtXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBWaWRlb1N0YXRlO1xuKGZ1bmN0aW9uIChWaWRlb1N0YXRlKSB7XG4gICAgVmlkZW9TdGF0ZVtWaWRlb1N0YXRlW1wiVlNfTk9ORVwiXSA9IDBdID0gXCJWU19OT05FXCI7XG4gICAgVmlkZW9TdGF0ZVtWaWRlb1N0YXRlW1wiVlNfRVJST1JcIl0gPSAxXSA9IFwiVlNfRVJST1JcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19MT0FESU5HXCJdID0gMl0gPSBcIlZTX0xPQURJTkdcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19SRUFEWVwiXSA9IDNdID0gXCJWU19SRUFEWVwiO1xuICAgIFZpZGVvU3RhdGVbVmlkZW9TdGF0ZVtcIlZTX1BMQVlJTkdcIl0gPSA0XSA9IFwiVlNfUExBWUlOR1wiO1xuICAgIFZpZGVvU3RhdGVbVmlkZW9TdGF0ZVtcIlZTX0JVRkZFUklOR1wiXSA9IDVdID0gXCJWU19CVUZGRVJJTkdcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19TRUVLSU5HXCJdID0gNl0gPSBcIlZTX1NFRUtJTkdcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19QQVVTRURcIl0gPSA3XSA9IFwiVlNfUEFVU0VEXCI7XG59KShWaWRlb1N0YXRlIHx8IChWaWRlb1N0YXRlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlZpZGVvRXZlbnQoKSB7XG4gICAgcmV0dXJuIHsgdGltZXN0YW1wOiAwLCB0aWNrTnVtYmVyOiAwLCBjdXJyZW50T2Zmc2V0OiAwLCB2aWRlb0xlbmd0aDogMCwgc3RhdGU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVmlkZW9FdmVudDtcbihmdW5jdGlvbiAoUEJWaWRlb0V2ZW50KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQzMihtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGlja051bWJlciAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikudWludDMyKG1lc3NhZ2UudGlja051bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY3VycmVudE9mZnNldCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5jdXJyZW50T2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52aWRlb0xlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS52aWRlb0xlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhdGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmludDMyKG1lc3NhZ2Uuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVmlkZW9FdmVudC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVmlkZW9FdmVudCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpY2tOdW1iZXIgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY3VycmVudE9mZnNldCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZpZGVvTGVuZ3RoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlZpZGVvRXZlbnQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJWaWRlb0V2ZW50IHx8IChQQlZpZGVvRXZlbnQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVmlkZW9FdmVudCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpZGVvX2V2ZW50Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVmlkZW9FdmVudFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDQsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVmlkZW9FdmVudC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlZpZGVvRXZlbnQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVmlkZW9FdmVudC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJWaWRlb0V2ZW50XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJWaWRlb1BsYXllcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzcmM6IFwiXCIsXG4gICAgICAgIHBsYXlpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgcG9zaXRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgdm9sdW1lOiB1bmRlZmluZWQsXG4gICAgICAgIHBsYXliYWNrUmF0ZTogdW5kZWZpbmVkLFxuICAgICAgICBsb29wOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVmlkZW9QbGF5ZXI7XG4oZnVuY3Rpb24gKFBCVmlkZW9QbGF5ZXIpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zcmMgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UucGxheWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uudm9sdW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2Uudm9sdW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wbGF5YmFja1JhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0NSkuZmxvYXQobWVzc2FnZS5wbGF5YmFja1JhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0OCkuYm9vbChtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVmlkZW9QbGF5ZXIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlZpZGVvUGxheWVyKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3JjID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXlpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uudm9sdW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGxheWJhY2tSYXRlID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9vcCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJWaWRlb1BsYXllci5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlZpZGVvUGxheWVyIHx8IChQQlZpZGVvUGxheWVyID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlZpZGVvUGxheWVyIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlkZW9fcGxheWVyLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVmlkZW9QbGF5ZXJTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDQzLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlZpZGVvUGxheWVyLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVmlkZW9QbGF5ZXIuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVmlkZW9QbGF5ZXIuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVmlkZW9QbGF5ZXJcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlZpc2liaWxpdHlDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIHsgdmlzaWJsZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlZpc2liaWxpdHlDb21wb25lbnQ7XG4oZnVuY3Rpb24gKFBCVmlzaWJpbGl0eUNvbXBvbmVudCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnZpc2libGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJWaXNpYmlsaXR5Q29tcG9uZW50LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJWaXNpYmlsaXR5Q29tcG9uZW50KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlZpc2liaWxpdHlDb21wb25lbnQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJWaXNpYmlsaXR5Q29tcG9uZW50IHx8IChQQlZpc2liaWxpdHlDb21wb25lbnQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVmlzaWJpbGl0eUNvbXBvbmVudCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3Zpc2liaWxpdHlfY29tcG9uZW50Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVmlzaWJpbGl0eUNvbXBvbmVudFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwODEsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVmlzaWJpbGl0eUNvbXBvbmVudC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlZpc2liaWxpdHlDb21wb25lbnQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVmlzaWJpbGl0eUNvbXBvbmVudC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJWaXNpYmlsaXR5Q29tcG9uZW50XCJcbiAgICB9XG59O1xuIiwgImltcG9ydCB7IEFuaW1hdG9yU2NoZW1hIH0gZnJvbSAnLi9BbmltYXRvci5nZW4nO1xuaW1wb3J0IHsgQXVkaW9Tb3VyY2VTY2hlbWEgfSBmcm9tICcuL0F1ZGlvU291cmNlLmdlbic7XG5pbXBvcnQgeyBBdWRpb1N0cmVhbVNjaGVtYSB9IGZyb20gJy4vQXVkaW9TdHJlYW0uZ2VuJztcbmltcG9ydCB7IEF2YXRhckF0dGFjaFNjaGVtYSB9IGZyb20gJy4vQXZhdGFyQXR0YWNoLmdlbic7XG5pbXBvcnQgeyBBdmF0YXJNb2RpZmllckFyZWFTY2hlbWEgfSBmcm9tICcuL0F2YXRhck1vZGlmaWVyQXJlYS5nZW4nO1xuaW1wb3J0IHsgQXZhdGFyU2hhcGVTY2hlbWEgfSBmcm9tICcuL0F2YXRhclNoYXBlLmdlbic7XG5pbXBvcnQgeyBCaWxsYm9hcmRTY2hlbWEgfSBmcm9tICcuL0JpbGxib2FyZC5nZW4nO1xuaW1wb3J0IHsgQ2FtZXJhTW9kZVNjaGVtYSB9IGZyb20gJy4vQ2FtZXJhTW9kZS5nZW4nO1xuaW1wb3J0IHsgQ2FtZXJhTW9kZUFyZWFTY2hlbWEgfSBmcm9tICcuL0NhbWVyYU1vZGVBcmVhLmdlbic7XG5pbXBvcnQgeyBFbmdpbmVJbmZvU2NoZW1hIH0gZnJvbSAnLi9FbmdpbmVJbmZvLmdlbic7XG5pbXBvcnQgeyBHbHRmQ29udGFpbmVyU2NoZW1hIH0gZnJvbSAnLi9HbHRmQ29udGFpbmVyLmdlbic7XG5pbXBvcnQgeyBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlU2NoZW1hIH0gZnJvbSAnLi9HbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmdlbic7XG5pbXBvcnQgeyBNYXRlcmlhbFNjaGVtYSB9IGZyb20gJy4vTWF0ZXJpYWwuZ2VuJztcbmltcG9ydCB7IE1lc2hDb2xsaWRlclNjaGVtYSB9IGZyb20gJy4vTWVzaENvbGxpZGVyLmdlbic7XG5pbXBvcnQgeyBNZXNoUmVuZGVyZXJTY2hlbWEgfSBmcm9tICcuL01lc2hSZW5kZXJlci5nZW4nO1xuaW1wb3J0IHsgTmZ0U2hhcGVTY2hlbWEgfSBmcm9tICcuL05mdFNoYXBlLmdlbic7XG5pbXBvcnQgeyBQb2ludGVyRXZlbnRzU2NoZW1hIH0gZnJvbSAnLi9Qb2ludGVyRXZlbnRzLmdlbic7XG5pbXBvcnQgeyBQb2ludGVyRXZlbnRzUmVzdWx0U2NoZW1hIH0gZnJvbSAnLi9Qb2ludGVyRXZlbnRzUmVzdWx0Lmdlbic7XG5pbXBvcnQgeyBQb2ludGVyTG9ja1NjaGVtYSB9IGZyb20gJy4vUG9pbnRlckxvY2suZ2VuJztcbmltcG9ydCB7IFJheWNhc3RTY2hlbWEgfSBmcm9tICcuL1JheWNhc3QuZ2VuJztcbmltcG9ydCB7IFJheWNhc3RSZXN1bHRTY2hlbWEgfSBmcm9tICcuL1JheWNhc3RSZXN1bHQuZ2VuJztcbmltcG9ydCB7IFRleHRTaGFwZVNjaGVtYSB9IGZyb20gJy4vVGV4dFNoYXBlLmdlbic7XG5pbXBvcnQgeyBUd2VlblNjaGVtYSB9IGZyb20gJy4vVHdlZW4uZ2VuJztcbmltcG9ydCB7IFR3ZWVuU2VxdWVuY2VTY2hlbWEgfSBmcm9tICcuL1R3ZWVuU2VxdWVuY2UuZ2VuJztcbmltcG9ydCB7IFR3ZWVuU3RhdGVTY2hlbWEgfSBmcm9tICcuL1R3ZWVuU3RhdGUuZ2VuJztcbmltcG9ydCB7IFVpQmFja2dyb3VuZFNjaGVtYSB9IGZyb20gJy4vVWlCYWNrZ3JvdW5kLmdlbic7XG5pbXBvcnQgeyBVaUNhbnZhc0luZm9ybWF0aW9uU2NoZW1hIH0gZnJvbSAnLi9VaUNhbnZhc0luZm9ybWF0aW9uLmdlbic7XG5pbXBvcnQgeyBVaURyb3Bkb3duU2NoZW1hIH0gZnJvbSAnLi9VaURyb3Bkb3duLmdlbic7XG5pbXBvcnQgeyBVaURyb3Bkb3duUmVzdWx0U2NoZW1hIH0gZnJvbSAnLi9VaURyb3Bkb3duUmVzdWx0Lmdlbic7XG5pbXBvcnQgeyBVaUlucHV0U2NoZW1hIH0gZnJvbSAnLi9VaUlucHV0Lmdlbic7XG5pbXBvcnQgeyBVaUlucHV0UmVzdWx0U2NoZW1hIH0gZnJvbSAnLi9VaUlucHV0UmVzdWx0Lmdlbic7XG5pbXBvcnQgeyBVaVRleHRTY2hlbWEgfSBmcm9tICcuL1VpVGV4dC5nZW4nO1xuaW1wb3J0IHsgVWlUcmFuc2Zvcm1TY2hlbWEgfSBmcm9tICcuL1VpVHJhbnNmb3JtLmdlbic7XG5pbXBvcnQgeyBWaWRlb0V2ZW50U2NoZW1hIH0gZnJvbSAnLi9WaWRlb0V2ZW50Lmdlbic7XG5pbXBvcnQgeyBWaWRlb1BsYXllclNjaGVtYSB9IGZyb20gJy4vVmlkZW9QbGF5ZXIuZ2VuJztcbmltcG9ydCB7IFZpc2liaWxpdHlDb21wb25lbnRTY2hlbWEgfSBmcm9tICcuL1Zpc2liaWxpdHlDb21wb25lbnQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2FuaW1hdG9yLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19zb3VyY2UuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F1ZGlvX3N0cmVhbS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX2F0dGFjaC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX21vZGlmaWVyX2FyZWEuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9zaGFwZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYmlsbGJvYXJkLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jYW1lcmFfbW9kZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGVfYXJlYS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZW5naW5lX2luZm8uZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2dsdGZfY29udGFpbmVyLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lcl9sb2FkaW5nX3N0YXRlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tYXRlcmlhbC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9jb2xsaWRlci5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9yZW5kZXJlci5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbmZ0X3NoYXBlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wb2ludGVyX2V2ZW50cy5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHNfcmVzdWx0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wb2ludGVyX2xvY2suZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3JheWNhc3QuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3JheWNhc3RfcmVzdWx0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90ZXh0X3NoYXBlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbi5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdHdlZW5fc2VxdWVuY2UuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3R3ZWVuX3N0YXRlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9iYWNrZ3JvdW5kLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9jYW52YXNfaW5mb3JtYXRpb24uZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2Ryb3Bkb3duLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9kcm9wZG93bl9yZXN1bHQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2lucHV0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9pbnB1dF9yZXN1bHQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX3RleHQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX3RyYW5zZm9ybS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlkZW9fZXZlbnQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpZGVvX3BsYXllci5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlzaWJpbGl0eV9jb21wb25lbnQuZ2VuJztcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBbmltYXRvciA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkFuaW1hdG9yXCIsIEFuaW1hdG9yU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdWRpb1NvdXJjZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF1ZGlvU291cmNlXCIsIEF1ZGlvU291cmNlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdWRpb1N0cmVhbSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF1ZGlvU3RyZWFtXCIsIEF1ZGlvU3RyZWFtU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJBdHRhY2ggPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdmF0YXJBdHRhY2hcIiwgQXZhdGFyQXR0YWNoU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJNb2RpZmllckFyZWEgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdmF0YXJNb2RpZmllckFyZWFcIiwgQXZhdGFyTW9kaWZpZXJBcmVhU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJTaGFwZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF2YXRhclNoYXBlXCIsIEF2YXRhclNoYXBlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBCaWxsYm9hcmQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpCaWxsYm9hcmRcIiwgQmlsbGJvYXJkU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBDYW1lcmFNb2RlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6Q2FtZXJhTW9kZVwiLCBDYW1lcmFNb2RlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBDYW1lcmFNb2RlQXJlYSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkNhbWVyYU1vZGVBcmVhXCIsIENhbWVyYU1vZGVBcmVhU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBFbmdpbmVJbmZvID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6RW5naW5lSW5mb1wiLCBFbmdpbmVJbmZvU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBHbHRmQ29udGFpbmVyID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6R2x0ZkNvbnRhaW5lclwiLCBHbHRmQ29udGFpbmVyU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6R2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVwiLCBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBNYXRlcmlhbCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6Ok1hdGVyaWFsXCIsIE1hdGVyaWFsU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBNZXNoQ29sbGlkZXIgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpNZXNoQ29sbGlkZXJcIiwgTWVzaENvbGxpZGVyU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBNZXNoUmVuZGVyZXIgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpNZXNoUmVuZGVyZXJcIiwgTWVzaFJlbmRlcmVyU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBOZnRTaGFwZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6Ok5mdFNoYXBlXCIsIE5mdFNoYXBlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6UG9pbnRlckV2ZW50c1wiLCBQb2ludGVyRXZlbnRzU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzUmVzdWx0ID0gKGVuZ2luZSkgPT4gLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVWYWx1ZVNldENvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpQb2ludGVyRXZlbnRzUmVzdWx0XCIsIFBvaW50ZXJFdmVudHNSZXN1bHRTY2hlbWEsIHtcbiAgICB0aW1lc3RhbXBGdW5jdGlvbjogKHQpID0+IHQudGltZXN0YW1wLFxuICAgIG1heEVsZW1lbnRzOiAxMDBcbn0pO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFBvaW50ZXJMb2NrID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6UG9pbnRlckxvY2tcIiwgUG9pbnRlckxvY2tTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFJheWNhc3QgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpSYXljYXN0XCIsIFJheWNhc3RTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFJheWNhc3RSZXN1bHQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpSYXljYXN0UmVzdWx0XCIsIFJheWNhc3RSZXN1bHRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFRleHRTaGFwZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlRleHRTaGFwZVwiLCBUZXh0U2hhcGVTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFR3ZWVuID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VHdlZW5cIiwgVHdlZW5TY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFR3ZWVuU2VxdWVuY2UgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpUd2VlblNlcXVlbmNlXCIsIFR3ZWVuU2VxdWVuY2VTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFR3ZWVuU3RhdGUgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpUd2VlblN0YXRlXCIsIFR3ZWVuU3RhdGVTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpQmFja2dyb3VuZCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlVpQmFja2dyb3VuZFwiLCBVaUJhY2tncm91bmRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpQ2FudmFzSW5mb3JtYXRpb24gPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaUNhbnZhc0luZm9ybWF0aW9uXCIsIFVpQ2FudmFzSW5mb3JtYXRpb25TY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpRHJvcGRvd24gPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaURyb3Bkb3duXCIsIFVpRHJvcGRvd25TY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpRHJvcGRvd25SZXN1bHQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaURyb3Bkb3duUmVzdWx0XCIsIFVpRHJvcGRvd25SZXN1bHRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpSW5wdXQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaUlucHV0XCIsIFVpSW5wdXRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpSW5wdXRSZXN1bHQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaUlucHV0UmVzdWx0XCIsIFVpSW5wdXRSZXN1bHRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpVGV4dCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlVpVGV4dFwiLCBVaVRleHRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpVHJhbnNmb3JtID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlUcmFuc2Zvcm1cIiwgVWlUcmFuc2Zvcm1TY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpZGVvRXZlbnQgPSAoZW5naW5lKSA9PiAvKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZVZhbHVlU2V0Q29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlZpZGVvRXZlbnRcIiwgVmlkZW9FdmVudFNjaGVtYSwge1xuICAgIHRpbWVzdGFtcEZ1bmN0aW9uOiAodCkgPT4gdC50aW1lc3RhbXAsXG4gICAgbWF4RWxlbWVudHM6IDEwMFxufSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVmlkZW9QbGF5ZXIgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpWaWRlb1BsYXllclwiLCBWaWRlb1BsYXllclNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVmlzaWJpbGl0eUNvbXBvbmVudCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlZpc2liaWxpdHlDb21wb25lbnRcIiwgVmlzaWJpbGl0eUNvbXBvbmVudFNjaGVtYSk7XG4vKiogcHVibGljICovXG5leHBvcnQgY29uc3QgY29tcG9uZW50RGVmaW5pdGlvbkJ5TmFtZSA9IC8qIEBfX1BVUkVfXyAqLyB7XG4gICAgXCJjb3JlOjpBbmltYXRvclwiOiBBbmltYXRvcixcbiAgICBcImNvcmU6OkF1ZGlvU291cmNlXCI6IEF1ZGlvU291cmNlLFxuICAgIFwiY29yZTo6QXVkaW9TdHJlYW1cIjogQXVkaW9TdHJlYW0sXG4gICAgXCJjb3JlOjpBdmF0YXJBdHRhY2hcIjogQXZhdGFyQXR0YWNoLFxuICAgIFwiY29yZTo6QXZhdGFyTW9kaWZpZXJBcmVhXCI6IEF2YXRhck1vZGlmaWVyQXJlYSxcbiAgICBcImNvcmU6OkF2YXRhclNoYXBlXCI6IEF2YXRhclNoYXBlLFxuICAgIFwiY29yZTo6QmlsbGJvYXJkXCI6IEJpbGxib2FyZCxcbiAgICBcImNvcmU6OkNhbWVyYU1vZGVcIjogQ2FtZXJhTW9kZSxcbiAgICBcImNvcmU6OkNhbWVyYU1vZGVBcmVhXCI6IENhbWVyYU1vZGVBcmVhLFxuICAgIFwiY29yZTo6RW5naW5lSW5mb1wiOiBFbmdpbmVJbmZvLFxuICAgIFwiY29yZTo6R2x0ZkNvbnRhaW5lclwiOiBHbHRmQ29udGFpbmVyLFxuICAgIFwiY29yZTo6R2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVwiOiBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLFxuICAgIFwiY29yZTo6TWF0ZXJpYWxcIjogTWF0ZXJpYWwsXG4gICAgXCJjb3JlOjpNZXNoQ29sbGlkZXJcIjogTWVzaENvbGxpZGVyLFxuICAgIFwiY29yZTo6TWVzaFJlbmRlcmVyXCI6IE1lc2hSZW5kZXJlcixcbiAgICBcImNvcmU6Ok5mdFNoYXBlXCI6IE5mdFNoYXBlLFxuICAgIFwiY29yZTo6UG9pbnRlckV2ZW50c1wiOiBQb2ludGVyRXZlbnRzLFxuICAgIFwiY29yZTo6UG9pbnRlckV2ZW50c1Jlc3VsdFwiOiBQb2ludGVyRXZlbnRzUmVzdWx0LFxuICAgIFwiY29yZTo6UG9pbnRlckxvY2tcIjogUG9pbnRlckxvY2ssXG4gICAgXCJjb3JlOjpSYXljYXN0XCI6IFJheWNhc3QsXG4gICAgXCJjb3JlOjpSYXljYXN0UmVzdWx0XCI6IFJheWNhc3RSZXN1bHQsXG4gICAgXCJjb3JlOjpUZXh0U2hhcGVcIjogVGV4dFNoYXBlLFxuICAgIFwiY29yZTo6VHdlZW5cIjogVHdlZW4sXG4gICAgXCJjb3JlOjpUd2VlblNlcXVlbmNlXCI6IFR3ZWVuU2VxdWVuY2UsXG4gICAgXCJjb3JlOjpUd2VlblN0YXRlXCI6IFR3ZWVuU3RhdGUsXG4gICAgXCJjb3JlOjpVaUJhY2tncm91bmRcIjogVWlCYWNrZ3JvdW5kLFxuICAgIFwiY29yZTo6VWlDYW52YXNJbmZvcm1hdGlvblwiOiBVaUNhbnZhc0luZm9ybWF0aW9uLFxuICAgIFwiY29yZTo6VWlEcm9wZG93blwiOiBVaURyb3Bkb3duLFxuICAgIFwiY29yZTo6VWlEcm9wZG93blJlc3VsdFwiOiBVaURyb3Bkb3duUmVzdWx0LFxuICAgIFwiY29yZTo6VWlJbnB1dFwiOiBVaUlucHV0LFxuICAgIFwiY29yZTo6VWlJbnB1dFJlc3VsdFwiOiBVaUlucHV0UmVzdWx0LFxuICAgIFwiY29yZTo6VWlUZXh0XCI6IFVpVGV4dCxcbiAgICBcImNvcmU6OlVpVHJhbnNmb3JtXCI6IFVpVHJhbnNmb3JtLFxuICAgIFwiY29yZTo6VmlkZW9FdmVudFwiOiBWaWRlb0V2ZW50LFxuICAgIFwiY29yZTo6VmlkZW9QbGF5ZXJcIjogVmlkZW9QbGF5ZXIsXG4gICAgXCJjb3JlOjpWaXNpYmlsaXR5Q29tcG9uZW50XCI6IFZpc2liaWxpdHlDb21wb25lbnQsXG59O1xuIiwgImltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSAnLi4vZ2VuZXJhdGVkL2luZGV4Lmdlbic7XG5jb25zdCBUZXh0dXJlSGVscGVyID0ge1xuICAgIENvbW1vbih0ZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXg6IHtcbiAgICAgICAgICAgICAgICAkY2FzZTogJ3RleHR1cmUnLFxuICAgICAgICAgICAgICAgIHRleHR1cmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIEF2YXRhcihhdmF0YXJUZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXg6IHtcbiAgICAgICAgICAgICAgICAkY2FzZTogJ2F2YXRhclRleHR1cmUnLFxuICAgICAgICAgICAgICAgIGF2YXRhclRleHR1cmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIFZpZGVvKHZpZGVvVGV4dHVyZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4OiB7XG4gICAgICAgICAgICAgICAgJGNhc2U6ICd2aWRlb1RleHR1cmUnLFxuICAgICAgICAgICAgICAgIHZpZGVvVGV4dHVyZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTWF0ZXJpYWxDb21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgdGhlQ29tcG9uZW50ID0gTWF0ZXJpYWwoZW5naW5lKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGVDb21wb25lbnQsXG4gICAgICAgIFRleHR1cmU6IFRleHR1cmVIZWxwZXIsXG4gICAgICAgIHNldEJhc2ljTWF0ZXJpYWwoZW50aXR5LCBtYXRlcmlhbCkge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgICAgICAgICAkY2FzZTogJ3VubGl0JyxcbiAgICAgICAgICAgICAgICAgICAgdW5saXQ6IG1hdGVyaWFsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBick1hdGVyaWFsKGVudGl0eSwgbWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHtcbiAgICAgICAgICAgICAgICAgICAgJGNhc2U6ICdwYnInLFxuICAgICAgICAgICAgICAgICAgICBwYnI6IG1hdGVyaWFsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImltcG9ydCB7IE1lc2hDb2xsaWRlciB9IGZyb20gJy4uL2dlbmVyYXRlZC9pbmRleC5nZW4nO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZU1lc2hDb2xsaWRlckNvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCB0aGVDb21wb25lbnQgPSBNZXNoQ29sbGlkZXIoZW5naW5lKTtcbiAgICBmdW5jdGlvbiBnZXRDb2xsaXNpb25NYXNrKGxheWVycykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsYXllcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXJzLm1hcCgoaXRlbSkgPT4gaXRlbSkucmVkdWNlKChwcmV2LCBpdGVtKSA9PiBwcmV2IHwgaXRlbSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGF5ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXJzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoZUNvbXBvbmVudCxcbiAgICAgICAgc2V0Qm94KGVudGl0eSwgY29sbGlkZXJMYXllcnMpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ2JveCcsIGJveDoge30gfSxcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25NYXNrOiBnZXRDb2xsaXNpb25NYXNrKGNvbGxpZGVyTGF5ZXJzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBsYW5lKGVudGl0eSwgY29sbGlkZXJMYXllcnMpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ3BsYW5lJywgcGxhbmU6IHt9IH0sXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uTWFzazogZ2V0Q29sbGlzaW9uTWFzayhjb2xsaWRlckxheWVycylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRDeWxpbmRlcihlbnRpdHksIHJhZGl1c0JvdHRvbSwgcmFkaXVzVG9wLCBjb2xsaWRlckxheWVycykge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAnY3lsaW5kZXInLCBjeWxpbmRlcjogeyByYWRpdXNCb3R0b20sIHJhZGl1c1RvcCB9IH0sXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uTWFzazogZ2V0Q29sbGlzaW9uTWFzayhjb2xsaWRlckxheWVycylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTcGhlcmUoZW50aXR5LCBjb2xsaWRlckxheWVycykge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAnc3BoZXJlJywgc3BoZXJlOiB7fSB9LFxuICAgICAgICAgICAgICAgIGNvbGxpc2lvbk1hc2s6IGdldENvbGxpc2lvbk1hc2soY29sbGlkZXJMYXllcnMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCAiaW1wb3J0IHsgTWVzaFJlbmRlcmVyIH0gZnJvbSAnLi4vZ2VuZXJhdGVkL2luZGV4Lmdlbic7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTWVzaFJlbmRlcmVyQ29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IHRoZUNvbXBvbmVudCA9IE1lc2hSZW5kZXJlcihlbmdpbmUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoZUNvbXBvbmVudCxcbiAgICAgICAgc2V0Qm94KGVudGl0eSwgdXZzKSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHsgJGNhc2U6ICdib3gnLCBib3g6IHsgdXZzOiB1dnMgfHwgW10gfSB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UGxhbmUoZW50aXR5LCB1dnMpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ3BsYW5lJywgcGxhbmU6IHsgdXZzOiB1dnMgfHwgW10gfSB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q3lsaW5kZXIoZW50aXR5LCByYWRpdXNCb3R0b20sIHJhZGl1c1RvcCkge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAnY3lsaW5kZXInLCBjeWxpbmRlcjogeyByYWRpdXNCb3R0b20sIHJhZGl1c1RvcCB9IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTcGhlcmUoZW50aXR5KSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHsgJGNhc2U6ICdzcGhlcmUnLCBzcGhlcmU6IHt9IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiIsICJpbXBvcnQgeyBUd2VlbiB9IGZyb20gJy4uL2dlbmVyYXRlZC9pbmRleC5nZW4nO1xuY29uc3QgVHdlZW5IZWxwZXIgPSB7XG4gICAgTW92ZShtb3ZlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAkY2FzZTogJ21vdmUnLFxuICAgICAgICAgICAgbW92ZVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgUm90YXRlKHJvdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJGNhc2U6ICdyb3RhdGUnLFxuICAgICAgICAgICAgcm90YXRlXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBTY2FsZShzY2FsZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJGNhc2U6ICdzY2FsZScsXG4gICAgICAgICAgICBzY2FsZVxuICAgICAgICB9O1xuICAgIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lVHdlZW5Db21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgdGhlQ29tcG9uZW50ID0gVHdlZW4oZW5naW5lKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGVDb21wb25lbnQsXG4gICAgICAgIE1vZGU6IFR3ZWVuSGVscGVyXG4gICAgfTtcbn1cbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSUFycmF5ID0gKHR5cGUpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIud3JpdGVVaW50MzIodmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHR5cGUuc2VyaWFsaXplKGl0ZW0sIGJ1aWxkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSByZWFkZXIucmVhZFVpbnQzMigpO1xuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIG5ld0FycmF5LnB1c2godHlwZS5kZXNlcmlhbGl6ZShyZWFkZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdBcnJheTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9LFxuICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgaXRlbXM6IHR5cGUuanNvblNjaGVtYSxcbiAgICAgICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnYXJyYXknXG4gICAgICAgIH1cbiAgICB9O1xufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQm9vbCA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUludDgodmFsdWUgPyAxIDogMCk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkSW50OCgpID09PSAxO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdib29sZWFuJ1xuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEludDY0ID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlSW50NjQoQmlnSW50KHZhbHVlKSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcihyZWFkZXIucmVhZEludDY0KCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2ludDY0J1xuICAgIH1cbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSW50MzIgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVJbnQzMih2YWx1ZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkSW50MzIoKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdpbnQzMidcbiAgICB9XG59O1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBJbnQxNiA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUludDE2KHZhbHVlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRJbnQxNigpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2ludDE2J1xuICAgIH1cbn07XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEludDggPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVJbnQ4KHZhbHVlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRJbnQ4KCk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnaW50OCdcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBGbGF0U3RyaW5nID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlVXRmOFN0cmluZyh2YWx1ZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkVXRmOFN0cmluZygpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ3V0Zjgtc3RyaW5nJ1xuICAgIH1cbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRWNzU3RyaW5nID0gRmxhdFN0cmluZztcbiIsICJpbXBvcnQgeyBJbnQzMiB9IGZyb20gJy4vSW50ZWdlcic7XG5pbXBvcnQgeyBGbGF0U3RyaW5nIH0gZnJvbSAnLi9TdHJpbmcnO1xuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIGVudW0gdG8gZW5zdXJlIGFsbCBtZW1iZXIgdmFsdWVzIGFyZSBudW1iZXJzIGFuZCB3aXRoaW4gdGhlIHJhbmdlIG9mIEludDMyLlxuICogQHBhcmFtIGVudW1WYWx1ZSBUaGUgZW51bSB0byBiZSBjaGVja2VkLlxuICogQHRocm93cyBJZiBhbnkgbWVtYmVyIHZhbHVlIGlzIG5vdCBhIG51bWJlciBvciBpcyBvdXRzaWRlIHRoZSByYW5nZSBvZiBJbnQzMi5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVNZW1iZXJWYWx1ZXNBcmVOdW1iZXJzQW5kSW5SYW5nZUludDMyKGVudW1WYWx1ZSkge1xuICAgIGNvbnN0IE1JTl9WQUxVRSA9IC0oMiAqKiAzMSksIE1BWF9WQUxVRSA9IDIgKiogMzEgLSAxO1xuICAgIGxldCB2YWx1ZUNvdW50ID0gMCwgdG90YWxDb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZW51bVZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW51bVZhbHVlW2tleV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoZW51bVZhbHVlW2tleV0gPiBNQVhfVkFMVUUgfHwgZW51bVZhbHVlW2tleV0gPCBNSU5fVkFMVUUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVudW0gbWVtYmVyIHZhbHVlcyBtdXN0IGJlIG51bWJlcnMgd2l0aGluIHRoZSByYW5nZSBvZiAke01JTl9WQUxVRX0gdG8gJHtNQVhfVkFMVUV9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIHRvdGFsQ291bnQrKztcbiAgICB9XG4gICAgaWYgKHRvdGFsQ291bnQgIT09IHZhbHVlQ291bnQgKiAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWxsIGVudW0gbWVtYmVyIHZhbHVlcyBtdXN0IGJlIG9mIG51bWVyaWMgdHlwZS4nKTtcbiAgICB9XG59XG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgZW51bSB0byBlbnN1cmUgYWxsIG1lbWJlciB2YWx1ZXMgYXJlIG9mIHN0cmluZyB0eXBlLlxuICogQHBhcmFtIGVudW1WYWx1ZSBUaGUgZW51bSB0byBiZSBjaGVja2VkLlxuICogQHRocm93cyBJZiBhbnkgbWVtYmVyIHZhbHVlIGlzIG5vdCBvZiBzdHJpbmcgdHlwZS5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVNZW1iZXJWYWx1ZXNBcmVTdHJpbmdzKGVudW1WYWx1ZSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGVudW1WYWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudW1WYWx1ZVtrZXldICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbGwgZW51bSBtZW1iZXIgdmFsdWVzIG11c3QgYmUgb2Ygc3RyaW5nIHR5cGUuJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSW50RW51bVJlZmxlY3Rpb25UeXBlID0gJ2VudW0taW50Jztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJbnRFbnVtID0gKGVudW1PYmplY3QsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIHZhbGlkYXRlTWVtYmVyVmFsdWVzQXJlTnVtYmVyc0FuZEluUmFuZ2VJbnQzMihlbnVtT2JqZWN0KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIEludDMyLnNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIEludDMyLmRlc2VyaWFsaXplKHJlYWRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIC8vIEpTT04tc2NoZW1hXG4gICAgICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgICAgICBlbnVtOiBPYmplY3QudmFsdWVzKGVudW1PYmplY3QpLmZpbHRlcigoaXRlbSkgPT4gTnVtYmVyLmlzSW50ZWdlcihpdGVtKSksXG4gICAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAvLyBAZGNsL2VjcyBTY2hlbWEgU3BlY1xuICAgICAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IEludEVudW1SZWZsZWN0aW9uVHlwZSxcbiAgICAgICAgICAgIGVudW1PYmplY3RcbiAgICAgICAgfVxuICAgIH07XG59O1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFN0cmluZ0VudW1SZWZsZWN0aW9uVHlwZSA9ICdlbnVtLXN0cmluZyc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgU3RyaW5nRW51bSA9IChlbnVtT2JqZWN0LCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICB2YWxpZGF0ZU1lbWJlclZhbHVlc0FyZVN0cmluZ3MoZW51bU9iamVjdCk7XG4gICAgLy8gU3RyaW5nIGVudW0gaGFzIHRoZSBleGFjdCBtYXBwaW5nIGZyb20ga2V5IChvdXIgcmVmZXJlbmNlIGluIGNvZGUpIHRvIHZhbHVlc1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICAgICAgRmxhdFN0cmluZy5zZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpO1xuICAgICAgICB9LFxuICAgICAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBGbGF0U3RyaW5nLmRlc2VyaWFsaXplKHJlYWRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIC8vIEpTT04tc2NoZW1hXG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGVudW06IE9iamVjdC52YWx1ZXMoZW51bU9iamVjdCksXG4gICAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAvLyBAZGNsL2VjcyBTY2hlbWEgU3BlY1xuICAgICAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFN0cmluZ0VudW1SZWZsZWN0aW9uVHlwZSxcbiAgICAgICAgICAgIGVudW1PYmplY3RcbiAgICAgICAgfVxuICAgIH07XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBGbG9hdDMyID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkRmxvYXQzMigpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMC4wO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdmbG9hdDMyJ1xuICAgIH1cbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRmxvYXQ2NCA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0NjQodmFsdWUpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZEZsb2F0NjQoKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIDAuMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnZmxvYXQ2NCdcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBDb2xvcjNTY2hlbWEgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLnIpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS5nKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUuYik7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgZzogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICBiOiByZWFkZXIucmVhZEZsb2F0MzIoKVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4geyByOiAwLCBnOiAwLCBiOiAwIH07XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICByOiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICBnOiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICBiOiB7IHR5cGU6ICdudW1iZXInIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdjb2xvcjMnXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQ29sb3I0U2NoZW1hID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS5yKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUuZyk7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLmIpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS5hKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICBnOiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIGI6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgYTogcmVhZGVyLnJlYWRGbG9hdDMyKClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogMCwgZzogMCwgYjogMCwgYTogMCB9O1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgcjogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgZzogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgYjogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgYTogeyB0eXBlOiAnbnVtYmVyJyB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnY29sb3I0J1xuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEVudGl0eVNjaGVtYSA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUludDMyKHZhbHVlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRJbnQzMigpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2VudGl0eSdcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBRdWF0ZXJuaW9uU2NoZW1hID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS54KTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUueSk7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLnopO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS53KTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICB5OiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIHo6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgdzogcmVhZGVyLnJlYWRGbG9hdDMyKClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCwgdzogMCB9O1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgeDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgeTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgejogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgdzogeyB0eXBlOiAnbnVtYmVyJyB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAncXVhdGVybmlvbidcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBWZWN0b3IzU2NoZW1hID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS54KTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUueSk7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLnopO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIHk6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgejogcmVhZGVyLnJlYWRGbG9hdDMyKClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCB9O1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgeDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgeTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgejogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgdzogeyB0eXBlOiAnbnVtYmVyJyB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAndmVjdG9yMydcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJTWFwID0gKHNwZWMsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IHNwZWNSZWZsZWN0aW9uID0gT2JqZWN0LmtleXMoc3BlYykucmVkdWNlKChzcGVjUmVmbGVjdGlvbiwgY3VycmVudEtleSkgPT4ge1xuICAgICAgICBzcGVjUmVmbGVjdGlvbltjdXJyZW50S2V5XSA9IHNwZWNbY3VycmVudEtleV0uanNvblNjaGVtYTtcbiAgICAgICAgcmV0dXJuIHNwZWNSZWZsZWN0aW9uO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNwZWMpIHtcbiAgICAgICAgICAgICAgICBzcGVjW2tleV0uc2VyaWFsaXplKHZhbHVlW2tleV0sIGJ1aWxkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzcGVjKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlW2tleV0gPSBzcGVjW2tleV0uZGVzZXJpYWxpemUocmVhZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNwZWMpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWVba2V5XSA9IHNwZWNba2V5XS5jcmVhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLm5ld1ZhbHVlLCAuLi5kZWZhdWx0VmFsdWUgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0ZW5kOiAoYmFzZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNwZWMpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWVba2V5XSA9IHNwZWNba2V5XS5jcmVhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLm5ld1ZhbHVlLCAuLi5kZWZhdWx0VmFsdWUsIC4uLmJhc2UgfTtcbiAgICAgICAgfSxcbiAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBzcGVjUmVmbGVjdGlvbixcbiAgICAgICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnbWFwJ1xuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IElPcHRpb25hbCA9IChzcGVjKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBidWlsZGVyLndyaXRlSW50OCgxKTtcbiAgICAgICAgICAgICAgICBzcGVjLnNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBidWlsZGVyLndyaXRlSW50OCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdHMgPSByZWFkZXIucmVhZEludDgoKTtcbiAgICAgICAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3BlYy5kZXNlcmlhbGl6ZShyZWFkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICB0eXBlOiBzcGVjLmpzb25TY2hlbWEudHlwZSxcbiAgICAgICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnb3B0aW9uYWwnLFxuICAgICAgICAgICAgb3B0aW9uYWxKc29uU2NoZW1hOiBzcGVjLmpzb25TY2hlbWFcbiAgICAgICAgfVxuICAgIH07XG59O1xuIiwgImV4cG9ydCBjb25zdCBJT25lT2YgPSAoc3BlY3MpID0+IHtcbiAgICBjb25zdCBzcGVjS2V5cyA9IE9iamVjdC5rZXlzKHNwZWNzKTtcbiAgICBjb25zdCBrZXlUb0luZGV4ID0gc3BlY0tleXMucmVkdWNlKChkaWN0LCBrZXksIGluZGV4KSA9PiB7XG4gICAgICAgIGRpY3Rba2V5XSA9IGluZGV4O1xuICAgICAgICByZXR1cm4gZGljdDtcbiAgICB9LCB7fSk7XG4gICAgY29uc3Qgc3BlY1JlZmxlY3Rpb24gPSBzcGVjS2V5cy5yZWR1Y2UoKHNwZWNSZWZsZWN0aW9uLCBjdXJyZW50S2V5KSA9PiB7XG4gICAgICAgIHNwZWNSZWZsZWN0aW9uW2N1cnJlbnRLZXldID0gc3BlY3NbY3VycmVudEtleV0uanNvblNjaGVtYTtcbiAgICAgICAgcmV0dXJuIHNwZWNSZWZsZWN0aW9uO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemUoeyAkY2FzZSwgdmFsdWUgfSwgYnVpbGRlcikge1xuICAgICAgICAgICAgY29uc3QgX3ZhbHVlID0ga2V5VG9JbmRleFskY2FzZS50b1N0cmluZygpXSArIDE7XG4gICAgICAgICAgICBidWlsZGVyLndyaXRlVWludDgoX3ZhbHVlKTtcbiAgICAgICAgICAgIHNwZWNzWyRjYXNlXS5zZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpO1xuICAgICAgICB9LFxuICAgICAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0ICRjYXNlID0gc3BlY0tleXNbcmVhZGVyLnJlYWRJbnQ4KCkgLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc3BlY3NbJGNhc2VdLmRlc2VyaWFsaXplKHJlYWRlcik7XG4gICAgICAgICAgICByZXR1cm4geyAkY2FzZSwgdmFsdWUgfTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHNwZWNSZWZsZWN0aW9uLFxuICAgICAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdvbmUtb2YnXG4gICAgICAgIH1cbiAgICB9O1xufTtcbiIsICJleHBvcnQgY29uc3QgaXNTY2hlbWFUeXBlID0gKHZhbHVlLCB0eXBlcykgPT4gdHlwZXMuaW5jbHVkZXModmFsdWUuc2VyaWFsaXphdGlvblR5cGUpO1xuZXhwb3J0IGNvbnN0IGlzT25lT2ZKc29uU2NoZW1hID0gKHR5cGUpID0+IGlzU2NoZW1hVHlwZSh0eXBlLCBbJ29uZS1vZiddKTtcbmV4cG9ydCBjb25zdCBnZXRVbmtub3duU2NoZW1hID0gKCkgPT4gKHtcbiAgICB0eXBlOiB7IHR5cGU6ICdvYmplY3QnLCBzZXJpYWxpemF0aW9uVHlwZTogJ3Vua25vd24nIH0sXG4gICAgdmFsdWU6IHVuZGVmaW5lZFxufSk7XG5leHBvcnQgY29uc3QgaXNDb21wb3VuZFR5cGUgPSAodHlwZSkgPT4gaXNTY2hlbWFUeXBlKHR5cGUsIFsnYXJyYXknLCAnbWFwJ10pO1xuZXhwb3J0IGNvbnN0IGdldFR5cGVBbmRWYWx1ZSA9IChwcm9wZXJ0aWVzLCB2YWx1ZSwga2V5KSA9PiB7XG4gICAgY29uc3QgdHlwZSA9IHByb3BlcnRpZXNba2V5XTtcbiAgICBjb25zdCB2YWx1ZUtleSA9IHZhbHVlW2tleV07XG4gICAgaWYgKGlzT25lT2ZKc29uU2NoZW1hKHR5cGUpKSB7XG4gICAgICAgIGNvbnN0IHR5cGVkTWFwVmFsdWUgPSB2YWx1ZUtleTtcbiAgICAgICAgaWYgKCF0eXBlZE1hcFZhbHVlLiRjYXNlKVxuICAgICAgICAgICAgcmV0dXJuIGdldFVua25vd25TY2hlbWEoKTtcbiAgICAgICAgY29uc3QgcHJvcFR5cGUgPSB0eXBlLnByb3BlcnRpZXNbdHlwZWRNYXBWYWx1ZS4kY2FzZV07XG4gICAgICAgIC8vIHRyYW5zZm9ybSB7ICRjYXNlOiBzdHJpbmc7IHZhbHVlOiB1bmtub3duIH0gPT4geyBbJGNhc2VdOiB2YWx1ZSB9XG4gICAgICAgIGlmIChpc0NvbXBvdW5kVHlwZShwcm9wVHlwZSkpXG4gICAgICAgICAgICB2YWx1ZVtrZXldID0geyBbdHlwZWRNYXBWYWx1ZS4kY2FzZV06IHR5cGVkTWFwVmFsdWUudmFsdWUgfTtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogcHJvcFR5cGUsIHZhbHVlOiB0eXBlZE1hcFZhbHVlLnZhbHVlIH07XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGUsIHZhbHVlOiB2YWx1ZUtleSB9O1xufTtcbiIsICJpbXBvcnQgeyBJQXJyYXkgfSBmcm9tICcuLi9BcnJheSc7XG5pbXBvcnQgeyBCb29sIH0gZnJvbSAnLi4vYmFzaWMvQm9vbGVhbic7XG5pbXBvcnQgeyBJbnRFbnVtLCBTdHJpbmdFbnVtIH0gZnJvbSAnLi4vYmFzaWMvRW51bSc7XG5pbXBvcnQgeyBGbG9hdDMyLCBGbG9hdDY0IH0gZnJvbSAnLi4vYmFzaWMvRmxvYXQnO1xuaW1wb3J0IHsgSW50MTYsIEludDMyLCBJbnQ2NCwgSW50OCB9IGZyb20gJy4uL2Jhc2ljL0ludGVnZXInO1xuaW1wb3J0IHsgRWNzU3RyaW5nIH0gZnJvbSAnLi4vYmFzaWMvU3RyaW5nJztcbmltcG9ydCB7IENvbG9yM1NjaGVtYSB9IGZyb20gJy4uL2N1c3RvbS9Db2xvcjMnO1xuaW1wb3J0IHsgQ29sb3I0U2NoZW1hIH0gZnJvbSAnLi4vY3VzdG9tL0NvbG9yNCc7XG5pbXBvcnQgeyBFbnRpdHlTY2hlbWEgfSBmcm9tICcuLi9jdXN0b20vRW50aXR5JztcbmltcG9ydCB7IFF1YXRlcm5pb25TY2hlbWEgfSBmcm9tICcuLi9jdXN0b20vUXVhdGVybmlvbic7XG5pbXBvcnQgeyBWZWN0b3IzU2NoZW1hIH0gZnJvbSAnLi4vY3VzdG9tL1ZlY3RvcjMnO1xuaW1wb3J0IHsgSU1hcCB9IGZyb20gJy4uL01hcCc7XG5pbXBvcnQgeyBJT25lT2YgfSBmcm9tICcuLi9PbmVPZic7XG5pbXBvcnQgeyBJT3B0aW9uYWwgfSBmcm9tICcuLi9PcHRpb25hbCc7XG5pbXBvcnQgeyBnZXRUeXBlQW5kVmFsdWUsIGlzQ29tcG91bmRUeXBlIH0gZnJvbSAnLi91dGlscyc7XG5jb25zdCBwcmltaXRpdmVTY2hlbWFzID0ge1xuICAgIFtCb29sLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBCb29sLFxuICAgIFtFY3NTdHJpbmcuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEVjc1N0cmluZyxcbiAgICBbRmxvYXQzMi5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogRmxvYXQzMixcbiAgICBbRmxvYXQ2NC5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogRmxvYXQ2NCxcbiAgICBbSW50OC5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogSW50OCxcbiAgICBbSW50MTYuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEludDE2LFxuICAgIFtJbnQzMi5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogSW50MzIsXG4gICAgW0ludDY0Lmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBJbnQ2NCxcbiAgICBbVmVjdG9yM1NjaGVtYS5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogVmVjdG9yM1NjaGVtYSxcbiAgICBbUXVhdGVybmlvblNjaGVtYS5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogUXVhdGVybmlvblNjaGVtYSxcbiAgICBbQ29sb3IzU2NoZW1hLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBDb2xvcjNTY2hlbWEsXG4gICAgW0NvbG9yNFNjaGVtYS5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogQ29sb3I0U2NoZW1hLFxuICAgIFtFbnRpdHlTY2hlbWEuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEVudGl0eVNjaGVtYVxufTtcbi8qKlxuICogQ3JlYXRlIGFuIElTY2hlbWEgb2JqZWN0IGZyb20gdGhlIGpzb24tc2NoZW1hXG4gKiBAcGFyYW0ganNvblNjaGVtYVxuICogQHJldHVybnMgYSBJU2NoZW1hIG9yIGZhaWwgZm9yIHVuc3VwcG9ydGVkIGpzb24tc2NoZW1hXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqc29uU2NoZW1hVG9TY2hlbWEoanNvblNjaGVtYSkge1xuICAgIGlmIChwcmltaXRpdmVTY2hlbWFzW2pzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdKSB7XG4gICAgICAgIHJldHVybiBwcmltaXRpdmVTY2hlbWFzW2pzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdO1xuICAgIH1cbiAgICBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ21hcCcpIHtcbiAgICAgICAgY29uc3QgbWFwSnNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgICAgIGNvbnN0IHNwZWMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFwSnNvblNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzcGVjW2tleV0gPSBqc29uU2NoZW1hVG9TY2hlbWEobWFwSnNvblNjaGVtYS5wcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJTWFwKHNwZWMpO1xuICAgIH1cbiAgICBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ29wdGlvbmFsJykge1xuICAgICAgICBjb25zdCB3aXRoSXRlbXNKc29uU2NoZW1hID0ganNvblNjaGVtYTtcbiAgICAgICAgcmV0dXJuIElPcHRpb25hbChqc29uU2NoZW1hVG9TY2hlbWEod2l0aEl0ZW1zSnNvblNjaGVtYS5vcHRpb25hbEpzb25TY2hlbWEpKTtcbiAgICB9XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgY29uc3Qgd2l0aEl0ZW1zSnNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgICAgIHJldHVybiBJQXJyYXkoanNvblNjaGVtYVRvU2NoZW1hKHdpdGhJdGVtc0pzb25TY2hlbWEuaXRlbXMpKTtcbiAgICB9XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdlbnVtLWludCcpIHtcbiAgICAgICAgY29uc3QgZW51bUpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgICAgICByZXR1cm4gSW50RW51bShlbnVtSnNvblNjaGVtYS5lbnVtT2JqZWN0LCBlbnVtSnNvblNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdlbnVtLXN0cmluZycpIHtcbiAgICAgICAgY29uc3QgZW51bUpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgICAgICByZXR1cm4gU3RyaW5nRW51bShlbnVtSnNvblNjaGVtYS5lbnVtT2JqZWN0LCBlbnVtSnNvblNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdvbmUtb2YnKSB7XG4gICAgICAgIGNvbnN0IG9uZU9mSnNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgICAgIGNvbnN0IHNwZWMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb25lT2ZKc29uU2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHNwZWNba2V5XSA9IGpzb25TY2hlbWFUb1NjaGVtYShvbmVPZkpzb25TY2hlbWEucHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSU9uZU9mKHNwZWMpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7anNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZX0gaXMgbm90IHN1cHBvcnRlZCBhcyByZXZlcnNlIHNjaGVtYSBnZW5lcmF0aW9uLmApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG11dGF0ZVZhbHVlcyhqc29uU2NoZW1hLCB2YWx1ZSwgbXV0YXRlRm4pIHtcbiAgICBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ21hcCcpIHtcbiAgICAgICAgY29uc3QgeyBwcm9wZXJ0aWVzIH0gPSBqc29uU2NoZW1hO1xuICAgICAgICBjb25zdCB0eXBlZFZhbHVlID0gdmFsdWU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdHlwZSwgdmFsdWU6IG1hcFZhbHVlIH0gPSBnZXRUeXBlQW5kVmFsdWUocHJvcGVydGllcywgdHlwZWRWYWx1ZSwga2V5KTtcbiAgICAgICAgICAgIGlmICh0eXBlLnNlcmlhbGl6YXRpb25UeXBlID09PSAndW5rbm93bicpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoaXNDb21wb3VuZFR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgICAgICBtdXRhdGVWYWx1ZXModHlwZSwgbWFwVmFsdWUsIG11dGF0ZUZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gbXV0YXRlRm4obWFwVmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZS5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVkVmFsdWVba2V5XSA9IG5ld1ZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgIGNvbnN0IHsgaXRlbXMgfSA9IGpzb25TY2hlbWE7XG4gICAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBhcnJheVZhbHVlLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCB2YWx1ZSB9ID0gZ2V0VHlwZUFuZFZhbHVlKHsgaXRlbXM6IGl0ZW1zIH0sIHsgaXRlbXM6IGFycmF5VmFsdWVbaV0gfSwgJ2l0ZW1zJyk7XG4gICAgICAgICAgICBpZiAoaXNDb21wb3VuZFR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgICAgICBtdXRhdGVWYWx1ZXModHlwZSwgdmFsdWUsIG11dGF0ZUZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gbXV0YXRlRm4odmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZS5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFycmF5VmFsdWVbaV0gPSBuZXdWYWx1ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgSUFycmF5IH0gZnJvbSAnLi9BcnJheSc7XG5pbXBvcnQgeyBCb29sIH0gZnJvbSAnLi9iYXNpYy9Cb29sZWFuJztcbmltcG9ydCB7IEludEVudW0gYXMgSW50RW51bVNjaGVtYSwgU3RyaW5nRW51bSBhcyBTdHJpbmdFbnVtU2NoZW1hIH0gZnJvbSAnLi9iYXNpYy9FbnVtJztcbmltcG9ydCB7IEZsb2F0MzIsIEZsb2F0NjQgfSBmcm9tICcuL2Jhc2ljL0Zsb2F0JztcbmltcG9ydCB7IEludDE2LCBJbnQzMiwgSW50OCwgSW50NjQgYXMgaUludDY0IH0gZnJvbSAnLi9iYXNpYy9JbnRlZ2VyJztcbmltcG9ydCB7IEVjc1N0cmluZyB9IGZyb20gJy4vYmFzaWMvU3RyaW5nJztcbmltcG9ydCB7IENvbG9yM1NjaGVtYSB9IGZyb20gJy4vY3VzdG9tL0NvbG9yMyc7XG5pbXBvcnQgeyBDb2xvcjRTY2hlbWEgfSBmcm9tICcuL2N1c3RvbS9Db2xvcjQnO1xuaW1wb3J0IHsgRW50aXR5U2NoZW1hIH0gZnJvbSAnLi9jdXN0b20vRW50aXR5JztcbmltcG9ydCB7IFF1YXRlcm5pb25TY2hlbWEgfSBmcm9tICcuL2N1c3RvbS9RdWF0ZXJuaW9uJztcbmltcG9ydCB7IFZlY3RvcjNTY2hlbWEgfSBmcm9tICcuL2N1c3RvbS9WZWN0b3IzJztcbmltcG9ydCB7IElNYXAgfSBmcm9tICcuL01hcCc7XG5pbXBvcnQgeyBJT3B0aW9uYWwgfSBmcm9tICcuL09wdGlvbmFsJztcbmltcG9ydCB7IElPbmVPZiB9IGZyb20gJy4vT25lT2YnO1xuaW1wb3J0IHsganNvblNjaGVtYVRvU2NoZW1hLCBtdXRhdGVWYWx1ZXMgfSBmcm9tICcuL2J1aWxkU2NoZW1hJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFNjaGVtYXM7XG4oZnVuY3Rpb24gKFNjaGVtYXMpIHtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuQm9vbGVhbiA9IEJvb2w7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLlN0cmluZyA9IEVjc1N0cmluZztcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuRmxvYXQgPSBGbG9hdDMyO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5Eb3VibGUgPSBGbG9hdDY0O1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5CeXRlID0gSW50ODtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuU2hvcnQgPSBJbnQxNjtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuSW50ID0gSW50MzI7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkludDY0ID0gaUludDY0O1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5OdW1iZXIgPSBGbG9hdDMyO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5WZWN0b3IzID0gVmVjdG9yM1NjaGVtYTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuUXVhdGVybmlvbiA9IFF1YXRlcm5pb25TY2hlbWE7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkNvbG9yMyA9IENvbG9yM1NjaGVtYTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuQ29sb3I0ID0gQ29sb3I0U2NoZW1hO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5FbnRpdHkgPSBFbnRpdHlTY2hlbWE7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkVudW1OdW1iZXIgPSBJbnRFbnVtU2NoZW1hO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5FbnVtU3RyaW5nID0gU3RyaW5nRW51bVNjaGVtYTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuQXJyYXkgPSBJQXJyYXk7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLk1hcCA9IElNYXA7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLk9wdGlvbmFsID0gSU9wdGlvbmFsO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5PbmVPZiA9IElPbmVPZjtcbiAgICAvKipcbiAgICAgKiBAcHVibGljIENyZWF0ZSBhbiBJU2NoZW1hIG9iamVjdCBmcm9tIHRoZSBqc29uLXNjaGVtYVxuICAgICAqIEBwYXJhbSBqc29uU2NoZW1hXG4gICAgICogQHJldHVybnMgYSBJU2NoZW1hIG9yIGZhaWwgZm9yIHVuc3VwcG9ydGVkIGpzb24tc2NoZW1hXG4gICAgICovXG4gICAgU2NoZW1hcy5mcm9tSnNvbiA9IGpzb25TY2hlbWFUb1NjaGVtYTtcbiAgICAvKipcbiAgICAgKiBAcHVibGljXG4gICAgICpcbiAgICAgKiBUcmF2ZXJzZXMgYW5kIG11dGF0ZXMgdmFsdWVzIGluIGEgSlNPTiBzY2hlbWEtYmFzZWQgc3RydWN0dXJlLCBhcHBseWluZyB0aGUgZ2l2ZW4gbXV0YXRpb24gZnVuY3Rpb24gdG8gZWFjaCB2YWx1ZS5cbiAgICAgKiBUaGUgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gd29yayB3aXRoIG5lc3RlZCBtYXBzIGFuZCBhcnJheXMsIHJlY3Vyc2l2ZWx5IHByb2Nlc3NpbmcgZWFjaCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGpzb25TY2hlbWEgLSBUaGUgSlNPTiBzY2hlbWEgb2JqZWN0IHRoYXQgZGVzY3JpYmVzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIHZhbHVlLlxuICAgICAqICAgICAgICAgICAgICAgICAgIEl0IG11c3QgaGF2ZSBhIHNlcmlhbGl6YXRpb25UeXBlIG9mICdtYXAnLCAnYXJyYXknLCBvciBvdGhlciBjdXN0b20gdHlwZXMgbGlrZSAnZW50aXR5Jy5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYmUgbXV0YXRlZCwgd2hpY2ggc2hvdWxkIGNvbmZvcm0gdG8gdGhlIHByb3ZpZGVkIEpTT04gc2NoZW1hLlxuICAgICAqIEBwYXJhbSBtdXRhdGVGbiAtIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHZhbHVlIGFuZCBpdHMgY29ycmVzcG9uZGluZyB2YWx1ZVR5cGUgKEpzb25TY2hlbWFFeHRlbmRlZCkgYXMgYXJndW1lbnRzXG4gICAgICogICAgICAgICAgICAgICAgICAgYW5kIHJldHVybnMgYSB0dXBsZSBbYm9vbGVhbiwgYW55XS4gVGhlIGJvb2xlYW4gaW5kaWNhdGVzIHdoZXRoZXIgdGhlIG11dGF0aW9uIHNob3VsZCBiZSBhcHBsaWVkLFxuICAgICAqICAgICAgICAgICAgICAgICAgIGFuZCB0aGUgc2Vjb25kIGVsZW1lbnQgaXMgdGhlIG11dGF0ZWQgdmFsdWUuXG4gICAgICovXG4gICAgU2NoZW1hcy5tdXRhdGVOZXN0ZWRWYWx1ZXMgPSBtdXRhdGVWYWx1ZXM7XG59KShTY2hlbWFzIHx8IChTY2hlbWFzID0ge30pKTtcbiIsICJpbXBvcnQgeyBTY2hlbWFzIH0gZnJvbSAnLi4vLi4vc2NoZW1hcyc7XG5mdW5jdGlvbiBkZWZpbmVOYW1lQ29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IE5hbWUgPSBlbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdjb3JlLXNjaGVtYTo6TmFtZScsIHtcbiAgICAgICAgdmFsdWU6IFNjaGVtYXMuU3RyaW5nXG4gICAgfSk7XG4gICAgcmV0dXJuIE5hbWU7XG59XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVOYW1lQ29tcG9uZW50O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBDT01QT05FTlRfSUQgPSAxO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFRSQU5TRk9STV9MRU5HVEggPSA0NDtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBUcmFuc2Zvcm1TY2hlbWEgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IGJ1aWxkZXIuaW5jcmVtZW50V3JpdGVPZmZzZXQoVFJBTlNGT1JNX0xFTkdUSCk7XG4gICAgICAgIGJ1aWxkZXIuc2V0RmxvYXQzMihwdHIsIHZhbHVlLnBvc2l0aW9uLngpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgNCwgdmFsdWUucG9zaXRpb24ueSk7XG4gICAgICAgIGJ1aWxkZXIuc2V0RmxvYXQzMihwdHIgKyA4LCB2YWx1ZS5wb3NpdGlvbi56KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDEyLCB2YWx1ZS5yb3RhdGlvbi54KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDE2LCB2YWx1ZS5yb3RhdGlvbi55KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDIwLCB2YWx1ZS5yb3RhdGlvbi56KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDI0LCB2YWx1ZS5yb3RhdGlvbi53KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDI4LCB2YWx1ZS5zY2FsZS54KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDMyLCB2YWx1ZS5zY2FsZS55KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDM2LCB2YWx1ZS5zY2FsZS56KTtcbiAgICAgICAgYnVpbGRlci5zZXRVaW50MzIocHRyICsgNDAsIHZhbHVlLnBhcmVudCB8fCAwKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICBjb25zdCBwdHIgPSByZWFkZXIuaW5jcmVtZW50UmVhZE9mZnNldChUUkFOU0ZPUk1fTEVOR1RIKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgeDogcmVhZGVyLmdldEZsb2F0MzIocHRyKSxcbiAgICAgICAgICAgICAgICB5OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyA0KSxcbiAgICAgICAgICAgICAgICB6OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyA4KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB7XG4gICAgICAgICAgICAgICAgeDogcmVhZGVyLmdldEZsb2F0MzIocHRyICsgMTIpLFxuICAgICAgICAgICAgICAgIHk6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDE2KSxcbiAgICAgICAgICAgICAgICB6OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyAyMCksXG4gICAgICAgICAgICAgICAgdzogcmVhZGVyLmdldEZsb2F0MzIocHRyICsgMjQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICB4OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyAyOCksXG4gICAgICAgICAgICAgICAgeTogcmVhZGVyLmdldEZsb2F0MzIocHRyICsgMzIpLFxuICAgICAgICAgICAgICAgIHo6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDM2KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogcmVhZGVyLmdldFVpbnQzMihwdHIgKyA0MClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAgfSxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEsIHo6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAsIHc6IDEgfSxcbiAgICAgICAgICAgIHBhcmVudDogMFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZXh0ZW5kKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAwLCB5OiAwLCB6OiAwIH0sXG4gICAgICAgICAgICBzY2FsZTogeyB4OiAxLCB5OiAxLCB6OiAxIH0sXG4gICAgICAgICAgICByb3RhdGlvbjogeyB4OiAwLCB5OiAwLCB6OiAwLCB3OiAxIH0sXG4gICAgICAgICAgICBwYXJlbnQ6IDAsXG4gICAgICAgICAgICAuLi52YWx1ZVxuICAgICAgICB9O1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgeTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB6OiB7IHR5cGU6ICdudW1iZXInIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgeTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB6OiB7IHR5cGU6ICdudW1iZXInIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcm90YXRpb246IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgeTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB6OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICAgICAgICAgIHc6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJlbnQ6IHsgdHlwZTogJ2ludGVnZXInIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICd0cmFuc2Zvcm0nXG4gICAgfVxufTtcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVUcmFuc2Zvcm1Db21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtRGVmID0gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoJ2NvcmU6OlRyYW5zZm9ybScsIFRyYW5zZm9ybVNjaGVtYSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udHJhbnNmb3JtRGVmLFxuICAgICAgICBjcmVhdGUoZW50aXR5LCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1EZWYuY3JlYXRlKGVudGl0eSwgVHJhbnNmb3JtU2NoZW1hLmV4dGVuZCh2YWwpKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtRGVmLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIFRyYW5zZm9ybVNjaGVtYS5leHRlbmQodmFsKSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImltcG9ydCB7IGRlZmluZUFuaW1hdG9yQ29tcG9uZW50IH0gZnJvbSAnLi9leHRlbmRlZC9BbmltYXRvcic7XG5pbXBvcnQgeyBkZWZpbmVNYXRlcmlhbENvbXBvbmVudCB9IGZyb20gJy4vZXh0ZW5kZWQvTWF0ZXJpYWwnO1xuaW1wb3J0IHsgZGVmaW5lTWVzaENvbGxpZGVyQ29tcG9uZW50IH0gZnJvbSAnLi9leHRlbmRlZC9NZXNoQ29sbGlkZXInO1xuaW1wb3J0IHsgZGVmaW5lTWVzaFJlbmRlcmVyQ29tcG9uZW50IH0gZnJvbSAnLi9leHRlbmRlZC9NZXNoUmVuZGVyZXInO1xuaW1wb3J0IHsgZGVmaW5lVHdlZW5Db21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL1R3ZWVuJztcbmltcG9ydCBkZWZpbmVOYW1lQ29tcG9uZW50IGZyb20gJy4vbWFudWFsL05hbWUnO1xuaW1wb3J0IGRlZmluZVN5bmNDb21wb25lbnQgZnJvbSAnLi9tYW51YWwvU3luY0NvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmaW5lVHJhbnNmb3JtQ29tcG9uZW50IH0gZnJvbSAnLi9tYW51YWwvVHJhbnNmb3JtJztcbmV4cG9ydCAqIGZyb20gJy4vZ2VuZXJhdGVkL2luZGV4Lmdlbic7XG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBUcmFuc2Zvcm0gPSAoZW5naW5lKSA9PiBkZWZpbmVUcmFuc2Zvcm1Db21wb25lbnQoZW5naW5lKTtcbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IE1hdGVyaWFsID0gKGVuZ2luZSkgPT4gZGVmaW5lTWF0ZXJpYWxDb21wb25lbnQoZW5naW5lKTtcbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IEFuaW1hdG9yID0gKGVuZ2luZSkgPT4gZGVmaW5lQW5pbWF0b3JDb21wb25lbnQoZW5naW5lKTtcbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IE1lc2hSZW5kZXJlciA9IChlbmdpbmUpID0+IGRlZmluZU1lc2hSZW5kZXJlckNvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgTWVzaENvbGxpZGVyID0gKGVuZ2luZSkgPT4gZGVmaW5lTWVzaENvbGxpZGVyQ29tcG9uZW50KGVuZ2luZSk7XG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBUd2VlbiA9IChlbmdpbmUpID0+IGRlZmluZVR3ZWVuQ29tcG9uZW50KGVuZ2luZSk7XG4vKipcbiAqIEBhbHBoYVxuICovXG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBOYW1lID0gKGVuZ2luZSkgPT4gZGVmaW5lTmFtZUNvbXBvbmVudChlbmdpbmUpO1xuLyoqXG4gKiBAYWxwaGFcbiAqL1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgU3luY0NvbXBvbmVudHMgPSAoZW5naW5lKSA9PiBkZWZpbmVTeW5jQ29tcG9uZW50KGVuZ2luZSk7XG4iLCAiLyoqXG4gKiBBdXRvZ2VuZXJhdGVkIG1hcHBpbmcgb2YgY29yZSBjb21wb25lbnRzIHRvIHRoZWlyIGNvbXBvbmVudCBudW1iZXJzXG4gKi9cbmV4cG9ydCBjb25zdCBjb3JlQ29tcG9uZW50TWFwcGluZ3MgPSB7XG4gICAgXCJjb3JlOjpUcmFuc2Zvcm1cIjogMSxcbiAgICBcImNvcmU6OkFuaW1hdG9yXCI6IDEwNDIsXG4gICAgXCJjb3JlOjpBdWRpb1NvdXJjZVwiOiAxMDIwLFxuICAgIFwiY29yZTo6QXVkaW9TdHJlYW1cIjogMTAyMSxcbiAgICBcImNvcmU6OkF2YXRhckF0dGFjaFwiOiAxMDczLFxuICAgIFwiY29yZTo6QXZhdGFyQmFzZVwiOiAxMDg3LFxuICAgIFwiY29yZTo6QXZhdGFyRW1vdGVDb21tYW5kXCI6IDEwODgsXG4gICAgXCJjb3JlOjpBdmF0YXJFcXVpcHBlZERhdGFcIjogMTA5MSxcbiAgICBcImNvcmU6OkF2YXRhck1vZGlmaWVyQXJlYVwiOiAxMDcwLFxuICAgIFwiY29yZTo6QXZhdGFyU2hhcGVcIjogMTA4MCxcbiAgICBcImNvcmU6OkJpbGxib2FyZFwiOiAxMDkwLFxuICAgIFwiY29yZTo6Q2FtZXJhTW9kZVwiOiAxMDcyLFxuICAgIFwiY29yZTo6Q2FtZXJhTW9kZUFyZWFcIjogMTA3MSxcbiAgICBcImNvcmU6OkVuZ2luZUluZm9cIjogMTA0OCxcbiAgICBcImNvcmU6OkdsdGZDb250YWluZXJcIjogMTA0MSxcbiAgICBcImNvcmU6OkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGVcIjogMTA0OSxcbiAgICBcImNvcmU6Ok1hdGVyaWFsXCI6IDEwMTcsXG4gICAgXCJjb3JlOjpNZXNoQ29sbGlkZXJcIjogMTAxOSxcbiAgICBcImNvcmU6Ok1lc2hSZW5kZXJlclwiOiAxMDE4LFxuICAgIFwiY29yZTo6TmZ0U2hhcGVcIjogMTA0MCxcbiAgICBcImNvcmU6OlBsYXllcklkZW50aXR5RGF0YVwiOiAxMDg5LFxuICAgIFwiY29yZTo6UG9pbnRlckV2ZW50c1wiOiAxMDYyLFxuICAgIFwiY29yZTo6UG9pbnRlckV2ZW50c1Jlc3VsdFwiOiAxMDYzLFxuICAgIFwiY29yZTo6UG9pbnRlckxvY2tcIjogMTA3NCxcbiAgICBcImNvcmU6OlJheWNhc3RcIjogMTA2NyxcbiAgICBcImNvcmU6OlJheWNhc3RSZXN1bHRcIjogMTA2OCxcbiAgICBcImNvcmU6OlRleHRTaGFwZVwiOiAxMDMwLFxuICAgIFwiY29yZTo6VHdlZW5cIjogMTEwMixcbiAgICBcImNvcmU6OlR3ZWVuU2VxdWVuY2VcIjogMTEwNCxcbiAgICBcImNvcmU6OlR3ZWVuU3RhdGVcIjogMTEwMyxcbiAgICBcImNvcmU6OlVpQmFja2dyb3VuZFwiOiAxMDUzLFxuICAgIFwiY29yZTo6VWlDYW52YXNJbmZvcm1hdGlvblwiOiAxMDU0LFxuICAgIFwiY29yZTo6VWlEcm9wZG93blwiOiAxMDk0LFxuICAgIFwiY29yZTo6VWlEcm9wZG93blJlc3VsdFwiOiAxMDk2LFxuICAgIFwiY29yZTo6VWlJbnB1dFwiOiAxMDkzLFxuICAgIFwiY29yZTo6VWlJbnB1dFJlc3VsdFwiOiAxMDk1LFxuICAgIFwiY29yZTo6VWlUZXh0XCI6IDEwNTIsXG4gICAgXCJjb3JlOjpVaVRyYW5zZm9ybVwiOiAxMDUwLFxuICAgIFwiY29yZTo6VmlkZW9FdmVudFwiOiAxMDQ0LFxuICAgIFwiY29yZTo6VmlkZW9QbGF5ZXJcIjogMTA0MyxcbiAgICBcImNvcmU6OlZpc2liaWxpdHlDb21wb25lbnRcIjogMTA4MVxufTtcbiIsICJpbXBvcnQgeyBjb3JlQ29tcG9uZW50TWFwcGluZ3MgfSBmcm9tICcuL2dlbmVyYXRlZC9jb21wb25lbnQtbmFtZXMuZ2VuJztcbmltcG9ydCAqIGFzIHV0ZjggZnJvbSAnQHByb3RvYnVmanMvdXRmOCc7XG5pbXBvcnQgeyB1bnNpZ25lZENSQzMyIH0gZnJvbSAnLi4vcnVudGltZS9jcmMnO1xuLy8gTWF4IHBvc3NpYmxlIHByZS1kZWZpbmVkIChzdGF0aWMpIGNvbXBvbmVudC5cbmV4cG9ydCBjb25zdCBNQVhfU1RBVElDX0NPTVBPTkVOVCA9IDEgPDwgMTE7IC8vIDIwNDhcbi8qKlxuICogQWxsIGNvbXBvbmVudHMgdGhhdCBhcmUgbm90IHBhcnQgb2YgdGhlIGNvcmVDb21wb25lbnRNYXBwaW5ncyBNVVNUIHlpZWxkXG4gKiBhIGNvbXBvbmVudE51bWJlciAoY29tcG9uZW50SWQpIGdyZWF0aGVyIHRoYW4gTUFYX1NUQVRJQ19DT01QT05FTlQuXG4gKiBGb3IgdGhhdCByZWFzb24sIHdlIHNpbXBseSBhZGQgTUFYX1NUQVRJQ19DT01QT05FTlQgYW5kIHRyaW0gdG8gdGhlIGRvbWFpbiAyXjMyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKGNvcmVDb21wb25lbnRNYXBwaW5nc1tjb21wb25lbnROYW1lXSlcbiAgICAgICAgcmV0dXJuIGNvcmVDb21wb25lbnRNYXBwaW5nc1tjb21wb25lbnROYW1lXTtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KDEyOCk7XG4gICAgdXRmOC53cml0ZShjb21wb25lbnROYW1lLCBieXRlcywgMCk7XG4gICAgcmV0dXJuICgodW5zaWduZWRDUkMzMihieXRlcykgKyBNQVhfU1RBVElDX0NPTVBPTkVOVCkgJiA0Mjk0OTY3Mjk1KSA+Pj4gMDtcbn1cbiIsICJjb25zdCBDUkNfVEFCTEUgPSBuZXcgSW50MzJBcnJheShbXG4gICAgMHgwMDAwMDAwMCwgMHg3NzA3MzA5NiwgMHhlZTBlNjEyYywgMHg5OTA5NTFiYSwgMHgwNzZkYzQxOSwgMHg3MDZhZjQ4ZiwgMHhlOTYzYTUzNSwgMHg5ZTY0OTVhMywgMHgwZWRiODgzMixcbiAgICAweDc5ZGNiOGE0LCAweGUwZDVlOTFlLCAweDk3ZDJkOTg4LCAweDA5YjY0YzJiLCAweDdlYjE3Y2JkLCAweGU3YjgyZDA3LCAweDkwYmYxZDkxLCAweDFkYjcxMDY0LCAweDZhYjAyMGYyLFxuICAgIDB4ZjNiOTcxNDgsIDB4ODRiZTQxZGUsIDB4MWFkYWQ0N2QsIDB4NmRkZGU0ZWIsIDB4ZjRkNGI1NTEsIDB4ODNkMzg1YzcsIDB4MTM2Yzk4NTYsIDB4NjQ2YmE4YzAsIDB4ZmQ2MmY5N2EsXG4gICAgMHg4YTY1YzllYywgMHgxNDAxNWM0ZiwgMHg2MzA2NmNkOSwgMHhmYTBmM2Q2MywgMHg4ZDA4MGRmNSwgMHgzYjZlMjBjOCwgMHg0YzY5MTA1ZSwgMHhkNTYwNDFlNCwgMHhhMjY3NzE3MixcbiAgICAweDNjMDNlNGQxLCAweDRiMDRkNDQ3LCAweGQyMGQ4NWZkLCAweGE1MGFiNTZiLCAweDM1YjVhOGZhLCAweDQyYjI5ODZjLCAweGRiYmJjOWQ2LCAweGFjYmNmOTQwLCAweDMyZDg2Y2UzLFxuICAgIDB4NDVkZjVjNzUsIDB4ZGNkNjBkY2YsIDB4YWJkMTNkNTksIDB4MjZkOTMwYWMsIDB4NTFkZTAwM2EsIDB4YzhkNzUxODAsIDB4YmZkMDYxMTYsIDB4MjFiNGY0YjUsIDB4NTZiM2M0MjMsXG4gICAgMHhjZmJhOTU5OSwgMHhiOGJkYTUwZiwgMHgyODAyYjg5ZSwgMHg1ZjA1ODgwOCwgMHhjNjBjZDliMiwgMHhiMTBiZTkyNCwgMHgyZjZmN2M4NywgMHg1ODY4NGMxMSwgMHhjMTYxMWRhYixcbiAgICAweGI2NjYyZDNkLCAweDc2ZGM0MTkwLCAweDAxZGI3MTA2LCAweDk4ZDIyMGJjLCAweGVmZDUxMDJhLCAweDcxYjE4NTg5LCAweDA2YjZiNTFmLCAweDlmYmZlNGE1LCAweGU4YjhkNDMzLFxuICAgIDB4NzgwN2M5YTIsIDB4MGYwMGY5MzQsIDB4OTYwOWE4OGUsIDB4ZTEwZTk4MTgsIDB4N2Y2YTBkYmIsIDB4MDg2ZDNkMmQsIDB4OTE2NDZjOTcsIDB4ZTY2MzVjMDEsIDB4NmI2YjUxZjQsXG4gICAgMHgxYzZjNjE2MiwgMHg4NTY1MzBkOCwgMHhmMjYyMDA0ZSwgMHg2YzA2OTVlZCwgMHgxYjAxYTU3YiwgMHg4MjA4ZjRjMSwgMHhmNTBmYzQ1NywgMHg2NWIwZDljNiwgMHgxMmI3ZTk1MCxcbiAgICAweDhiYmViOGVhLCAweGZjYjk4ODdjLCAweDYyZGQxZGRmLCAweDE1ZGEyZDQ5LCAweDhjZDM3Y2YzLCAweGZiZDQ0YzY1LCAweDRkYjI2MTU4LCAweDNhYjU1MWNlLCAweGEzYmMwMDc0LFxuICAgIDB4ZDRiYjMwZTIsIDB4NGFkZmE1NDEsIDB4M2RkODk1ZDcsIDB4YTRkMWM0NmQsIDB4ZDNkNmY0ZmIsIDB4NDM2OWU5NmEsIDB4MzQ2ZWQ5ZmMsIDB4YWQ2Nzg4NDYsIDB4ZGE2MGI4ZDAsXG4gICAgMHg0NDA0MmQ3MywgMHgzMzAzMWRlNSwgMHhhYTBhNGM1ZiwgMHhkZDBkN2NjOSwgMHg1MDA1NzEzYywgMHgyNzAyNDFhYSwgMHhiZTBiMTAxMCwgMHhjOTBjMjA4NiwgMHg1NzY4YjUyNSxcbiAgICAweDIwNmY4NWIzLCAweGI5NjZkNDA5LCAweGNlNjFlNDlmLCAweDVlZGVmOTBlLCAweDI5ZDljOTk4LCAweGIwZDA5ODIyLCAweGM3ZDdhOGI0LCAweDU5YjMzZDE3LCAweDJlYjQwZDgxLFxuICAgIDB4YjdiZDVjM2IsIDB4YzBiYTZjYWQsIDB4ZWRiODgzMjAsIDB4OWFiZmIzYjYsIDB4MDNiNmUyMGMsIDB4NzRiMWQyOWEsIDB4ZWFkNTQ3MzksIDB4OWRkMjc3YWYsIDB4MDRkYjI2MTUsXG4gICAgMHg3M2RjMTY4MywgMHhlMzYzMGIxMiwgMHg5NDY0M2I4NCwgMHgwZDZkNmEzZSwgMHg3YTZhNWFhOCwgMHhlNDBlY2YwYiwgMHg5MzA5ZmY5ZCwgMHgwYTAwYWUyNywgMHg3ZDA3OWViMSxcbiAgICAweGYwMGY5MzQ0LCAweDg3MDhhM2QyLCAweDFlMDFmMjY4LCAweDY5MDZjMmZlLCAweGY3NjI1NzVkLCAweDgwNjU2N2NiLCAweDE5NmMzNjcxLCAweDZlNmIwNmU3LCAweGZlZDQxYjc2LFxuICAgIDB4ODlkMzJiZTAsIDB4MTBkYTdhNWEsIDB4NjdkZDRhY2MsIDB4ZjliOWRmNmYsIDB4OGViZWVmZjksIDB4MTdiN2JlNDMsIDB4NjBiMDhlZDUsIDB4ZDZkNmEzZTgsIDB4YTFkMTkzN2UsXG4gICAgMHgzOGQ4YzJjNCwgMHg0ZmRmZjI1MiwgMHhkMWJiNjdmMSwgMHhhNmJjNTc2NywgMHgzZmI1MDZkZCwgMHg0OGIyMzY0YiwgMHhkODBkMmJkYSwgMHhhZjBhMWI0YywgMHgzNjAzNGFmNixcbiAgICAweDQxMDQ3YTYwLCAweGRmNjBlZmMzLCAweGE4NjdkZjU1LCAweDMxNmU4ZWVmLCAweDQ2NjliZTc5LCAweGNiNjFiMzhjLCAweGJjNjY4MzFhLCAweDI1NmZkMmEwLCAweDUyNjhlMjM2LFxuICAgIDB4Y2MwYzc3OTUsIDB4YmIwYjQ3MDMsIDB4MjIwMjE2YjksIDB4NTUwNTI2MmYsIDB4YzViYTNiYmUsIDB4YjJiZDBiMjgsIDB4MmJiNDVhOTIsIDB4NWNiMzZhMDQsIDB4YzJkN2ZmYTcsXG4gICAgMHhiNWQwY2YzMSwgMHgyY2Q5OWU4YiwgMHg1YmRlYWUxZCwgMHg5YjY0YzJiMCwgMHhlYzYzZjIyNiwgMHg3NTZhYTM5YywgMHgwMjZkOTMwYSwgMHg5YzA5MDZhOSwgMHhlYjBlMzYzZixcbiAgICAweDcyMDc2Nzg1LCAweDA1MDA1NzEzLCAweDk1YmY0YTgyLCAweGUyYjg3YTE0LCAweDdiYjEyYmFlLCAweDBjYjYxYjM4LCAweDkyZDI4ZTliLCAweGU1ZDViZTBkLCAweDdjZGNlZmI3LFxuICAgIDB4MGJkYmRmMjEsIDB4ODZkM2QyZDQsIDB4ZjFkNGUyNDIsIDB4NjhkZGIzZjgsIDB4MWZkYTgzNmUsIDB4ODFiZTE2Y2QsIDB4ZjZiOTI2NWIsIDB4NmZiMDc3ZTEsIDB4MThiNzQ3NzcsXG4gICAgMHg4ODA4NWFlNiwgMHhmZjBmNmE3MCwgMHg2NjA2M2JjYSwgMHgxMTAxMGI1YywgMHg4ZjY1OWVmZiwgMHhmODYyYWU2OSwgMHg2MTZiZmZkMywgMHgxNjZjY2Y0NSwgMHhhMDBhZTI3OCxcbiAgICAweGQ3MGRkMmVlLCAweDRlMDQ4MzU0LCAweDM5MDNiM2MyLCAweGE3NjcyNjYxLCAweGQwNjAxNmY3LCAweDQ5Njk0NzRkLCAweDNlNmU3N2RiLCAweGFlZDE2YTRhLCAweGQ5ZDY1YWRjLFxuICAgIDB4NDBkZjBiNjYsIDB4MzdkODNiZjAsIDB4YTliY2FlNTMsIDB4ZGViYjllYzUsIDB4NDdiMmNmN2YsIDB4MzBiNWZmZTksIDB4YmRiZGYyMWMsIDB4Y2FiYWMyOGEsIDB4NTNiMzkzMzAsXG4gICAgMHgyNGI0YTNhNiwgMHhiYWQwMzYwNSwgMHhjZGQ3MDY5MywgMHg1NGRlNTcyOSwgMHgyM2Q5NjdiZiwgMHhiMzY2N2EyZSwgMHhjNDYxNGFiOCwgMHg1ZDY4MWIwMiwgMHgyYTZmMmI5NCxcbiAgICAweGI0MGJiZTM3LCAweGMzMGM4ZWExLCAweDVhMDVkZjFiLCAweDJkMDJlZjhkXG5dKTtcbmZ1bmN0aW9uIF9jcmMzMihidWYsIHByZXZpb3VzKSB7XG4gICAgbGV0IGNyYyA9IH5+cHJldmlvdXMgXiAtMTtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJ1Zi5sZW5ndGg7IG4rKykge1xuICAgICAgICBjcmMgPSBDUkNfVEFCTEVbKGNyYyBeIGJ1ZltuXSkgJiAweGZmXSBeIChjcmMgPj4+IDgpO1xuICAgIH1cbiAgICByZXR1cm4gY3JjIF4gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gdW5zaWduZWRDUkMzMihkYXRhLCBwcmV2ID0gMCkge1xuICAgIHJldHVybiBfY3JjMzIoZGF0YSwgcHJldikgPj4+IDA7XG59XG4iLCAiLyogaXN0YW5idWwgaWdub3JlIGZpbGUgKi9cbmV4cG9ydCBjb25zdCBfX0RFVl9fID0gKHR5cGVvZiBERUJVRyA9PT0gJ2Jvb2xlYW4nICYmIERFQlVHKSB8fFxuICAgICh0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgKHByb2Nlc3MuZW52Py5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nIHx8IHByb2Nlc3MuZW52Py5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykpIHx8XG4gICAgZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gY2hlY2tOb3RUaGVuYWJsZSh0LCBlcnJvcikge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIGlmICh0ICYmIHR5cGVvZiB0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufVxuIiwgIi8qKlxuICpcbiAqIEByZXR1cm5zIGEgbmV3IEdTZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZlcnNpb25HU2V0KCkge1xuICAgIGNvbnN0IGxhc3RWZXJzaW9uID0gbmV3IE1hcCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gbnVtYmVyXG4gICAgICAgICAqIEBwYXJhbSB2ZXJzaW9uXG4gICAgICAgICAqIEByZXR1cm5zXG4gICAgICAgICAqL1xuICAgICAgICBhZGRUbyhudW1iZXIsIHZlcnNpb24pIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICBpZiAodmVyc2lvbiA8IDApIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGxhc3RWZXJzaW9uLmdldChudW1iZXIpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZlcnNpb24gaXMgPj0sIGl0IG1lYW5zIHRoZSB2YWx1ZSBpdCdzIGFscmVhZHkgaW4gdGhlIHNldFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRWYWx1ZSA+PSB2ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0VmVyc2lvbi5zZXQobnVtYmVyLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgdGhlIHNldCB3aXRoIFtudW1iZXIsIHZlcnNpb25dIG9mIGVhY2ggdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIGhhcyhuLCB2KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBsYXN0VmVyc2lvbi5nZXQobik7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmVyc2lvbiBpcyA+PSwgaXQgbWVhbnMgdGhlIHZhbHVlIGl0J3MgYWxyZWFkeSBpbiB0aGUgc2V0XG4gICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlICE9PSB1bmRlZmluZWQgJiYgY3VycmVudFZhbHVlID49IHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdhcm5pbmc6IHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVmZXJlbmNlIHRvIHRoZSBpbnRlcm5hbCBtYXAsXG4gICAgICAgICAqICBpZiB5b3UgbmVlZCB0byBtdXRhdGUgc29tZSB2YWx1ZSwgbWFrZSBhIGNvcHkuXG4gICAgICAgICAqIEZvciBvcHRpbWl6YXRpb24gcHVycG9zZSB0aGUgY29weSBpc24ndCBtYWRlIGhlcmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHRoZSBtYXAgb2YgbnVtYmVyIHRvIHZlcnNpb25cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcCgpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0VmVyc2lvbjtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCAiaW1wb3J0IHsgY3JlYXRlVmVyc2lvbkdTZXQgfSBmcm9tICcuLi9zeXN0ZW1zL2NyZHQvZ3NldCc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgTUFYX1UxNiA9IDB4ZmZmZjtcbmNvbnN0IE1BU0tfVVBQRVJfMTZfT05fMzIgPSAweGZmZmYwMDAwO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEFNT1VOVF9WRVJTSU9OX0FWQUlMQUJMRSA9IE1BWF9VMTYgKyAxO1xuLy8gVGhpcyB0eXBlIG1hdGNoZXMgd2l0aCBAZGNsL2NyZHQgZW50aXR5IHR5cGUuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgTUFYX0VOVElUWV9OVU1CRVIgPSBNQVhfVTE2O1xuLyoqXG4gKiBUaGlzIGZpcnN0IDUxMiBlbnRpdGllcyBhcmUgcmVzZXJ2ZWQgYnkgdGhlIHJlbmRlcmVyXG4gKi9cbmV4cG9ydCBjb25zdCBSRVNFUlZFRF9TVEFUSUNfRU5USVRJRVMgPSA1MTI7XG4vLyBNYXggYW1vdW50IG9mIGxvY2FsIGVudGl0aWVzIHRoYXQgY2FuIGJlIGNyZWF0ZWRcbmV4cG9ydCBjb25zdCBSRVNFUlZFRF9MT0NBTF9FTlRJVElFUyA9IE1BWF9FTlRJVFlfTlVNQkVSO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgRW50aXR5VXRpbHM7XG4oZnVuY3Rpb24gKEVudGl0eVV0aWxzKSB7XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgW2VudGl0eU51bWJlciwgZW50aXR5VmVyc2lvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tRW50aXR5SWQoZW50aXR5SWQpIHtcbiAgICAgICAgcmV0dXJuIFsoZW50aXR5SWQgJiBNQVhfVTE2KSA+Pj4gMCwgKCgoZW50aXR5SWQgJiBNQVNLX1VQUEVSXzE2X09OXzMyKSA+PiAxNikgJiBNQVhfVTE2KSA+Pj4gMF07XG4gICAgfVxuICAgIEVudGl0eVV0aWxzLmZyb21FbnRpdHlJZCA9IGZyb21FbnRpdHlJZDtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBjb21wb3VuZCBudW1iZXIgZnJvbSBlbnRpdHlOdW1iZXIgYW5kIGVudGl0eVZlcmlzb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0VudGl0eUlkKGVudGl0eU51bWJlciwgZW50aXR5VmVyc2lvbikge1xuICAgICAgICByZXR1cm4gKCgoZW50aXR5TnVtYmVyICYgTUFYX1UxNikgfCAoKGVudGl0eVZlcnNpb24gJiBNQVhfVTE2KSA8PCAxNikpID4+PiAwKTtcbiAgICB9XG4gICAgRW50aXR5VXRpbHMudG9FbnRpdHlJZCA9IHRvRW50aXR5SWQ7XG59KShFbnRpdHlVdGlscyB8fCAoRW50aXR5VXRpbHMgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgRW50aXR5U3RhdGU7XG4oZnVuY3Rpb24gKEVudGl0eVN0YXRlKSB7XG4gICAgRW50aXR5U3RhdGVbRW50aXR5U3RhdGVbXCJVbmtub3duXCJdID0gMF0gPSBcIlVua25vd25cIjtcbiAgICAvKipcbiAgICAgKiBUaGUgZW50aXR5IHdhcyBnZW5lcmF0ZWQgYW5kIGFkZGVkIHRvIHRoZSB1c2VkRW50aXRpZXMgc2V0XG4gICAgICovXG4gICAgRW50aXR5U3RhdGVbRW50aXR5U3RhdGVbXCJVc2VkRW50aXR5XCJdID0gMV0gPSBcIlVzZWRFbnRpdHlcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgZW50aXR5IHdhcyByZW1vdmVkIGZyb20gY3VycmVudCBlbmdpbmUgb3IgcmVtb3RlbHlcbiAgICAgKi9cbiAgICBFbnRpdHlTdGF0ZVtFbnRpdHlTdGF0ZVtcIlJlbW92ZWRcIl0gPSAyXSA9IFwiUmVtb3ZlZFwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBlbnRpdHkgaXMgcmVzZXJ2ZWQgbnVtYmVyLlxuICAgICAqL1xuICAgIEVudGl0eVN0YXRlW0VudGl0eVN0YXRlW1wiUmVzZXJ2ZWRcIl0gPSAzXSA9IFwiUmVzZXJ2ZWRcIjtcbn0pKEVudGl0eVN0YXRlIHx8IChFbnRpdHlTdGF0ZSA9IHt9KSk7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gRW50aXR5Q29udGFpbmVyKCkge1xuICAgIC8vIExvY2FsIGVudGl0aWVzIGNvdW50ZXJcbiAgICBsZXQgZW50aXR5Q291bnRlciA9IFJFU0VSVkVEX1NUQVRJQ19FTlRJVElFUztcbiAgICAvLyBOZXR3b3JrIGVudGl0aWVzIGNvdW50ZXJcbiAgICBsZXQgbmV0d29ya0VudGl0eUNvdW50ZXI7XG4gICAgLy8gTmV0d29yayBlbnRpdGllcyByYW5nZSB0aGF0IGNhbiBiZSBjcmVhdGVkIGJ5IHRoZSB1c2VyXG4gICAgbGV0IG5ldHdvcmtlZEVudGl0aWVzUmFuZ2U7XG4gICAgY29uc3QgdXNlZEVudGl0aWVzID0gbmV3IFNldCgpO1xuICAgIGxldCB0b1JlbW92ZUVudGl0aWVzID0gW107XG4gICAgY29uc3QgcmVtb3ZlZEVudGl0aWVzID0gY3JlYXRlVmVyc2lvbkdTZXQoKTtcbiAgICBsZXQgbG9jYWxFbnRpdGllc0F2YWlsYWJsZSA9IFJFU0VSVkVEX0xPQ0FMX0VOVElUSUVTO1xuICAgIGZ1bmN0aW9uIHNldE5ldHdvcmtFbnRpdGllc1JhbmdlKHJlc2VydmVkTG9jYWxFbnRpdGllcywgcmFuZ2UpIHtcbiAgICAgICAgbG9jYWxFbnRpdGllc0F2YWlsYWJsZSA9IHJlc2VydmVkTG9jYWxFbnRpdGllcztcbiAgICAgICAgbmV0d29ya2VkRW50aXRpZXNSYW5nZSA9IHJhbmdlO1xuICAgICAgICBuZXR3b3JrRW50aXR5Q291bnRlciA9IHJhbmdlWzBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZU5ld0VudGl0eShuZXR3b3JrZWQpIHtcbiAgICAgICAgaWYgKGVudGl0eUNvdW50ZXIgPiBNQVhfRU5USVRZX05VTUJFUiAtIDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSXQgZmFpbHMgdHJ5aW5nIHRvIGdlbmVyYXRlIGFuIGVudGl0eSBvdXQgb2YgcmFuZ2UgJHtNQVhfRU5USVRZX05VTUJFUn0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ldHdvcmtlZCAmJiBuZXR3b3JrRW50aXR5Q291bnRlciA+IG5ldHdvcmtlZEVudGl0aWVzUmFuZ2VbMV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWF4IGFtb3VudCBvZiBuZXR3b3JrIGVudGl0aWVzIHJlYWNoZWQgJHtuZXR3b3JrZWRFbnRpdGllc1JhbmdlWzFdfSBgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5ldHdvcmtlZCAmJiBlbnRpdHlDb3VudGVyID49IGxvY2FsRW50aXRpZXNBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWF4IGFtb3VudCBvZiBsb2NhbCBlbnRpdGllcyByZWFjaGVkICR7bG9jYWxFbnRpdGllc0F2YWlsYWJsZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbnRpdHlOdW1iZXIgPSBuZXR3b3JrZWQgPyBuZXR3b3JrRW50aXR5Q291bnRlcisrIDogZW50aXR5Q291bnRlcisrO1xuICAgICAgICBjb25zdCBlbnRpdHlWZXJzaW9uID0gcmVtb3ZlZEVudGl0aWVzLmdldE1hcCgpLmhhcyhlbnRpdHlOdW1iZXIpXG4gICAgICAgICAgICA/IHJlbW92ZWRFbnRpdGllcy5nZXRNYXAoKS5nZXQoZW50aXR5TnVtYmVyKSArIDFcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gRW50aXR5VXRpbHMudG9FbnRpdHlJZChlbnRpdHlOdW1iZXIsIGVudGl0eVZlcnNpb24pO1xuICAgICAgICBpZiAodXNlZEVudGl0aWVzLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVOZXdFbnRpdHkoKTtcbiAgICAgICAgfVxuICAgICAgICB1c2VkRW50aXRpZXMuYWRkKGVudGl0eSk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlRW50aXR5KG5ldHdvcmtlZCkge1xuICAgICAgICBpZiAobmV0d29ya2VkICYmICFuZXR3b3JrZWRFbnRpdGllc1JhbmdlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgZW50aXRpZXMgcmFuZ2VkIG5vdCBpbml0aWFsaXplZC4gQ29ubmVjdCB0byBhIENSRFQgU2VydmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNlZE5ldHdvcmtTaXplID0gKG5ldHdvcmtlZEVudGl0aWVzUmFuZ2UgJiZcbiAgICAgICAgICAgIFsuLi51c2VkRW50aXRpZXMudmFsdWVzKCldLmZpbHRlcigoJCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtlbnRpdHlJZF0gPSBFbnRpdHlVdGlscy5mcm9tRW50aXR5SWQoJCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eUlkID49IG5ldHdvcmtlZEVudGl0aWVzUmFuZ2VbMF0gJiYgZW50aXR5SWQgPD0gbmV0d29ya2VkRW50aXRpZXNSYW5nZVsxXTtcbiAgICAgICAgICAgIH0pLmxlbmd0aCkgPz9cbiAgICAgICAgICAgIDA7XG4gICAgICAgIGNvbnN0IHVzZWRTaXplID0gdXNlZEVudGl0aWVzLnNpemUgLSB1c2VkTmV0d29ya1NpemU7XG4gICAgICAgIC8vIElmIGFsbCBlbnRpdGllcyB1bnRpbCBgZW50aXR5Q291bnRlcmAgYXJlIGJlaW5nIHVzZWQsIHdlIG5lZWQgdG8gZ2VuZXJhdGUgYW5vdGhlciBvbmVcbiAgICAgICAgaWYgKCFuZXR3b3JrZWQgJiYgdXNlZFNpemUgKyBSRVNFUlZFRF9TVEFUSUNfRU5USVRJRVMgPj0gZW50aXR5Q291bnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlTmV3RW50aXR5KG5ldHdvcmtlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYWxsIGVudGl0aWVzIHVudGlsIGBlbnRpdHlDb3VudGVyYCBhcmUgYmVpbmcgdXNlZCwgd2UgbmVlZCB0byBnZW5lcmF0ZSBhbm90aGVyIG9uZVxuICAgICAgICBpZiAobmV0d29ya2VkICYmIHVzZWROZXR3b3JrU2l6ZSArIG5ldHdvcmtlZEVudGl0aWVzUmFuZ2VbMF0gPj0gbmV0d29ya0VudGl0eUNvdW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZU5ld0VudGl0eShuZXR3b3JrZWQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW251bWJlciwgdmVyc2lvbl0gb2YgcmVtb3ZlZEVudGl0aWVzLmdldE1hcCgpKSB7XG4gICAgICAgICAgICBpZiAodmVyc2lvbiA8IE1BWF9VMTYpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV0d29ya2VkICYmIChudW1iZXIgPCBuZXR3b3JrZWRFbnRpdGllc1JhbmdlWzBdIHx8IG51bWJlciA+IG5ldHdvcmtlZEVudGl0aWVzUmFuZ2VbMV0pKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoIW5ldHdvcmtlZCAmJiBudW1iZXIgPj0gbG9jYWxFbnRpdGllc0F2YWlsYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gRW50aXR5VXRpbHMudG9FbnRpdHlJZChudW1iZXIsIHZlcnNpb24gKyAxKTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZW50aXR5IGlzIG5vdCBiZWluZyB1c2VkLCB3ZSBjYW4gcmUtdXNlIGl0XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGVudGl0eSB3YXMgcmVtb3ZlZCBpbiB0aGlzIHRpY2ssIHdlJ3JlIG5vdCBjb3VudGluZyBmb3IgdGhlIHVzZWRFbnRpdGllcywgYnV0IHdlIGhhdmUgaXQgaW4gdGhlIHRvUmVtb3ZlRW50aXR5QXJyYXlcbiAgICAgICAgICAgICAgICBpZiAoIXVzZWRFbnRpdGllcy5oYXMoZW50aXR5KSAmJiAhdG9SZW1vdmVFbnRpdGllcy5pbmNsdWRlcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZWRFbnRpdGllcy5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlTmV3RW50aXR5KG5ldHdvcmtlZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUVudGl0eShlbnRpdHkpIHtcbiAgICAgICAgaWYgKGVudGl0eSA8IFJFU0VSVkVEX1NUQVRJQ19FTlRJVElFUylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHVzZWRFbnRpdGllcy5oYXMoZW50aXR5KSkge1xuICAgICAgICAgICAgdXNlZEVudGl0aWVzLmRlbGV0ZShlbnRpdHkpO1xuICAgICAgICAgICAgdG9SZW1vdmVFbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVSZW1vdmVkRW50aXR5KGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbGVhc2VSZW1vdmVkRW50aXRpZXMoKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IHRvUmVtb3ZlRW50aXRpZXM7XG4gICAgICAgIGlmIChhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICB0b1JlbW92ZUVudGl0aWVzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBhcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbbiwgdl0gPSBFbnRpdHlVdGlscy5mcm9tRW50aXR5SWQoZW50aXR5KTtcbiAgICAgICAgICAgICAgICByZW1vdmVkRW50aXRpZXMuYWRkVG8obiwgdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlUmVtb3ZlZEVudGl0eShlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgW24sIHZdID0gRW50aXR5VXRpbHMuZnJvbUVudGl0eUlkKGVudGl0eSk7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcmVtb3ZlZCBlbnRpdGllcyBtYXBcbiAgICAgICAgcmVtb3ZlZEVudGl0aWVzLmFkZFRvKG4sIHYpO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIHVzZWRFbnRpdGllcyBpZiBleGlzdFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB2OyBpKyspIHtcbiAgICAgICAgICAgIHVzZWRFbnRpdGllcy5kZWxldGUoRW50aXR5VXRpbHMudG9FbnRpdHlJZChuLCBpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVVzZWRFbnRpdHkoZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IFtuLCB2XSA9IEVudGl0eVV0aWxzLmZyb21FbnRpdHlJZChlbnRpdHkpO1xuICAgICAgICAvLyBpZiB0aGUgZW50aXR5IHdhcyByZW1vdmVkIHRoZW4gYWJvcnQgZmFzdFxuICAgICAgICBpZiAocmVtb3ZlZEVudGl0aWVzLmhhcyhuLCB2KSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gVXBkYXRlXG4gICAgICAgIGlmICh2ID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdiAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIHVzZWRFbnRpdGllcy5kZWxldGUoRW50aXR5VXRpbHMudG9FbnRpdHlJZChuLCBpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1vdmVkRW50aXRpZXMuYWRkVG8obiwgdiAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHVzZWRFbnRpdGllcy5hZGQoZW50aXR5KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEVudGl0eVN0YXRlKGVudGl0eSkge1xuICAgICAgICBjb25zdCBbbiwgdl0gPSBFbnRpdHlVdGlscy5mcm9tRW50aXR5SWQoZW50aXR5KTtcbiAgICAgICAgaWYgKG4gPCBSRVNFUlZFRF9TVEFUSUNfRU5USVRJRVMpIHtcbiAgICAgICAgICAgIHJldHVybiBFbnRpdHlTdGF0ZS5SZXNlcnZlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlZEVudGl0aWVzLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gRW50aXR5U3RhdGUuVXNlZEVudGl0eTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1vdmVkVmVyc2lvbiA9IHJlbW92ZWRFbnRpdGllcy5nZXRNYXAoKS5nZXQobik7XG4gICAgICAgIGlmIChyZW1vdmVkVmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIHJlbW92ZWRWZXJzaW9uID49IHYpIHtcbiAgICAgICAgICAgIHJldHVybiBFbnRpdHlTdGF0ZS5SZW1vdmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBFbnRpdHlTdGF0ZS5Vbmtub3duO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXROZXR3b3JrRW50aXRpZXNSYW5nZSxcbiAgICAgICAgZ2VuZXJhdGVFbnRpdHksXG4gICAgICAgIHJlbW92ZUVudGl0eSxcbiAgICAgICAgZ2V0RXhpc3RpbmdFbnRpdGllcygpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2V0KHVzZWRFbnRpdGllcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEVudGl0eVN0YXRlLFxuICAgICAgICByZWxlYXNlUmVtb3ZlZEVudGl0aWVzLFxuICAgICAgICB1cGRhdGVSZW1vdmVkRW50aXR5LFxuICAgICAgICB1cGRhdGVVc2VkRW50aXR5XG4gICAgfTtcbn1cbiIsICJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZDtcbmltcG9ydCAqIGFzIHV0ZjggZnJvbSAnQHByb3RvYnVmanMvdXRmOCc7XG4vKipcbiAqIFRha2UgdGhlIG1heCBiZXR3ZWVuIGN1cnJlbnRTaXplIGFuZCBpbnRlbmRlZFNpemUgYW5kIHRoZW4gcGx1cyAxMDI0LiBUaGVuLFxuICogIGZpbmQgdGhlIG5leHQgbmVhcmVyIG11bHRpcGxlIG9mIDEwMjQuXG4gKiBAcGFyYW0gY3VycmVudFNpemUgLSBudW1iZXJcbiAqIEBwYXJhbSBpbnRlbmRlZFNpemUgLSBudW1iZXJcbiAqIEByZXR1cm5zIHRoZSBjYWxjdWxhdGVkIG51bWJlclxuICovXG5mdW5jdGlvbiBnZXROZXh0U2l6ZShjdXJyZW50U2l6ZSwgaW50ZW5kZWRTaXplKSB7XG4gICAgY29uc3QgbWluTmV3U2l6ZSA9IE1hdGgubWF4KGN1cnJlbnRTaXplLCBpbnRlbmRlZFNpemUpICsgMTAyNDtcbiAgICByZXR1cm4gTWF0aC5jZWlsKG1pbk5ld1NpemUgLyAxMDI0KSAqIDEwMjQ7XG59XG5jb25zdCBkZWZhdWx0SW5pdGlhbENhcGFjaXR5ID0gMTAyNDA7XG4vKipcbiAqIEJ5dGVCdWZmZXIgaXMgYSB3cmFwcGVyIG9mIERhdGFWaWV3IHdoaWNoIGFsc28gYWRkcyBhIHJlYWQgYW5kIHdyaXRlIG9mZnNldC5cbiAqICBBbHNvIGluIGEgd3JpdGUgb3BlcmF0aW9uIGl0IHJlc2l6ZXMgdGhlIGJ1ZmZlciBpcyBiZWluZyB1c2VkIGlmIGl0IG5lZWRzLlxuICpcbiAqIC0gVXNlIHJlYWQgYW5kIHdyaXRlIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIG9yIGNvbnN1bWUgZGF0YS5cbiAqIC0gVXNlIHNldCBhbmQgZ2V0IG9ubHkgaWYgeW91IGFyZSBzdXJlIHRoYXQgeW91J3JlIGRvaW5nLlxuICpcbiAqIEl0IGFsd2F5cyBwYXNzZXMgbGl0dGxlRW5kaWFuIHBhcmFtIGFzIHRydWVcbiAqL1xuZXhwb3J0IGNsYXNzIFJlYWRXcml0ZUJ5dGVCdWZmZXIge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBidWZmZXIgLSBUaGUgaW5pdGlhbCBidWZmZXIsIHByb3ZpZGUgYSBidWZmZXIgaWYgeW91IG5lZWQgdG8gc2V0IFwiaW5pdGlhbCBjYXBhY2l0eVwiXG4gICAgICogQHBhcmFtIHJlYWRpbmdPZmZzZXQgLSBTZXQgdGhlIGN1cnNvciB3aGVyZSBiZWdpbnMgdG8gcmVhZC4gRGVmYXVsdCAwXG4gICAgICogQHBhcmFtIHdyaXRpbmdPZmZzZXQgLSBTZXQgdGhlIGN1cnNvciB0byBub3Qgc3RhcnQgd3JpdGluZyBmcm9tIHRoZSBiZWdpbiBvZiBpdC4gRGVmYXVsdHMgdG8gdGhlIGJ1ZmZlciBzaXplXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYnVmZmVyLCByZWFkaW5nT2Zmc2V0LCB3cml0aW5nT2Zmc2V0KSB7XG4gICAgICAgIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IGJ1ZmZlciB8fCBuZXcgVWludDhBcnJheShkZWZhdWx0SW5pdGlhbENhcGFjaXR5KTtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IERhdGFWaWV3KHRoaXMuX2J1ZmZlci5idWZmZXIsIHRoaXMuX2J1ZmZlci5ieXRlT2Zmc2V0KTtcbiAgICAgICAgdGhpcy53b2Zmc2V0ID0gd3JpdGluZ09mZnNldCA/PyAoYnVmZmVyID8gdGhpcy5fYnVmZmVyLmxlbmd0aCA6IG51bGwpID8/IDA7XG4gICAgICAgIHRoaXMucm9mZnNldCA9IHJlYWRpbmdPZmZzZXQgPz8gMDtcbiAgICB9XG4gICAgYnVmZmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgIH1cbiAgICBidWZmZXJMZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICByZXNldEJ1ZmZlcigpIHtcbiAgICAgICAgdGhpcy5yb2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy53b2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgY3VycmVudFJlYWRPZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvZmZzZXQ7XG4gICAgfVxuICAgIGN1cnJlbnRXcml0ZU9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29mZnNldDtcbiAgICB9XG4gICAgaW5jcmVtZW50UmVhZE9mZnNldChhbW91bnQpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgYW1vdW50KTtcbiAgICB9XG4gICAgcmVtYWluaW5nQnl0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndvZmZzZXQgLSB0aGlzLnJvZmZzZXQ7XG4gICAgfVxuICAgIHJlYWRGbG9hdDMyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0MzIoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA0KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgcmVhZEZsb2F0NjQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0RmxvYXQ2NChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDgpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkSW50OCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRJbnQ4KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgMSkpO1xuICAgIH1cbiAgICByZWFkSW50MTYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0SW50MTYoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCAyKSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgcmVhZEludDMyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEludDMyKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgNCksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHJlYWRJbnQ2NCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRCaWdJbnQ2NChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDgpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkVWludDgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDgoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCAxKSk7XG4gICAgfVxuICAgIHJlYWRVaW50MTYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDE2KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgMiksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHJlYWRVaW50MzIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDMyKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgNCksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHJlYWRVaW50NjQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0QmlnVWludDY0KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgOCksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHJlYWRCdWZmZXIoKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMudmlldy5nZXRVaW50MzIoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA0KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5zdWJhcnJheShfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIGxlbmd0aCksIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgMCkpO1xuICAgIH1cbiAgICByZWFkVXRmOFN0cmluZygpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy52aWV3LmdldFVpbnQzMihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDQpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgICAgICByZXR1cm4gdXRmOC5yZWFkKHRoaXMuX2J1ZmZlciwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCBsZW5ndGgpLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDApKTtcbiAgICB9XG4gICAgaW5jcmVtZW50V3JpdGVPZmZzZXQoYW1vdW50KSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIGFtb3VudCk7XG4gICAgfVxuICAgIHRvQmluYXJ5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLnN1YmFycmF5KDAsIHRoaXMud29mZnNldCk7XG4gICAgfVxuICAgIHRvQ29waWVkQmluYXJ5KCkge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy50b0JpbmFyeSgpKTtcbiAgICB9XG4gICAgd3JpdGVCdWZmZXIodmFsdWUsIHdyaXRlTGVuZ3RoID0gdHJ1ZSkge1xuICAgICAgICBpZiAod3JpdGVMZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVaW50MzIodmFsdWUuYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgdmFsdWUuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMuX2J1ZmZlci5zZXQodmFsdWUsIG8pO1xuICAgIH1cbiAgICB3cml0ZVV0ZjhTdHJpbmcodmFsdWUsIHdyaXRlTGVuZ3RoID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBieXRlTGVuZ3RoID0gdXRmOC5sZW5ndGgodmFsdWUpO1xuICAgICAgICBpZiAod3JpdGVMZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVaW50MzIoYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgYnl0ZUxlbmd0aCk7XG4gICAgICAgIHV0Zjgud3JpdGUodmFsdWUsIHRoaXMuX2J1ZmZlciwgbyk7XG4gICAgfVxuICAgIHdyaXRlRmxvYXQzMih2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCA0KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEZsb2F0MzIobywgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHdyaXRlRmxvYXQ2NCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCA4KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEZsb2F0NjQobywgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHdyaXRlSW50OCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDgobywgdmFsdWUpO1xuICAgIH1cbiAgICB3cml0ZUludDE2KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDIpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0SW50MTYobywgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHdyaXRlSW50MzIodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgNCk7XG4gICAgICAgIHRoaXMudmlldy5zZXRJbnQzMihvLCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgd3JpdGVJbnQ2NCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCA4KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEJpZ0ludDY0KG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZVVpbnQ4KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDEpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0VWludDgobywgdmFsdWUpO1xuICAgIH1cbiAgICB3cml0ZVVpbnQxNih2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCAyKTtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQxNihvLCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgd3JpdGVVaW50MzIodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgNCk7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIobywgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHdyaXRlVWludDY0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDgpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICAvLyBEYXRhVmlldyBQcm94eVxuICAgIGdldEZsb2F0MzIob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0RmxvYXQzMihvZmZzZXQsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIGdldEZsb2F0NjQob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0RmxvYXQ2NChvZmZzZXQsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIGdldEludDgob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0SW50OChvZmZzZXQpO1xuICAgIH1cbiAgICBnZXRJbnQxNihvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRJbnQxNihvZmZzZXQsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIGdldEludDMyKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEludDMyKG9mZnNldCwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgZ2V0SW50NjQob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0QmlnSW50NjQob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBnZXRVaW50OChvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRVaW50OChvZmZzZXQpO1xuICAgIH1cbiAgICBnZXRVaW50MTYob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDE2KG9mZnNldCwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgZ2V0VWludDMyKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQzMihvZmZzZXQsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlID4+PiAwXG4gICAgfVxuICAgIGdldFVpbnQ2NChvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRCaWdVaW50NjQob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBzZXRGbG9hdDMyKG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEZsb2F0MzIob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgc2V0RmxvYXQ2NChvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRGbG9hdDY0KG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldEludDgob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0SW50OChvZmZzZXQsIHZhbHVlKTtcbiAgICB9XG4gICAgc2V0SW50MTYob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0SW50MTYob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgc2V0SW50MzIob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0SW50MzIob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgc2V0SW50NjQob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0QmlnSW50NjQob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgc2V0VWludDgob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0VWludDgob2Zmc2V0LCB2YWx1ZSk7XG4gICAgfVxuICAgIHNldFVpbnQxNihvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50MTYob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgc2V0VWludDMyKG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihvZmZzZXQsIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBzZXRVaW50NjQob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxufVxuX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQgPSBmdW5jdGlvbiBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZChhbW91bnQpIHtcbiAgICBpZiAodGhpcy53b2Zmc2V0ICsgYW1vdW50ID4gdGhpcy5fYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbmV3c2l6ZSA9IGdldE5leHRTaXplKHRoaXMuX2J1ZmZlci5ieXRlTGVuZ3RoLCB0aGlzLndvZmZzZXQgKyBhbW91bnQpO1xuICAgICAgICBjb25zdCBuZXdCdWZmZXIgPSBuZXcgVWludDhBcnJheShuZXdzaXplKTtcbiAgICAgICAgbmV3QnVmZmVyLnNldCh0aGlzLl9idWZmZXIpO1xuICAgICAgICBjb25zdCBvbGRPZmZzZXQgPSB0aGlzLl9idWZmZXIuYnl0ZU9mZnNldDtcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gbmV3QnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXcgPSBuZXcgRGF0YVZpZXcodGhpcy5fYnVmZmVyLmJ1ZmZlciwgb2xkT2Zmc2V0KTtcbiAgICB9XG4gICAgdGhpcy53b2Zmc2V0ICs9IGFtb3VudDtcbiAgICByZXR1cm4gdGhpcy53b2Zmc2V0IC0gYW1vdW50O1xufSwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQgPSBmdW5jdGlvbiBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZChhbW91bnQpIHtcbiAgICBpZiAodGhpcy5yb2Zmc2V0ICsgYW1vdW50ID4gdGhpcy53b2Zmc2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3V0c2lkZSBvZiB0aGUgYm91bmRzIG9mIHdyaXRlbiBkYXRhLicpO1xuICAgIH1cbiAgICB0aGlzLnJvZmZzZXQgKz0gYW1vdW50O1xuICAgIHJldHVybiB0aGlzLnJvZmZzZXQgLSBhbW91bnQ7XG59O1xuIiwgIi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENyZHRNZXNzYWdlVHlwZTtcbihmdW5jdGlvbiAoQ3JkdE1lc3NhZ2VUeXBlKSB7XG4gICAgQ3JkdE1lc3NhZ2VUeXBlW0NyZHRNZXNzYWdlVHlwZVtcIlJFU0VSVkVEXCJdID0gMF0gPSBcIlJFU0VSVkVEXCI7XG4gICAgLy8gQ29tcG9uZW50IE9wZXJhdGlvblxuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJQVVRfQ09NUE9ORU5UXCJdID0gMV0gPSBcIlBVVF9DT01QT05FTlRcIjtcbiAgICBDcmR0TWVzc2FnZVR5cGVbQ3JkdE1lc3NhZ2VUeXBlW1wiREVMRVRFX0NPTVBPTkVOVFwiXSA9IDJdID0gXCJERUxFVEVfQ09NUE9ORU5UXCI7XG4gICAgQ3JkdE1lc3NhZ2VUeXBlW0NyZHRNZXNzYWdlVHlwZVtcIkRFTEVURV9FTlRJVFlcIl0gPSAzXSA9IFwiREVMRVRFX0VOVElUWVwiO1xuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJBUFBFTkRfVkFMVUVcIl0gPSA0XSA9IFwiQVBQRU5EX1ZBTFVFXCI7XG4gICAgQ3JkdE1lc3NhZ2VUeXBlW0NyZHRNZXNzYWdlVHlwZVtcIk1BWF9NRVNTQUdFX1RZUEVcIl0gPSA1XSA9IFwiTUFYX01FU1NBR0VfVFlQRVwiO1xufSkoQ3JkdE1lc3NhZ2VUeXBlIHx8IChDcmR0TWVzc2FnZVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCA9IDg7XG5leHBvcnQgdmFyIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZTtcbihmdW5jdGlvbiAoUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlKSB7XG4gICAgLyoqXG4gICAgICogVHlwaWNhbCBtZXNzYWdlIGFuZCBuZXcgc3RhdGUgc2V0LlxuICAgICAqIEBzdGF0ZSBDSEFOR0VcbiAgICAgKiBAcmVhc29uIEluY29taW5nIG1lc3NhZ2UgaGFzIGEgdGltZXN0YW1wIGdyZWF0ZXJcbiAgICAgKi9cbiAgICBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1wiU3RhdGVVcGRhdGVkVGltZXN0YW1wXCJdID0gMV0gPSBcIlN0YXRlVXBkYXRlZFRpbWVzdGFtcFwiO1xuICAgIC8qKlxuICAgICAqIFR5cGljYWwgbWVzc2FnZSB3aGVuIGl0IGlzIGNvbnNpZGVyZWQgb2xkLlxuICAgICAqIEBzdGF0ZSBpdCBkb2VzIE5PVCBDSEFOR0UuXG4gICAgICogQHJlYXNvbiBpbmNvbWluZyBtZXNzYWdlIGhhcyBhIHRpbWVzdGFtcCBsb3dlci5cbiAgICAgKi9cbiAgICBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1wiU3RhdGVPdXRkYXRlZFRpbWVzdGFtcFwiXSA9IDJdID0gXCJTdGF0ZU91dGRhdGVkVGltZXN0YW1wXCI7XG4gICAgLyoqXG4gICAgICogV2VpcmQgbWVzc2FnZSwgc2FtZSB0aW1lc3RhbXAgYW5kIGRhdGEuXG4gICAgICogQHN0YXRlIGl0IGRvZXMgTk9UIENIQU5HRS5cbiAgICAgKiBAcmVhc29uIGNvbnNpc3RlbnQgc3RhdGUgYmV0d2VlbiBwZWVycy5cbiAgICAgKi9cbiAgICBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1wiTm9DaGFuZ2VzXCJdID0gM10gPSBcIk5vQ2hhbmdlc1wiO1xuICAgIC8qKlxuICAgICAqIExlc3MgYnV0IHR5cGljYWwgbWVzc2FnZSwgc2FtZSB0aW1lc3RhbXAsIHJlc29sdXRpb24gYnkgZGF0YS5cbiAgICAgKiBAc3RhdGUgaXQgZG9lcyBOT1QgQ0hBTkdFLlxuICAgICAqIEByZWFzb24gaW5jb21pbmcgbWVzc2FnZSBoYXMgYSBMT1dFUiBkYXRhLlxuICAgICAqL1xuICAgIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbXCJTdGF0ZU91dGRhdGVkRGF0YVwiXSA9IDRdID0gXCJTdGF0ZU91dGRhdGVkRGF0YVwiO1xuICAgIC8qKlxuICAgICAqIExlc3MgYnV0IHR5cGljYWwgbWVzc2FnZSwgc2FtZSB0aW1lc3RhbXAsIHJlc29sdXRpb24gYnkgZGF0YS5cbiAgICAgKiBAc3RhdGUgQ0hBTkdFLlxuICAgICAqIEByZWFzb24gaW5jb21pbmcgbWVzc2FnZSBoYXMgYSBHUkVBVEVSIGRhdGEuXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIlN0YXRlVXBkYXRlZERhdGFcIl0gPSA1XSA9IFwiU3RhdGVVcGRhdGVkRGF0YVwiO1xuICAgIC8qKlxuICAgICAqIEVudGl0eSB3YXMgcHJldmlvdXNseSBkZWxldGVkLlxuICAgICAqIEBzdGF0ZSBpdCBkb2VzIE5PVCBDSEFOR0UuXG4gICAgICogQHJlYXNvbiBUaGUgbWVzc2FnZSBpcyBjb25zaWRlcmVkIG9sZC5cbiAgICAgKi9cbiAgICBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1wiRW50aXR5V2FzRGVsZXRlZFwiXSA9IDZdID0gXCJFbnRpdHlXYXNEZWxldGVkXCI7XG4gICAgLyoqXG4gICAgICogRW50aXR5IHNob3VsZCBiZSBkZWxldGVkLlxuICAgICAqIEBzdGF0ZSBDSEFOR0UuXG4gICAgICogQHJlYXNvbiB0aGUgc3RhdGUgaXMgc3RvcmluZyBvbGQgZW50aXRpZXNcbiAgICAgKi9cbiAgICBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1wiRW50aXR5RGVsZXRlZFwiXSA9IDddID0gXCJFbnRpdHlEZWxldGVkXCI7XG59KShQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUgfHwgKFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZSA9IHt9KSk7XG4vLyB3ZSByZWNlaXZlIExXVywgdj02LCB3ZSBoYXZlIHY9NSA9PiB3ZSByZWNlaXZlIHdpdGggZGVsYXkgdGhlIGRlbGV0ZUVudGl0eSh2PTUpXG4vLyAgID0+IHdlIHNob3VsZCBnZW5lcmF0ZSB0aGUgZGVsZXRlRW50aXR5IG1lc3NhZ2UgZWZmZWN0cyBpbnRlcm5hbGx5IHdpdGggZGVsZXRlRW50aXR5KHY9NSksXG4vLyAgICAgICBidXQgZG9uJ3QgcmVzZW5kIHRoZSBkZWxldGVFbnRpdHlcbi8vICAgICAgICAgIC0gKENSRFQpIGFkZERlbGV0ZWRFbnRpdHlTZXQgdj01ICh3aXRoIGNyZHQgc3RhdGUgY2xlYW5pbmcpIGFuZCB0aGVuIExXVyB2PTZcbi8vICAgICAgICAgIC0gKGVuZ2luZSkgZW5naW5lLmRlbGV0ZUVudGl0eSB2PTVcbi8vIHdlIHJlY2VpdmUgTFdXLCB2PTcsIHdlIGhhdmUgdj01ID0+IHdlIHJlY2VpdmUgd2l0aCBkZWxheSB0aGUgZGVsZXRlRW50aXR5KHY9NSksIGRlbGV0ZUVudGl0eSh2PTYpLCAuLi4sIE5cbi8vICAgPT4gd2Ugc2hvdWxkIGdlbmVyYXRlIHRoZSBkZWxldGVFbnRpdHkgbWVzc2FnZSBlZmZlY3RzIGludGVybmFsbHkgd2l0aCBkZWxldGVFbnRpdHkodj01KSxcbi8vICAgICAgIGJ1dCBkb24ndCByZXNlbmQgdGhlIGRlbGV0ZUVudGl0eVxuLy8gICAgICAgICAgLSAoQ1JEVCkgYWRkRGVsZXRlZEVudGl0eVNldCB2PTUgKHdpdGggY3JkdCBzdGF0ZSBjbGVhbmluZykgYW5kIHRoZW4gTFdXIHY9NlxuLy8gICAgICAgICAgLSAoZW5naW5lKSBlbmdpbmUuZGVsZXRlRW50aXR5IHY9NVxuLy8gbXNnIGRlbGV0ZSBlbnRpdHk6IGl0IG9ubHkgc2hvdWxkIGJlIHNlbnQgYnkgZGVsZXRlclxuLy9cbiIsICJpbXBvcnQgeyBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCB9IGZyb20gJy4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ3JkdE1lc3NhZ2VQcm90b2NvbDtcbihmdW5jdGlvbiAoQ3JkdE1lc3NhZ2VQcm90b2NvbCkge1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGlmIHRoZSBtZXNzYWdlIGluY29taW5nIGlzIGNvbXBsZXRlZFxuICAgICAqIEBwYXJhbSBidWYgLSBCeXRlQnVmZmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUoYnVmKSB7XG4gICAgICAgIGNvbnN0IHJlbSA9IGJ1Zi5yZW1haW5pbmdCeXRlcygpO1xuICAgICAgICBpZiAocmVtIDwgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXNzYWdlTGVuZ3RoID0gYnVmLmdldFVpbnQzMihidWYuY3VycmVudFJlYWRPZmZzZXQoKSk7XG4gICAgICAgIGlmIChyZW0gPCBtZXNzYWdlTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIENyZHRNZXNzYWdlUHJvdG9jb2wudmFsaWRhdGUgPSB2YWxpZGF0ZTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgaGVhZGVyLCBjb25zdW1pbmcgdGhlIGJ5dGVzIGludm9sdmVkLlxuICAgICAqIEBwYXJhbSBidWYgLSBCeXRlQnVmZmVyXG4gICAgICogQHJldHVybnMgaGVhZGVyIG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gdmFsaWRhdGVkIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWFkSGVhZGVyKGJ1Zikge1xuICAgICAgICBpZiAoIXZhbGlkYXRlKGJ1ZikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZW5ndGg6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICB0eXBlOiBidWYucmVhZFVpbnQzMigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIENyZHRNZXNzYWdlUHJvdG9jb2wucmVhZEhlYWRlciA9IHJlYWRIZWFkZXI7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGhlYWRlciwgd2l0aG91dCBjb25zdW1pbmcgdGhlIGJ5dGVzIGludm9sdmVkLlxuICAgICAqIEBwYXJhbSBidWYgLSBCeXRlQnVmZmVyXG4gICAgICogQHJldHVybnMgaGVhZGVyIG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gdmFsaWRhdGVkIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIZWFkZXIoYnVmKSB7XG4gICAgICAgIGlmICghdmFsaWRhdGUoYnVmKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudE9mZnNldCA9IGJ1Zi5jdXJyZW50UmVhZE9mZnNldCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVuZ3RoOiBidWYuZ2V0VWludDMyKGN1cnJlbnRPZmZzZXQpLFxuICAgICAgICAgICAgdHlwZTogYnVmLmdldFVpbnQzMihjdXJyZW50T2Zmc2V0ICsgNClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQ3JkdE1lc3NhZ2VQcm90b2NvbC5nZXRIZWFkZXIgPSBnZXRIZWFkZXI7XG4gICAgLyoqXG4gICAgICogQ29uc3VtZSB0aGUgaW5jb21pbmcgbWVzc2FnZSB3aXRob3V0IHByb2Nlc3NpbmcgaXQuXG4gICAgICogQHBhcmFtIGJ1ZiAtIEJ5dGVCdWZmZXJcbiAgICAgKiBAcmV0dXJucyB0cnVlIGluIGNhc2Ugb2Ygc3VjY2VzcyBvciBmYWxzZSBpZiB0aGVyZSBpcyBubyB2YWxpZCBtZXNzYWdlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnN1bWVNZXNzYWdlKGJ1Zikge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBnZXRIZWFkZXIoYnVmKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBidWYuaW5jcmVtZW50UmVhZE9mZnNldChoZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIENyZHRNZXNzYWdlUHJvdG9jb2wuY29uc3VtZU1lc3NhZ2UgPSBjb25zdW1lTWVzc2FnZTtcbn0pKENyZHRNZXNzYWdlUHJvdG9jb2wgfHwgKENyZHRNZXNzYWdlUHJvdG9jb2wgPSB7fSkpO1xuIiwgImltcG9ydCB7IENyZHRNZXNzYWdlUHJvdG9jb2wgfSBmcm9tICcuL2NyZHRNZXNzYWdlUHJvdG9jb2wnO1xuaW1wb3J0IHsgQ3JkdE1lc3NhZ2VUeXBlLCBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCB9IGZyb20gJy4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgRGVsZXRlQ29tcG9uZW50O1xuKGZ1bmN0aW9uIChEZWxldGVDb21wb25lbnQpIHtcbiAgICBEZWxldGVDb21wb25lbnQuTUVTU0FHRV9IRUFERVJfTEVOR1RIID0gMTI7XG4gICAgLyoqXG4gICAgICogV3JpdGUgRGVsZXRlQ29tcG9uZW50IG1lc3NhZ2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cml0ZShlbnRpdHksIGNvbXBvbmVudElkLCB0aW1lc3RhbXAsIGJ1Zikge1xuICAgICAgICAvLyByZXNlcnZlIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgY29uc3QgbWVzc2FnZUxlbmd0aCA9IENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIICsgRGVsZXRlQ29tcG9uZW50Lk1FU1NBR0VfSEVBREVSX0xFTkdUSDtcbiAgICAgICAgY29uc3Qgc3RhcnRNZXNzYWdlT2Zmc2V0ID0gYnVmLmluY3JlbWVudFdyaXRlT2Zmc2V0KG1lc3NhZ2VMZW5ndGgpO1xuICAgICAgICAvLyBXcml0ZSBDcmR0TWVzc2FnZSBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQsIG1lc3NhZ2VMZW5ndGgpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDQsIENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UKTtcbiAgICAgICAgLy8gV3JpdGUgQ29tcG9uZW50T3BlcmF0aW9uIGhlYWRlclxuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDgsIGVudGl0eSk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTIsIGNvbXBvbmVudElkKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAxNiwgdGltZXN0YW1wKTtcbiAgICB9XG4gICAgRGVsZXRlQ29tcG9uZW50LndyaXRlID0gd3JpdGU7XG4gICAgZnVuY3Rpb24gcmVhZChidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5yZWFkSGVhZGVyKGJ1Zik7XG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVhZGVyLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlbGV0ZUNvbXBvbmVudE9wZXJhdGlvbiB0cmllZCB0byByZWFkIGFub3RoZXIgbWVzc2FnZSB0eXBlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1zZyA9IHtcbiAgICAgICAgICAgIC4uLmhlYWRlcixcbiAgICAgICAgICAgIGVudGl0eUlkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGJ1Zi5yZWFkVWludDMyKClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgRGVsZXRlQ29tcG9uZW50LnJlYWQgPSByZWFkO1xufSkoRGVsZXRlQ29tcG9uZW50IHx8IChEZWxldGVDb21wb25lbnQgPSB7fSkpO1xuIiwgImltcG9ydCB7IENyZHRNZXNzYWdlUHJvdG9jb2wgfSBmcm9tICcuL2NyZHRNZXNzYWdlUHJvdG9jb2wnO1xuaW1wb3J0IHsgQ3JkdE1lc3NhZ2VUeXBlLCBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCB9IGZyb20gJy4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQXBwZW5kVmFsdWVPcGVyYXRpb247XG4oZnVuY3Rpb24gKEFwcGVuZFZhbHVlT3BlcmF0aW9uKSB7XG4gICAgQXBwZW5kVmFsdWVPcGVyYXRpb24uTUVTU0FHRV9IRUFERVJfTEVOR1RIID0gMTY7XG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGlzIGZ1bmN0aW9uIGZvciBhbiBvcHRpbWFsIHdyaXRpbmcgZGF0YSBwYXNzaW5nIHRoZSBCeXRlQnVmZmVyXG4gICAgICogIGFscmVhZHkgYWxsb2NhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JpdGUoZW50aXR5LCB0aW1lc3RhbXAsIGNvbXBvbmVudElkLCBkYXRhLCBidWYpIHtcbiAgICAgICAgLy8gcmVzZXJ2ZSB0aGUgYmVnaW5uaW5nXG4gICAgICAgIGNvbnN0IHN0YXJ0TWVzc2FnZU9mZnNldCA9IGJ1Zi5pbmNyZW1lbnRXcml0ZU9mZnNldChDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCArIEFwcGVuZFZhbHVlT3BlcmF0aW9uLk1FU1NBR0VfSEVBREVSX0xFTkdUSCk7XG4gICAgICAgIC8vIHdyaXRlIGJvZHlcbiAgICAgICAgYnVmLndyaXRlQnVmZmVyKGRhdGEsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZUxlbmd0aCA9IGJ1Zi5jdXJyZW50V3JpdGVPZmZzZXQoKSAtIHN0YXJ0TWVzc2FnZU9mZnNldDtcbiAgICAgICAgLy8gV3JpdGUgQ3JkdE1lc3NhZ2UgaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0LCBtZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA0LCBDcmR0TWVzc2FnZVR5cGUuQVBQRU5EX1ZBTFVFKTtcbiAgICAgICAgLy8gV3JpdGUgQ29tcG9uZW50T3BlcmF0aW9uIGhlYWRlclxuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDgsIGVudGl0eSk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTIsIGNvbXBvbmVudElkKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAxNiwgdGltZXN0YW1wKTtcbiAgICAgICAgY29uc3QgbmV3TG9jYWwgPSBtZXNzYWdlTGVuZ3RoIC0gQXBwZW5kVmFsdWVPcGVyYXRpb24uTUVTU0FHRV9IRUFERVJfTEVOR1RIIC0gQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEg7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMjAsIG5ld0xvY2FsKTtcbiAgICB9XG4gICAgQXBwZW5kVmFsdWVPcGVyYXRpb24ud3JpdGUgPSB3cml0ZTtcbiAgICBmdW5jdGlvbiByZWFkKGJ1Zikge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBDcmR0TWVzc2FnZVByb3RvY29sLnJlYWRIZWFkZXIoYnVmKTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGhlYWRlci50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuQVBQRU5EX1ZBTFVFKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FwcGVuZFZhbHVlT3BlcmF0aW9uIHRyaWVkIHRvIHJlYWQgYW5vdGhlciBtZXNzYWdlIHR5cGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmhlYWRlcixcbiAgICAgICAgICAgIGVudGl0eUlkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICBkYXRhOiBidWYucmVhZEJ1ZmZlcigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIEFwcGVuZFZhbHVlT3BlcmF0aW9uLnJlYWQgPSByZWFkO1xufSkoQXBwZW5kVmFsdWVPcGVyYXRpb24gfHwgKEFwcGVuZFZhbHVlT3BlcmF0aW9uID0ge30pKTtcbiIsICJpbXBvcnQgeyBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi9jcmR0TWVzc2FnZVByb3RvY29sJztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSwgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggfSBmcm9tICcuL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIERlbGV0ZUVudGl0eTtcbihmdW5jdGlvbiAoRGVsZXRlRW50aXR5KSB7XG4gICAgRGVsZXRlRW50aXR5Lk1FU1NBR0VfSEVBREVSX0xFTkdUSCA9IDQ7XG4gICAgZnVuY3Rpb24gd3JpdGUoZW50aXR5LCBidWYpIHtcbiAgICAgICAgLy8gV3JpdGUgQ3JkdE1lc3NhZ2UgaGVhZGVyXG4gICAgICAgIGJ1Zi53cml0ZVVpbnQzMihDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCArIDQpO1xuICAgICAgICBidWYud3JpdGVVaW50MzIoQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkpO1xuICAgICAgICAvLyBib2R5XG4gICAgICAgIGJ1Zi53cml0ZVVpbnQzMihlbnRpdHkpO1xuICAgIH1cbiAgICBEZWxldGVFbnRpdHkud3JpdGUgPSB3cml0ZTtcbiAgICBmdW5jdGlvbiByZWFkKGJ1Zikge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBDcmR0TWVzc2FnZVByb3RvY29sLnJlYWRIZWFkZXIoYnVmKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWFkZXIudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGVsZXRlRW50aXR5IHRyaWVkIHRvIHJlYWQgYW5vdGhlciBtZXNzYWdlIHR5cGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmhlYWRlcixcbiAgICAgICAgICAgIGVudGl0eUlkOiBidWYucmVhZFVpbnQzMigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIERlbGV0ZUVudGl0eS5yZWFkID0gcmVhZDtcbn0pKERlbGV0ZUVudGl0eSB8fCAoRGVsZXRlRW50aXR5ID0ge30pKTtcbiIsICJpbXBvcnQgeyBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi9jcmR0TWVzc2FnZVByb3RvY29sJztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSwgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggfSBmcm9tICcuL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFB1dENvbXBvbmVudE9wZXJhdGlvbjtcbihmdW5jdGlvbiAoUHV0Q29tcG9uZW50T3BlcmF0aW9uKSB7XG4gICAgUHV0Q29tcG9uZW50T3BlcmF0aW9uLk1FU1NBR0VfSEVBREVSX0xFTkdUSCA9IDE2O1xuICAgIC8qKlxuICAgICAqIENhbGwgdGhpcyBmdW5jdGlvbiBmb3IgYW4gb3B0aW1hbCB3cml0aW5nIGRhdGEgcGFzc2luZyB0aGUgQnl0ZUJ1ZmZlclxuICAgICAqICBhbHJlYWR5IGFsbG9jYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyaXRlKGVudGl0eSwgdGltZXN0YW1wLCBjb21wb25lbnRJZCwgZGF0YSwgYnVmKSB7XG4gICAgICAgIC8vIHJlc2VydmUgdGhlIGJlZ2lubmluZ1xuICAgICAgICBjb25zdCBzdGFydE1lc3NhZ2VPZmZzZXQgPSBidWYuaW5jcmVtZW50V3JpdGVPZmZzZXQoQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggKyBQdXRDb21wb25lbnRPcGVyYXRpb24uTUVTU0FHRV9IRUFERVJfTEVOR1RIKTtcbiAgICAgICAgLy8gd3JpdGUgYm9keVxuICAgICAgICBidWYud3JpdGVCdWZmZXIoZGF0YSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBtZXNzYWdlTGVuZ3RoID0gYnVmLmN1cnJlbnRXcml0ZU9mZnNldCgpIC0gc3RhcnRNZXNzYWdlT2Zmc2V0O1xuICAgICAgICAvLyBXcml0ZSBDcmR0TWVzc2FnZSBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQsIG1lc3NhZ2VMZW5ndGgpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDQsIENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UKTtcbiAgICAgICAgLy8gV3JpdGUgQ29tcG9uZW50T3BlcmF0aW9uIGhlYWRlclxuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDgsIGVudGl0eSk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTIsIGNvbXBvbmVudElkKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAxNiwgdGltZXN0YW1wKTtcbiAgICAgICAgY29uc3QgbmV3TG9jYWwgPSBtZXNzYWdlTGVuZ3RoIC0gUHV0Q29tcG9uZW50T3BlcmF0aW9uLk1FU1NBR0VfSEVBREVSX0xFTkdUSCAtIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDIwLCBuZXdMb2NhbCk7XG4gICAgfVxuICAgIFB1dENvbXBvbmVudE9wZXJhdGlvbi53cml0ZSA9IHdyaXRlO1xuICAgIGZ1bmN0aW9uIHJlYWQoYnVmKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IENyZHRNZXNzYWdlUHJvdG9jb2wucmVhZEhlYWRlcihidWYpO1xuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRlci50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQdXRDb21wb25lbnRPcGVyYXRpb24gdHJpZWQgdG8gcmVhZCBhbm90aGVyIG1lc3NhZ2UgdHlwZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaGVhZGVyLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICBjb21wb25lbnRJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIGRhdGE6IGJ1Zi5yZWFkQnVmZmVyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgUHV0Q29tcG9uZW50T3BlcmF0aW9uLnJlYWQgPSByZWFkO1xufSkoUHV0Q29tcG9uZW50T3BlcmF0aW9uIHx8IChQdXRDb21wb25lbnRPcGVyYXRpb24gPSB7fSkpO1xuIiwgImltcG9ydCB7IEVudGl0eVN0YXRlIH0gZnJvbSAnLi4vLi4vZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBSZWFkV3JpdGVCeXRlQnVmZmVyIH0gZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9CeXRlQnVmZmVyJztcbmltcG9ydCB7IEFwcGVuZFZhbHVlT3BlcmF0aW9uLCBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9jcmR0JztcbmltcG9ydCB7IERlbGV0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3NlcmlhbGl6YXRpb24vY3JkdC9kZWxldGVDb21wb25lbnQnO1xuaW1wb3J0IHsgRGVsZXRlRW50aXR5IH0gZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9jcmR0L2RlbGV0ZUVudGl0eSc7XG5pbXBvcnQgeyBQdXRDb21wb25lbnRPcGVyYXRpb24gfSBmcm9tICcuLi8uLi9zZXJpYWxpemF0aW9uL2NyZHQvcHV0Q29tcG9uZW50JztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSB9IGZyb20gJy4uLy4uL3NlcmlhbGl6YXRpb24vY3JkdC90eXBlcyc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JkdFNjZW5lU3lzdGVtKGVuZ2luZSwgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKSB7XG4gICAgY29uc3QgdHJhbnNwb3J0cyA9IFtdO1xuICAgIC8vIE1lc3NhZ2VzIHRoYXQgd2UgcmVjZWl2ZWQgYXQgdHJhbnNwb3J0Lm9uTWVzc2FnZSB3YWl0aW5nIHRvIGJlIHByb2Nlc3NlZFxuICAgIGNvbnN0IHJlY2VpdmVkTWVzc2FnZXMgPSBbXTtcbiAgICAvLyBNZXNzYWdlcyBhbHJlYWR5IHByb2Nlc3NlZCBieSB0aGUgZW5naW5lIGJ1dCB0aGF0IHdlIG5lZWQgdG8gYnJvYWRjYXN0IHRvIG90aGVyIHRyYW5zcG9ydHMuXG4gICAgY29uc3QgYnJvYWRjYXN0TWVzc2FnZXMgPSBbXTtcbiAgICAvLyBNZXNzYWdlcyByZWNlaWV2ZWQgYnkgYSB0cmFuc3BvcnQgdGhhdCB3ZXJlIG91dGRhdGVkLiBXZSBuZWVkIHRvIGNvcnJlY3QgdGhlbVxuICAgIGNvbnN0IG91dGRhdGVkTWVzc2FnZXMgPSBbXTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc3BvcnRJZCB0cmFucG9ydCBpZCB0byBpZGVudGl5IG1lc3NhZ2VzXG4gICAgICogQHJldHVybnMgYSBmdW5jdGlvbiB0byBwcm9jZXNzIHJlY2VpdmVkIG1lc3NhZ2VzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VDaHVua01lc3NhZ2UodHJhbnNwb3J0SWQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlY2VpdmVzIGEgY2h1bmsgb2YgYmluYXJ5IG1lc3NhZ2VzIGFuZCBzdG9yZXMgYWxsIHRoZSB2YWxpZFxuICAgICAgICAgKiBDb21wb25lbnQgT3BlcmF0aW9uIE1lc3NhZ2VzIGF0IG1lc3NhZ2VzIHF1ZXVlXG4gICAgICAgICAqIEBwYXJhbSBjaHVua01lc3NhZ2UgQSBjaHVuayBvZiBiaW5hcnkgbWVzc2FnZXNcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBwYXJzZUNodW5rTWVzc2FnZShjaHVua01lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKGNodW5rTWVzc2FnZSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICAgICAgd2hpbGUgKChoZWFkZXIgPSBDcmR0TWVzc2FnZVByb3RvY29sLmdldEhlYWRlcihidWZmZXIpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGJ1ZmZlci5jdXJyZW50UmVhZE9mZnNldCgpO1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IERlbGV0ZUNvbXBvbmVudC5yZWFkKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQnVmZmVyOiBidWZmZXIuYnVmZmVyKCkuc3ViYXJyYXkob2Zmc2V0LCBidWZmZXIuY3VycmVudFJlYWRPZmZzZXQoKSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRlci50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gUHV0Q29tcG9uZW50T3BlcmF0aW9uLnJlYWQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VCdWZmZXI6IGJ1ZmZlci5idWZmZXIoKS5zdWJhcnJheShvZmZzZXQsIGJ1ZmZlci5jdXJyZW50UmVhZE9mZnNldCgpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZGVyLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBEZWxldGVFbnRpdHkucmVhZChidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICByZWNlaXZlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlcjogYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRSZWFkT2Zmc2V0KCkpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gQXBwZW5kVmFsdWVPcGVyYXRpb24ucmVhZChidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICByZWNlaXZlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlcjogYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRSZWFkT2Zmc2V0KCkpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBVbmtub3duIG1lc3NhZ2UsIHdlIHNraXAgaXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN1bWUgdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmluY3JlbWVudFJlYWRPZmZzZXQoaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogZG8gc29tZXRoaW5nIGlmIGJ1ZmZsZXIubGVuPjBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuZCBjbGVhciB0aGUgbWVzc2FlcyBxdWV1ZVxuICAgICAqIEByZXR1cm5zIG1lc3NhZ2VzIHJlY2lldmVkIGJ5IHRoZSB0cmFuc3BvcnQgdG8gcHJvY2VzcyBvbiB0aGUgbmV4dCB0aWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWVzc2FnZXModmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXNUb1Byb2Nlc3MgPSB2YWx1ZS5zcGxpY2UoMCwgdmFsdWUubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzVG9Qcm9jZXNzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGZuIHdpbGwgYmUgY2FsbGVkIG9uIGV2ZXJ5IHRpY2suXG4gICAgICogUHJvY2VzcyBhbGwgdGhlIG1lc3NhZ2VzIHF1ZXVlIHJlY2VpdmVkIGJ5IHRoZSB0cmFuc3BvcnRcbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiByZWNlaXZlTWVzc2FnZXMoKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzVG9Qcm9jZXNzID0gZ2V0TWVzc2FnZXMocmVjZWl2ZWRNZXNzYWdlcyk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlckZvck91dGRhdGVkID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgY29uc3QgZW50aXRpZXNTaG91bGRCZUNsZWFuZWQgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBtc2cgb2YgbWVzc2FnZXNUb1Byb2Nlc3MpIHtcbiAgICAgICAgICAgIGlmIChtc2cudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkpIHtcbiAgICAgICAgICAgICAgICBlbnRpdGllc1Nob3VsZEJlQ2xlYW5lZC5wdXNoKG1zZy5lbnRpdHlJZCk7XG4gICAgICAgICAgICAgICAgYnJvYWRjYXN0TWVzc2FnZXMucHVzaChtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50aXR5U3RhdGUgPSBlbmdpbmUuZW50aXR5Q29udGFpbmVyLmdldEVudGl0eVN0YXRlKG1zZy5lbnRpdHlJZCk7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB1cGRhdGVzIGZyb20gcmVtb3ZlZCBlbnRpdHllc1xuICAgICAgICAgICAgICAgIGlmIChlbnRpdHlTdGF0ZSA9PT0gRW50aXR5U3RhdGUuUmVtb3ZlZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gRW50aXRpZXMgd2l0aCB1bmtub3duIGVudGl0aWVzIHNob3VsZCB1cGRhdGUgaXRzIGVudGl0eSBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmIChlbnRpdHlTdGF0ZSA9PT0gRW50aXR5U3RhdGUuVW5rbm93bikge1xuICAgICAgICAgICAgICAgICAgICBlbmdpbmUuZW50aXR5Q29udGFpbmVyLnVwZGF0ZVVzZWRFbnRpdHkobXNnLmVudGl0eUlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZW5naW5lLmdldENvbXBvbmVudE9yTnVsbChtc2cuY29tcG9uZW50SWQpO1xuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbY29uZmxpY3RNZXNzYWdlLCB2YWx1ZV0gPSBjb21wb25lbnQudXBkYXRlRnJvbUNyZHQobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZsaWN0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gYnVmZmVyRm9yT3V0ZGF0ZWQuY3VycmVudFdyaXRlT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmxpY3RNZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHV0Q29tcG9uZW50T3BlcmF0aW9uLndyaXRlKG1zZy5lbnRpdHlJZCwgY29uZmxpY3RNZXNzYWdlLnRpbWVzdGFtcCwgY29uZmxpY3RNZXNzYWdlLmNvbXBvbmVudElkLCBjb25mbGljdE1lc3NhZ2UuZGF0YSwgYnVmZmVyRm9yT3V0ZGF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uZmxpY3RNZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVsZXRlQ29tcG9uZW50LndyaXRlKG1zZy5lbnRpdHlJZCwgY29tcG9uZW50LmNvbXBvbmVudElkLCBjb25mbGljdE1lc3NhZ2UudGltZXN0YW1wLCBidWZmZXJGb3JPdXRkYXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRkYXRlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQnVmZmVyOiBidWZmZXJGb3JPdXRkYXRlZC5idWZmZXIoKS5zdWJhcnJheShvZmZzZXQsIGJ1ZmZlckZvck91dGRhdGVkLmN1cnJlbnRXcml0ZU9mZnNldCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgbWVzc2FnZSB0byB0cmFuc3BvcnQgcXVldWUgdG8gYmUgcHJvY2Vzc2VkIGJ5IG90aGVycyB0cmFuc3BvcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBicm9hZGNhc3RNZXNzYWdlcy5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UgJiYgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKG1zZy5lbnRpdHlJZCwgbXNnLnR5cGUsIGNvbXBvbmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB0ZXN0IHRoaXMgbGluZSwgaXQgaXMgZnVuZGFtbWVudGFsIHRvIG1ha2UgdGhlIGVkaXRvciB3b3JrXG4gICAgICAgICAgICAgICAgICAgIGJyb2FkY2FzdE1lc3NhZ2VzLnB1c2gobXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIGxhc3Qgc3RhZ2Ugb2YgdGhlIHN5bmNyaG9uaXphdGlvbiBpcyB0byBkZWxldGUgdGhlIGVudGl0aWVzXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGVudGl0aWVzU2hvdWxkQmVDbGVhbmVkKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSB0cmllZCB0byByZXNlbmQgb3V0ZGF0ZWQgbWVzc2FnZSBhbmQgdGhlIGVudGl0eSB3YXMgZGVsZXRlZCBiZWZvcmUsIHdlIGF2b2lkIHNlbmRpbmcgdGhlbS5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBvdXRkYXRlZE1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKG91dGRhdGVkTWVzc2FnZXNbaV0uZW50aXR5SWQgPT09IGVudGl0eSAmJiBvdXRkYXRlZE1lc3NhZ2VzW2ldLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dGRhdGVkTWVzc2FnZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZGVmaW5pdGlvbiBvZiBlbmdpbmUuY29tcG9uZW50c0l0ZXIoKSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGNoZWNrIHRoaXMgd2l0aCBwYXRvL3ByYXZ1c1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb24uZW50aXR5RGVsZXRlZChlbnRpdHksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5naW5lLmVudGl0eUNvbnRhaW5lci51cGRhdGVSZW1vdmVkRW50aXR5KGVudGl0eSk7XG4gICAgICAgICAgICBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UgJiYgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKGVudGl0eSwgQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIHRoZSBkaXJ0eSBtYXAgYW5kIGdlbmVyYXRlcyBjcmR0IG1lc3NhZ2VzIHRvIGJlIHNlbmRcbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBzZW5kTWVzc2FnZXMoZW50aXRpZXNEZWxldGVkVGhpc1RpY2spIHtcbiAgICAgICAgLy8gQ1JEVCBNZXNzYWdlcyB3aWxsIGJlIHRoZSBtZXJnZSBiZXR3ZWVuIHRoZSByZWNpZXZlZCB0cmFuc3BvcnQgbWVzc2FnZXMgYW5kIHRoZSBuZXcgY3JkdCBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjcmR0TWVzc2FnZXMgPSBnZXRNZXNzYWdlcyhicm9hZGNhc3RNZXNzYWdlcyk7XG4gICAgICAgIGNvbnN0IG91dGRhdGVkTWVzc2FnZXNCa3AgPSBnZXRNZXNzYWdlcyhvdXRkYXRlZE1lc3NhZ2VzKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgZW5naW5lLmNvbXBvbmVudHNJdGVyKCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBjb21wb25lbnQuZ2V0Q3JkdFVwZGF0ZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGJ1ZmZlci5jdXJyZW50V3JpdGVPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBjcmVhdGluZyBtZXNzYWdlcyBpZiB0aGVyZSBpcyBubyB0cmFuc3BvcnQgdGhhdCB3aWxsIGhhbmRsZSBpdFxuICAgICAgICAgICAgICAgIGlmICh0cmFuc3BvcnRzLnNvbWUoKHQpID0+IHQuZmlsdGVyKG1lc3NhZ2UpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUHV0Q29tcG9uZW50T3BlcmF0aW9uLndyaXRlKG1lc3NhZ2UuZW50aXR5SWQsIG1lc3NhZ2UudGltZXN0YW1wLCBtZXNzYWdlLmNvbXBvbmVudElkLCBtZXNzYWdlLmRhdGEsIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgRGVsZXRlQ29tcG9uZW50LndyaXRlKG1lc3NhZ2UuZW50aXR5SWQsIGNvbXBvbmVudC5jb21wb25lbnRJZCwgbWVzc2FnZS50aW1lc3RhbXAsIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuQVBQRU5EX1ZBTFVFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmRWYWx1ZU9wZXJhdGlvbi53cml0ZShtZXNzYWdlLmVudGl0eUlkLCBtZXNzYWdlLnRpbWVzdGFtcCwgbWVzc2FnZS5jb21wb25lbnRJZCwgbWVzc2FnZS5kYXRhLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNyZHRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQnVmZmVyOiBidWZmZXIuYnVmZmVyKCkuc3ViYXJyYXkob2Zmc2V0LCBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCkpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAob25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQgfHwgbWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuQVBQRU5EX1ZBTFVFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjb21wb25lbnQuZ2V0KG1lc3NhZ2UuZW50aXR5SWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UobWVzc2FnZS5lbnRpdHlJZCwgbWVzc2FnZS50eXBlLCBjb21wb25lbnQsIHJhd1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBZnRlciBhbGwgdXBkYXRlcywgSSBleGVjdXRlIHRoZSBEZWxldGVkRW50aXR5IG1lc3NhZ2VzXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5SWQgb2YgZW50aXRpZXNEZWxldGVkVGhpc1RpY2spIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGJ1ZmZlci5jdXJyZW50V3JpdGVPZmZzZXQoKTtcbiAgICAgICAgICAgIERlbGV0ZUVudGl0eS53cml0ZShlbnRpdHlJZCwgYnVmZmVyKTtcbiAgICAgICAgICAgIGNyZHRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSxcbiAgICAgICAgICAgICAgICBlbnRpdHlJZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlQnVmZmVyOiBidWZmZXIuYnVmZmVyKCkuc3ViYXJyYXkob2Zmc2V0LCBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9uUHJvY2Vzc0VudGl0eUNvbXBvbmVudENoYW5nZSAmJiBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UoZW50aXR5SWQsIENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZW5kIENSRFQgbWVzc2FnZXMgdG8gdHJhbnNwb3J0c1xuICAgICAgICBjb25zdCB0cmFuc3BvcnRCdWZmZXIgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcigpO1xuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IGluIHRyYW5zcG9ydHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zcG9ydEluZGV4ID0gTnVtYmVyKGluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IHRyYW5zcG9ydHNbdHJhbnNwb3J0SW5kZXhdO1xuICAgICAgICAgICAgdHJhbnNwb3J0QnVmZmVyLnJlc2V0QnVmZmVyKCk7XG4gICAgICAgICAgICAvLyBGaXJzdCB3ZSBuZWVkIHRvIHNlbmQgYWxsIHRoZSBtZXNzYWdlcyB0aGF0IHdlcmUgb3V0ZGF0ZWQgZnJvbSBhIHRyYW5zcG9ydFxuICAgICAgICAgICAgLy8gU28gd2UgY2FuIGZpeCB0aGVpciBjcmR0IHN0YXRlXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2Ygb3V0ZGF0ZWRNZXNzYWdlc0JrcCkge1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRyYW5zcG9ydElkID09PSB0cmFuc3BvcnRJbmRleCAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBUaGlzIGlzIGFuIG9wdGltaXphdGlvbiwgdGhlIHN0YXRlIHNob3VsZCBjb252ZXJnZSBhbnl3YXksIHdoYXRldmVyIHRoZSBtZXNzYWdlIGlzIHNlbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkIHNlbmRpbmcgbXVsdGlwbGUgbWVzc2FnZXMgZm9yIHRoZSBzYW1lIGVudGl0eS1jb21wb25lbnRJZFxuICAgICAgICAgICAgICAgICAgICAhY3JkdE1lc3NhZ2VzLmZpbmQoKG0pID0+IG0uZW50aXR5SWQgPT09IG1lc3NhZ2UuZW50aXR5SWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGFzIGFueSwgd2l0aCBtdWx0aXBsZSB0eXBlIG9mIG1lc3NhZ2VzLCBpdCBzaG91bGQgaGF2ZSBtYW55IGNoZWNrcyBiZWZvcmUgdGhlIGNoZWNrIGZvciBzaW1pbGFyIG1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBtLmNvbXBvbmVudElkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBtLmNvbXBvbmVudElkID09PSBtZXNzYWdlLmNvbXBvbmVudElkKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRCdWZmZXIud3JpdGVCdWZmZXIobWVzc2FnZS5tZXNzYWdlQnVmZmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlbiB3ZSBzZW5kIGFsbCB0aGUgbmV3IGNyZHRNZXNzYWdlcyB0aGF0IHRoZSB0cmFuc3BvcnQgbmVlZHMgdG8gcHJvY2Vzc1xuICAgICAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGNyZHRNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRyYW5zcG9ydElkICE9PSB0cmFuc3BvcnRJbmRleCAmJiB0cmFuc3BvcnQuZmlsdGVyKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydEJ1ZmZlci53cml0ZUJ1ZmZlcihtZXNzYWdlLm1lc3NhZ2VCdWZmZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdHJhbnNwb3J0QnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpID8gdHJhbnNwb3J0QnVmZmVyLnRvQmluYXJ5KCkgOiBuZXcgVWludDhBcnJheShbXSk7XG4gICAgICAgICAgICBhd2FpdCB0cmFuc3BvcnQuc2VuZChtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHVibGljXG4gICAgICogQWRkIGEgdHJhbnNwb3J0IHRvIHRoZSBjcmR0IHN5c3RlbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZFRyYW5zcG9ydCh0cmFuc3BvcnQpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0cmFuc3BvcnRzLnB1c2godHJhbnNwb3J0KSAtIDE7XG4gICAgICAgIHRyYW5zcG9ydC5vbm1lc3NhZ2UgPSBwYXJzZUNodW5rTWVzc2FnZShpZCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHNlbmRNZXNzYWdlcyxcbiAgICAgICAgcmVjZWl2ZU1lc3NhZ2VzLFxuICAgICAgICBhZGRUcmFuc3BvcnRcbiAgICB9O1xufVxuIiwgImV4cG9ydCB2YXIgQ3JkdFV0aWxzO1xuKGZ1bmN0aW9uIChDcmR0VXRpbHMpIHtcbiAgICBsZXQgU3luY2hyb25pemVkRW50aXR5VHlwZTtcbiAgICAoZnVuY3Rpb24gKFN5bmNocm9uaXplZEVudGl0eVR5cGUpIHtcbiAgICAgICAgLy8gc3luY2hyb25pemVzIGVudGl0aWVzIHdpdGggdGhlIE5ldHdvcmtTeW5jaHJvbml6ZWQgY29tcG9uZW50IG9ubHksIHVzZWQgZm9yIG5ldHdvcmtlZCBnYW1lc1xuICAgICAgICBTeW5jaHJvbml6ZWRFbnRpdHlUeXBlW1N5bmNocm9uaXplZEVudGl0eVR5cGVbXCJORVRXT1JLRURcIl0gPSAwXSA9IFwiTkVUV09SS0VEXCI7XG4gICAgICAgIC8vIHN5bmNocm9uaXplcyBlbnRpdGllcyBuZWVkZWQgYnkgdGhlIHJlbmRlcmVyXG4gICAgICAgIFN5bmNocm9uaXplZEVudGl0eVR5cGVbU3luY2hyb25pemVkRW50aXR5VHlwZVtcIlJFTkRFUkVSXCJdID0gMV0gPSBcIlJFTkRFUkVSXCI7XG4gICAgfSkoU3luY2hyb25pemVkRW50aXR5VHlwZSA9IENyZHRVdGlscy5TeW5jaHJvbml6ZWRFbnRpdHlUeXBlIHx8IChDcmR0VXRpbHMuU3luY2hyb25pemVkRW50aXR5VHlwZSA9IHt9KSk7XG59KShDcmR0VXRpbHMgfHwgKENyZHRVdGlscyA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBDcmR0VXRpbHM7XG4vKipcbiAqIENvbXBhcmUgcmF3IGRhdGEuXG4gKiBAcHVibGljXG4gKiBAcmV0dXJucyAwIGlmIGlzIHRoZSBzYW1lIGRhdGEsIDEgaWYgYSA+IGIsIC0xIGlmIGIgPiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkYXRhQ29tcGFyZShhLCBiKSB7XG4gICAgLy8gQXQgcmVmZXJlbmNlIGxldmVsXG4gICAgaWYgKGEgPT09IGIpXG4gICAgICAgIHJldHVybiAwO1xuICAgIGlmIChhID09PSBudWxsICYmIGIgIT09IG51bGwpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBpZiAoYSAhPT0gbnVsbCAmJiBiID09PSBudWxsKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBpZiAoYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgJiYgYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoRGlmZmVyZW5jZSA9IGEuYnl0ZUxlbmd0aCAtIGIuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aERpZmZlcmVuY2UgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBsZW5ndGhEaWZmZXJlbmNlID4gMCA/IDEgOiAtMTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IGEuYnl0ZUxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcmVzID0gYVtpXSAtIGJbaV07XG4gICAgICAgICAgICBpZiAocmVzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcyA+IDAgPyAxIDogLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIGRhdGEgaXMgZXhhY3RseSB0aGUgc2FtZVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBsZW5ndGhEaWZmZXJlbmNlID0gYS5sZW5ndGggLSBiLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aERpZmZlcmVuY2UgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBsZW5ndGhEaWZmZXJlbmNlID4gMCA/IDEgOiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIpO1xuICAgIH1cbiAgICByZXR1cm4gYSA+IGIgPyAxIDogLTE7XG59XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBSZWFkb25seSh2YWwpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7IC4uLnZhbCB9KTtcbn1cbiIsICJpbXBvcnQgeyBSZWFkV3JpdGVCeXRlQnVmZmVyIH0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbi9CeXRlQnVmZmVyJztcbmltcG9ydCB7IFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZSwgQ3JkdE1lc3NhZ2VUeXBlLCBQdXRDb21wb25lbnRPcGVyYXRpb24sIERlbGV0ZUNvbXBvbmVudCB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24vY3JkdCc7XG5pbXBvcnQgeyBkYXRhQ29tcGFyZSB9IGZyb20gJy4uL3N5c3RlbXMvY3JkdC91dGlscyc7XG5pbXBvcnQgeyBkZWVwUmVhZG9ubHkgfSBmcm9tICcuL3JlYWRvbmx5JztcbmV4cG9ydCBmdW5jdGlvbiBpbmNyZW1lbnRUaW1lc3RhbXAoZW50aXR5LCB0aW1lc3RhbXBzKSB7XG4gICAgY29uc3QgbmV3VGltZXN0YW1wID0gKHRpbWVzdGFtcHMuZ2V0KGVudGl0eSkgfHwgMCkgKyAxO1xuICAgIHRpbWVzdGFtcHMuc2V0KGVudGl0eSwgbmV3VGltZXN0YW1wKTtcbiAgICByZXR1cm4gbmV3VGltZXN0YW1wO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUR1bXBMd3dGdW5jdGlvbkZyb21DcmR0KGNvbXBvbmVudElkLCB0aW1lc3RhbXBzLCBzY2hlbWEsIGRhdGEpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZHVtcENyZHRTdGF0ZShidWZmZXIsIGZpbHRlckVudGl0eSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIHRpbWVzdGFtcF0gb2YgdGltZXN0YW1wcykge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoZmlsdGVyRW50aXR5KSB7XG4gICAgICAgICAgICAgICAgLy8gSSBzd2VhciB0aGF0IHRoaXMgaXMgYmVpbmcgdGVzdGVkIG9uIHN0YXRlLXRvLWNyZHQuc3BlYyBidXQgamVzdCBpcyB0cm9sbGluZyBtZVxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXJFbnRpdHkoZW50aXR5KSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGRhdGEuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBzY2hlbWEuc2VyaWFsaXplKGl0LCBidWYpO1xuICAgICAgICAgICAgICAgIFB1dENvbXBvbmVudE9wZXJhdGlvbi53cml0ZShlbnRpdHksIHRpbWVzdGFtcCwgY29tcG9uZW50SWQsIGJ1Zi50b0JpbmFyeSgpLCBidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgRGVsZXRlQ29tcG9uZW50LndyaXRlKGVudGl0eSwgY29tcG9uZW50SWQsIHRpbWVzdGFtcCwgYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVXBkYXRlTHd3RnJvbUNyZHQoY29tcG9uZW50SWQsIHRpbWVzdGFtcHMsIHNjaGVtYSwgZGF0YSkge1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIHJlY2VpdmVkIG1lc3NhZ2Ugb25seSBpZiB0aGUgbGFtcG9ydCBudW1iZXIgcmVjaWV2ZWQgaXMgaGlnaGVyXG4gICAgICogdGhhbiB0aGUgc3RvcmVkIG9uZS4gSWYgaXRzIGxvd2VyLCB3ZSBzcHJlYWQgaXQgdG8gdGhlIG5ldHdvcmsgdG8gY29ycmVjdCB0aGUgcGVlci5cbiAgICAgKiBJZiB0aGV5IGFyZSBlcXVhbCwgdGhlIGJpZ2dlciByYXcgZGF0YSB3aW5zLlxuICBcbiAgICAgICogUmV0dXJucyB0aGUgcmVjaWV2ZWQgZGF0YSBpZiB0aGUgbGFtcG9ydCBudW1iZXIgd2FzIGJpZ2dlciB0aGFuIG91cnMuXG4gICAgICAqIElmIGl0IHdhcyBhbiBvdXRkYXRlZCBtZXNzYWdlLCB0aGVuIHdlIHJldHVybiB2b2lkXG4gICAgICAqIEBwdWJsaWNcbiAgICAgICovXG4gICAgZnVuY3Rpb24gY3JkdFJ1bGVGb3JDdXJyZW50U3RhdGUobWVzc2FnZSkge1xuICAgICAgICBjb25zdCB7IGVudGl0eUlkLCB0aW1lc3RhbXAgfSA9IG1lc3NhZ2U7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lc3RhbXAgPSB0aW1lc3RhbXBzLmdldChlbnRpdHlJZCk7XG4gICAgICAgIC8vIFRoZSByZWNlaXZlZCBtZXNzYWdlIGlzID4gdGhhbiBvdXIgY3VycmVudCB2YWx1ZSwgdXBkYXRlIG91ciBzdGF0ZS5jb21wb25lbnRzLlxuICAgICAgICBpZiAoY3VycmVudFRpbWVzdGFtcCA9PT0gdW5kZWZpbmVkIHx8IGN1cnJlbnRUaW1lc3RhbXAgPCB0aW1lc3RhbXApIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuU3RhdGVVcGRhdGVkVGltZXN0YW1wO1xuICAgICAgICB9XG4gICAgICAgIC8vIE91dGRhdGVkIE1lc3NhZ2UuIFJlc2VuZCBvdXIgc3RhdGUgbWVzc2FnZSB0aHJvdWdoIHRoZSB3aXJlLlxuICAgICAgICBpZiAoY3VycmVudFRpbWVzdGFtcCA+IHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJzInLCBjdXJyZW50VGltZXN0YW1wLCB0aW1lc3RhbXApXG4gICAgICAgICAgICByZXR1cm4gUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlT3V0ZGF0ZWRUaW1lc3RhbXA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVsZXRlcyBhcmUgaWRlbXBvdGVudFxuICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCAmJiAhZGF0YS5oYXMoZW50aXR5SWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLk5vQ2hhbmdlcztcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VycmVudERhdGFHcmVhdGVyID0gMDtcbiAgICAgICAgaWYgKGRhdGEuaGFzKGVudGl0eUlkKSkge1xuICAgICAgICAgICAgY29uc3Qgd3JpdGVCdWZmZXIgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcigpO1xuICAgICAgICAgICAgc2NoZW1hLnNlcmlhbGl6ZShkYXRhLmdldChlbnRpdHlJZCksIHdyaXRlQnVmZmVyKTtcbiAgICAgICAgICAgIGN1cnJlbnREYXRhR3JlYXRlciA9IGRhdGFDb21wYXJlKHdyaXRlQnVmZmVyLnRvQmluYXJ5KCksIG1lc3NhZ2UuZGF0YSB8fCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnREYXRhR3JlYXRlciA9IGRhdGFDb21wYXJlKG51bGwsIG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2FtZSBkYXRhLCBzYW1lIHRpbWVzdGFtcC4gV2VpcmRvIGVjaG8gbWVzc2FnZS5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJzMnLCBjdXJyZW50RGF0YUdyZWF0ZXIsIHdyaXRlQnVmZmVyLnRvQmluYXJ5KCksIChtZXNzYWdlIGFzIGFueSkuZGF0YSB8fCBudWxsKVxuICAgICAgICBpZiAoY3VycmVudERhdGFHcmVhdGVyID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLk5vQ2hhbmdlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50RGF0YUdyZWF0ZXIgPiAwKSB7XG4gICAgICAgICAgICAvLyBDdXJyZW50IGRhdGEgaXMgZ3JlYXRlclxuICAgICAgICAgICAgcmV0dXJuIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5TdGF0ZU91dGRhdGVkRGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEN1cmVudCBkYXRhIGlzIGxvd2VyXG4gICAgICAgICAgICByZXR1cm4gUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlVXBkYXRlZERhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChtc2cpID0+IHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKG1zZy50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCAmJiBtc2cudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQpXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBkYXRhLmdldChtc2cuZW50aXR5SWQpXTtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gY3JkdFJ1bGVGb3JDdXJyZW50U3RhdGUobXNnKTtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gbXNnLmVudGl0eUlkO1xuICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICAgICAgY2FzZSBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuU3RhdGVVcGRhdGVkRGF0YTpcbiAgICAgICAgICAgIGNhc2UgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlVXBkYXRlZFRpbWVzdGFtcDoge1xuICAgICAgICAgICAgICAgIHRpbWVzdGFtcHMuc2V0KGVudGl0eSwgbXNnLnRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgaWYgKG1zZy50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWYgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcihtc2cuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc2V0KGVudGl0eSwgc2NoZW1hLmRlc2VyaWFsaXplKGJ1ZikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kZWxldGUoZW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBkYXRhLmdldChlbnRpdHkpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlT3V0ZGF0ZWRUaW1lc3RhbXA6XG4gICAgICAgICAgICBjYXNlIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5TdGF0ZU91dGRhdGVkRGF0YToge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdyaXRlQnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnNlcmlhbGl6ZShkYXRhLmdldChlbnRpdHkpLCB3cml0ZUJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogd3JpdGVCdWZmZXIudG9CaW5hcnkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlJZDogZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wcy5nZXQoZW50aXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZ2V0KGVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcHMuZ2V0KGVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtudWxsLCBkYXRhLmdldChlbnRpdHkpXTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdldENyZHRNZXNzYWdlc0Zvckx3dyhjb21wb25lbnRJZCwgdGltZXN0YW1wcywgZGlydHlJdGVyYXRvciwgc2NoZW1hLCBkYXRhKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGRpcnR5SXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RpbWVzdGFtcCA9IGluY3JlbWVudFRpbWVzdGFtcChlbnRpdHksIHRpbWVzdGFtcHMpO1xuICAgICAgICAgICAgaWYgKGRhdGEuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3cml0ZUJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgc2NoZW1hLnNlcmlhbGl6ZShkYXRhLmdldChlbnRpdHkpLCB3cml0ZUJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eUlkOiBlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHdyaXRlQnVmZmVyLnRvQmluYXJ5KCksXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3VGltZXN0YW1wXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB5aWVsZCBtc2c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5ULFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXdUaW1lc3RhbXBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHlpZWxkIG1zZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkaXJ0eUl0ZXJhdG9yLmNsZWFyKCk7XG4gICAgfTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnREZWZpbml0aW9uRnJvbVNjaGVtYShjb21wb25lbnROYW1lLCBjb21wb25lbnRJZCwgc2NoZW1hKSB7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBkaXJ0eUl0ZXJhdG9yID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHRpbWVzdGFtcHMgPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0IGNvbXBvbmVudElkKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudElkO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgY29tcG9uZW50TmFtZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnROYW1lO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgY29tcG9uZW50VHlwZSgpIHtcbiAgICAgICAgICAgIC8vIGEgZ2V0dGVyIGlzIHVzZWQgaGVyZSB0byBwcmV2ZW50IGFjY2lkZW50YWwgY2hhbmdlc1xuICAgICAgICAgICAgcmV0dXJuIDAgLyogQ29tcG9uZW50VHlwZS5MYXN0V3JpdGVXaW5FbGVtZW50U2V0ICovO1xuICAgICAgICB9LFxuICAgICAgICBzY2hlbWEsXG4gICAgICAgIGhhcyhlbnRpdHkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmhhcyhlbnRpdHkpO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVGcm9tKGVudGl0eSwgbWFya0FzRGlydHkgPSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGRhdGEuZGVsZXRlKGVudGl0eSkgJiYgbWFya0FzRGlydHkpIHtcbiAgICAgICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudCB8fCBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnRpdHlEZWxldGVkKGVudGl0eSwgbWFya0FzRGlydHkpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmRlbGV0ZShlbnRpdHkpICYmIG1hcmtBc0RpcnR5KSB7XG4gICAgICAgICAgICAgICAgZGlydHlJdGVyYXRvci5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T3JOdWxsKGVudGl0eSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQgPyBkZWVwUmVhZG9ubHkoY29tcG9uZW50KSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGdldChlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW2dldEZyb21dIENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGZvciBlbnRpdHkgIyR7ZW50aXR5fSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWVwUmVhZG9ubHkoY29tcG9uZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKGVudGl0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbY3JlYXRlXSBDb21wb25lbnQgJHtjb21wb25lbnROYW1lfSBmb3IgJHtlbnRpdHl9IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VkVmFsdWUgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gc2NoZW1hLmNyZWF0ZSgpIDogc2NoZW1hLmV4dGVuZCA/IHNjaGVtYS5leHRlbmQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgICAgICBkYXRhLnNldChlbnRpdHksIHVzZWRWYWx1ZSk7XG4gICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIHVzZWRWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZWRWYWx1ZSA9IHZhbHVlID09PSB1bmRlZmluZWQgPyBzY2hlbWEuY3JlYXRlKCkgOiBzY2hlbWEuZXh0ZW5kID8gc2NoZW1hLmV4dGVuZCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgICAgIGRhdGEuc2V0KGVudGl0eSwgdXNlZFZhbHVlKTtcbiAgICAgICAgICAgIGRpcnR5SXRlcmF0b3IuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gdXNlZFZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBnZXRNdXRhYmxlT3JOdWxsKGVudGl0eSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T3JDcmVhdGVNdXRhYmxlKGVudGl0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShlbnRpdHksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpcnR5SXRlcmF0b3IuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TXV0YWJsZShlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW211dGFibGVdIENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGZvciAke2VudGl0eX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgICAgICB9LFxuICAgICAgICAqaXRlcmF0b3IoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIGNvbXBvbmVudF0gb2YgZGF0YSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIFtlbnRpdHksIGNvbXBvbmVudF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICpkaXJ0eUl0ZXJhdG9yKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZGlydHlJdGVyYXRvcikge1xuICAgICAgICAgICAgICAgIHlpZWxkIGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q3JkdFVwZGF0ZXM6IGNyZWF0ZUdldENyZHRNZXNzYWdlc0Zvckx3dyhjb21wb25lbnRJZCwgdGltZXN0YW1wcywgZGlydHlJdGVyYXRvciwgc2NoZW1hLCBkYXRhKSxcbiAgICAgICAgdXBkYXRlRnJvbUNyZHQ6IGNyZWF0ZVVwZGF0ZUx3d0Zyb21DcmR0KGNvbXBvbmVudElkLCB0aW1lc3RhbXBzLCBzY2hlbWEsIGRhdGEpLFxuICAgICAgICBkdW1wQ3JkdFN0YXRlVG9CdWZmZXI6IGNyZWF0ZUR1bXBMd3dGdW5jdGlvbkZyb21DcmR0KGNvbXBvbmVudElkLCB0aW1lc3RhbXBzLCBzY2hlbWEsIGRhdGEpXG4gICAgfTtcbn1cbiIsICJleHBvcnQgY29uc3QgU1lTVEVNU19SRUdVTEFSX1BSSU9SSVRZID0gMTAwZTM7XG5leHBvcnQgZnVuY3Rpb24gU3lzdGVtQ29udGFpbmVyKCkge1xuICAgIGNvbnN0IHN5c3RlbXMgPSBbXTtcbiAgICBmdW5jdGlvbiBzb3J0KCkge1xuICAgICAgICAvLyBUT0RPOiBzeXN0ZW1zIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkgc2hvdWxkIGFsd2F5cyBoYXZlIHRoZSBzYW1lIHN0YWJsZSBvcmRlclxuICAgICAgICAvLyAgICAgICBhZGQgYSBcImNvdW50ZXJcIiB0byB0aGUgU3lzdGVtIHR5cGUgdG8gZW5zdXJlIHRoYXQgb3JkZXJcbiAgICAgICAgc3lzdGVtcy5zb3J0KChhLCBiKSA9PiBiLnByaW9yaXR5IC0gYS5wcmlvcml0eSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZChmbiwgcHJpb3JpdHksIG5hbWUpIHtcbiAgICAgICAgY29uc3Qgc3lzdGVtTmFtZSA9IG5hbWUgPz8gZm4ubmFtZTtcbiAgICAgICAgaWYgKHN5c3RlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5mbiA9PT0gZm4pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN5c3RlbSAke0pTT04uc3RyaW5naWZ5KHN5c3RlbU5hbWUpfSBhbHJlYWR5IGFkZGVkIHRvIHRoZSBlbmdpbmVgKTtcbiAgICAgICAgfVxuICAgICAgICBzeXN0ZW1zLnB1c2goe1xuICAgICAgICAgICAgZm4sXG4gICAgICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgICAgIG5hbWU6IHN5c3RlbU5hbWVcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE86IHJlcGxhY2UgdGhpcyBzb3J0IGJ5IGFuIGluc2VydGlvbiBpbiB0aGUgcmlnaHQgcGxhY2VcbiAgICAgICAgc29ydCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmUoc2VsZWN0b3IpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbmRleCA9IHN5c3RlbXMuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLm5hbWUgPT09IHNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4ID0gc3lzdGVtcy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uZm4gPT09IHNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3lzdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBzb3J0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGQsXG4gICAgICAgIHJlbW92ZSxcbiAgICAgICAgZ2V0U3lzdGVtcygpIHtcbiAgICAgICAgICAgIHJldHVybiBzeXN0ZW1zO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiIsICJpbXBvcnQgeyBSZWFkV3JpdGVCeXRlQnVmZmVyIH0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbi9CeXRlQnVmZmVyJztcbmltcG9ydCB7IEFwcGVuZFZhbHVlT3BlcmF0aW9uLCBDcmR0TWVzc2FnZVR5cGUgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL2NyZHQnO1xuaW1wb3J0IHsgX19ERVZfXyB9IGZyb20gJy4uL3J1bnRpbWUvaW52YXJpYW50JztcbmNvbnN0IGVtcHR5UmVhZG9ubHlTZXQgPSBmcmVlemVTZXQobmV3IFNldCgpKTtcbmZ1bmN0aW9uIGZyb3plbkVycm9yKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNldCBpcyBmcm96ZW4nKTtcbn1cbmZ1bmN0aW9uIGZyZWV6ZVNldChzZXQpIHtcbiAgICA7XG4gICAgc2V0LmFkZCA9IGZyb3plbkVycm9yO1xuICAgIHNldC5jbGVhciA9IGZyb3plbkVycm9yO1xuICAgIHJldHVybiBzZXQ7XG59XG5mdW5jdGlvbiBzb3J0QnlUaW1lc3RhbXAoYSwgYikge1xuICAgIHJldHVybiBhLnRpbWVzdGFtcCA+IGIudGltZXN0YW1wID8gMSA6IC0xO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZhbHVlU2V0Q29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEoY29tcG9uZW50TmFtZSwgY29tcG9uZW50SWQsIHNjaGVtYSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZGlydHlJdGVyYXRvciA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBxdWV1ZWRDb21tYW5kcyA9IFtdO1xuICAgIC8vIG9ubHkgc29ydCB0aGUgYXJyYXkgaWYgdGhlIGxhdGVzdCAoTikgZWxlbWVudCBoYXMgYSB0aW1lc3RhbXAgPD0gTi0xXG4gICAgZnVuY3Rpb24gc2hvdWxkU29ydChyb3cpIHtcbiAgICAgICAgY29uc3QgbGVuID0gcm93LnJhdy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPiAxICYmIHJvdy5yYXdbbGVuIC0gMV0udGltZXN0YW1wIDw9IHJvdy5yYXdbbGVuIC0gMl0udGltZXN0YW1wKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvdFVwZGF0ZWQoZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChyb3cpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRTb3J0KHJvdykpIHtcbiAgICAgICAgICAgICAgICByb3cucmF3LnNvcnQoc29ydEJ5VGltZXN0YW1wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChyb3cucmF3Lmxlbmd0aCA+IG9wdGlvbnMubWF4RWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICByb3cucmF3LnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmcm96ZW5TZXQgPSBmcmVlemVTZXQobmV3IFNldChyb3c/LnJhdy5tYXAoKCQpID0+ICQudmFsdWUpKSk7XG4gICAgICAgICAgICByb3cuZnJvemVuU2V0ID0gZnJvemVuU2V0O1xuICAgICAgICAgICAgcmV0dXJuIGZyb3plblNldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICByZXR1cm4gZW1wdHlSZWFkb25seVNldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhcHBlbmQoZW50aXR5LCB2YWx1ZSkge1xuICAgICAgICBsZXQgcm93ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgaWYgKCFyb3cpIHtcbiAgICAgICAgICAgIHJvdyA9IHsgcmF3OiBbXSwgZnJvemVuU2V0OiBlbXB0eVJlYWRvbmx5U2V0IH07XG4gICAgICAgICAgICBkYXRhLnNldChlbnRpdHksIHJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNlZFZhbHVlID0gc2NoZW1hLmV4dGVuZCA/IHNjaGVtYS5leHRlbmQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG9wdGlvbnMudGltZXN0YW1wRnVuY3Rpb24odXNlZFZhbHVlKTtcbiAgICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgICAgIC8vIG9ubHkgZnJlZXplIHRoZSBvYmplY3RzIGluIGRldiBtb2RlIHRvIHdhcm4gdGhlIGRldmVsb3BlcnMgYmVjYXVzZVxuICAgICAgICAgICAgLy8gaXQgaXMgYW4gZXhwZW5zaXZlIG9wZXJhdGlvblxuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSh1c2VkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJvdy5yYXcucHVzaCh7IHZhbHVlOiB1c2VkVmFsdWUsIHRpbWVzdGFtcCB9KTtcbiAgICAgICAgcmV0dXJuIHsgc2V0OiBnb3RVcGRhdGVkKGVudGl0eSksIHZhbHVlOiB1c2VkVmFsdWUgfTtcbiAgICB9XG4gICAgY29uc3QgcmV0ID0ge1xuICAgICAgICBnZXQgY29tcG9uZW50SWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50SWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBjb21wb25lbnROYW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudE5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBjb21wb25lbnRUeXBlKCkge1xuICAgICAgICAgICAgLy8gYSBnZXR0ZXIgaXMgdXNlZCBoZXJlIHRvIHByZXZlbnQgYWNjaWRlbnRhbCBjaGFuZ2VzXG4gICAgICAgICAgICByZXR1cm4gMSAvKiBDb21wb25lbnRUeXBlLkdyb3dPbmx5VmFsdWVTZXQgKi87XG4gICAgICAgIH0sXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgaGFzKGVudGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEuaGFzKGVudGl0eSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudGl0eURlbGV0ZWQoZW50aXR5KSB7XG4gICAgICAgICAgICBkYXRhLmRlbGV0ZShlbnRpdHkpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQoZW50aXR5KSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuZnJvemVuU2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5UmVhZG9ubHlTZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFZhbHVlKGVudGl0eSwgcmF3VmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2V0LCB2YWx1ZSB9ID0gYXBwZW5kKGVudGl0eSwgcmF3VmFsdWUpO1xuICAgICAgICAgICAgZGlydHlJdGVyYXRvci5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICBzY2hlbWEuc2VyaWFsaXplKHZhbHVlLCBidWYpO1xuICAgICAgICAgICAgcXVldWVkQ29tbWFuZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgICAgZGF0YTogYnVmLnRvQmluYXJ5KCksXG4gICAgICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IDAsXG4gICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICB9LFxuICAgICAgICAqaXRlcmF0b3IoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIGNvbXBvbmVudF0gb2YgZGF0YSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIFtlbnRpdHksIGNvbXBvbmVudC5mcm96ZW5TZXRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAqZGlydHlJdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGRpcnR5SXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldENyZHRVcGRhdGVzKCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGEgY29weSBvZiB0aGUgY29tbWFuZHMsIGFuZCB0aGVuIGNsZWFyIHRoZSBsb2NhbCBjb3B5XG4gICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm4gcXVldWVkQ29tbWFuZHMuc3BsaWNlKDAsIHF1ZXVlZENvbW1hbmRzLmxlbmd0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZUZyb21DcmR0KF9ib2R5KSB7XG4gICAgICAgICAgICBpZiAoX2JvZHkudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKF9ib2R5LmRhdGEpO1xuICAgICAgICAgICAgICAgIGFwcGVuZChfYm9keS5lbnRpdHlJZCwgc2NoZW1hLmRlc2VyaWFsaXplKGJ1ZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCB1bmRlZmluZWRdO1xuICAgICAgICB9LFxuICAgICAgICBkdW1wQ3JkdFN0YXRlVG9CdWZmZXI6IGZ1bmN0aW9uIChidWZmZXIsIGZpbHRlckVudGl0eSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCB7IHJhdyB9XSBvZiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlckVudGl0eSAmJiAhZmlsdGVyRW50aXR5KGVudGl0eSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXQgb2YgcmF3KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5zZXJpYWxpemUoaXQudmFsdWUsIGJ1Zik7XG4gICAgICAgICAgICAgICAgICAgIEFwcGVuZFZhbHVlT3BlcmF0aW9uLndyaXRlKGVudGl0eSwgMCwgY29tcG9uZW50SWQsIGJ1Zi50b0JpbmFyeSgpLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJldDtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMnO1xuZnVuY3Rpb24qIGdlbkVudGl0eVRyZWUoZW50aXR5LCBlbnRpdGllcykge1xuICAgIC8vIFRoaXMgYXZvaWQgaW5maW5pdGUgbG9vcCB3aGVuIHRoZXJlIGlzIGEgY3ljbGljIHBhcmVudGluZ1xuICAgIGlmICghZW50aXRpZXMuaGFzKGVudGl0eSkpXG4gICAgICAgIHJldHVybjtcbiAgICBlbnRpdGllcy5kZWxldGUoZW50aXR5KTtcbiAgICBmb3IgKGNvbnN0IFtfZW50aXR5LCB2YWx1ZV0gb2YgZW50aXRpZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlLnBhcmVudCA9PT0gZW50aXR5KSB7XG4gICAgICAgICAgICB5aWVsZCogZ2VuRW50aXR5VHJlZShfZW50aXR5LCBlbnRpdGllcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeWllbGQgZW50aXR5O1xufVxuLyoqXG4gKiBHZXQgYW4gaXRlcmF0b3Igb2YgZW50aXRpZXMgdGhhdCBmb2xsb3cgYSB0cmVlIHN0cnVjdHVyZSBmb3IgYSBjb21wb25lbnRcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSBlbmdpbmUgLSB0aGUgZW5naW5lIHJ1bm5pbmcgdGhlIGVudGl0aWVzXG4gKiBAcGFyYW0gZW50aXR5IC0gdGhlIHJvb3QgZW50aXR5IG9mIHRoZSB0cmVlXG4gKiBAcGFyYW0gY29tcG9uZW50IC0gdGhlIHBhcmVudGluZyBjb21wb25lbnQgdG8gZmlsdGVyIGJ5XG4gKiBAcmV0dXJucyBBbiBpdGVyYXRvciBvZiBhbiBhcnJheSBhcyBbZW50aXR5LCBlbnRpdHkyLCAuLi5dXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYHRzXG4gKiBjb25zdCBUcmVlQ29tcG9uZW50ID0gZW5naW5lLmRlZmluZUNvbXBvbmVudCgnY3VzdG9tOjpUcmVlQ29tcG9uZW50Jywge1xuICogICAgbGFiZWw6IFNjaGVtYXMuU3RyaW5nLFxuICogICAgcGFyZW50OiBTY2hlbWFzLkVudGl0eVxuICogfSlcbiAqXG4gKiBmb3IgKGNvbnN0IGVudGl0eSBvZiBnZXRDb21wb25lbnRFbnRpdHlUcmVlKGVuZ2luZSwgZW50aXR5LCBUcmVlQ29tcG9uZW50KSkge1xuICogICAgLy8gZW50aXR5IGluIHRoZSB0cmVlXG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudEVudGl0eVRyZWUoZW5naW5lLCBlbnRpdHksIGNvbXBvbmVudCkge1xuICAgIGNvbnN0IGVudGl0aWVzID0gbmV3IE1hcChlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKGNvbXBvbmVudCkpO1xuICAgIHJldHVybiBnZW5FbnRpdHlUcmVlKGVudGl0eSwgZW50aXRpZXMpO1xufVxuLyoqXG4gKiBSZW1vdmUgYWxsIGNvbXBvbmVudHMgb2YgZWFjaCBlbnRpdHkgaW4gdGhlIHRyZWUgbWFkZSB3aXRoIFRyYW5zZm9ybSBwYXJlbnRpbmdcbiAqIEBwYXJhbSBlbmdpbmUgLSB0aGUgZW5naW5lIHJ1bm5pbmcgdGhlIGVudGl0aWVzXG4gKiBAcGFyYW0gZmlyc3RFbnRpdHkgLSB0aGUgcm9vdCBlbnRpdHkgb2YgdGhlIHRyZWVcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbihlbmdpbmUsIGVudGl0eSkge1xuICAgIGNvbnN0IFRyYW5zZm9ybSA9IGNvbXBvbmVudHMuVHJhbnNmb3JtKGVuZ2luZSk7XG4gICAgZm9yIChjb25zdCBfZW50aXR5IG9mIGdldENvbXBvbmVudEVudGl0eVRyZWUoZW5naW5lLCBlbnRpdHksIFRyYW5zZm9ybSkpIHtcbiAgICAgICAgZW5naW5lLnJlbW92ZUVudGl0eShfZW50aXR5KTtcbiAgICB9XG59XG4iLCAiaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuLi9jb21wb25lbnRzJztcbmNvbnN0IElucHV0Q29tbWFuZHMgPSBbXG4gICAgMCAvKiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSICovLFxuICAgIDEgLyogSW5wdXRBY3Rpb24uSUFfUFJJTUFSWSAqLyxcbiAgICAyIC8qIElucHV0QWN0aW9uLklBX1NFQ09OREFSWSAqLyxcbiAgICA0IC8qIElucHV0QWN0aW9uLklBX0ZPUldBUkQgKi8sXG4gICAgNSAvKiBJbnB1dEFjdGlvbi5JQV9CQUNLV0FSRCAqLyxcbiAgICA2IC8qIElucHV0QWN0aW9uLklBX1JJR0hUICovLFxuICAgIDcgLyogSW5wdXRBY3Rpb24uSUFfTEVGVCAqLyxcbiAgICA4IC8qIElucHV0QWN0aW9uLklBX0pVTVAgKi8sXG4gICAgOSAvKiBJbnB1dEFjdGlvbi5JQV9XQUxLICovLFxuICAgIDEwIC8qIElucHV0QWN0aW9uLklBX0FDVElPTl8zICovLFxuICAgIDExIC8qIElucHV0QWN0aW9uLklBX0FDVElPTl80ICovLFxuICAgIDEyIC8qIElucHV0QWN0aW9uLklBX0FDVElPTl81ICovLFxuICAgIDEzIC8qIElucHV0QWN0aW9uLklBX0FDVElPTl82ICovXG5dO1xuY29uc3QgSW5wdXRTdGF0ZVVwZGF0ZVN5c3RlbVByaW9yaXR5ID0gMSA8PCAyMDtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnB1dFN5c3RlbShlbmdpbmUpIHtcbiAgICBjb25zdCBQb2ludGVyRXZlbnRzUmVzdWx0ID0gY29tcG9uZW50cy5Qb2ludGVyRXZlbnRzUmVzdWx0KGVuZ2luZSk7XG4gICAgY29uc3QgZ2xvYmFsU3RhdGUgPSB7XG4gICAgICAgIHByZXZpb3VzRnJhbWVNYXhUaW1lc3RhbXA6IDAsXG4gICAgICAgIGN1cnJlbnRGcmFtZU1heFRpbWVzdGFtcDogMCxcbiAgICAgICAgYnV0dG9uU3RhdGU6IG5ldyBNYXAoKSxcbiAgICAgICAgdGhpc0ZyYW1lQ29tbWFuZHM6IFtdXG4gICAgfTtcbiAgICBmdW5jdGlvbiBmaW5kTGFzdEFjdGlvbihwb2ludGVyRXZlbnRUeXBlLCBpbnB1dEFjdGlvbiwgZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IGFzY2VuZGluZ1RpbWVzdGFtcEl0ZXJhdG9yID0gUG9pbnRlckV2ZW50c1Jlc3VsdC5nZXQoZW50aXR5KTtcbiAgICAgICAgZm9yIChjb25zdCBjb21tYW5kIG9mIEFycmF5LmZyb20oYXNjZW5kaW5nVGltZXN0YW1wSXRlcmF0b3IpLnJldmVyc2UoKSkge1xuICAgICAgICAgICAgaWYgKGNvbW1hbmQuYnV0dG9uID09PSBpbnB1dEFjdGlvbiAmJiBjb21tYW5kLnN0YXRlID09PSBwb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24qIGZpbmRDb21tYW5kc0J5QWN0aW9uRGVzY2VuZGluZyhpbnB1dEFjdGlvbiwgZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IGFzY2VuZGluZ1RpbWVzdGFtcEl0ZXJhdG9yID0gUG9pbnRlckV2ZW50c1Jlc3VsdC5nZXQoZW50aXR5KTtcbiAgICAgICAgZm9yIChjb25zdCBjb21tYW5kIG9mIEFycmF5LmZyb20oYXNjZW5kaW5nVGltZXN0YW1wSXRlcmF0b3IpLnJldmVyc2UoKSkge1xuICAgICAgICAgICAgaWYgKGNvbW1hbmQuYnV0dG9uID09PSBpbnB1dEFjdGlvbikge1xuICAgICAgICAgICAgICAgIHlpZWxkIGNvbW1hbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYnV0dG9uU3RhdGVVcGRhdGVTeXN0ZW0oKSB7XG4gICAgICAgIC8vIGZpcnN0IHN0b3JlIHRoZSBwcmV2aW91cycgZnJhbWUgdGltZXN0YW1wXG4gICAgICAgIGxldCBtYXhUaW1lc3RhbXAgPSBnbG9iYWxTdGF0ZS5jdXJyZW50RnJhbWVNYXhUaW1lc3RhbXA7XG4gICAgICAgIGdsb2JhbFN0YXRlLnByZXZpb3VzRnJhbWVNYXhUaW1lc3RhbXAgPSBtYXhUaW1lc3RhbXA7XG4gICAgICAgIGlmIChnbG9iYWxTdGF0ZS50aGlzRnJhbWVDb21tYW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGdsb2JhbFN0YXRlLnRoaXNGcmFtZUNvbW1hbmRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlbiBpdGVyYXRlIG92ZXIgYWxsIG5ldyBjb21tYW5kc1xuICAgICAgICBmb3IgKGNvbnN0IFssIGNvbW1hbmRzXSBvZiBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFBvaW50ZXJFdmVudHNSZXN1bHQpKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhZGFwdCB0aGUgZ3NldCBjb21wb25lbnQgdG8gaGF2ZSBhIGNhY2hlZCBcInJldmVyc2VkXCIgb3B0aW9uIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIGNvbnN0IGFycmF5Q29tbWFuZHMgPSBBcnJheS5mcm9tKGNvbW1hbmRzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBhcnJheUNvbW1hbmRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IGFycmF5Q29tbWFuZHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQudGltZXN0YW1wID4gbWF4VGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFRpbWVzdGFtcCA9IGNvbW1hbmQudGltZXN0YW1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29tbWFuZC50aW1lc3RhbXAgPiBnbG9iYWxTdGF0ZS5wcmV2aW91c0ZyYW1lTWF4VGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFN0YXRlLnRoaXNGcmFtZUNvbW1hbmRzLnB1c2goY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb21tYW5kLnN0YXRlID09PSAwIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX1VQICovIHx8IGNvbW1hbmQuc3RhdGUgPT09IDEgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTiAqLykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2Q29tbWFuZCA9IGdsb2JhbFN0YXRlLmJ1dHRvblN0YXRlLmdldChjb21tYW5kLmJ1dHRvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJldkNvbW1hbmQgfHwgY29tbWFuZC50aW1lc3RhbXAgPiBwcmV2Q29tbWFuZC50aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbFN0YXRlLmJ1dHRvblN0YXRlLnNldChjb21tYW5kLmJ1dHRvbiwgY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgaXRlcmF0aW5nIGEgZGVzY2VuZGluZyBhcnJheSwgd2UgY2FuIGVhcmx5IGZpbmlzaCB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBjdXJyZW50IGZyYW1lJ3MgbWF4IHRpbWVzdGFtcFxuICAgICAgICBnbG9iYWxTdGF0ZS5jdXJyZW50RnJhbWVNYXhUaW1lc3RhbXAgPSBtYXhUaW1lc3RhbXA7XG4gICAgfVxuICAgIGVuZ2luZS5hZGRTeXN0ZW0oYnV0dG9uU3RhdGVVcGRhdGVTeXN0ZW0sIElucHV0U3RhdGVVcGRhdGVTeXN0ZW1Qcmlvcml0eSwgJ0BkY2wvZWNzI2lucHV0U3lzdGVtJyk7XG4gICAgZnVuY3Rpb24gdGltZXN0YW1wSXNDdXJyZW50RnJhbWUodGltZXN0YW1wKSB7XG4gICAgICAgIGlmICh0aW1lc3RhbXAgPiBnbG9iYWxTdGF0ZS5wcmV2aW91c0ZyYW1lTWF4VGltZXN0YW1wICYmIHRpbWVzdGFtcCA8PSBnbG9iYWxTdGF0ZS5jdXJyZW50RnJhbWVNYXhUaW1lc3RhbXApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENsaWNrKGlucHV0QWN0aW9uLCBlbnRpdHkpIHtcbiAgICAgICAgaWYgKGlucHV0QWN0aW9uICE9PSAzIC8qIElucHV0QWN0aW9uLklBX0FOWSAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmRDbGljayhpbnB1dEFjdGlvbiwgZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGlucHV0IG9mIElucHV0Q29tbWFuZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IGZpbmRDbGljayhpbnB1dCwgZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjbWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNtZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZENsaWNrKGlucHV0QWN0aW9uLCBlbnRpdHkpIHtcbiAgICAgICAgbGV0IGRvd24gPSBudWxsO1xuICAgICAgICBsZXQgdXAgPSBudWxsO1xuICAgICAgICAvLyBXZSBzZWFyY2ggdGhlIGxhc3QgVVAgJiBET1dOIGNvbW1hbmQgc29ydGVkIGJ5IHRpbWVzdGFtcCBkZXNjZW5kaW5nXG4gICAgICAgIGZvciAoY29uc3QgaXQgb2YgZmluZENvbW1hbmRzQnlBY3Rpb25EZXNjZW5kaW5nKGlucHV0QWN0aW9uLCBlbnRpdHkpKSB7XG4gICAgICAgICAgICBpZiAoIXVwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0LnN0YXRlID09PSAwIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX1VQICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwID0gaXQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFkb3duKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0LnN0YXRlID09PSAxIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgZG93biA9IGl0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF1cCB8fCAhZG93bilcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAvLyBJZiB0aGUgRE9XTiBjb21tYW5kIGhhcyBoYXBwZW4gYmVmb3JlIHRoZSBVUCBjb21tYW5kcywgaXQgbWVhbnMgdGhhdCB0aGF0IGEgY2xpY2tlZCBoYXMgaGFwcGVuXG4gICAgICAgIGlmIChkb3duLnRpbWVzdGFtcCA8IHVwLnRpbWVzdGFtcCAmJiB0aW1lc3RhbXBJc0N1cnJlbnRGcmFtZSh1cC50aW1lc3RhbXApKSB7XG4gICAgICAgICAgICByZXR1cm4geyB1cCwgZG93biB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbnB1dENvbW1hbmRGcm9tRW50aXR5KGlucHV0QWN0aW9uLCBwb2ludGVyRXZlbnRUeXBlLCBlbnRpdHkpIHtcbiAgICAgICAgaWYgKGlucHV0QWN0aW9uICE9PSAzIC8qIElucHV0QWN0aW9uLklBX0FOWSAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmRJbnB1dENvbW1hbmQoaW5wdXRBY3Rpb24sIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpbnB1dCBvZiBJbnB1dENvbW1hbmRzKSB7XG4gICAgICAgICAgICBjb25zdCBjbWQgPSBmaW5kSW5wdXRDb21tYW5kKGlucHV0LCBwb2ludGVyRXZlbnRUeXBlLCBlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNtZClcbiAgICAgICAgICAgICAgICByZXR1cm4gY21kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbnB1dENvbW1hbmQoaW5wdXRBY3Rpb24sIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSkge1xuICAgICAgICBpZiAoZW50aXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0SW5wdXRDb21tYW5kRnJvbUVudGl0eShpbnB1dEFjdGlvbiwgcG9pbnRlckV2ZW50VHlwZSwgZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiBnbG9iYWxTdGF0ZS50aGlzRnJhbWVDb21tYW5kcykge1xuICAgICAgICAgICAgICAgIGlmICgoY29tbWFuZC5idXR0b24gPT09IGlucHV0QWN0aW9uIHx8IGlucHV0QWN0aW9uID09PSAzIC8qIElucHV0QWN0aW9uLklBX0FOWSAqLykgJiZcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZC5zdGF0ZSA9PT0gcG9pbnRlckV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kSW5wdXRDb21tYW5kKGlucHV0QWN0aW9uLCBwb2ludGVyRXZlbnRUeXBlLCBlbnRpdHkpIHtcbiAgICAgICAgLy8gV2Ugc2VhcmNoIHRoZSBsYXN0IHBvaW50ZXIgRXZlbnQgY29tbWFuZCBzb3J0ZWQgYnkgdGltZXN0YW1wXG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBmaW5kTGFzdEFjdGlvbihwb2ludGVyRXZlbnRUeXBlLCBpbnB1dEFjdGlvbiwgZW50aXR5KTtcbiAgICAgICAgaWYgKCFjb21tYW5kKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICh0aW1lc3RhbXBJc0N1cnJlbnRGcmFtZShjb21tYW5kLnRpbWVzdGFtcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21tYW5kO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcmV0dXJucyB0cnVlIGlmIHRoZXJlIHdhcyBhIERPV04gKGluIGFueSBwYXN0IGZyYW1lKSwgYW5kIHRoZW4gYW4gVVAgaW4gdGhlIGxhc3QgZnJhbWVcbiAgICBmdW5jdGlvbiBpc0NsaWNrZWQoaW5wdXRBY3Rpb24sIGVudGl0eSkge1xuICAgICAgICByZXR1cm4gZ2V0Q2xpY2soaW5wdXRBY3Rpb24sIGVudGl0eSkgIT09IG51bGw7XG4gICAgfVxuICAgIC8vIHJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgbGFzdCBhY3Rpb24gd2FzIHRyaWdnZXJlZCBpbiB0aGUgbGFzdCBmcmFtZVxuICAgIGZ1bmN0aW9uIGlzVHJpZ2dlcmVkKGlucHV0QWN0aW9uLCBwb2ludGVyRXZlbnRUeXBlLCBlbnRpdHkpIHtcbiAgICAgICAgaWYgKGVudGl0eSkge1xuICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IGZpbmRMYXN0QWN0aW9uKHBvaW50ZXJFdmVudFR5cGUsIGlucHV0QWN0aW9uLCBlbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIChjb21tYW5kICYmIHRpbWVzdGFtcElzQ3VycmVudEZyYW1lKGNvbW1hbmQudGltZXN0YW1wKSkgfHwgZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgZ2xvYmFsU3RhdGUudGhpc0ZyYW1lQ29tbWFuZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoKGNvbW1hbmQuYnV0dG9uID09PSBpbnB1dEFjdGlvbiB8fCBpbnB1dEFjdGlvbiA9PT0gMyAvKiBJbnB1dEFjdGlvbi5JQV9BTlkgKi8pICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQuc3RhdGUgPT09IHBvaW50ZXJFdmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHJldHVybnMgdGhlIGdsb2JhbCBzdGF0ZSBvZiB0aGUgaW5wdXQuIFRoaXMgZ2xvYmFsIHN0YXRlIGlzIHVwZGF0ZWQgZnJvbSB0aGUgc3lzdGVtXG4gICAgZnVuY3Rpb24gaXNQcmVzc2VkKGlucHV0QWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxTdGF0ZS5idXR0b25TdGF0ZS5nZXQoaW5wdXRBY3Rpb24pPy5zdGF0ZSA9PT0gMSAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOICovO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBpc1ByZXNzZWQsXG4gICAgICAgIGdldENsaWNrLFxuICAgICAgICBnZXRJbnB1dENvbW1hbmQsXG4gICAgICAgIGlzQ2xpY2tlZCxcbiAgICAgICAgaXNUcmlnZ2VyZWRcbiAgICB9O1xufVxuIiwgIi8qKlxuICogQ29tcG9uZW50IHR5cGVzIGFyZSB1c2VkIHRvIHBpY2sgdGhlIHdpcmUgcHJvdG9jb2wgYW5kIHRoZSBjb25mbGljdCByZXNvbHV0aW9uIGFsZ29yaXRobVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENvbXBvbmVudFR5cGU7XG4oZnVuY3Rpb24gKENvbXBvbmVudFR5cGUpIHtcbiAgICBDb21wb25lbnRUeXBlW0NvbXBvbmVudFR5cGVbXCJMYXN0V3JpdGVXaW5FbGVtZW50U2V0XCJdID0gMF0gPSBcIkxhc3RXcml0ZVdpbkVsZW1lbnRTZXRcIjtcbiAgICBDb21wb25lbnRUeXBlW0NvbXBvbmVudFR5cGVbXCJHcm93T25seVZhbHVlU2V0XCJdID0gMV0gPSBcIkdyb3dPbmx5VmFsdWVTZXRcIjtcbn0pKENvbXBvbmVudFR5cGUgfHwgKENvbXBvbmVudFR5cGUgPSB7fSkpO1xuIiwgImltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSAnLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBjb21wb25lbnROdW1iZXJGcm9tTmFtZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvY29tcG9uZW50LW51bWJlcic7XG5pbXBvcnQgeyBjaGVja05vdFRoZW5hYmxlIH0gZnJvbSAnLi4vcnVudGltZS9pbnZhcmlhbnQnO1xuaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4uL3NjaGVtYXMnO1xuaW1wb3J0IHsgY3JkdFNjZW5lU3lzdGVtIH0gZnJvbSAnLi4vc3lzdGVtcy9jcmR0JztcbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudERlZmluaXRpb25Gcm9tU2NoZW1hIH0gZnJvbSAnLi9sd3ctZWxlbWVudC1zZXQtY29tcG9uZW50LWRlZmluaXRpb24nO1xuaW1wb3J0IHsgRW50aXR5Q29udGFpbmVyIH0gZnJvbSAnLi9lbnRpdHknO1xuaW1wb3J0IHsgU3lzdGVtQ29udGFpbmVyLCBTWVNURU1TX1JFR1VMQVJfUFJJT1JJVFkgfSBmcm9tICcuL3N5c3RlbXMnO1xuaW1wb3J0IHsgY3JlYXRlVmFsdWVTZXRDb21wb25lbnREZWZpbml0aW9uRnJvbVNjaGVtYSB9IGZyb20gJy4vZ3Jvdy1vbmx5LXZhbHVlLXNldC1jb21wb25lbnQtZGVmaW5pdGlvbic7XG5pbXBvcnQgeyByZW1vdmVFbnRpdHlXaXRoQ2hpbGRyZW4gYXMgcmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuRW5naW5lIH0gZnJvbSAnLi4vcnVudGltZS9oZWxwZXJzL3RyZWUnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnB1dCc7XG5leHBvcnQgKiBmcm9tICcuL3JlYWRvbmx5JztcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xuZnVuY3Rpb24gcHJlRW5naW5lKCkge1xuICAgIGNvbnN0IGVudGl0eUNvbnRhaW5lciA9IEVudGl0eUNvbnRhaW5lcigpO1xuICAgIGNvbnN0IGNvbXBvbmVudHNEZWZpbml0aW9uID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHN5c3RlbXMgPSBTeXN0ZW1Db250YWluZXIoKTtcbiAgICBsZXQgbmV0d29ya01hbmFnZXI7XG4gICAgbGV0IHNlYWxlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIGFkZFN5c3RlbShmbiwgcHJpb3JpdHkgPSBTWVNURU1TX1JFR1VMQVJfUFJJT1JJVFksIG5hbWUpIHtcbiAgICAgICAgc3lzdGVtcy5hZGQoZm4sIHByaW9yaXR5LCBuYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlU3lzdGVtKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBzeXN0ZW1zLnJlbW92ZShzZWxlY3Rvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5ldHdvcmtNYW5hZ2VyKCkge1xuICAgICAgICBpZiAoIW5ldHdvcmtNYW5hZ2VyKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIG1hbmFnZXIgbm90IGluaXRpYWxpemVkLiBTdGFydCBDUkRUIFNlcnZlcicpO1xuICAgICAgICByZXR1cm4gbmV0d29ya01hbmFnZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZE5ldHdvcmtNYW5hZ2VyKHJlc2VydmVkTG9jYWxFbnRpdGllcywgcmFuZ2UpIHtcbiAgICAgICAgZW50aXR5Q29udGFpbmVyLnNldE5ldHdvcmtFbnRpdGllc1JhbmdlKHJlc2VydmVkTG9jYWxFbnRpdGllcywgcmFuZ2UpO1xuICAgICAgICBuZXR3b3JrTWFuYWdlciA9IHtcbiAgICAgICAgICAgIGFkZEVudGl0eTogKCkgPT4gZW50aXR5Q29udGFpbmVyLmdlbmVyYXRlRW50aXR5KHRydWUpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXR3b3JrTWFuYWdlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRW50aXR5KCkge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBlbnRpdHlDb250YWluZXIuZ2VuZXJhdGVFbnRpdHkoKTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlRW50aXR5KGVudGl0eSkge1xuICAgICAgICBmb3IgKGNvbnN0IFssIGNvbXBvbmVudF0gb2YgY29tcG9uZW50c0RlZmluaXRpb24pIHtcbiAgICAgICAgICAgIGNvbXBvbmVudC5lbnRpdHlEZWxldGVkKGVudGl0eSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudGl0eUNvbnRhaW5lci5yZW1vdmVFbnRpdHkoZW50aXR5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuKGVudGl0eSkge1xuICAgICAgICByZXR1cm4gcmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuRW5naW5lKHsgcmVtb3ZlRW50aXR5LCBkZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hLCBnZXRFbnRpdGllc1dpdGggfSwgZW50aXR5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnREZWZpbml0aW9uKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudCkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoc2VhbGVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmdpbmUgaXMgYWxyZWFkeSBzZWFsZWQuIE5vIGNvbXBvbmVudHMgY2FuIGJlIGFkZGVkIGF0IHRoaXMgc3RhZ2UnKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnROYW1lKTtcbiAgICAgICAgY29uc3QgcHJldiA9IGNvbXBvbmVudHNEZWZpbml0aW9uLmdldChjb21wb25lbnRJZCk7XG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCBudW1iZXIgJHtjb21wb25lbnRJZH0gd2FzIGFscmVhZHkgcmVnaXN0ZXJlZC5gKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudE5hbWUgIT09IGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29tcG9uZW50IG5hbWUgZG9lc24ndCBtYXRjaCBjb21wb25lbnREZWZpbml0aW9uLmNvbXBvbmVudE5hbWUgJHtjb21wb25lbnROYW1lfSAhPSAke2NvbXBvbmVudC5jb21wb25lbnROYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50SWQgIT09IGNvbXBvbmVudElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCBudW1iZXIgZG9lc24ndCBtYXRjaCBjb21wb25lbnREZWZpbml0aW9uLmNvbXBvbmVudElkICR7Y29tcG9uZW50SWR9ICE9ICR7Y29tcG9uZW50LmNvbXBvbmVudElkfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBvbmVudHNEZWZpbml0aW9uLnNldChjb21wb25lbnRJZCwgY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShjb21wb25lbnROYW1lLCBzY2hlbWEpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnROYW1lKTtcbiAgICAgICAgY29uc3QgcHJldiA9IGNvbXBvbmVudHNEZWZpbml0aW9uLmdldChjb21wb25lbnRJZCk7XG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhc3NlcnQgc3BlYyA9PT0gcHJldi5zcGVjXG4gICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoc2VhbGVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmdpbmUgaXMgYWxyZWFkeSBzZWFsZWQuIE5vIGNvbXBvbmVudHMgY2FuIGJlIGFkZGVkIGF0IHRoaXMgc3RhZ2UnKTtcbiAgICAgICAgY29uc3QgbmV3Q29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEoY29tcG9uZW50TmFtZSwgY29tcG9uZW50SWQsIHNjaGVtYSk7XG4gICAgICAgIGNvbXBvbmVudHNEZWZpbml0aW9uLnNldChjb21wb25lbnRJZCwgbmV3Q29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIG5ld0NvbXBvbmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hKGNvbXBvbmVudE5hbWUsIHNjaGVtYSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IGNvbXBvbmVudE51bWJlckZyb21OYW1lKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICBjb25zdCBwcmV2ID0gY29tcG9uZW50c0RlZmluaXRpb24uZ2V0KGNvbXBvbmVudElkKTtcbiAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFzc2VydCBzcGVjID09PSBwcmV2LnNwZWNcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChzZWFsZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuZ2luZSBpcyBhbHJlYWR5IHNlYWxlZC4gTm8gY29tcG9uZW50cyBjYW4gYmUgYWRkZWQgYXQgdGhpcyBzdGFnZScpO1xuICAgICAgICBjb25zdCBuZXdDb21wb25lbnQgPSBjcmVhdGVWYWx1ZVNldENvbXBvbmVudERlZmluaXRpb25Gcm9tU2NoZW1hKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudElkLCBzY2hlbWEsIG9wdGlvbnMpO1xuICAgICAgICBjb21wb25lbnRzRGVmaW5pdGlvbi5zZXQoY29tcG9uZW50SWQsIG5ld0NvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBuZXdDb21wb25lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUNvbXBvbmVudChjb21wb25lbnROYW1lLCBtYXBTcGVjLCBjb25zdHJ1Y3RvckRlZmF1bHQpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnROYW1lKTtcbiAgICAgICAgY29uc3QgcHJldiA9IGNvbXBvbmVudHNEZWZpbml0aW9uLmdldChjb21wb25lbnRJZCk7XG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhc3NlcnQgc3BlYyA9PT0gcHJldi5zcGVjXG4gICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VhbGVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmdpbmUgaXMgYWxyZWFkeSBzZWFsZWQuIE5vIGNvbXBvbmVudHMgY2FuIGJlIGFkZGVkIGF0IHRoaXMgc3RhZ2UnKTtcbiAgICAgICAgY29uc3Qgc2NoZW1hU3BlYyA9IFNjaGVtYXMuTWFwKG1hcFNwZWMsIGNvbnN0cnVjdG9yRGVmYXVsdCk7XG4gICAgICAgIGNvbnN0IGRlZiA9IGNyZWF0ZUNvbXBvbmVudERlZmluaXRpb25Gcm9tU2NoZW1hKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudElkLCBzY2hlbWFTcGVjKTtcbiAgICAgICAgY29uc3QgbmV3Q29tcG9uZW50ID0ge1xuICAgICAgICAgICAgLi4uZGVmLFxuICAgICAgICAgICAgY3JlYXRlKGVudGl0eSwgdmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZi5jcmVhdGUoZW50aXR5LCB2YWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHZhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWYuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29tcG9uZW50c0RlZmluaXRpb24uc2V0KGNvbXBvbmVudElkLCBuZXdDb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gbmV3Q29tcG9uZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnQoY29tcG9uZW50SWRPck5hbWUpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB0eXBlb2YgY29tcG9uZW50SWRPck5hbWUgPT09ICdudW1iZXInID8gY29tcG9uZW50SWRPck5hbWUgOiBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnRJZE9yTmFtZSk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbXBvbmVudHNEZWZpbml0aW9uLmdldChjb21wb25lbnRJZCk7XG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCAke2NvbXBvbmVudElkfSBub3QgZm91bmQuIFlvdSBuZWVkIHRvIGRlY2xhcmUgdGhlIGNvbXBvbmVudHMgYXQgdGhlIGJlZ2lubmlnIG9mIHRoZSBlbmdpbmUgZGVjbGFyYXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnRPck51bGwoY29tcG9uZW50SWRPck5hbWUpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB0eXBlb2YgY29tcG9uZW50SWRPck5hbWUgPT09ICdudW1iZXInID8gY29tcG9uZW50SWRPck5hbWUgOiBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnRJZE9yTmFtZSk7XG4gICAgICAgIHJldHVybiAoY29tcG9uZW50c0RlZmluaXRpb24uZ2V0KGNvbXBvbmVudElkKSA/P1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIG51bGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiogZ2V0RW50aXRpZXNXaXRoKC4uLmNvbXBvbmVudHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCAuLi5ncm91cENvbXBdIG9mIGdldENvbXBvbmVudERlZkdyb3VwKC4uLmNvbXBvbmVudHMpKSB7XG4gICAgICAgICAgICB5aWVsZCBbZW50aXR5LCAuLi5ncm91cENvbXAubWFwKChjKSA9PiBjLmdldChlbnRpdHkpKV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RW50aXR5T3JOdWxsQnlOYW1lKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IExhYmVsQ29tcG9uZW50ID0gY29tcG9uZW50cy5OYW1lKHsgZGVmaW5lQ29tcG9uZW50IH0pO1xuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIG5hbWVdIG9mIGdldEVudGl0aWVzV2l0aChMYWJlbENvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIGlmIChuYW1lLnZhbHVlID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiogZ2V0Q29tcG9uZW50RGVmR3JvdXAoLi4uYXJncykge1xuICAgICAgICBjb25zdCBbZmlyc3RDb21wb25lbnREZWYsIC4uLmNvbXBvbmVudERlZmluaXRpb25zXSA9IGFyZ3M7XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eV0gb2YgZmlyc3RDb21wb25lbnREZWYuaXRlcmF0b3IoKSkge1xuICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnREZWYgb2YgY29tcG9uZW50RGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudERlZi5oYXMoZW50aXR5KSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgW2VudGl0eSwgLi4uYXJnc107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3lzdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHN5c3RlbXMuZ2V0U3lzdGVtcygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wb25lbnRzSXRlcigpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHNEZWZpbml0aW9uLnZhbHVlcygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVDb21wb25lbnREZWZpbml0aW9uKGNvbXBvbmVudElkT3JOYW1lKSB7XG4gICAgICAgIGlmIChzZWFsZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuZ2luZSBpcyBhbHJlYWR5IHNlYWxlZC4gTm8gY29tcG9uZW50cyBjYW4gYmUgcmVtb3ZlZCBhdCB0aGlzIHN0YWdlJyk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gdHlwZW9mIGNvbXBvbmVudElkT3JOYW1lID09PSAnbnVtYmVyJyA/IGNvbXBvbmVudElkT3JOYW1lIDogY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50SWRPck5hbWUpO1xuICAgICAgICBjb21wb25lbnRzRGVmaW5pdGlvbi5kZWxldGUoY29tcG9uZW50SWQpO1xuICAgIH1cbiAgICBjb21wb25lbnRzLlRyYW5zZm9ybSh7IGRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEgfSk7XG4gICAgZnVuY3Rpb24gc2VhbCgpIHtcbiAgICAgICAgaWYgKCFzZWFsZWQpIHtcbiAgICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkRW50aXR5LFxuICAgICAgICByZW1vdmVFbnRpdHksXG4gICAgICAgIHJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbixcbiAgICAgICAgYWRkU3lzdGVtLFxuICAgICAgICBnZXRTeXN0ZW1zLFxuICAgICAgICByZW1vdmVTeXN0ZW0sXG4gICAgICAgIGRlZmluZUNvbXBvbmVudCxcbiAgICAgICAgZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYSxcbiAgICAgICAgZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hLFxuICAgICAgICBnZXRFbnRpdGllc1dpdGgsXG4gICAgICAgIGdldENvbXBvbmVudCxcbiAgICAgICAgZ2V0Q29tcG9uZW50T3JOdWxsOiBnZXRDb21wb25lbnRPck51bGwsXG4gICAgICAgIGdldEVudGl0eU9yTnVsbEJ5TmFtZSxcbiAgICAgICAgcmVtb3ZlQ29tcG9uZW50RGVmaW5pdGlvbixcbiAgICAgICAgcmVnaXN0ZXJDb21wb25lbnREZWZpbml0aW9uLFxuICAgICAgICBlbnRpdHlDb250YWluZXIsXG4gICAgICAgIGNvbXBvbmVudHNJdGVyLFxuICAgICAgICBzZWFsLFxuICAgICAgICBhZGROZXR3b3JrTWFuYWdlcixcbiAgICAgICAgZ2V0TmV0d29ya01hbmFnZXJcbiAgICB9O1xufVxuLyoqXG4gKiBJbnRlcm5hbCBjb25zdHJ1Y3RvciBvZiBuZXcgZW5naW5lcywgdGhpcyBpcyBhbiBpbnRlcm5hbCBBUElcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFByZXZlbnQgbWFudWFsIHVzYWdlIHByZWZlciBcImVuZ2luZVwiIGZvciBzY2VuZSBkZXZlbG9wbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gRW5naW5lKG9wdGlvbnMpIHtcbiAgICBjb25zdCBwYXJ0aWFsRW5naW5lID0gcHJlRW5naW5lKCk7XG4gICAgY29uc3QgY3JkdFN5c3RlbSA9IGNyZHRTY2VuZVN5c3RlbShwYXJ0aWFsRW5naW5lLCBvcHRpb25zPy5vbkNoYW5nZUZ1bmN0aW9uIHx8IG51bGwpO1xuICAgIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShkdCkge1xuICAgICAgICBhd2FpdCBjcmR0U3lzdGVtLnJlY2VpdmVNZXNzYWdlcygpO1xuICAgICAgICBmb3IgKGNvbnN0IHN5c3RlbSBvZiBwYXJ0aWFsRW5naW5lLmdldFN5c3RlbXMoKSkge1xuICAgICAgICAgICAgY29uc3QgcmV0ID0gc3lzdGVtLmZuKGR0KTtcbiAgICAgICAgICAgIGNoZWNrTm90VGhlbmFibGUocmV0LCBgQSBzeXN0ZW0gKCR7c3lzdGVtLm5hbWUgfHwgJ2Fub255bW91cyd9KSByZXR1cm5lZCBhIHRoZW5hYmxlLiBTeXN0ZW1zIGNhbm5vdCBiZSBhc3luYyBmdW5jdGlvbnMuIERvY3VtZW50YXRpb246IGh0dHBzOi8vZGNsLmdnL3Nkay9zeW5jLXN5c3RlbXNgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBnZXQgdGhlIGRlbGV0ZWQgZW50aXRpZXMgdG8gc2VuZCB0aGUgRGVsZXRlRW50aXR5IENSRFQgY29tbWFuZHNcbiAgICAgICAgY29uc3QgZGVsZXRlZEVudGl0ZXMgPSBwYXJ0aWFsRW5naW5lLmVudGl0eUNvbnRhaW5lci5yZWxlYXNlUmVtb3ZlZEVudGl0aWVzKCk7XG4gICAgICAgIGF3YWl0IGNyZHRTeXN0ZW0uc2VuZE1lc3NhZ2VzKGRlbGV0ZWRFbnRpdGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkRW50aXR5OiBwYXJ0aWFsRW5naW5lLmFkZEVudGl0eSxcbiAgICAgICAgcmVtb3ZlRW50aXR5OiBwYXJ0aWFsRW5naW5lLnJlbW92ZUVudGl0eSxcbiAgICAgICAgcmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuOiBwYXJ0aWFsRW5naW5lLnJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbixcbiAgICAgICAgYWRkU3lzdGVtOiBwYXJ0aWFsRW5naW5lLmFkZFN5c3RlbSxcbiAgICAgICAgcmVtb3ZlU3lzdGVtOiBwYXJ0aWFsRW5naW5lLnJlbW92ZVN5c3RlbSxcbiAgICAgICAgZGVmaW5lQ29tcG9uZW50OiBwYXJ0aWFsRW5naW5lLmRlZmluZUNvbXBvbmVudCxcbiAgICAgICAgZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYTogcGFydGlhbEVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hLFxuICAgICAgICBkZWZpbmVWYWx1ZVNldENvbXBvbmVudEZyb21TY2hlbWE6IHBhcnRpYWxFbmdpbmUuZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hLFxuICAgICAgICByZWdpc3RlckNvbXBvbmVudERlZmluaXRpb246IHBhcnRpYWxFbmdpbmUucmVnaXN0ZXJDb21wb25lbnREZWZpbml0aW9uLFxuICAgICAgICBnZXRFbnRpdGllc1dpdGg6IHBhcnRpYWxFbmdpbmUuZ2V0RW50aXRpZXNXaXRoLFxuICAgICAgICBnZXRDb21wb25lbnQ6IHBhcnRpYWxFbmdpbmUuZ2V0Q29tcG9uZW50LFxuICAgICAgICBnZXRDb21wb25lbnRPck51bGw6IHBhcnRpYWxFbmdpbmUuZ2V0Q29tcG9uZW50T3JOdWxsLFxuICAgICAgICByZW1vdmVDb21wb25lbnREZWZpbml0aW9uOiBwYXJ0aWFsRW5naW5lLnJlbW92ZUNvbXBvbmVudERlZmluaXRpb24sXG4gICAgICAgIGNvbXBvbmVudHNJdGVyOiBwYXJ0aWFsRW5naW5lLmNvbXBvbmVudHNJdGVyLFxuICAgICAgICBzZWFsOiBwYXJ0aWFsRW5naW5lLnNlYWwsXG4gICAgICAgIGdldEVudGl0eU9yTnVsbEJ5TmFtZTogcGFydGlhbEVuZ2luZS5nZXRFbnRpdHlPck51bGxCeU5hbWUsXG4gICAgICAgIHVwZGF0ZSxcbiAgICAgICAgUm9vdEVudGl0eTogMCxcbiAgICAgICAgUGxheWVyRW50aXR5OiAxLFxuICAgICAgICBDYW1lcmFFbnRpdHk6IDIsXG4gICAgICAgIGdldEVudGl0eVN0YXRlOiBwYXJ0aWFsRW5naW5lLmVudGl0eUNvbnRhaW5lci5nZXRFbnRpdHlTdGF0ZSxcbiAgICAgICAgYWRkVHJhbnNwb3J0OiBjcmR0U3lzdGVtLmFkZFRyYW5zcG9ydCxcbiAgICAgICAgZW50aXR5Q29udGFpbmVyOiBwYXJ0aWFsRW5naW5lLmVudGl0eUNvbnRhaW5lcixcbiAgICAgICAgYWRkTmV0d29ya01hbmFnZXI6IHBhcnRpYWxFbmdpbmUuYWRkTmV0d29ya01hbmFnZXIsXG4gICAgICAgIGdldE5ldHdvcmtNYW5hZ2VyOiBwYXJ0aWFsRW5naW5lLmdldE5ldHdvcmtNYW5hZ2VyXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tICcuLi9lbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IGNoZWNrTm90VGhlbmFibGUgfSBmcm9tICcuLi9ydW50aW1lL2ludmFyaWFudCc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUG9pbnRlckV2ZW50c1N5c3RlbShlbmdpbmUsIGlucHV0U3lzdGVtKSB7XG4gICAgY29uc3QgUG9pbnRlckV2ZW50cyA9IGNvbXBvbmVudHMuUG9pbnRlckV2ZW50cyhlbmdpbmUpO1xuICAgIGxldCBFdmVudFR5cGU7XG4gICAgKGZ1bmN0aW9uIChFdmVudFR5cGUpIHtcbiAgICAgICAgRXZlbnRUeXBlW0V2ZW50VHlwZVtcIkNsaWNrXCJdID0gMF0gPSBcIkNsaWNrXCI7XG4gICAgICAgIEV2ZW50VHlwZVtFdmVudFR5cGVbXCJEb3duXCJdID0gMV0gPSBcIkRvd25cIjtcbiAgICAgICAgRXZlbnRUeXBlW0V2ZW50VHlwZVtcIlVwXCJdID0gMl0gPSBcIlVwXCI7XG4gICAgfSkoRXZlbnRUeXBlIHx8IChFdmVudFR5cGUgPSB7fSkpO1xuICAgIGNvbnN0IGdldERlZmF1bHRPcHRzID0gKG9wdHMgPSB7fSkgPT4gKHtcbiAgICAgICAgYnV0dG9uOiAzIC8qIElucHV0QWN0aW9uLklBX0FOWSAqLyxcbiAgICAgICAgLi4ub3B0c1xuICAgIH0pO1xuICAgIGNvbnN0IGV2ZW50c01hcCA9IG5ldyBNYXAoKTtcbiAgICBmdW5jdGlvbiBnZXRFdmVudChlbnRpdHkpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50c01hcC5nZXQoZW50aXR5KSB8fCBldmVudHNNYXAuc2V0KGVudGl0eSwgbmV3IE1hcCgpKS5nZXQoZW50aXR5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0UG9pbnRlckV2ZW50KGVudGl0eSwgdHlwZSwgb3B0cykge1xuICAgICAgICBpZiAob3B0cy5ob3ZlclRleHQgfHwgb3B0cy5zaG93RmVlZGJhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ZXJFdmVudCA9IFBvaW50ZXJFdmVudHMuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpIHx8IFBvaW50ZXJFdmVudHMuY3JlYXRlKGVudGl0eSk7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQucG9pbnRlckV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBldmVudFR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgZXZlbnRJbmZvOiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogb3B0cy5idXR0b24sXG4gICAgICAgICAgICAgICAgICAgIHNob3dGZWVkYmFjazogb3B0cy5zaG93RmVlZGJhY2ssXG4gICAgICAgICAgICAgICAgICAgIGhvdmVyVGV4dDogb3B0cy5ob3ZlclRleHQsXG4gICAgICAgICAgICAgICAgICAgIG1heERpc3RhbmNlOiBvcHRzLm1heERpc3RhbmNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlUG9pbnRlckV2ZW50KGVudGl0eSwgdHlwZSwgYnV0dG9uKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJFdmVudCA9IFBvaW50ZXJFdmVudHMuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpO1xuICAgICAgICBpZiAoIXBvaW50ZXJFdmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcG9pbnRlckV2ZW50LnBvaW50ZXJFdmVudHMgPSBwb2ludGVyRXZlbnQucG9pbnRlckV2ZW50cy5maWx0ZXIoKHBvaW50ZXIpID0+ICEocG9pbnRlci5ldmVudEluZm8/LmJ1dHRvbiA9PT0gYnV0dG9uICYmIHBvaW50ZXIuZXZlbnRUeXBlID09PSB0eXBlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFBvaW50ZXJFdmVudChldmVudFR5cGUpIHtcbiAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLlVwKSB7XG4gICAgICAgICAgICByZXR1cm4gMCAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9VUCAqLztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMSAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOICovO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVFdmVudChlbnRpdHksIHR5cGUpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBnZXRFdmVudChlbnRpdHkpO1xuICAgICAgICBjb25zdCBwb2ludGVyRXZlbnQgPSBldmVudC5nZXQodHlwZSk7XG4gICAgICAgIGlmIChwb2ludGVyRXZlbnQ/Lm9wdHMuaG92ZXJUZXh0KSB7XG4gICAgICAgICAgICByZW1vdmVQb2ludGVyRXZlbnQoZW50aXR5LCBnZXRQb2ludGVyRXZlbnQodHlwZSksIHBvaW50ZXJFdmVudC5vcHRzLmJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQuZGVsZXRlKHR5cGUpO1xuICAgIH1cbiAgICAvLyBAaW50ZXJuYWxcbiAgICBlbmdpbmUuYWRkU3lzdGVtKGZ1bmN0aW9uIEV2ZW50U3lzdGVtKCkge1xuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIGV2ZW50XSBvZiBldmVudHNNYXApIHtcbiAgICAgICAgICAgIGlmIChlbmdpbmUuZ2V0RW50aXR5U3RhdGUoZW50aXR5KSA9PT0gRW50aXR5U3RhdGUuUmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgIGV2ZW50c01hcC5kZWxldGUoZW50aXR5KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2V2ZW50VHlwZSwgeyBjYiwgb3B0cyB9XSBvZiBldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudFR5cGUgPT09IEV2ZW50VHlwZS5DbGljaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gaW5wdXRTeXN0ZW0uZ2V0Q2xpY2sob3B0cy5idXR0b24sIGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tOb3RUaGVuYWJsZShjYihjb21tYW5kLnVwKSwgJ0NsaWNrIGV2ZW50IHJldHVybmVkIGEgdGhlbmFibGUuIE9ubHkgc3luY2hyb25vdXMgZnVuY3Rpb25zIGFyZSBhbGxvd2VkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChldmVudFR5cGUgPT09IEV2ZW50VHlwZS5Eb3duIHx8IGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLlVwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBpbnB1dFN5c3RlbS5nZXRJbnB1dENvbW1hbmQob3B0cy5idXR0b24sIGdldFBvaW50ZXJFdmVudChldmVudFR5cGUpLCBlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tOb3RUaGVuYWJsZShjYihjb21tYW5kKSwgJ0V2ZW50IGhhbmRsZXIgcmV0dXJuZWQgYSB0aGVuYWJsZS4gT25seSBzeW5jaHJvbm91cyBmdW5jdGlvbnMgYXJlIGFsbG93ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG9uUG9pbnRlckRvd24gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBbZGF0YSwgY2IsIG1heWJlT3B0c10gPSBhcmdzO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gb25Qb2ludGVyRG93bih7IGVudGl0eTogZGF0YSwgb3B0czogbWF5YmVPcHRzID8/IHt9IH0sIGNiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGVudGl0eSwgb3B0cyB9ID0gZGF0YTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGdldERlZmF1bHRPcHRzKG9wdHMpO1xuICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5Eb3duKTtcbiAgICAgICAgZ2V0RXZlbnQoZW50aXR5KS5zZXQoRXZlbnRUeXBlLkRvd24sIHsgY2IsIG9wdHM6IG9wdGlvbnMgfSk7XG4gICAgICAgIHNldFBvaW50ZXJFdmVudChlbnRpdHksIDEgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTiAqLywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBjb25zdCBvblBvaW50ZXJVcCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IFtkYXRhLCBjYiwgbWF5YmVPcHRzXSA9IGFyZ3M7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBvblBvaW50ZXJVcCh7IGVudGl0eTogZGF0YSwgb3B0czogbWF5YmVPcHRzID8/IHt9IH0sIGNiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGVudGl0eSwgb3B0cyB9ID0gZGF0YTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGdldERlZmF1bHRPcHRzKG9wdHMpO1xuICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5VcCk7XG4gICAgICAgIGdldEV2ZW50KGVudGl0eSkuc2V0KEV2ZW50VHlwZS5VcCwgeyBjYiwgb3B0czogb3B0aW9ucyB9KTtcbiAgICAgICAgc2V0UG9pbnRlckV2ZW50KGVudGl0eSwgMCAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9VUCAqLywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmVPbkNsaWNrKGVudGl0eSkge1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnQoZW50aXR5LCBFdmVudFR5cGUuQ2xpY2spO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVPblBvaW50ZXJEb3duKGVudGl0eSkge1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnQoZW50aXR5LCBFdmVudFR5cGUuRG93bik7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZU9uUG9pbnRlclVwKGVudGl0eSkge1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnQoZW50aXR5LCBFdmVudFR5cGUuVXApO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsaWNrKHZhbHVlLCBjYikge1xuICAgICAgICAgICAgY29uc3QgeyBlbnRpdHkgfSA9IHZhbHVlO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGdldERlZmF1bHRPcHRzKHZhbHVlLm9wdHMpO1xuICAgICAgICAgICAgLy8gQ2xlYXIgcHJldmlvdXMgZXZlbnQgd2l0aCBvdmVyIGZlZWRiYWNrIGluY2x1ZGVkXG4gICAgICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5DbGljayk7XG4gICAgICAgICAgICAvLyBTZXQgbmV3IGV2ZW50XG4gICAgICAgICAgICBnZXRFdmVudChlbnRpdHkpLnNldChFdmVudFR5cGUuQ2xpY2ssIHsgY2IsIG9wdHM6IG9wdGlvbnMgfSk7XG4gICAgICAgICAgICBzZXRQb2ludGVyRXZlbnQoZW50aXR5LCAxIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04gKi8sIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJEb3duLFxuICAgICAgICBvblBvaW50ZXJVcFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuLi9jb21wb25lbnRzJztcbmltcG9ydCB7IFJlYWRXcml0ZUJ5dGVCdWZmZXIgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL0J5dGVCdWZmZXInO1xuaW1wb3J0IHsgZGF0YUNvbXBhcmUgfSBmcm9tICcuL2NyZHQvdXRpbHMnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEByZXR1cm5zIHR3ZWVuIGhlbHBlciB0byBiZSB1c2VkIG9uIHRoZSBzY2VuZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHdlZW5TeXN0ZW0oZW5naW5lKSB7XG4gICAgY29uc3QgVHdlZW4gPSBjb21wb25lbnRzLlR3ZWVuKGVuZ2luZSk7XG4gICAgY29uc3QgVHdlZW5TdGF0ZSA9IGNvbXBvbmVudHMuVHdlZW5TdGF0ZShlbmdpbmUpO1xuICAgIGNvbnN0IFR3ZWVuU2VxdWVuY2UgPSBjb21wb25lbnRzLlR3ZWVuU2VxdWVuY2UoZW5naW5lKTtcbiAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICBmdW5jdGlvbiBpc0NvbXBsZXRlZChlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgdHdlZW5TdGF0ZSA9IFR3ZWVuU3RhdGUuZ2V0T3JOdWxsKGVudGl0eSk7XG4gICAgICAgIGNvbnN0IHR3ZWVuID0gVHdlZW4uZ2V0T3JOdWxsKGVudGl0eSk7XG4gICAgICAgIGNvbnN0IHR3ZWVuQ2FjaGUgPSBjYWNoZS5nZXQoZW50aXR5KTtcbiAgICAgICAgaWYgKCF0d2VlblN0YXRlIHx8ICF0d2VlbilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKFxuICAgICAgICAvLyBSZW5kZXJlciBub3RpZmllZCB0aGF0IHRoZSB0d2VlbiBpcyBjb21wbGV0ZWRcbiAgICAgICAgKHR3ZWVuQ2hhbmdlZChlbnRpdHkpIHx8IHR3ZWVuU3RhdGUuc3RhdGUgPT09IDEgLyogVHdlZW5TdGF0ZVN0YXR1cy5UU19DT01QTEVURUQgKi8pICYmXG4gICAgICAgICAgICAvLyBBdm9pZCBzZW5kaW5nIGlzQ29tcGxldGVkIG11bHRpcGxlIHRpbWVzXG4gICAgICAgICAgICAhdHdlZW5DYWNoZT8uY29tcGxldGVkICYmXG4gICAgICAgICAgICAvLyBBbW91bnQgb2YgZnJhbWVzIG5lZWRlZCB0byBjb25zaWRlciBhIHR3ZWVuIGNvbXBsZXRlZFxuICAgICAgICAgICAgKHR3ZWVuQ2FjaGU/LmZyYW1lcyA/PyAwKSA+IDIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHdlZW5DaGFuZ2VkKGVudGl0eSkge1xuICAgICAgICBjb25zdCBjdXJyZW50VHdlZW4gPSBUd2Vlbi5nZXRPck51bGwoZW50aXR5KTtcbiAgICAgICAgY29uc3QgcHJldlR3ZWVuID0gY2FjaGUuZ2V0KGVudGl0eSk/LnR3ZWVuO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoKGN1cnJlbnRUd2VlbiAmJiAhcHJldlR3ZWVuKSB8fCAoIWN1cnJlbnRUd2VlbiAmJiBwcmV2VHdlZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50QnVmZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgIFR3ZWVuLnNjaGVtYS5zZXJpYWxpemUoY3VycmVudFR3ZWVuLCBjdXJyZW50QnVmZik7XG4gICAgICAgIGNvbnN0IGVxdWFsID0gZGF0YUNvbXBhcmUoY3VycmVudEJ1ZmYudG9CaW5hcnkoKSwgcHJldlR3ZWVuKTtcbiAgICAgICAgcmV0dXJuIGVxdWFsO1xuICAgIH1cbiAgICBjb25zdCByZXN0YXJ0VHdlZW5zID0gW107XG4gICAgLy8gTG9naWMgZm9yIHNlcXVlbmNlIHR3ZWVuc1xuICAgIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3RhcnQgb2YgcmVzdGFydFR3ZWVucykge1xuICAgICAgICAgICAgcmVzdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3RhcnRUd2VlbnMubGVuZ3RoID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCB0d2Vlbl0gb2YgZW5naW5lLmdldEVudGl0aWVzV2l0aChUd2VlbikpIHtcbiAgICAgICAgICAgIGlmICh0d2VlbkNoYW5nZWQoZW50aXR5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgVHdlZW4uc2NoZW1hLnNlcmlhbGl6ZSh0d2VlbiwgYnVmZmVyKTtcbiAgICAgICAgICAgICAgICBjYWNoZS5zZXQoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgICAgIHR3ZWVuOiBidWZmZXIudG9CaW5hcnkoKSxcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVzOiAwLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0d2VlbkNhY2hlID0gY2FjaGUuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICB0d2VlbkNhY2hlLmZyYW1lcyArPSAxO1xuICAgICAgICAgICAgdHdlZW5DYWNoZS5jaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXNDb21wbGV0ZWQoZW50aXR5KSkge1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IHR3ZWVuIGZyYW1lcy5cbiAgICAgICAgICAgICAgICB0d2VlbkNhY2hlLmZyYW1lcyA9IDA7XG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSB0d2VlbiBjb21wbGV0ZWQgdG8gYXZvaWQgY2FsbGluZyB0aGlzIGFnYWluIGZvciB0aGUgc2FtZSB0d2VlblxuICAgICAgICAgICAgICAgIHR3ZWVuQ2FjaGUuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0d2VlblNlcXVlbmNlID0gVHdlZW5TZXF1ZW5jZS5nZXRPck51bGwoZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAoIXR3ZWVuU2VxdWVuY2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2VxdWVuY2UgfSA9IHR3ZWVuU2VxdWVuY2U7XG4gICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlICYmIHNlcXVlbmNlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbbmV4dFR3ZWVuU2VxdWVuY2UsIC4uLm90aGVyVHdlZW5zXSA9IHNlcXVlbmNlO1xuICAgICAgICAgICAgICAgICAgICBUd2Vlbi5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCBuZXh0VHdlZW5TZXF1ZW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG11dGFibGVUd2VlbkhlbHBlciA9IFR3ZWVuU2VxdWVuY2UuZ2V0TXV0YWJsZShlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICBtdXRhYmxlVHdlZW5IZWxwZXIuc2VxdWVuY2UgPSBvdGhlclR3ZWVucztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR3ZWVuU2VxdWVuY2UubG9vcCA9PT0gMCAvKiBUd2Vlbkxvb3AuVExfUkVTVEFSVCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXV0YWJsZVR3ZWVuSGVscGVyLnNlcXVlbmNlLnB1c2godHdlZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR3ZWVuU2VxdWVuY2UubG9vcCA9PT0gMSAvKiBUd2Vlbkxvb3AuVExfWU9ZTyAqLykge1xuICAgICAgICAgICAgICAgICAgICBUd2Vlbi5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCBiYWNrd2FyZHNUd2Vlbih0d2VlbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0d2VlblNlcXVlbmNlLmxvb3AgPT09IDAgLyogVHdlZW5Mb29wLlRMX1JFU1RBUlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgVHdlZW4uZGVsZXRlRnJvbShlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5kZWxldGUoZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdGFydFR3ZWVucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHR3ZWVuKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICBmdW5jdGlvbiBiYWNrd2FyZHNUd2Vlbih0d2Vlbikge1xuICAgICAgICBpZiAodHdlZW4ubW9kZT8uJGNhc2UgPT09ICdtb3ZlJyAmJiB0d2Vlbi5tb2RlLm1vdmUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnR3ZWVuLCBtb2RlOiB7IC4uLnR3ZWVuLm1vZGUsIG1vdmU6IHsgc3RhcnQ6IHR3ZWVuLm1vZGUubW92ZS5lbmQsIGVuZDogdHdlZW4ubW9kZS5tb3ZlLnN0YXJ0IH0gfSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0d2Vlbi5tb2RlPy4kY2FzZSA9PT0gJ3JvdGF0ZScgJiYgdHdlZW4ubW9kZS5yb3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4udHdlZW4sXG4gICAgICAgICAgICAgICAgbW9kZTogeyAuLi50d2Vlbi5tb2RlLCByb3RhdGU6IHsgc3RhcnQ6IHR3ZWVuLm1vZGUucm90YXRlLmVuZCwgZW5kOiB0d2Vlbi5tb2RlLnJvdGF0ZS5zdGFydCB9IH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR3ZWVuLm1vZGU/LiRjYXNlID09PSAnc2NhbGUnICYmIHR3ZWVuLm1vZGUuc2NhbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnR3ZWVuLCBtb2RlOiB7IC4uLnR3ZWVuLm1vZGUsIHNjYWxlOiB7IHN0YXJ0OiB0d2Vlbi5tb2RlLnNjYWxlLmVuZCwgZW5kOiB0d2Vlbi5tb2RlLnNjYWxlLnN0YXJ0IH0gfSB9O1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0d2VlbicpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBUaGlzIGV2ZW50IGlzIGZpcmVkIG9ubHkgb25jZSBwZXIgdHdlZW5cbiAgICAgICAgdHdlZW5Db21wbGV0ZWQ6IGlzQ29tcGxldGVkXG4gICAgfTtcbn1cbiIsICIvKipcbiAqIEBhbHBoYSAqIFRoaXMgZmlsZSBpbml0aWFsaXphdGlvbiBpcyBhbiBhbHBoYSBvbmUuIFRoaXMgaXMgYmFzZWQgb24gdGhlIG9sZC1lY3NcbiAqIGluaXQgYW5kIGl0J2xsIGJlIGNoYW5naW5nLlxuICovXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xuaW1wb3J0IHsgY3JlYXRlVGFza1N5c3RlbSB9IGZyb20gJy4uLy4uL3N5c3RlbXMvYXN5bmMtdGFzayc7XG5pbXBvcnQgeyBjcmVhdGVQb2ludGVyRXZlbnRzU3lzdGVtIH0gZnJvbSAnLi4vLi4vc3lzdGVtcy9ldmVudHMnO1xuaW1wb3J0IHsgY3JlYXRlSW5wdXRTeXN0ZW0gfSBmcm9tICcuLy4uLy4uL2VuZ2luZS9pbnB1dCc7XG5pbXBvcnQgeyBjcmVhdGVSYXljYXN0U3lzdGVtIH0gZnJvbSAnLi4vLi4vc3lzdGVtcy9yYXljYXN0JztcbmltcG9ydCB7IGNyZWF0ZVZpZGVvRXZlbnRzU3lzdGVtIH0gZnJvbSAnLi4vLi4vc3lzdGVtcy92aWRlb0V2ZW50cyc7XG5pbXBvcnQgeyBjcmVhdGVUd2VlblN5c3RlbSB9IGZyb20gJy4uLy4uL3N5c3RlbXMvdHdlZW4nO1xuLyoqXG4gKiBAcHVibGljXG4gKiBUaGUgZW5naW5lIGlzIHRoZSBwYXJ0IG9mIHRoZSBzY2VuZSB0aGF0IHNpdHMgaW4gdGhlIG1pZGRsZSBhbmQgbWFuYWdlcyBhbGwgb2YgdGhlIG90aGVyIHBhcnRzLlxuICogSXQgZGV0ZXJtaW5lcyB3aGF0IGVudGl0aWVzIGFyZSByZW5kZXJlZCBhbmQgaG93IHBsYXllcnMgaW50ZXJhY3Qgd2l0aCB0aGVtLlxuICogSXQgYWxzbyBjb29yZGluYXRlcyB3aGF0IGZ1bmN0aW9ucyBmcm9tIHN5c3RlbXMgYXJlIGV4ZWN1dGVkIGFuZCB3aGVuLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBlbmdpbmUgfSBmcm9tICdAZGNsL3Nkay9lY3MnXG4gKiBjb25zdCBlbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAqIGVuZ2luZS5hZGRTeXN0ZW0oc29tZVN5c3RlbUZ1bmN0aW9uKVxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IGVuZ2luZSA9IC8qIEBfX1BVUkVfXyAqLyBFbmdpbmUoKTtcbi8qKlxuICogQHB1YmxpY1xuICogSW5wdXQgc3lzdGVtIG1hbmFnZXIuIENoZWNrIGZvciBidXR0b24gZXZlbnRzXG4gKiBAZXhhbXBsZVxuICogaW5wdXRTeXN0ZW0uaXNUcmlnZ2VyZWQ6IFJldHVybnMgdHJ1ZSBpZiBhbiBpbnB1dCBhY3Rpb24gb2N1cnJlZCBzaW5jZSB0aGUgbGFzdCB0aWNrLlxuICogaW5wdXRTeXN0ZW0uaXNQcmVzc2VkOiBSZXR1cm5zIHRydWUgaWYgYW4gaW5wdXQgaXMgY3VycmVudGx5IGJlaW5nIHByZXNzZWQgZG93bi4gSXQgd2lsbCByZXR1cm4gdHJ1ZSBvbiBldmVyeSB0aWNrIHVudGlsIHRoZSBidXR0b24gZ29lcyB1cCBhZ2Fpbi5cbiAqIGlucHV0U3lzdGVtLmdldElucHV0Q29tbWFuZDogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBkYXRhIGFib3V0IHRoZSBpbnB1dCBhY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBpbnB1dFN5c3RlbSA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnB1dFN5c3RlbShlbmdpbmUpO1xuLyoqXG4gKiBAcHVibGljXG4gKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbnMgdG8gYSBwYXJ0aWN1bGFyIGVudGl0eSBvbiBpbnB1dCBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCBwb2ludGVyRXZlbnRzU3lzdGVtID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZVBvaW50ZXJFdmVudHNTeXN0ZW0oZW5naW5lLCBpbnB1dFN5c3RlbSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqIFJlZ2lzdGVyIGNhbGxiYWNrIGZ1bmN0aW9ucyB0byBhIHBhcnRpY3VsYXIgZW50aXR5IG9uIHJheWNhc3QgcmVzdWx0cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHJheWNhc3RTeXN0ZW0gPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlUmF5Y2FzdFN5c3RlbShlbmdpbmUpO1xuLyoqXG4gKiBAcHVibGljXG4gKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbnMgdG8gYSBwYXJ0aWN1bGFyIGVudGl0eSBvbiB2aWRlbyBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCB2aWRlb0V2ZW50c1N5c3RlbSA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVWaWRlb0V2ZW50c1N5c3RlbShlbmdpbmUpO1xuLyoqXG4gKiBAcHVibGljXG4gKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbnMgdG8gYSBwYXJ0aWN1bGFyIGVudGl0eSBvbiB2aWRlbyBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCB0d2VlblN5c3RlbSA9IGNyZWF0ZVR3ZWVuU3lzdGVtKGVuZ2luZSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqIFJ1bnMgYW4gYXN5bmMgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGV4ZWN1dGVUYXNrID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZVRhc2tTeXN0ZW0oZW5naW5lKTtcbiIsICJpbXBvcnQgeyBlbmdpbmUgfSBmcm9tICcuLi8uLi9ydW50aW1lL2luaXRpYWxpemF0aW9uJztcbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSAnLi9pbmRleC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9pbmRleC5nZW4nO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF1ZGlvU291cmNlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQXVkaW9Tb3VyY2UoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdWRpb1N0cmVhbSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkF1ZGlvU3RyZWFtKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyQXR0YWNoID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQXZhdGFyQXR0YWNoKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyTW9kaWZpZXJBcmVhID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQXZhdGFyTW9kaWZpZXJBcmVhKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyU2hhcGUgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5BdmF0YXJTaGFwZShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEJpbGxib2FyZCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkJpbGxib2FyZChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IENhbWVyYU1vZGUgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5DYW1lcmFNb2RlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQ2FtZXJhTW9kZUFyZWEgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5DYW1lcmFNb2RlQXJlYShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEVuZ2luZUluZm8gPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5FbmdpbmVJbmZvKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lciA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkdsdGZDb250YWluZXIoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IE5mdFNoYXBlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuTmZ0U2hhcGUoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUG9pbnRlckV2ZW50cyhlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFBvaW50ZXJFdmVudHNSZXN1bHQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5Qb2ludGVyRXZlbnRzUmVzdWx0KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUG9pbnRlckxvY2sgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5Qb2ludGVyTG9jayhlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFJheWNhc3QgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5SYXljYXN0KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUmF5Y2FzdFJlc3VsdCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlJheWNhc3RSZXN1bHQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBUZXh0U2hhcGUgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5UZXh0U2hhcGUoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBUd2VlblNlcXVlbmNlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVHdlZW5TZXF1ZW5jZShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFR3ZWVuU3RhdGUgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5Ud2VlblN0YXRlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlCYWNrZ3JvdW5kID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlCYWNrZ3JvdW5kKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlDYW52YXNJbmZvcm1hdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpQ2FudmFzSW5mb3JtYXRpb24oZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaURyb3Bkb3duID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlEcm9wZG93bihlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpRHJvcGRvd25SZXN1bHQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5VaURyb3Bkb3duUmVzdWx0KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlJbnB1dCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpSW5wdXQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUlucHV0UmVzdWx0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlJbnB1dFJlc3VsdChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpVGV4dCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpVGV4dChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpVHJhbnNmb3JtID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlUcmFuc2Zvcm0oZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBWaWRlb0V2ZW50ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVmlkZW9FdmVudChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpZGVvUGxheWVyID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVmlkZW9QbGF5ZXIoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBWaXNpYmlsaXR5Q29tcG9uZW50ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVmlzaWJpbGl0eUNvbXBvbmVudChlbmdpbmUpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENhbWVyYVR5cGU7XG4oZnVuY3Rpb24gKENhbWVyYVR5cGUpIHtcbiAgICBDYW1lcmFUeXBlW0NhbWVyYVR5cGVbXCJDVF9GSVJTVF9QRVJTT05cIl0gPSAwXSA9IFwiQ1RfRklSU1RfUEVSU09OXCI7XG4gICAgQ2FtZXJhVHlwZVtDYW1lcmFUeXBlW1wiQ1RfVEhJUkRfUEVSU09OXCJdID0gMV0gPSBcIkNUX1RISVJEX1BFUlNPTlwiO1xuICAgIC8qKiBDVF9DSU5FTUFUSUMgLSBjb250cm9sbGVkIGJ5IHRoZSBzY2VuZSAqL1xuICAgIENhbWVyYVR5cGVbQ2FtZXJhVHlwZVtcIkNUX0NJTkVNQVRJQ1wiXSA9IDJdID0gXCJDVF9DSU5FTUFUSUNcIjtcbn0pKENhbWVyYVR5cGUgfHwgKENhbWVyYVR5cGUgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIElucHV0QWN0aW9uO1xuKGZ1bmN0aW9uIChJbnB1dEFjdGlvbikge1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfUE9JTlRFUlwiXSA9IDBdID0gXCJJQV9QT0lOVEVSXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9QUklNQVJZXCJdID0gMV0gPSBcIklBX1BSSU1BUllcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX1NFQ09OREFSWVwiXSA9IDJdID0gXCJJQV9TRUNPTkRBUllcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0FOWVwiXSA9IDNdID0gXCJJQV9BTllcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0ZPUldBUkRcIl0gPSA0XSA9IFwiSUFfRk9SV0FSRFwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfQkFDS1dBUkRcIl0gPSA1XSA9IFwiSUFfQkFDS1dBUkRcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX1JJR0hUXCJdID0gNl0gPSBcIklBX1JJR0hUXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9MRUZUXCJdID0gN10gPSBcIklBX0xFRlRcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0pVTVBcIl0gPSA4XSA9IFwiSUFfSlVNUFwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfV0FMS1wiXSA9IDldID0gXCJJQV9XQUxLXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9BQ1RJT05fM1wiXSA9IDEwXSA9IFwiSUFfQUNUSU9OXzNcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0FDVElPTl80XCJdID0gMTFdID0gXCJJQV9BQ1RJT05fNFwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfQUNUSU9OXzVcIl0gPSAxMl0gPSBcIklBX0FDVElPTl81XCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9BQ1RJT05fNlwiXSA9IDEzXSA9IFwiSUFfQUNUSU9OXzZcIjtcbn0pKElucHV0QWN0aW9uIHx8IChJbnB1dEFjdGlvbiA9IHt9KSk7XG4vKiogUG9pbnRlckV2ZW50VHlwZSBpcyBhIGtpbmQgb2YgaW50ZXJhY3Rpb24gdGhhdCBjYW4gYmUgZGV0ZWN0ZWQuICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQb2ludGVyRXZlbnRUeXBlO1xuKGZ1bmN0aW9uIChQb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgUG9pbnRlckV2ZW50VHlwZVtQb2ludGVyRXZlbnRUeXBlW1wiUEVUX1VQXCJdID0gMF0gPSBcIlBFVF9VUFwiO1xuICAgIFBvaW50ZXJFdmVudFR5cGVbUG9pbnRlckV2ZW50VHlwZVtcIlBFVF9ET1dOXCJdID0gMV0gPSBcIlBFVF9ET1dOXCI7XG4gICAgUG9pbnRlckV2ZW50VHlwZVtQb2ludGVyRXZlbnRUeXBlW1wiUEVUX0hPVkVSX0VOVEVSXCJdID0gMl0gPSBcIlBFVF9IT1ZFUl9FTlRFUlwiO1xuICAgIFBvaW50ZXJFdmVudFR5cGVbUG9pbnRlckV2ZW50VHlwZVtcIlBFVF9IT1ZFUl9MRUFWRVwiXSA9IDNdID0gXCJQRVRfSE9WRVJfTEVBVkVcIjtcbn0pKFBvaW50ZXJFdmVudFR5cGUgfHwgKFBvaW50ZXJFdmVudFR5cGUgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIExvYWRpbmdTdGF0ZTtcbihmdW5jdGlvbiAoTG9hZGluZ1N0YXRlKSB7XG4gICAgTG9hZGluZ1N0YXRlW0xvYWRpbmdTdGF0ZVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIExvYWRpbmdTdGF0ZVtMb2FkaW5nU3RhdGVbXCJMT0FESU5HXCJdID0gMV0gPSBcIkxPQURJTkdcIjtcbiAgICBMb2FkaW5nU3RhdGVbTG9hZGluZ1N0YXRlW1wiTk9UX0ZPVU5EXCJdID0gMl0gPSBcIk5PVF9GT1VORFwiO1xuICAgIExvYWRpbmdTdGF0ZVtMb2FkaW5nU3RhdGVbXCJGSU5JU0hFRF9XSVRIX0VSUk9SXCJdID0gM10gPSBcIkZJTklTSEVEX1dJVEhfRVJST1JcIjtcbiAgICBMb2FkaW5nU3RhdGVbTG9hZGluZ1N0YXRlW1wiRklOSVNIRURcIl0gPSA0XSA9IFwiRklOSVNIRURcIjtcbn0pKExvYWRpbmdTdGF0ZSB8fCAoTG9hZGluZ1N0YXRlID0ge30pKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHMuY29tbW9uXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUZXh0QWxpZ25Nb2RlO1xuKGZ1bmN0aW9uIChUZXh0QWxpZ25Nb2RlKSB7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX1RPUF9MRUZUXCJdID0gMF0gPSBcIlRBTV9UT1BfTEVGVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9UT1BfQ0VOVEVSXCJdID0gMV0gPSBcIlRBTV9UT1BfQ0VOVEVSXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX1RPUF9SSUdIVFwiXSA9IDJdID0gXCJUQU1fVE9QX1JJR0hUXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX01JRERMRV9MRUZUXCJdID0gM10gPSBcIlRBTV9NSURETEVfTEVGVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9NSURETEVfQ0VOVEVSXCJdID0gNF0gPSBcIlRBTV9NSURETEVfQ0VOVEVSXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX01JRERMRV9SSUdIVFwiXSA9IDVdID0gXCJUQU1fTUlERExFX1JJR0hUXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX0JPVFRPTV9MRUZUXCJdID0gNl0gPSBcIlRBTV9CT1RUT01fTEVGVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9CT1RUT01fQ0VOVEVSXCJdID0gN10gPSBcIlRBTV9CT1RUT01fQ0VOVEVSXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX0JPVFRPTV9SSUdIVFwiXSA9IDhdID0gXCJUQU1fQk9UVE9NX1JJR0hUXCI7XG59KShUZXh0QWxpZ25Nb2RlIHx8IChUZXh0QWxpZ25Nb2RlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEZvbnQ7XG4oZnVuY3Rpb24gKEZvbnQpIHtcbiAgICBGb250W0ZvbnRbXCJGX1NBTlNfU0VSSUZcIl0gPSAwXSA9IFwiRl9TQU5TX1NFUklGXCI7XG4gICAgRm9udFtGb250W1wiRl9TRVJJRlwiXSA9IDFdID0gXCJGX1NFUklGXCI7XG4gICAgRm9udFtGb250W1wiRl9NT05PU1BBQ0VcIl0gPSAyXSA9IFwiRl9NT05PU1BBQ0VcIjtcbn0pKEZvbnQgfHwgKEZvbnQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFNjaGVtYXMgfSBmcm9tICcuLi9zY2hlbWFzJztcbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgY29tcG9zaXRlIGlzIG5vdCBiZWluZyBzdXBwb3J0ZWQgc28gZmFyLCBwbGVhc2UgZG8gbm90IHVzZSB0aGlzIGZlYXR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvc2l0ZVJvb3RDb21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gZW5naW5lLmdldENvbXBvbmVudE9yTnVsbCgnY29tcG9zaXRlOjpyb290Jyk7XG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cbiAgICByZXR1cm4gZW5naW5lLmRlZmluZUNvbXBvbmVudCgnY29tcG9zaXRlOjpyb290Jywge1xuICAgICAgICBzcmM6IFNjaGVtYXMuU3RyaW5nLFxuICAgICAgICBlbnRpdGllczogU2NoZW1hcy5BcnJheShTY2hlbWFzLk1hcCh7XG4gICAgICAgICAgICBzcmM6IFNjaGVtYXMuRW50aXR5LFxuICAgICAgICAgICAgZGVzdDogU2NoZW1hcy5FbnRpdHlcbiAgICAgICAgfSkpXG4gICAgfSk7XG59XG4iLCAiY29uc3QgY3VycmVudFdvcmtpbmdEaXIgPSAnLyc7XG4vKipcbiAqIFRoZSBmdW5jdGlvbnMgYG5vcm1hbGl6ZVN0cmluZ1Bvc2l4YCwgYGRpcm5hbWVgIGFuZCBgcmVzb2x2ZWBcbiAqIHdlcmUgZXh0cmFjdGVkIGZyb20gcGFja2FnZSBAYnJvd3NlcmlmeS9wYXRoXG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmdQb3NpeChwYXRoLCBhbGxvd0Fib3ZlUm9vdCA9IGZhbHNlKSB7XG4gICAgbGV0IHJlcyA9ICcnO1xuICAgIGxldCBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gICAgbGV0IGxhc3RTbGFzaCA9IC0xO1xuICAgIGxldCBkb3RzID0gMDtcbiAgICBsZXQgY29kZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBwYXRoLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChpIDwgcGF0aC5sZW5ndGgpXG4gICAgICAgICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBlbHNlIGlmIChjb2RlID09PSA0NyAvKi8qLylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb2RlID0gNDc7IC8qLyovXG4gICAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIE5PT1BcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhc3RTbGFzaCAhPT0gaSAtIDEgJiYgZG90cyA9PT0gMikge1xuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoIDwgMiB8fFxuICAgICAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCAhPT0gMiB8fFxuICAgICAgICAgICAgICAgICAgICByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMSkgIT09IDQ2IC8qLiovIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAyKSAhPT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0U2xhc2hJbmRleCA9IHJlcy5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ICE9PSByZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5zbGljZSgwLCBsYXN0U2xhc2hJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyArPSAnLy4uJztcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJy4uJztcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9ICcvJyArIHBhdGguc2xpY2UobGFzdFNsYXNoICsgMSwgaSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXMgPSBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gaSAtIGxhc3RTbGFzaCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNDYgLyouKi8gJiYgZG90cyAhPT0gLTEpIHtcbiAgICAgICAgICAgICsrZG90cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvdHMgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlKC4uLmFyZ3MpIHtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgbGV0IHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcbiAgICBsZXQgY3dkO1xuICAgIGZvciAobGV0IGkgPSBhcmdzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgICAgICBsZXQgcGF0aDtcbiAgICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgICAgIHBhdGggPSBhcmdzW2ldO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjd2QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBjd2QgPSBjdXJyZW50V29ya2luZ0RpcjtcbiAgICAgICAgICAgIHBhdGggPSBjd2Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDc7IC8qLyovXG4gICAgfVxuICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVTdHJpbmdQb3NpeChyZXNvbHZlZFBhdGgsICFyZXNvbHZlZEFic29sdXRlKTtcbiAgICBpZiAocmVzb2x2ZWRBYnNvbHV0ZSkge1xuICAgICAgICBpZiAocmVzb2x2ZWRQYXRoLmxlbmd0aCA+IDApXG4gICAgICAgICAgICByZXR1cm4gJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXNvbHZlZFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWRQYXRoO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcuJztcbiAgICB9XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpcm5hbWUocGF0aCkge1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuICcuJztcbiAgICBsZXQgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCBoYXNSb290ID0gY29kZSA9PT0gNDc7IC8qLyovXG4gICAgbGV0IGVuZCA9IC0xO1xuICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMTsgLS1pKSB7XG4gICAgICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3JcbiAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlbmQgPT09IC0xKVxuICAgICAgICByZXR1cm4gaGFzUm9vdCA/ICcvJyA6ICcuJztcbiAgICBpZiAoaGFzUm9vdCAmJiBlbmQgPT09IDEpXG4gICAgICAgIHJldHVybiAnLy8nO1xuICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIGVuZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUNvbXBvc2l0ZShwYXRoLCBjd2QpIHtcbiAgICBjb25zdCBhYnNvbHV0ZVBhdGggPSBwYXRoLnN0YXJ0c1dpdGgoJy4nKSA/IHJlc29sdmUoY3dkLCBwYXRoKSA6IHJlc29sdmUocGF0aCk7XG4gICAgcmV0dXJuIGFic29sdXRlUGF0aC5zdWJzdHJpbmcoMSk7XG59XG4iLCAiaW1wb3J0IHsgY29tcG9uZW50RGVmaW5pdGlvbkJ5TmFtZSB9IGZyb20gJy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgY29tcG9uZW50TnVtYmVyRnJvbU5hbWUgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbXBvbmVudC1udW1iZXInO1xuaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4uL3NjaGVtYXMnO1xuaW1wb3J0IHsgUmVhZFdyaXRlQnl0ZUJ1ZmZlciB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlcic7XG5pbXBvcnQgeyBnZXRDb21wb3NpdGVSb290Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAnLi9wYXRoJztcbi8qKiBAcHVibGljICovXG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCB2YXIgRW50aXR5TWFwcGluZ01vZGU7XG4oZnVuY3Rpb24gKEVudGl0eU1hcHBpbmdNb2RlKSB7XG4gICAgRW50aXR5TWFwcGluZ01vZGVbRW50aXR5TWFwcGluZ01vZGVbXCJFTU1fTk9ORVwiXSA9IDBdID0gXCJFTU1fTk9ORVwiO1xuICAgIEVudGl0eU1hcHBpbmdNb2RlW0VudGl0eU1hcHBpbmdNb2RlW1wiRU1NX05FWFRfQVZBSUxBQkxFXCJdID0gMV0gPSBcIkVNTV9ORVhUX0FWQUlMQUJMRVwiO1xuICAgIEVudGl0eU1hcHBpbmdNb2RlW0VudGl0eU1hcHBpbmdNb2RlW1wiRU1NX0RJUkVDVF9NQVBQSU5HXCJdID0gMl0gPSBcIkVNTV9ESVJFQ1RfTUFQUElOR1wiO1xufSkoRW50aXR5TWFwcGluZ01vZGUgfHwgKEVudGl0eU1hcHBpbmdNb2RlID0ge30pKTtcbi8qKlxuICogUmV0dXJuIHRoZSBjb21wb25lbnQgdmFsdWUgZnJvbSBjb21wb3NpdGUgZGF0YVxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wb25lbnRWYWx1ZShjb21wb25lbnREZWZpbml0aW9uLCBjb21wb25lbnQpIHtcbiAgICBpZiAoY29tcG9uZW50LmRhdGE/LiRjYXNlID09PSAnanNvbicpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5kYXRhLmpzb247XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50RGVmaW5pdGlvbi5zY2hlbWEuZGVzZXJpYWxpemUobmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoY29tcG9uZW50LmRhdGE/LmJpbmFyeSkpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJuIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbiBmcm9tIGNvbXBvc2l0ZSBpbmZvXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudERlZmluaXRpb24oZW5naW5lLCBjb21wb25lbnQpIHtcbiAgICBjb25zdCBleGlzdGluZ0NvbXBvbmVudERlZmluaXRpb24gPSBlbmdpbmUuZ2V0Q29tcG9uZW50T3JOdWxsKGNvbXBvbmVudC5uYW1lKTtcbiAgICBpZiAoIWV4aXN0aW5nQ29tcG9uZW50RGVmaW5pdGlvbikge1xuICAgICAgICBpZiAoY29tcG9uZW50Lm5hbWUuc3RhcnRzV2l0aCgnY29yZTo6JykpIHtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQubmFtZSBpbiBjb21wb25lbnREZWZpbml0aW9uQnlOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudERlZmluaXRpb25CeU5hbWVbY29tcG9uZW50Lm5hbWVdKGVuZ2luZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBjb3JlIGNvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSB3YXMgbm90IGZvdW5kLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbXBvbmVudC5qc29uU2NoZW1hKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoY29tcG9uZW50Lm5hbWUsIFNjaGVtYXMuZnJvbUpzb24oY29tcG9uZW50Lmpzb25TY2hlbWEpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtjb21wb25lbnQubmFtZX0gaXMgbm90IGRlZmluZWQgYW5kIHRoZXJlIGlzIG5vIHNjaGVtYSB0byBkZWZpbmUgaXQuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ0NvbXBvbmVudERlZmluaXRpb247XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGVudGl0eSBtYXBwaW5nIG9yIGZhaWwgaWYgdGhlcmUgaXMgbm8gbW9yZVxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRpdHlNYXBwaW5nKGVuZ2luZSwgY29tcG9zaXRlRW50aXR5LCBtYXBwZWRFbnRpdGllcywgeyBlbnRpdHlNYXBwaW5nIH0pIHtcbiAgICBjb25zdCBleGlzdGluZ0VudGl0eSA9IG1hcHBlZEVudGl0aWVzLmdldChjb21wb3NpdGVFbnRpdHkpO1xuICAgIGlmIChleGlzdGluZ0VudGl0eSkge1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdFbnRpdHk7XG4gICAgfVxuICAgIGlmIChlbnRpdHlNYXBwaW5nPy50eXBlID09PSBFbnRpdHlNYXBwaW5nTW9kZS5FTU1fRElSRUNUX01BUFBJTkcpIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gZW50aXR5TWFwcGluZy5nZXRDb21wb3NpdGVFbnRpdHkoY29tcG9zaXRlRW50aXR5KTtcbiAgICAgICAgbWFwcGVkRW50aXRpZXMuc2V0KGNvbXBvc2l0ZUVudGl0eSwgZW50aXR5KTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpbiBydW50aW1lIGNhbiBiZSBqdXN0IGBlbmdpbmUuYWRkRW50aXR5KClgXG4gICAgY29uc3QgbmV3RW50aXR5ID0gZW50aXR5TWFwcGluZz8udHlwZSA9PT0gRW50aXR5TWFwcGluZ01vZGUuRU1NX05FWFRfQVZBSUxBQkxFXG4gICAgICAgID8gZW50aXR5TWFwcGluZy5nZXROZXh0QXZhaWxhYmxlRW50aXR5KClcbiAgICAgICAgOiBlbmdpbmUuYWRkRW50aXR5KCk7XG4gICAgaWYgKG5ld0VudGl0eSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIG1vcmUgZW50aXRpZXMgdG8gYWxsb2NhdGUnKTtcbiAgICB9XG4gICAgbWFwcGVkRW50aXRpZXMuc2V0KGNvbXBvc2l0ZUVudGl0eSwgbmV3RW50aXR5KTtcbiAgICByZXR1cm4gbmV3RW50aXR5O1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFuY2VDb21wb3NpdGUoZW5naW5lLCBjb21wb3NpdGVSZXNvdXJjZSwgY29tcG9zaXRlUHJvdmlkZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHJvb3RFbnRpdHksIGFscmVhZHlSZXF1ZXN0ZWRTcmM6IG9wdGlvbmFsQWxyZWFkeVJlcXVlc3RlZFNyYywgZW50aXR5TWFwcGluZyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBhbHJlYWR5UmVxdWVzdGVkU3JjID0gb3B0aW9uYWxBbHJlYWR5UmVxdWVzdGVkU3JjIHx8IG5ldyBTZXQoKTtcbiAgICBjb25zdCBjb21wb3NpdGVEaXJlY3RvcnlQYXRoID0gcGF0aC5kaXJuYW1lKHBhdGgucmVzb2x2ZShjb21wb3NpdGVSZXNvdXJjZS5zcmMpKTtcbiAgICBjb25zdCBUcmFuc2Zvcm1Db21wb25lbnROdW1iZXIgPSBjb21wb25lbnROdW1iZXJGcm9tTmFtZSgnY29yZTo6VHJhbnNmb3JtJyk7XG4gICAgY29uc3QgQ29tcG9zaXRlUm9vdENvbXBvbmVudCA9IGdldENvbXBvc2l0ZVJvb3RDb21wb25lbnQoZW5naW5lKTtcbiAgICAvLyBLZXkgPT4gRW50aXR5TnVtYmVyIGZyb20gdGhlIGNvbXBvc2l0ZVxuICAgIC8vIFZhbHVlID0+IEVudGl0eU51bWJlciBpbiBjdXJyZW50IGVuZ2luZVxuICAgIGNvbnN0IG1hcHBlZEVudGl0aWVzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGdldENvbXBvc2l0ZUVudGl0eSA9IChjb21wb3NpdGVFbnRpdHkpID0+IGdldEVudGl0eU1hcHBpbmcoZW5naW5lLCBjb21wb3NpdGVFbnRpdHksIG1hcHBlZEVudGl0aWVzLCBvcHRpb25zKTtcbiAgICAvLyAjIyAxICMjXG4gICAgLy8gRmlyc3QgZW50aXR5IHRoYXQgSSB3YW50IHRvIG1hcCwgdGhlIHJvb3QgZW50aXR5IGZyb20gdGhlIGNvbXBvc2l0ZSB0byB0aGUgdGFyZ2V0IGVudGl0eSBpbiB0aGUgZW5naW5lXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYHJvb3RFbnRpdHlgIHBhc3NlZCwgd2UgYXNzaWduIG9uZSBmcm9tIGBnZXROZXh0QXZhaWxhYmxlRW50aXR5YFxuICAgIGNvbnN0IGNvbXBvc2l0ZVJvb3RFbnRpdHkgPSByb290RW50aXR5ID8/IGdldENvbXBvc2l0ZUVudGl0eSgwKTtcbiAgICBpZiAocm9vdEVudGl0eSkge1xuICAgICAgICBtYXBwZWRFbnRpdGllcy5zZXQoMCwgcm9vdEVudGl0eSk7XG4gICAgfVxuICAgIC8vICMjIDIgIyNcbiAgICAvLyBJZiB0aGVyZSBhcmUgbW9yZSBjb21wb3NpdGUgaW5zaWRlIHRoaXMgb25lLCB3ZSBpbnN0YW5jZSBmaXJzdC5cbiAgICAvLyA9PiBUaGlzIGlzIG5vdCBvbmx5IGEgY29weSwgd2UgbmVlZCB0byBpbnN0YW5jZS4gT3RoZXJ3aXNlLCB3ZSdkIGJlIG1pc3NpbmcgdGhhdCBicmFuY2hlc1xuICAgIC8vID0+IFRPRE86IGluIHRoZSBmdXR1cmUsIHRoZSBpbnN0YW5jaWF0aW9uIGlzIGZpcnN0LCB0aGVuIHRoZSBvdmVyaWRlcyAodG8gcGFyYW1ldGVyaXplIENvbXBvc2l0ZSwgZS5nLiBob3VzZSB3aXRoIGRpZmZlcmVudCB3YWxsIGNvbG9ycylcbiAgICBjb25zdCBjaGlsZHJlbkNvbXBvc2l0ZSA9IGNvbXBvc2l0ZVJlc291cmNlLmNvbXBvc2l0ZS5jb21wb25lbnRzLmZpbmQoKGl0ZW0pID0+IGl0ZW0ubmFtZSA9PT0gQ29tcG9zaXRlUm9vdENvbXBvbmVudC5jb21wb25lbnROYW1lKTtcbiAgICBpZiAoY2hpbGRyZW5Db21wb3NpdGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBbY2hpbGRDb21wb3NpdGVFbnRpdHksIGNvbXBvc2l0ZVJhd0RhdGFdIG9mIGNoaWxkcmVuQ29tcG9zaXRlLmRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQ29tcG9zaXRlID0gZ2V0Q29tcG9uZW50VmFsdWUoQ29tcG9zaXRlUm9vdENvbXBvbmVudCwgY29tcG9zaXRlUmF3RGF0YSk7XG4gICAgICAgICAgICBjb25zdCBjaGlsZENvbXBvc2l0ZVBhdGggPSBwYXRoLnJlc29sdmVDb21wb3NpdGUoY2hpbGRDb21wb3NpdGUuc3JjLCBjb21wb3NpdGVEaXJlY3RvcnlQYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQ29tcG9zaXRlUmVzb3VyY2UgPSBjb21wb3NpdGVQcm92aWRlci5nZXRDb21wb3NpdGVPck51bGwoY2hpbGRDb21wb3NpdGVQYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEVudGl0eSA9IGdldENvbXBvc2l0ZUVudGl0eShjaGlsZENvbXBvc2l0ZUVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY2hpbGRDb21wb3NpdGVSZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmIChhbHJlYWR5UmVxdWVzdGVkU3JjLmhhcyhjaGlsZENvbXBvc2l0ZVJlc291cmNlLnNyYykgfHxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb21wb3NpdGVSZXNvdXJjZS5zcmMgPT09IGNvbXBvc2l0ZVJlc291cmNlLnNyYykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvc2l0ZSAke2NvbXBvc2l0ZVJlc291cmNlLnNyY30gaGFzIGEgcmVjdXJzaXZlIGluc3RhbmNpYXRpb24gd2hpbGUgdHJ5IHRvIGluc3RhbmNlICR7Y2hpbGRDb21wb3NpdGVSZXNvdXJjZS5zcmN9LiBQcmV2aW91cyBpbnN0YW5jZXM6ICR7YWxyZWFkeVJlcXVlc3RlZFNyYy50b1N0cmluZygpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnN0YW5jZUNvbXBvc2l0ZShlbmdpbmUsIGNoaWxkQ29tcG9zaXRlUmVzb3VyY2UsIGNvbXBvc2l0ZVByb3ZpZGVyLCB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3RFbnRpdHk6IHRhcmdldEVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgYWxyZWFkeVJlcXVlc3RlZFNyYzogbmV3IFNldChhbHJlYWR5UmVxdWVzdGVkU3JjKS5hZGQoY2hpbGRDb21wb3NpdGVSZXNvdXJjZS5zcmMpLFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlNYXBwaW5nOiBlbnRpdHlNYXBwaW5nPy50eXBlID09PSBFbnRpdHlNYXBwaW5nTW9kZS5FTU1fTkVYVF9BVkFJTEFCTEUgPyBlbnRpdHlNYXBwaW5nIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gIyMgMyAjI1xuICAgIC8vIFRoZW4sIHdlIGNvcHkgdGhlIGFsbCByZXN0IG9mIHRoZSBjb21wb25lbnRzIChza2lwcGluZyB0aGUgQ29tcG9zaXRlIG9uZXMpXG4gICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgY29tcG9zaXRlUmVzb3VyY2UuY29tcG9zaXRlLmNvbXBvbmVudHMpIHtcbiAgICAgICAgLy8gV2UgYWxyZWFkeSBpbnN0YW5jZWQgdGhlIGNvbXBvc2l0ZVxuICAgICAgICBpZiAoY29tcG9uZW50Lm5hbWUgPT09IENvbXBvc2l0ZVJvb3RDb21wb25lbnQuY29tcG9uZW50TmFtZSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyAjIyAzYSAjI1xuICAgICAgICAvLyBXZSBmaW5kIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvblxuICAgICAgICBjb25zdCBjb21wb25lbnREZWZpbml0aW9uID0gZ2V0Q29tcG9uZW50RGVmaW5pdGlvbihlbmdpbmUsIGNvbXBvbmVudCk7XG4gICAgICAgIC8vICMjIDNiICMjXG4gICAgICAgIC8vIEl0ZXJhdGluZyBvdmVyIGFsbCB0aGUgZW50aXRpZXMgd2l0aCB0aGlzIGNvbXBvbmVudCBhbmQgY3JlYXRlIHRoZSByZXBsaWNhXG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgY29tcG9zaXRlQ29tcG9uZW50VmFsdWVdIG9mIGNvbXBvbmVudC5kYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWYWx1ZURlc2VyaWFsaXplZCA9IGdldENvbXBvbmVudFZhbHVlKGNvbXBvbmVudERlZmluaXRpb24sIGNvbXBvc2l0ZUNvbXBvbmVudFZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEVudGl0eSA9IGdldENvbXBvc2l0ZUVudGl0eShlbnRpdHkpO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50VmFsdWUgPSBjb21wb25lbnREZWZpbml0aW9uLmNyZWF0ZSh0YXJnZXRFbnRpdHksIGNvbXBvbmVudFZhbHVlRGVzZXJpYWxpemVkKTtcbiAgICAgICAgICAgIC8vICMjIDNjICMjXG4gICAgICAgICAgICAvLyBBbGwgZW50aXRpZXMgcmVmZXJlbmNlZCBpbiB0aGUgY29tcG9zaXRlIHByb2JhYmx5IGhhcyBhIGRpZmZlcmVudCByZXNvbHZlZCBFbnRpdHlOdW1iZXJcbiAgICAgICAgICAgIC8vIFdlJ2xsIGtub3cgd2l0aCB0aGUgbWFwcGVkRW50aXR5ZXNcbiAgICAgICAgICAgIGlmIChjb21wb25lbnREZWZpbml0aW9uLmNvbXBvbmVudElkID09PSBUcmFuc2Zvcm1Db21wb25lbnROdW1iZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBjb21wb25lbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucGFyZW50ID0gZ2V0Q29tcG9zaXRlRW50aXR5KHRyYW5zZm9ybS5wYXJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnBhcmVudCA9IGdldENvbXBvc2l0ZUVudGl0eSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogaXMgaXQgZ29pbmcgdG8gYmUgbmVjZXNzYXJ5IHRvIHJlbWFwIGFzc2V0cz8gZS5nLiBzcmMgcGFyYW0gZnJvbSBBdWRpb1NvdXJjZSBhbmQgR2x0ZkNvbnRhaW5lclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgU2NoZW1hcy5tdXRhdGVOZXN0ZWRWYWx1ZXMoY29tcG9uZW50RGVmaW5pdGlvbi5zY2hlbWEuanNvblNjaGVtYSwgY29tcG9uZW50VmFsdWUsICh2YWx1ZSwgdmFsdWVUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVR5cGUuc2VyaWFsaXphdGlvblR5cGUgPT09ICdlbnRpdHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBjaGFuZ2VkOiB0cnVlLCB2YWx1ZTogZ2V0Q29tcG9zaXRlRW50aXR5KHZhbHVlKSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlZDogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNvbXBvc2l0ZSA9IENvbXBvc2l0ZVJvb3RDb21wb25lbnQuZ2V0TXV0YWJsZU9yTnVsbChjb21wb3NpdGVSb290RW50aXR5KSB8fCBDb21wb3NpdGVSb290Q29tcG9uZW50LmNyZWF0ZShjb21wb3NpdGVSb290RW50aXR5KTtcbiAgICBmb3IgKGNvbnN0IFtlbnRpdHlTb3VyY2UsIHRhcmdldEVudGl0eV0gb2YgbWFwcGVkRW50aXRpZXMpIHtcbiAgICAgICAgY29tcG9zaXRlLmVudGl0aWVzLnB1c2goe1xuICAgICAgICAgICAgc3JjOiBlbnRpdHlTb3VyY2UsXG4gICAgICAgICAgICBkZXN0OiB0YXJnZXRFbnRpdHlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbXBvc2l0ZS5zcmMgPSBjb21wb3NpdGVSZXNvdXJjZS5zcmM7XG4gICAgcmV0dXJuIGNvbXBvc2l0ZVJvb3RFbnRpdHk7XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi9nb29nbGUvcHJvdG9idWYvc3RydWN0LmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb21wb25lbnREYXRhKCkge1xuICAgIHJldHVybiB7IGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9uZW50RGF0YTtcbihmdW5jdGlvbiAoQ29tcG9uZW50RGF0YSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5kYXRhPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcImpzb25cIjpcbiAgICAgICAgICAgICAgICBWYWx1ZS5lbmNvZGUoVmFsdWUud3JhcChtZXNzYWdlLmRhdGEuanNvbiksIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5kYXRhLmJpbmFyeSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQ29tcG9uZW50RGF0YS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbXBvbmVudERhdGEoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhID0geyAkY2FzZTogXCJqc29uXCIsIGpzb246IFZhbHVlLnVud3JhcChWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRhdGEgPSB7ICRjYXNlOiBcImJpbmFyeVwiLCBiaW5hcnk6IHJlYWRlci5ieXRlcygpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29tcG9uZW50RGF0YS5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBpc1NldChvYmplY3QuanNvbilcbiAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwianNvblwiLCBqc29uOiBvYmplY3QuanNvbiB9XG4gICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3QuYmluYXJ5KVxuICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwiYmluYXJ5XCIsIGJpbmFyeTogYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5iaW5hcnkpIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIENvbXBvbmVudERhdGEuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5kYXRhPy4kY2FzZSA9PT0gXCJqc29uXCIgJiYgKG9iai5qc29uID0gbWVzc2FnZS5kYXRhPy5qc29uKTtcbiAgICAgICAgbWVzc2FnZS5kYXRhPy4kY2FzZSA9PT0gXCJiaW5hcnlcIiAmJlxuICAgICAgICAgICAgKG9iai5iaW5hcnkgPSBtZXNzYWdlLmRhdGE/LmJpbmFyeSAhPT0gdW5kZWZpbmVkID8gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YT8uYmluYXJ5KSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIENvbXBvbmVudERhdGEudG9KU09OID0gdG9KU09OO1xufSkoQ29tcG9uZW50RGF0YSB8fCAoQ29tcG9uZW50RGF0YSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29tcG9zaXRlQ29tcG9uZW50KCkge1xuICAgIHJldHVybiB7IG5hbWU6IFwiXCIsIGpzb25TY2hlbWE6IHVuZGVmaW5lZCwgZGF0YTogbmV3IE1hcCgpIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb21wb3NpdGVDb21wb25lbnQ7XG4oZnVuY3Rpb24gKENvbXBvc2l0ZUNvbXBvbmVudCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmpzb25TY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmFsdWUuZW5jb2RlKFZhbHVlLndyYXAobWVzc2FnZS5qc29uU2NoZW1hKSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICAobWVzc2FnZS5kYXRhKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5LmVuY29kZSh7IGtleToga2V5LCB2YWx1ZSB9LCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29tcG9zaXRlQ29tcG9uZW50KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5qc29uU2NoZW1hID0gVmFsdWUudW53cmFwKFZhbHVlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyeTMgPSBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeTMudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhLnNldChlbnRyeTMua2V5LCBlbnRyeTMudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50LmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IFN0cmluZyhvYmplY3QubmFtZSkgOiBcIlwiLFxuICAgICAgICAgICAganNvblNjaGVtYTogaXNTZXQob2JqZWN0Py5qc29uU2NoZW1hKSA/IG9iamVjdC5qc29uU2NoZW1hIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogaXNPYmplY3Qob2JqZWN0LmRhdGEpXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuZW50cmllcyhvYmplY3QuZGF0YSkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2Muc2V0KE51bWJlcihrZXkpLCBDb21wb25lbnREYXRhLmZyb21KU09OKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwgbmV3IE1hcCgpKVxuICAgICAgICAgICAgICAgIDogbmV3IE1hcCgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnQuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5uYW1lICE9PSB1bmRlZmluZWQgJiYgKG9iai5uYW1lID0gbWVzc2FnZS5uYW1lKTtcbiAgICAgICAgbWVzc2FnZS5qc29uU2NoZW1hICE9PSB1bmRlZmluZWQgJiYgKG9iai5qc29uU2NoZW1hID0gbWVzc2FnZS5qc29uU2NoZW1hKTtcbiAgICAgICAgb2JqLmRhdGEgPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YSkge1xuICAgICAgICAgICAgbWVzc2FnZS5kYXRhLmZvckVhY2goKHYsIGspID0+IHtcbiAgICAgICAgICAgICAgICBvYmouZGF0YVtrXSA9IENvbXBvbmVudERhdGEudG9KU09OKHYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50LnRvSlNPTiA9IHRvSlNPTjtcbn0pKENvbXBvc2l0ZUNvbXBvbmVudCB8fCAoQ29tcG9zaXRlQ29tcG9uZW50ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5KCkge1xuICAgIHJldHVybiB7IGtleTogMCwgdmFsdWU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeTtcbihmdW5jdGlvbiAoQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmtleSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29tcG9uZW50RGF0YS5lbmNvZGUobWVzc2FnZS52YWx1ZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSBDb21wb25lbnREYXRhLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeS5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IGlzU2V0KG9iamVjdC5rZXkpID8gTnVtYmVyKG9iamVjdC5rZXkpIDogMCxcbiAgICAgICAgICAgIHZhbHVlOiBpc1NldChvYmplY3QudmFsdWUpID8gQ29tcG9uZW50RGF0YS5mcm9tSlNPTihvYmplY3QudmFsdWUpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5LmZyb21KU09OID0gZnJvbUpTT047XG4gICAgZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5rZXkgPSBNYXRoLnJvdW5kKG1lc3NhZ2Uua2V5KSk7XG4gICAgICAgIG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZhbHVlID0gbWVzc2FnZS52YWx1ZSA/IENvbXBvbmVudERhdGEudG9KU09OKG1lc3NhZ2UudmFsdWUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeS50b0pTT04gPSB0b0pTT047XG59KShDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5IHx8IChDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb21wb3NpdGVEZWZpbml0aW9uKCkge1xuICAgIHJldHVybiB7IHZlcnNpb246IDAsIGNvbXBvbmVudHM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb21wb3NpdGVEZWZpbml0aW9uO1xuKGZ1bmN0aW9uIChDb21wb3NpdGVEZWZpbml0aW9uKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmVyc2lvbiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIENvbXBvc2l0ZUNvbXBvbmVudC5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBDb21wb3NpdGVEZWZpbml0aW9uLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29tcG9zaXRlRGVmaW5pdGlvbigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmVyc2lvbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbXBvbmVudHMucHVzaChDb21wb3NpdGVDb21wb25lbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29tcG9zaXRlRGVmaW5pdGlvbi5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBpc1NldChvYmplY3QudmVyc2lvbikgPyBOdW1iZXIob2JqZWN0LnZlcnNpb24pIDogMCxcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5jb21wb25lbnRzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LmNvbXBvbmVudHMubWFwKChlKSA9PiBDb21wb3NpdGVDb21wb25lbnQuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQ29tcG9zaXRlRGVmaW5pdGlvbi5mcm9tSlNPTiA9IGZyb21KU09OO1xuICAgIGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiAob2JqLnZlcnNpb24gPSBNYXRoLnJvdW5kKG1lc3NhZ2UudmVyc2lvbikpO1xuICAgICAgICBpZiAobWVzc2FnZS5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICBvYmouY29tcG9uZW50cyA9IG1lc3NhZ2UuY29tcG9uZW50cy5tYXAoKGUpID0+IGUgPyBDb21wb3NpdGVDb21wb25lbnQudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5jb21wb25lbnRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgQ29tcG9zaXRlRGVmaW5pdGlvbi50b0pTT04gPSB0b0pTT047XG59KShDb21wb3NpdGVEZWZpbml0aW9uIHx8IChDb21wb3NpdGVEZWZpbml0aW9uID0ge30pKTtcbmNvbnN0IHRzUHJvdG9HbG9iYWxUaGlzID0gKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB9XG4gICAgdGhyb3cgXCJVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3RcIjtcbn0pKCk7XG5mdW5jdGlvbiBieXRlc0Zyb21CYXNlNjQoYjY0KSB7XG4gICAgaWYgKHRzUHJvdG9HbG9iYWxUaGlzLkJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKHRzUHJvdG9HbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGI2NCwgXCJiYXNlNjRcIikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgYmluID0gdHNQcm90b0dsb2JhbFRoaXMuYXRvYihiNjQpO1xuICAgICAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShiaW4ubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfVxufVxuZnVuY3Rpb24gYmFzZTY0RnJvbUJ5dGVzKGFycikge1xuICAgIGlmICh0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIHRzUHJvdG9HbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGFycikudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBiaW4gPSBbXTtcbiAgICAgICAgYXJyLmZvckVhY2goKGJ5dGUpID0+IHtcbiAgICAgICAgICAgIGJpbi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRzUHJvdG9HbG9iYWxUaGlzLmJ0b2EoYmluLmpvaW4oXCJcIikpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJnb29nbGUucHJvdG9idWZcIjtcbi8qKlxuICogYE51bGxWYWx1ZWAgaXMgYSBzaW5nbGV0b24gZW51bWVyYXRpb24gdG8gcmVwcmVzZW50IHRoZSBudWxsIHZhbHVlIGZvciB0aGVcbiAqIGBWYWx1ZWAgdHlwZSB1bmlvbi5cbiAqXG4gKiAgVGhlIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIGBOdWxsVmFsdWVgIGlzIEpTT04gYG51bGxgLlxuICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBOdWxsVmFsdWU7XG4oZnVuY3Rpb24gKE51bGxWYWx1ZSkge1xuICAgIC8qKiBOVUxMX1ZBTFVFIC0gTnVsbCB2YWx1ZS4gKi9cbiAgICBOdWxsVmFsdWVbTnVsbFZhbHVlW1wiTlVMTF9WQUxVRVwiXSA9IDBdID0gXCJOVUxMX1ZBTFVFXCI7XG59KShOdWxsVmFsdWUgfHwgKE51bGxWYWx1ZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bGxWYWx1ZUZyb21KU09OKG9iamVjdCkge1xuICAgIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSBcIk5VTExfVkFMVUVcIjpcbiAgICAgICAgICAgIHJldHVybiAwIC8qIE51bGxWYWx1ZS5OVUxMX1ZBTFVFICovO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBOdWxsVmFsdWVcIik7XG4gICAgfVxufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudWxsVmFsdWVUb0pTT04ob2JqZWN0KSB7XG4gICAgc3dpdGNoIChvYmplY3QpIHtcbiAgICAgICAgY2FzZSAwIC8qIE51bGxWYWx1ZS5OVUxMX1ZBTFVFICovOlxuICAgICAgICAgICAgcmV0dXJuIFwiTlVMTF9WQUxVRVwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBOdWxsVmFsdWVcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQmFzZVN0cnVjdCgpIHtcbiAgICByZXR1cm4geyBmaWVsZHM6IG5ldyBNYXAoKSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgU3RydWN0O1xuKGZ1bmN0aW9uIChTdHJ1Y3QpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICAobWVzc2FnZS5maWVsZHMpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgU3RydWN0X0ZpZWxkc0VudHJ5LmVuY29kZSh7IGtleToga2V5LCB2YWx1ZSB9LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgU3RydWN0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU3RydWN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5MSA9IFN0cnVjdF9GaWVsZHNFbnRyeS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkxLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmllbGRzLnNldChlbnRyeTEua2V5LCBlbnRyeTEudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgU3RydWN0LmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkczogaXNPYmplY3Qob2JqZWN0LmZpZWxkcylcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5lbnRyaWVzKG9iamVjdC5maWVsZHMpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICB9LCBuZXcgTWFwKCkpXG4gICAgICAgICAgICAgICAgOiBuZXcgTWFwKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIFN0cnVjdC5mcm9tSlNPTiA9IGZyb21KU09OO1xuICAgIGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBvYmouZmllbGRzID0ge307XG4gICAgICAgIGlmIChtZXNzYWdlLmZpZWxkcykge1xuICAgICAgICAgICAgbWVzc2FnZS5maWVsZHMuZm9yRWFjaCgodiwgaykgPT4ge1xuICAgICAgICAgICAgICAgIG9iai5maWVsZHNba10gPSB2O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgU3RydWN0LnRvSlNPTiA9IHRvSlNPTjtcbiAgICBmdW5jdGlvbiB3cmFwKG9iamVjdCkge1xuICAgICAgICBjb25zdCBzdHJ1Y3QgPSBjcmVhdGVCYXNlU3RydWN0KCk7XG4gICAgICAgIGlmIChvYmplY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBzdHJ1Y3QuZmllbGRzLnNldChrZXksIG9iamVjdFtrZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJ1Y3Q7XG4gICAgfVxuICAgIFN0cnVjdC53cmFwID0gd3JhcDtcbiAgICBmdW5jdGlvbiB1bndyYXAobWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmplY3QgPSB7fTtcbiAgICAgICAgWy4uLm1lc3NhZ2UuZmllbGRzLmtleXMoKV0uZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IG1lc3NhZ2UuZmllbGRzLmdldChrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG4gICAgU3RydWN0LnVud3JhcCA9IHVud3JhcDtcbn0pKFN0cnVjdCB8fCAoU3RydWN0ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTdHJ1Y3RfRmllbGRzRW50cnkoKSB7XG4gICAgcmV0dXJuIHsga2V5OiBcIlwiLCB2YWx1ZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBTdHJ1Y3RfRmllbGRzRW50cnk7XG4oZnVuY3Rpb24gKFN0cnVjdF9GaWVsZHNFbnRyeSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmtleSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uua2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWYWx1ZS5lbmNvZGUoVmFsdWUud3JhcChtZXNzYWdlLnZhbHVlKSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBTdHJ1Y3RfRmllbGRzRW50cnkuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTdHJ1Y3RfRmllbGRzRW50cnkoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5rZXkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSBWYWx1ZS51bndyYXAoVmFsdWUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgU3RydWN0X0ZpZWxkc0VudHJ5LmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHsga2V5OiBpc1NldChvYmplY3Qua2V5KSA/IFN0cmluZyhvYmplY3Qua2V5KSA6IFwiXCIsIHZhbHVlOiBpc1NldChvYmplY3Q/LnZhbHVlKSA/IG9iamVjdC52YWx1ZSA6IHVuZGVmaW5lZCB9O1xuICAgIH1cbiAgICBTdHJ1Y3RfRmllbGRzRW50cnkuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmtleSA9IG1lc3NhZ2Uua2V5KTtcbiAgICAgICAgbWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmFsdWUgPSBtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgU3RydWN0X0ZpZWxkc0VudHJ5LnRvSlNPTiA9IHRvSlNPTjtcbn0pKFN0cnVjdF9GaWVsZHNFbnRyeSB8fCAoU3RydWN0X0ZpZWxkc0VudHJ5ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWYWx1ZSgpIHtcbiAgICByZXR1cm4geyBraW5kOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFZhbHVlO1xuKGZ1bmN0aW9uIChWYWx1ZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5raW5kPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcIm51bGxWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5raW5kLm51bGxWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyVmFsdWVcIjpcbiAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKDE3KS5kb3VibGUobWVzc2FnZS5raW5kLm51bWJlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLmtpbmQuc3RyaW5nVmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJvb2xWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5raW5kLmJvb2xWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RydWN0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICBTdHJ1Y3QuZW5jb2RlKFN0cnVjdC53cmFwKG1lc3NhZ2Uua2luZC5zdHJ1Y3RWYWx1ZSksIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibGlzdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgTGlzdFZhbHVlLmVuY29kZShMaXN0VmFsdWUud3JhcChtZXNzYWdlLmtpbmQubGlzdFZhbHVlKSwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBWYWx1ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZhbHVlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5raW5kID0geyAkY2FzZTogXCJudWxsVmFsdWVcIiwgbnVsbFZhbHVlOiByZWFkZXIuaW50MzIoKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7ICRjYXNlOiBcIm51bWJlclZhbHVlXCIsIG51bWJlclZhbHVlOiByZWFkZXIuZG91YmxlKCkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5raW5kID0geyAkY2FzZTogXCJzdHJpbmdWYWx1ZVwiLCBzdHJpbmdWYWx1ZTogcmVhZGVyLnN0cmluZygpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2luZCA9IHsgJGNhc2U6IFwiYm9vbFZhbHVlXCIsIGJvb2xWYWx1ZTogcmVhZGVyLmJvb2woKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7ICRjYXNlOiBcInN0cnVjdFZhbHVlXCIsIHN0cnVjdFZhbHVlOiBTdHJ1Y3QudW53cmFwKFN0cnVjdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7ICRjYXNlOiBcImxpc3RWYWx1ZVwiLCBsaXN0VmFsdWU6IExpc3RWYWx1ZS51bndyYXAoTGlzdFZhbHVlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgVmFsdWUuZGVjb2RlID0gZGVjb2RlO1xuICAgIGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogaXNTZXQob2JqZWN0Lm51bGxWYWx1ZSlcbiAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwibnVsbFZhbHVlXCIsIG51bGxWYWx1ZTogbnVsbFZhbHVlRnJvbUpTT04ob2JqZWN0Lm51bGxWYWx1ZSkgfVxuICAgICAgICAgICAgICAgIDogaXNTZXQob2JqZWN0Lm51bWJlclZhbHVlKVxuICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwibnVtYmVyVmFsdWVcIiwgbnVtYmVyVmFsdWU6IE51bWJlcihvYmplY3QubnVtYmVyVmFsdWUpIH1cbiAgICAgICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3Quc3RyaW5nVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwic3RyaW5nVmFsdWVcIiwgc3RyaW5nVmFsdWU6IFN0cmluZyhvYmplY3Quc3RyaW5nVmFsdWUpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogaXNTZXQob2JqZWN0LmJvb2xWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwiYm9vbFZhbHVlXCIsIGJvb2xWYWx1ZTogQm9vbGVhbihvYmplY3QuYm9vbFZhbHVlKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3Quc3RydWN0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyAkY2FzZTogXCJzdHJ1Y3RWYWx1ZVwiLCBzdHJ1Y3RWYWx1ZTogb2JqZWN0LnN0cnVjdFZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3QubGlzdFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7ICRjYXNlOiBcImxpc3RWYWx1ZVwiLCBsaXN0VmFsdWU6IFsuLi5vYmplY3QubGlzdFZhbHVlXSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgVmFsdWUuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJudWxsVmFsdWVcIiAmJlxuICAgICAgICAgICAgKG9iai5udWxsVmFsdWUgPSBtZXNzYWdlLmtpbmQ/Lm51bGxWYWx1ZSAhPT0gdW5kZWZpbmVkID8gbnVsbFZhbHVlVG9KU09OKG1lc3NhZ2Uua2luZD8ubnVsbFZhbHVlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwibnVtYmVyVmFsdWVcIiAmJiAob2JqLm51bWJlclZhbHVlID0gbWVzc2FnZS5raW5kPy5udW1iZXJWYWx1ZSk7XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwic3RyaW5nVmFsdWVcIiAmJiAob2JqLnN0cmluZ1ZhbHVlID0gbWVzc2FnZS5raW5kPy5zdHJpbmdWYWx1ZSk7XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwiYm9vbFZhbHVlXCIgJiYgKG9iai5ib29sVmFsdWUgPSBtZXNzYWdlLmtpbmQ/LmJvb2xWYWx1ZSk7XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwic3RydWN0VmFsdWVcIiAmJiAob2JqLnN0cnVjdFZhbHVlID0gbWVzc2FnZS5raW5kPy5zdHJ1Y3RWYWx1ZSk7XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwibGlzdFZhbHVlXCIgJiYgKG9iai5saXN0VmFsdWUgPSBtZXNzYWdlLmtpbmQ/Lmxpc3RWYWx1ZSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIFZhbHVlLnRvSlNPTiA9IHRvSlNPTjtcbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZUJhc2VWYWx1ZSgpO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0geyAkY2FzZTogXCJudWxsVmFsdWVcIiwgbnVsbFZhbHVlOiAwIC8qIE51bGxWYWx1ZS5OVUxMX1ZBTFVFICovIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgcmVzdWx0LmtpbmQgPSB7ICRjYXNlOiBcImJvb2xWYWx1ZVwiLCBib29sVmFsdWU6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByZXN1bHQua2luZCA9IHsgJGNhc2U6IFwibnVtYmVyVmFsdWVcIiwgbnVtYmVyVmFsdWU6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXN1bHQua2luZCA9IHsgJGNhc2U6IFwic3RyaW5nVmFsdWVcIiwgc3RyaW5nVmFsdWU6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0geyAkY2FzZTogXCJsaXN0VmFsdWVcIiwgbGlzdFZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmVzdWx0LmtpbmQgPSB7ICRjYXNlOiBcInN0cnVjdFZhbHVlXCIsIHN0cnVjdFZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgYW55IHZhbHVlIHR5cGU6IFwiICsgdHlwZW9mIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWYWx1ZS53cmFwID0gd3JhcDtcbiAgICBmdW5jdGlvbiB1bndyYXAobWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJudWxsVmFsdWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJudW1iZXJWYWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS5raW5kPy5udW1iZXJWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcInN0cmluZ1ZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQ/LnN0cmluZ1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwiYm9vbFZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQ/LmJvb2xWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcInN0cnVjdFZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQ/LnN0cnVjdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwibGlzdFZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQ/Lmxpc3RWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVmFsdWUudW53cmFwID0gdW53cmFwO1xufSkoVmFsdWUgfHwgKFZhbHVlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VMaXN0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWVzOiBbXSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgTGlzdFZhbHVlO1xuKGZ1bmN0aW9uIChMaXN0VmFsdWUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS52YWx1ZXMpIHtcbiAgICAgICAgICAgIFZhbHVlLmVuY29kZShWYWx1ZS53cmFwKHYpLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIExpc3RWYWx1ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUxpc3RWYWx1ZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlcy5wdXNoKFZhbHVlLnVud3JhcChWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgTGlzdFZhbHVlLmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWVzOiBBcnJheS5pc0FycmF5KG9iamVjdD8udmFsdWVzKSA/IFsuLi5vYmplY3QudmFsdWVzXSA6IFtdIH07XG4gICAgfVxuICAgIExpc3RWYWx1ZS5mcm9tSlNPTiA9IGZyb21KU09OO1xuICAgIGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS52YWx1ZXMpIHtcbiAgICAgICAgICAgIG9iai52YWx1ZXMgPSBtZXNzYWdlLnZhbHVlcy5tYXAoKGUpID0+IGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLnZhbHVlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIExpc3RWYWx1ZS50b0pTT04gPSB0b0pTT047XG4gICAgZnVuY3Rpb24gd3JhcChhcnJheSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGVCYXNlTGlzdFZhbHVlKCk7XG4gICAgICAgIHJlc3VsdC52YWx1ZXMgPSBhcnJheSA/PyBbXTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTGlzdFZhbHVlLndyYXAgPSB3cmFwO1xuICAgIGZ1bmN0aW9uIHVud3JhcChtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlPy5oYXNPd25Qcm9wZXJ0eShcInZhbHVlc1wiKSAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UudmFsdWVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UudmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgTGlzdFZhbHVlLnVud3JhcCA9IHVud3JhcDtcbn0pKExpc3RWYWx1ZSB8fCAoTGlzdFZhbHVlID0ge30pKTtcbmNvbnN0IHRzUHJvdG9HbG9iYWxUaGlzID0gKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB9XG4gICAgdGhyb3cgXCJVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3RcIjtcbn0pKCk7XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwgImltcG9ydCB7IGdldENvbXBvc2l0ZVJvb3RDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgRW50aXR5TWFwcGluZ01vZGUsIGluc3RhbmNlQ29tcG9zaXRlIH0gZnJvbSAnLi9pbnN0YW5jZSc7XG5pbXBvcnQgeyByZXNvbHZlQ29tcG9zaXRlIH0gZnJvbSAnLi9wYXRoJztcbmltcG9ydCB7IENvbXBvc2l0ZURlZmluaXRpb24gfSBmcm9tICcuL3Byb3RvL2dlbi9jb21wb3NpdGUuZ2VuJztcbmV4cG9ydCB7IEVudGl0eU1hcHBpbmdNb2RlIH07XG5leHBvcnQgeyBnZXRDb21wb3NpdGVSb290Q29tcG9uZW50IH07XG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIGNvbXBvc2l0ZSBpcyBub3QgYmVpbmcgc3VwcG9ydGVkIHNvIGZhciwgcGxlYXNlIGRvIG5vdCB1c2UgdGhpcyBmZWF0dXJlXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9zaXRlO1xuKGZ1bmN0aW9uIChDb21wb3NpdGUpIHtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIGZ1bmN0aW9uIGZyb21Kc29uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gQ29tcG9zaXRlRGVmaW5pdGlvbi5mcm9tSlNPTihvYmplY3QpO1xuICAgIH1cbiAgICBDb21wb3NpdGUuZnJvbUpzb24gPSBmcm9tSnNvbjtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIGZ1bmN0aW9uIGZyb21CaW5hcnkoYnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVEZWZpbml0aW9uLmRlY29kZShidWZmZXIpO1xuICAgIH1cbiAgICBDb21wb3NpdGUuZnJvbUJpbmFyeSA9IGZyb21CaW5hcnk7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBmdW5jdGlvbiB0b0pzb24oY29tcG9zaXRlKSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVEZWZpbml0aW9uLnRvSlNPTihjb21wb3NpdGUpO1xuICAgIH1cbiAgICBDb21wb3NpdGUudG9Kc29uID0gdG9Kc29uO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgZnVuY3Rpb24gdG9CaW5hcnkoY29tcG9zaXRlKSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVEZWZpbml0aW9uLmVuY29kZShjb21wb3NpdGUpLmZpbmlzaCgpO1xuICAgIH1cbiAgICBDb21wb3NpdGUudG9CaW5hcnkgPSB0b0JpbmFyeTtcbiAgICAvKipcbiAgICAgKiBJbnN0YW5jZSBhIGNvbXBvc2l0ZSBhbmQgcmV0dXJucyBpdHMgcm9vdCBlbnRpdHlcbiAgICAgKiBAcGFyYW0gY29tcG9zaXRlRGF0YSAtIHN0YXRlIHNlcmlhbGl6ZWQgYnkgdGhlIENSRFQgcHJvdG9jb2xcbiAgICAgKiBAcGFyYW0gZ2V0TmV4dEF2YWlsYWJsZUVudGl0eSAtIGZ1bmN0aW9uIHRoYXQgZ2l2ZXMgdW51c2VkIGVudGl0aWVzXG4gICAgICogQHBhcmFtIHJvb3RFbnRpdHkgLSAob3B0aW9uYWwpIHN1Z2dlc3RlZCBtYXBwZWQgcm9vdEVudGl0eSBmb3IgdGhlIGNvbXBvc2l0ZVxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIC8qI19fUFVSRV9fKi8gZnVuY3Rpb24gaW5zdGFuY2UoZW5naW5lLCBjb21wb3NpdGVEYXRhLCBjb21wb3NpdGVQcm92aWRlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGluc3RhbmNlQ29tcG9zaXRlKGVuZ2luZSwgY29tcG9zaXRlRGF0YSwgY29tcG9zaXRlUHJvdmlkZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBDb21wb3NpdGUuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIGFuZCBub3JtYWxpemUgYSBjb21wb3NpdGUgcGF0aFxuICAgICAqIEBwYXJhbSBzcmMgLSB0aGUgc291cmNlIHBhdGhcbiAgICAgKiBAcGFyYW0gY3dkIC0gdGhlIGRpcmVjdG9yeSBmcm9tIHRoZSByZXNvbHZlIHNob3VsZCBzdGFydCB0byByZXNvbHZlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgYWJzb2x1dGUgcmVzb2x2ZWQgcGF0aCB3aXRob3V0IHNsYXNoIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgLyojX19QVVJFX18qLyBmdW5jdGlvbiByZXNvbHZlQW5kTm9ybWFsaXplUGF0aChzcmMsIGN3ZCA9ICcvJykge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZUNvbXBvc2l0ZShzcmMsIGN3ZCk7XG4gICAgfVxuICAgIENvbXBvc2l0ZS5yZXNvbHZlQW5kTm9ybWFsaXplUGF0aCA9IHJlc29sdmVBbmROb3JtYWxpemVQYXRoO1xufSkoQ29tcG9zaXRlIHx8IChDb21wb3NpdGUgPSB7fSkpO1xuIiwgIi8vIFRoZSBvcmRlciBvZiB0aGUgZm9sbG93aW5nIGltcG9ydHMgbWF0dGVycy4gUGxlYXNlIGRvIG5vdCBhdXRvLXNvcnRcbmV4cG9ydCAqIGZyb20gJy4vZW5naW5lJztcbmV4cG9ydCAqIGZyb20gJy4vc2NoZW1hcyc7XG5leHBvcnQgKiBmcm9tICcuL3J1bnRpbWUvaW5pdGlhbGl6YXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9ydW50aW1lL3R5cGVzJztcbmV4cG9ydCAqIGZyb20gJy4vcnVudGltZS9oZWxwZXJzJztcbmV4cG9ydCB7IGN5Y2xpY1BhcmVudGluZ0NoZWNrZXIgfSBmcm9tICcuL3N5c3RlbXMvY3ljbGljUGFyZW50aW5nQ2hlY2tlcic7XG5leHBvcnQgKiBmcm9tICcuL3N5c3RlbXMvZXZlbnRzJztcbmV4cG9ydCAqIGZyb20gJy4vc3lzdGVtcy9yYXljYXN0JztcbmV4cG9ydCAqIGZyb20gJy4vc3lzdGVtcy92aWRlb0V2ZW50cyc7XG5leHBvcnQgKiBmcm9tICcuL3N5c3RlbXMvYXN5bmMtdGFzayc7XG5leHBvcnQgKiBmcm9tICcuL2VuZ2luZS9lbnRpdHknO1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL3R5cGVzJztcbi8vIEBpbnRlcm5hbFxuaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuL2NvbXBvbmVudHMnO1xuLy8gQGludGVybmFsXG5leHBvcnQgeyBjb21wb25lbnRzIH07XG5pbXBvcnQgeyBlbmdpbmUgfSBmcm9tICcuL3J1bnRpbWUvaW5pdGlhbGl6YXRpb24nO1xuLy8gZXhwb3J0IGNvbXBvbmVudHMgZm9yIGdsb2JhbCBlbmdpbmVcbmV4cG9ydCBjb25zdCBUcmFuc2Zvcm0gPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLlRyYW5zZm9ybShlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IEFuaW1hdG9yID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5BbmltYXRvcihlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IE1hdGVyaWFsID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5NYXRlcmlhbChlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IE1lc2hSZW5kZXJlciA9IC8qIEBfX1BVUkVfXyovIGNvbXBvbmVudHMuTWVzaFJlbmRlcmVyKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgTWVzaENvbGxpZGVyID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5NZXNoQ29sbGlkZXIoZW5naW5lKTtcbmV4cG9ydCBjb25zdCBOYW1lID0gY29tcG9uZW50cy5OYW1lKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgVHdlZW4gPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLlR3ZWVuKGVuZ2luZSk7XG4vKipcbiAqIEBhbHBoYVxuICogVGhpcyBpcyBnb2luZyB0byBiZSB1c2VkIGZvciBzeW5jIGNvbXBvbmVudHMgdGhyb3VnaCBhIHNlcnZlci5cbiAqIENhbiBiZSBtb2RpZmllZCBpbiB0aGUgZnV0dXJlIHNpbmNlIGl0J3Mgc3RpbGwgaW4gcmVzZWFyY2hcbiAqL1xuZXhwb3J0IGNvbnN0IFN5bmNDb21wb25lbnRzID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5TeW5jQ29tcG9uZW50cyhlbmdpbmUpO1xuLy8gZXhwb3J0IGNvbXBvbmVudHMgZm9yIGdsb2JhbCBlbmdpbmVcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9nZW5lcmF0ZWQvZ2xvYmFsLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvZ2VuZXJhdGVkL3R5cGVzLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3NlcmlhbGl6YXRpb24vY3JkdCc7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvc2l0ZSc7XG4iLCAiLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgYSB2YWx1ZSB0byBnYW1tYSBzcGFjZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgVG9HYW1tYVNwYWNlID0gMSAvIDIuMjtcbi8qKlxuICogQ29uc3RhbnQgdXNlZCB0byBjb252ZXJ0IGEgdmFsdWUgdG8gbGluZWFyIHNwYWNlXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBUb0xpbmVhclNwYWNlID0gMi4yO1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGRlZmluZSB0aGUgbWluaW1hbCBudW1iZXIgdmFsdWUgaW4gQmFieWxvbi5qc1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgRXBzaWxvbiA9IDAuMDAwMDAxO1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgZnJvbSBFdWxlciBkZWdyZWVzIHRvIHJhZGlhbnNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERFRzJSQUQgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgZnJvbSByYWRpYW5zIHRvIEV1bGVyIGRlZ3JlZXNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFJBRDJERUcgPSAzNjAgLyAoTWF0aC5QSSAqIDIpO1xuIiwgIi8qKlxuICogU2NhbGFyIGNvbXB1dGF0aW9uIGxpYnJhcnlcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBTY2FsYXI7XG4oZnVuY3Rpb24gKFNjYWxhcikge1xuICAgIC8qKlxuICAgICAqIFR3byBwaSBjb25zdGFudHMgY29udmVuaWVudCBmb3IgY29tcHV0YXRpb24uXG4gICAgICovXG4gICAgU2NhbGFyLlR3b1BpID0gTWF0aC5QSSAqIDI7XG4gICAgLyoqXG4gICAgICogQm9vbGVhbiA6IHRydWUgaWYgdGhlIGFic29sdXRlIGRpZmZlcmVuY2UgYmV0d2VlbiBhIGFuZCBiIGlzIGxvd2VyIHRoYW4gZXBzaWxvbiAoZGVmYXVsdCA9IDEuNDAxMjk4RS00NSlcbiAgICAgKiBAcGFyYW0gYSAtIG51bWJlclxuICAgICAqIEBwYXJhbSBiIC0gbnVtYmVyXG4gICAgICogQHBhcmFtIGVwc2lsb24gLSAoZGVmYXVsdCA9IDEuNDAxMjk4RS00NSlcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBhYnNvbHV0ZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBhbmQgYiBpcyBsb3dlciB0aGFuIGVwc2lsb24gKGRlZmF1bHQgPSAxLjQwMTI5OEUtNDUpXG4gICAgICovXG4gICAgZnVuY3Rpb24gd2l0aGluRXBzaWxvbihhLCBiLCBlcHNpbG9uID0gMS40MDEyOThlLTQ1KSB7XG4gICAgICAgIGNvbnN0IG51bSA9IGEgLSBiO1xuICAgICAgICByZXR1cm4gLWVwc2lsb24gPD0gbnVtICYmIG51bSA8PSBlcHNpbG9uO1xuICAgIH1cbiAgICBTY2FsYXIud2l0aGluRXBzaWxvbiA9IHdpdGhpbkVwc2lsb247XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyA6IHRoZSB1cHBlciBjYXNlIHRyYW5zbGF0aW9uIG9mIHRoZSBudW1iZXIgaSB0byBoZXhhZGVjaW1hbC5cbiAgICAgKiBAcGFyYW0gaSAtIG51bWJlclxuICAgICAqIEByZXR1cm5zIHRoZSB1cHBlciBjYXNlIHRyYW5zbGF0aW9uIG9mIHRoZSBudW1iZXIgaSB0byBoZXhhZGVjaW1hbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0hleChpKSB7XG4gICAgICAgIGNvbnN0IHN0ciA9IGkudG9TdHJpbmcoMTYpO1xuICAgICAgICBpZiAoaSA8PSAxNSkge1xuICAgICAgICAgICAgcmV0dXJuICgnMCcgKyBzdHIpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICBTY2FsYXIudG9IZXggPSB0b0hleDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIC0xIGlmIHZhbHVlIGlzIG5lZ2F0aXZlIGFuZCArMSBpcyB2YWx1ZSBpcyBwb3NpdGl2ZS5cbiAgICAgKiBAcGFyYW0gX3ZhbHVlIC0gdGhlIHZhbHVlXG4gICAgICogQHJldHVybnMgdGhlIHZhbHVlIGl0c2VsZiBpZiBpdCdzIGVxdWFsIHRvIHplcm8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2lnbih2YWx1ZSkge1xuICAgICAgICBjb25zdCBfdmFsdWUgPSArdmFsdWU7IC8vIGNvbnZlcnQgdG8gYSBudW1iZXJcbiAgICAgICAgaWYgKF92YWx1ZSA9PT0gMCB8fCBpc05hTihfdmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gX3ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdmFsdWUgPiAwID8gMSA6IC0xO1xuICAgIH1cbiAgICBTY2FsYXIuc2lnbiA9IHNpZ247XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgaXRzZWxmIGlmIGl0J3MgYmV0d2VlbiBtaW4gYW5kIG1heC5cbiAgICAgKiBSZXR1cm5zIG1pbiBpZiB0aGUgdmFsdWUgaXMgbG93ZXIgdGhhbiBtaW4uXG4gICAgICogUmV0dXJucyBtYXggaWYgdGhlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBtYXguXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRvIGNsbWFwXG4gICAgICogQHBhcmFtIG1pbiAtIHRoZSBtaW4gdmFsdWUgdG8gY2xhbXAgdG8gKGRlZmF1bHQ6IDApXG4gICAgICogQHBhcmFtIG1heCAtIHRoZSBtYXggdmFsdWUgdG8gY2xhbXAgdG8gKGRlZmF1bHQ6IDEpXG4gICAgICogQHJldHVybnMgdGhlIGNsYW1wZWQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIHZhbHVlKSk7XG4gICAgfVxuICAgIFNjYWxhci5jbGFtcCA9IGNsYW1wO1xuICAgIC8qKlxuICAgICAqIHRoZSBsb2cyIG9mIHZhbHVlLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSB0byBjb21wdXRlIGxvZzIgb2ZcbiAgICAgKiBAcmV0dXJucyB0aGUgbG9nMiBvZiB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2cyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmxvZyh2YWx1ZSkgKiBNYXRoLkxPRzJFO1xuICAgIH1cbiAgICBTY2FsYXIubG9nMiA9IGxvZzI7XG4gICAgLyoqXG4gICAgICogTG9vcHMgdGhlIHZhbHVlLCBzbyB0aGF0IGl0IGlzIG5ldmVyIGxhcmdlciB0aGFuIGxlbmd0aCBhbmQgbmV2ZXIgc21hbGxlciB0aGFuIDAuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHNpbWlsYXIgdG8gdGhlIG1vZHVsbyBvcGVyYXRvciBidXQgaXQgd29ya3Mgd2l0aCBmbG9hdGluZyBwb2ludCBudW1iZXJzLlxuICAgICAqIEZvciBleGFtcGxlLCB1c2luZyAzLjAgZm9yIHQgYW5kIDIuNSBmb3IgbGVuZ3RoLCB0aGUgcmVzdWx0IHdvdWxkIGJlIDAuNS5cbiAgICAgKiBXaXRoIHQgPSA1IGFuZCBsZW5ndGggPSAyLjUsIHRoZSByZXN1bHQgd291bGQgYmUgMC4wLlxuICAgICAqIE5vdGUsIGhvd2V2ZXIsIHRoYXQgdGhlIGJlaGF2aW91ciBpcyBub3QgZGVmaW5lZCBmb3IgbmVnYXRpdmUgbnVtYmVycyBhcyBpdCBpcyBmb3IgdGhlIG1vZHVsbyBvcGVyYXRvclxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZVxuICAgICAqIEBwYXJhbSBsZW5ndGggLSB0aGUgbGVuZ3RoXG4gICAgICogQHJldHVybnMgdGhlIGxvb3BlZCB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGVhdCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAtIE1hdGguZmxvb3IodmFsdWUgLyBsZW5ndGgpICogbGVuZ3RoO1xuICAgIH1cbiAgICBTY2FsYXIucmVwZWF0ID0gcmVwZWF0O1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgdmFsdWUgYmV0d2VlbiAwLjAgYW5kIDEuMCB1c2luZyBtaW4gYW5kIG1heCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSB2YWx1ZSB0byBub3JtYWxpemVcbiAgICAgKiBAcGFyYW0gbWluIC0gbWF4IHRvIG5vcm1hbGl6ZSBiZXR3ZWVuXG4gICAgICogQHBhcmFtIG1heCAtIG1pbiB0byBub3JtYWxpemUgYmV0d2VlblxuICAgICAqIEByZXR1cm5zIHRoZSBub3JtYWxpemVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplKHZhbHVlLCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xuICAgIH1cbiAgICBTY2FsYXIubm9ybWFsaXplID0gbm9ybWFsaXplO1xuICAgIC8qKlxuICAgICAqIERlbm9ybWFsaXplIHRoZSB2YWx1ZSBmcm9tIDAuMCBhbmQgMS4wIHVzaW5nIG1pbiBhbmQgbWF4IHZhbHVlc1xuICAgICAqIEBwYXJhbSBub3JtYWxpemVkIC0gdmFsdWUgdG8gZGVub3JtYWxpemVcbiAgICAgKiBAcGFyYW0gbWluIC0gbWF4IHRvIGRlbm9ybWFsaXplIGJldHdlZW5cbiAgICAgKiBAcGFyYW0gbWF4IC0gbWluIHRvIGRlbm9ybWFsaXplIGJldHdlZW5cbiAgICAgKiBAcmV0dXJucyB0aGUgZGVub3JtYWxpemVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVub3JtYWxpemUobm9ybWFsaXplZCwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICB9XG4gICAgU2NhbGFyLmRlbm9ybWFsaXplID0gZGVub3JtYWxpemU7XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgc2hvcnRlc3QgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBnaXZlbiBhbmdsZXMgZ2l2ZW4gaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0gY3VycmVudCAtIGN1cnJlbnQgYW5nbGUgaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB0YXJnZXQgLSB0YXJnZXQgYW5nbGUgaW4gZGVncmVlc1xuICAgICAqIEByZXR1cm5zIHRoZSBkZWx0YVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlbHRhQW5nbGUoY3VycmVudCwgdGFyZ2V0KSB7XG4gICAgICAgIGxldCBudW0gPSByZXBlYXQodGFyZ2V0IC0gY3VycmVudCwgMzYwLjApO1xuICAgICAgICBpZiAobnVtID4gMTgwLjApIHtcbiAgICAgICAgICAgIG51bSAtPSAzNjAuMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICBTY2FsYXIuZGVsdGFBbmdsZSA9IGRlbHRhQW5nbGU7XG4gICAgLyoqXG4gICAgICogUGluZ1BvbmdzIHRoZSB2YWx1ZSB0LCBzbyB0aGF0IGl0IGlzIG5ldmVyIGxhcmdlciB0aGFuIGxlbmd0aCBhbmQgbmV2ZXIgc21hbGxlciB0aGFuIDAuXG4gICAgICogQHBhcmFtIHR4IC0gdmFsdWVcbiAgICAgKiBAcGFyYW0gbGVuZ3RoIC0gbGVuZ3RoXG4gICAgICogQHJldHVybnMgVGhlIHJldHVybmVkIHZhbHVlIHdpbGwgbW92ZSBiYWNrIGFuZCBmb3J0aCBiZXR3ZWVuIDAgYW5kIGxlbmd0aFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpbmdQb25nKHR4LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgdCA9IHJlcGVhdCh0eCwgbGVuZ3RoICogMi4wKTtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCAtIE1hdGguYWJzKHQgLSBsZW5ndGgpO1xuICAgIH1cbiAgICBTY2FsYXIucGluZ1BvbmcgPSBwaW5nUG9uZztcbiAgICAvKipcbiAgICAgKiBJbnRlcnBvbGF0ZXMgYmV0d2VlbiBtaW4gYW5kIG1heCB3aXRoIHNtb290aGluZyBhdCB0aGUgbGltaXRzLlxuICAgICAqXG4gICAgICogVGhpcyBleHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGVzIGJldHdlZW4gbWluIGFuZCBtYXggaW4gYSBzaW1pbGFyIHdheSB0byBMZXJwLiBIb3dldmVyLCB0aGUgaW50ZXJwb2xhdGlvbiB3aWxsIGdyYWR1YWxseSBzcGVlZCB1cFxuICAgICAqIGZyb20gdGhlIHN0YXJ0IGFuZCBzbG93IGRvd24gdG93YXJkIHRoZSBlbmQuIFRoaXMgaXMgdXNlZnVsIGZvciBjcmVhdGluZyBuYXR1cmFsLWxvb2tpbmcgYW5pbWF0aW9uLCBmYWRpbmcgYW5kIG90aGVyIHRyYW5zaXRpb25zLlxuICAgICAqIEBwYXJhbSBmcm9tIC0gZnJvbVxuICAgICAqIEBwYXJhbSB0byAtIHRvXG4gICAgICogQHBhcmFtIHR4IC0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB0aGUgc21vb3RoIHN0ZXBwZWQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbW9vdGhTdGVwKGZyb20sIHRvLCB0eCkge1xuICAgICAgICBsZXQgdCA9IGNsYW1wKHR4KTtcbiAgICAgICAgdCA9IC0yLjAgKiB0ICogdCAqIHQgKyAzLjAgKiB0ICogdDtcbiAgICAgICAgcmV0dXJuIHRvICogdCArIGZyb20gKiAoMS4wIC0gdCk7XG4gICAgfVxuICAgIFNjYWxhci5zbW9vdGhTdGVwID0gc21vb3RoU3RlcDtcbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhIHZhbHVlIGN1cnJlbnQgdG93YXJkcyB0YXJnZXQuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGVzc2VudGlhbGx5IHRoZSBzYW1lIGFzIE1hdGhmLkxlcnAgYnV0IGluc3RlYWQgdGhlIGV4cG9ydCBmdW5jdGlvbiB3aWxsIGVuc3VyZSB0aGF0IHRoZSBzcGVlZCBuZXZlciBleGNlZWRzIG1heERlbHRhLlxuICAgICAqIE5lZ2F0aXZlIHZhbHVlcyBvZiBtYXhEZWx0YSBwdXNoZXMgdGhlIHZhbHVlIGF3YXkgZnJvbSB0YXJnZXQuXG4gICAgICogQHBhcmFtIGN1cnJlbnQgLSBjdXJyZW50IHZhbHVlXG4gICAgICogQHBhcmFtIHRhcmdldCAtIHRhcmdldCB2YWx1ZVxuICAgICAqIEBwYXJhbSBtYXhEZWx0YSAtIG1heCBkaXN0YW5jZSB0byBtb3ZlXG4gICAgICogQHJldHVybnMgcmVzdWx0aW5nIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbW92ZVRvd2FyZHMoY3VycmVudCwgdGFyZ2V0LCBtYXhEZWx0YSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRhcmdldCAtIGN1cnJlbnQpIDw9IG1heERlbHRhKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjdXJyZW50ICsgc2lnbih0YXJnZXQgLSBjdXJyZW50KSAqIG1heERlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFNjYWxhci5tb3ZlVG93YXJkcyA9IG1vdmVUb3dhcmRzO1xuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgTW92ZVRvd2FyZHMgYnV0IG1ha2VzIHN1cmUgdGhlIHZhbHVlcyBpbnRlcnBvbGF0ZSBjb3JyZWN0bHkgd2hlbiB0aGV5IHdyYXAgYXJvdW5kIDM2MCBkZWdyZWVzLlxuICAgICAqXG4gICAgICogVmFyaWFibGVzIGN1cnJlbnQgYW5kIHRhcmdldCBhcmUgYXNzdW1lZCB0byBiZSBpbiBkZWdyZWVzLiBGb3Igb3B0aW1pemF0aW9uIHJlYXNvbnMsIG5lZ2F0aXZlIHZhbHVlcyBvZiBtYXhEZWx0YVxuICAgICAqICBhcmUgbm90IHN1cHBvcnRlZCBhbmQgbWF5IGNhdXNlIG9zY2lsbGF0aW9uLiBUbyBwdXNoIGN1cnJlbnQgYXdheSBmcm9tIGEgdGFyZ2V0IGFuZ2xlLCBhZGQgMTgwIHRvIHRoYXQgYW5nbGUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0gY3VycmVudCAtIGN1cnJlbnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gdGFyZ2V0IHZhbHVlXG4gICAgICogQHBhcmFtIG1heERlbHRhIC0gbWF4IGRpc3RhbmNlIHRvIG1vdmVcbiAgICAgKiBAcmV0dXJucyByZXN1bHRpbmcgYW5nbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtb3ZlVG93YXJkc0FuZ2xlKGN1cnJlbnQsIHRhcmdldCwgbWF4RGVsdGEpIHtcbiAgICAgICAgY29uc3QgbnVtID0gZGVsdGFBbmdsZShjdXJyZW50LCB0YXJnZXQpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgaWYgKC1tYXhEZWx0YSA8IG51bSAmJiBudW0gPCBtYXhEZWx0YSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gbW92ZVRvd2FyZHMoY3VycmVudCwgY3VycmVudCArIG51bSwgbWF4RGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFNjYWxhci5tb3ZlVG93YXJkc0FuZ2xlID0gbW92ZVRvd2FyZHNBbmdsZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHNjYWxhciB3aXRoIHZhbHVlcyBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgb2YgXCJhbW91bnRcIiBiZXR3ZWVuIHRoZSBzdGFydCBzY2FsYXIgYW5kIHRoZSBlbmQgc2NhbGFyXG4gICAgICogQHBhcmFtIHN0YXJ0IC0gc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kIC0gdGFyZ2V0IHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGFtb3VudCB0byBsZXJwIGJldHdlZW5cbiAgICAgKiBAcmV0dXJucyB0aGUgbGVycGVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycChzdGFydCwgZW5kLCBhbW91bnQpIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIGFtb3VudDtcbiAgICB9XG4gICAgU2NhbGFyLmxlcnAgPSBsZXJwO1xuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgTGVycCBidXQgbWFrZXMgc3VyZSB0aGUgdmFsdWVzIGludGVycG9sYXRlIGNvcnJlY3RseSB3aGVuIHRoZXkgd3JhcCBhcm91bmQgMzYwIGRlZ3JlZXMuXG4gICAgICogVGhlIHBhcmFtZXRlciB0IGlzIGNsYW1wZWQgdG8gdGhlIHJhbmdlIFswLCAxXS4gVmFyaWFibGVzIGEgYW5kIGIgYXJlIGFzc3VtZWQgdG8gYmUgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBlbmQgLSB0YXJnZXQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gYW1vdW50IHRvIGxlcnAgYmV0d2VlblxuICAgICAqIEByZXR1cm5zIHRoZSBsZXJwZWQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwQW5nbGUoc3RhcnQsIGVuZCwgYW1vdW50KSB7XG4gICAgICAgIGxldCBudW0gPSByZXBlYXQoZW5kIC0gc3RhcnQsIDM2MC4wKTtcbiAgICAgICAgaWYgKG51bSA+IDE4MC4wKSB7XG4gICAgICAgICAgICBudW0gLT0gMzYwLjA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgbnVtICogY2xhbXAoYW1vdW50KTtcbiAgICB9XG4gICAgU2NhbGFyLmxlcnBBbmdsZSA9IGxlcnBBbmdsZTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsaW5lYXIgcGFyYW1ldGVyIHQgdGhhdCBwcm9kdWNlcyB0aGUgaW50ZXJwb2xhbnQgdmFsdWUgd2l0aGluIHRoZSByYW5nZSBbYSwgYl0uXG4gICAgICogQHBhcmFtIGEgLSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBiIC0gdGFyZ2V0IHZhbHVlXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdmFsdWUgYmV0d2VlbiBhIGFuZCBiXG4gICAgICogQHJldHVybnMgdGhlIGludmVyc2VMZXJwIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52ZXJzZUxlcnAoYSwgYiwgdmFsdWUpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjbGFtcCgodmFsdWUgLSBhKSAvIChiIC0gYSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gMC4wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFNjYWxhci5pbnZlcnNlTGVycCA9IGludmVyc2VMZXJwO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgc2NhbGFyIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgSGVybWl0ZSBzcGxpbmUgZGVmaW5lZCBieSB0aGUgc2NhbGFycyBcInZhbHVlMVwiLCBcInZhbHVlM1wiLCBcInRhbmdlbnQxXCIsIFwidGFuZ2VudDJcIi5cbiAgICAgKiB7QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9IZXJtaXRlUG9seW5vbWlhbC5odG1sfVxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBzcGxpbmUgdmFsdWVcbiAgICAgKiBAcGFyYW0gdGFuZ2VudDEgLSBzcGxpbmUgdmFsdWVcbiAgICAgKiBAcGFyYW0gdmFsdWUyIC0gc3BsaW5lIHZhbHVlXG4gICAgICogQHBhcmFtIHRhbmdlbnQyIC0gc3BsaW5lIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGlucHV0IHZhbHVlXG4gICAgICogQHJldHVybnMgaGVybWl0ZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZXJtaXRlKHZhbHVlMSwgdGFuZ2VudDEsIHZhbHVlMiwgdGFuZ2VudDIsIGFtb3VudCkge1xuICAgICAgICBjb25zdCBzcXVhcmVkID0gYW1vdW50ICogYW1vdW50O1xuICAgICAgICBjb25zdCBjdWJlZCA9IGFtb3VudCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHBhcnQxID0gMi4wICogY3ViZWQgLSAzLjAgKiBzcXVhcmVkICsgMS4wO1xuICAgICAgICBjb25zdCBwYXJ0MiA9IC0yLjAgKiBjdWJlZCArIDMuMCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHBhcnQzID0gY3ViZWQgLSAyLjAgKiBzcXVhcmVkICsgYW1vdW50O1xuICAgICAgICBjb25zdCBwYXJ0NCA9IGN1YmVkIC0gc3F1YXJlZDtcbiAgICAgICAgcmV0dXJuIHZhbHVlMSAqIHBhcnQxICsgdmFsdWUyICogcGFydDIgKyB0YW5nZW50MSAqIHBhcnQzICsgdGFuZ2VudDIgKiBwYXJ0NDtcbiAgICB9XG4gICAgU2NhbGFyLmhlcm1pdGUgPSBoZXJtaXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByYW5kb20gZmxvYXQgbnVtYmVyIGJldHdlZW4gYW5kIG1pbiBhbmQgbWF4IHZhbHVlc1xuICAgICAqIEBwYXJhbSBtaW4gLSBtaW4gdmFsdWUgb2YgcmFuZG9tXG4gICAgICogQHBhcmFtIG1heCAtIG1heCB2YWx1ZSBvZiByYW5kb21cbiAgICAgKiBAcmV0dXJucyByYW5kb20gdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb21SYW5nZShtaW4sIG1heCkge1xuICAgICAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgICAgICAgIHJldHVybiBtaW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICB9XG4gICAgU2NhbGFyLnJhbmRvbVJhbmdlID0gcmFuZG9tUmFuZ2U7XG4gICAgLyoqXG4gICAgICogVGhpcyBleHBvcnQgZnVuY3Rpb24gcmV0dXJucyBwZXJjZW50YWdlIG9mIGEgbnVtYmVyIGluIGEgZ2l2ZW4gcmFuZ2UuXG4gICAgICpcbiAgICAgKiBSYW5nZVRvUGVyY2VudCg0MCwyMCw2MCkgd2lsbCByZXR1cm4gMC41ICg1MCUpXG4gICAgICogUmFuZ2VUb1BlcmNlbnQoMzQsMCwxMDApIHdpbGwgcmV0dXJuIDAuMzQgKDM0JSlcbiAgICAgKiBAcGFyYW0gbnVtIC0gdG8gY29udmVydCB0byBwZXJjZW50YWdlXG4gICAgICogQHBhcmFtIG1pbiAtIG1pbiByYW5nZVxuICAgICAqIEBwYXJhbSBtYXggLSBtYXggcmFuZ2VcbiAgICAgKiBAcmV0dXJucyB0aGUgcGVyY2VudGFnZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmdlVG9QZXJjZW50KG51bSwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIChudW0gLSBtaW4pIC8gKG1heCAtIG1pbik7XG4gICAgfVxuICAgIFNjYWxhci5yYW5nZVRvUGVyY2VudCA9IHJhbmdlVG9QZXJjZW50O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZXhwb3J0IGZ1bmN0aW9uIHJldHVybnMgbnVtYmVyIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHBlcmNlbnRhZ2UgaW4gYSBnaXZlbiByYW5nZS5cbiAgICAgKlxuICAgICAqIFBlcmNlbnRUb1JhbmdlKDAuMzQsMCwxMDApIHdpbGwgcmV0dXJuIDM0LlxuICAgICAqIEBwYXJhbSBwZXJjZW50IC0gdG8gY29udmVydCB0byBudW1iZXJcbiAgICAgKiBAcGFyYW0gbWluIC0gbWluIHJhbmdlXG4gICAgICogQHBhcmFtIG1heCAtIG1heCByYW5nZVxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwZXJjZW50VG9SYW5nZShwZXJjZW50LCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gKG1heCAtIG1pbikgKiBwZXJjZW50ICsgbWluO1xuICAgIH1cbiAgICBTY2FsYXIucGVyY2VudFRvUmFuZ2UgPSBwZXJjZW50VG9SYW5nZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBjb252ZXJ0ZWQgdG8gZXF1aXZhbGVudCB2YWx1ZSBiZXR3ZWVuIC1NYXRoLlBJIGFuZCBNYXRoLlBJIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gVGhlIGFuZ2xlIHRvIG5vcm1hbGl6ZSBpbiByYWRpYW4uXG4gICAgICogQHJldHVybnMgVGhlIGNvbnZlcnRlZCBhbmdsZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVSYWRpYW5zKGFuZ2xlKSB7XG4gICAgICAgIC8vIE1vcmUgcHJlY2lzZSBidXQgc2xvd2VyIHZlcnNpb24ga2VwdCBmb3IgcmVmZXJlbmNlLlxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb21tZW50ZWQtb3V0LWNvZGVcbiAgICAgICAgLypcbiAgICAgICAgLy8gYW5nbGUgPSBhbmdsZSAlIFRvb2xzLlR3b1BpO1xuICAgICAgICAvLyBhbmdsZSA9IChhbmdsZSArIFRvb2xzLlR3b1BpKSAlIFRvb2xzLlR3b1BpO1xuICAgIFxuICAgICAgICAvL2lmIChhbmdsZSA+IE1hdGguUEkpIHtcbiAgICAgICAgLy9cdGFuZ2xlIC09IFRvb2xzLlR3b1BpO1xuICAgICAgICAvL31cbiAgICAgICAgICAqL1xuICAgICAgICByZXR1cm4gYW5nbGUgLSBTY2FsYXIuVHdvUGkgKiBNYXRoLmZsb29yKChhbmdsZSArIE1hdGguUEkpIC8gU2NhbGFyLlR3b1BpKTtcbiAgICB9XG4gICAgU2NhbGFyLm5vcm1hbGl6ZVJhZGlhbnMgPSBub3JtYWxpemVSYWRpYW5zO1xufSkoU2NhbGFyIHx8IChTY2FsYXIgPSB7fSkpO1xuIiwgImltcG9ydCB7IEVwc2lsb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICcuL1F1YXRlcm5pb24nO1xuaW1wb3J0IHsgU2NhbGFyIH0gZnJvbSAnLi9TY2FsYXInO1xuLyoqXG4gKiBAcHVibGljXG4gKiBWZWN0b3IzIGlzIGEgdHlwZSBhbmQgYSBuYW1lc3BhY2UuXG4gKiBgYGBcbiAqIC8vIFRoZSBuYW1lc3BhY2UgY29udGFpbnMgYWxsIHR5cGVzIGFuZCBmdW5jdGlvbnMgdG8gb3BlcmF0ZXMgd2l0aCBWZWN0b3IzXG4gKiBjb25zdCBuZXh0ID0gVmVjdG9yMy5hZGQocG9pbnRBLCB2ZWxvY2l0eUEpXG4gKiAvLyBUaGUgdHlwZSBWZWN0b3IzIGlzIGFuIGFsaWFzIHRvIFZlY3RvcjMuUmVhZG9ubHlWZWN0b3IzXG4gKiBjb25zdCByZWFkb25seVBvc2l0aW9uOiBWZWN0b3IzID0gVmVjdG9yMy5aZXJvKClcbiAqIHJlYWRvbmx5UG9zaXRpb24ueCA9IDAuMSAvLyB0aGlzIEZBSUxTXG4gKlxuICogLy8gRm9yIG11dGFibGUgdXNhZ2UsIHVzZSBgVmVjdG9yMy5NdXRhYmxlYFxuICogY29uc3QgcG9zaXRpb246IFZlY3RvcjMuTXV0YWJsZSA9IFZlY3RvcjMuT25lKClcbiAqIHBvc2l0aW9uLnggPSAzLjAgLy8gdGhpcyBXT1JLU1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgVmVjdG9yMztcbihmdW5jdGlvbiAoVmVjdG9yMykge1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBib29sZWFuIGluZGljYXRpbmcgdGhhdCB0aGUgdmVjdG9yIGlzIG5vbiB1bmlmb3JtIG1lYW5pbmcgeCwgeSBvciB6IGFyZSBub3QgYWxsIHRoZSBzYW1lXG4gICAgICogQHBhcmFtIHZlY3RvciAtIHZlY3RvciB0byBjaGVja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTm9uVW5pZm9ybSh2ZWN0b3IpIHtcbiAgICAgICAgY29uc3QgYWJzWCA9IE1hdGguYWJzKHZlY3Rvci54KTtcbiAgICAgICAgY29uc3QgYWJzWSA9IE1hdGguYWJzKHZlY3Rvci55KTtcbiAgICAgICAgaWYgKGFic1ggIT09IGFic1kpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFic1ogPSBNYXRoLmFicyh2ZWN0b3Iueik7XG4gICAgICAgIGlmIChhYnNYICE9PSBhYnNaKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFZlY3RvcjMuaXNOb25Vbmlmb3JtID0gaXNOb25Vbmlmb3JtO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVmVjdG9yMyBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4geCwgeSwgeiAoZmxvYXRzKSBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIGZpcnN0IGNvb3JkaW5hdGVzIChvbiBYIGF4aXMpXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSBzZWNvbmQgY29vcmRpbmF0ZXMgKG9uIFkgYXhpcylcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHRoaXJkIGNvb3JkaW5hdGVzIChvbiBaIGF4aXMpXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGZpcnN0IGNvb3JkaW5hdGVzIChvbiBYIGF4aXMpXG4gICAgICovXG4gICAgeCA9IDAsIFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIHNlY29uZCBjb29yZGluYXRlcyAob24gWSBheGlzKVxuICAgICAqL1xuICAgIHkgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSB0aGlyZCBjb29yZGluYXRlcyAob24gWiBheGlzKVxuICAgICAqL1xuICAgIHogPSAwKSB7XG4gICAgICAgIHJldHVybiB7IHgsIHksIHogfTtcbiAgICB9XG4gICAgVmVjdG9yMy5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGFzIHRoZSByZXN1bHQgb2YgdGhlIGFkZGl0aW9uIG9mIHRoZSB0d28gZ2l2ZW4gdmVjdG9ycy5cbiAgICAgKiBAcGFyYW0gdmVjdG9yMSAtIHRoZSBmaXJzdCB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gdmVjdG9yMiAtIHRoZSBzZWNvbmQgdmVjdG9yXG4gICAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyB2ZWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQodmVjdG9yMSwgdmVjdG9yMikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdmVjdG9yMS54ICsgdmVjdG9yMi54LFxuICAgICAgICAgICAgeTogdmVjdG9yMS55ICsgdmVjdG9yMi55LFxuICAgICAgICAgICAgejogdmVjdG9yMS56ICsgdmVjdG9yMi56XG4gICAgICAgIH07XG4gICAgfVxuICAgIFZlY3RvcjMuYWRkID0gYWRkO1xuICAgIC8qKlxuICAgICAqIEFkZCBjb21wb25lbnQgYnkgY29tcG9uZW50IHRoZSB2ZWN0b3IyIGludG8gZGVzdFxuICAgICAqIEBwYXJhbSBkZXN0IC0gdGhlIGZpcnN0IHZlY3RvciBhbmQgZGVzdGluYXRpb24gb2YgYWRkaXRpb25cbiAgICAgKiBAcGFyYW0gdmVjdG9yMiAtIHRoZSBzZWNvbmQgdmVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkVG9SZWYodmVjdG9yMSwgdmVjdG9yMiwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yMS54ICsgdmVjdG9yMi54O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvcjEueSArIHZlY3RvcjIueTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3IxLnogKyB2ZWN0b3IyLno7XG4gICAgfVxuICAgIFZlY3RvcjMuYWRkVG9SZWYgPSBhZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgYXMgdGhlIHJlc3VsdCBvZiB0aGUgc3Vic3RyYWN0aW9uIG9mIHRoZSB0d28gZ2l2ZW4gdmVjdG9ycy5cbiAgICAgKiBAcmV0dXJucyB0aGUgcmVzdWx0aW5nIHZlY3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KHZlY3RvcjEsIHZlY3RvcjIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHZlY3RvcjEueCAtIHZlY3RvcjIueCxcbiAgICAgICAgICAgIHk6IHZlY3RvcjEueSAtIHZlY3RvcjIueSxcbiAgICAgICAgICAgIHo6IHZlY3RvcjEueiAtIHZlY3RvcjIuelxuICAgICAgICB9O1xuICAgIH1cbiAgICBWZWN0b3IzLnN1YnRyYWN0ID0gc3VidHJhY3Q7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGFzIHRoZSByZXN1bHQgb2YgdGhlIHN1YnN0cmFjdGlvbiBvZiB0aGUgdHdvIGdpdmVuIHZlY3RvcnMuXG4gICAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyB2ZWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdWJ0cmFjdFRvUmVmKHZlY3RvcjEsIHZlY3RvcjIsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IHZlY3RvcjEueCAtIHZlY3RvcjIueDtcbiAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnkgLSB2ZWN0b3IyLnk7XG4gICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56IC0gdmVjdG9yMi56O1xuICAgIH1cbiAgICBWZWN0b3IzLnN1YnRyYWN0VG9SZWYgPSBzdWJ0cmFjdFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB0aGUgZ2l2ZW4gZmxvYXRzIGZyb20gdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBhbmQgc2V0IHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoaXMgcmVzdWx0XG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdWJ0cmFjdEZyb21GbG9hdHNUb1JlZih2ZWN0b3IxLCB4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3IxLnggLSB4O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvcjEueSAtIHk7XG4gICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56IC0gejtcbiAgICB9XG4gICAgVmVjdG9yMy5zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZiA9IHN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyB3aXRoIHRoZSBvdGhlciBzaWduXG4gICAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyB2ZWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogLXZhbHVlLngsIHk6IC12YWx1ZS55LCB6OiAtdmFsdWUueiB9O1xuICAgIH1cbiAgICBWZWN0b3IzLm5lZ2F0ZSA9IG5lZ2F0ZTtcbiAgICAvKipcbiAgICAgKiBDb3B5IHNvdXJjZSBpbnRvIGRlc3RcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlGcm9tKHNvdXJjZSwgZGVzdCkge1xuICAgICAgICBkZXN0LnggPSBzb3VyY2UueDtcbiAgICAgICAgZGVzdC55ID0gc291cmNlLnk7XG4gICAgICAgIGRlc3QueiA9IHNvdXJjZS56O1xuICAgIH1cbiAgICBWZWN0b3IzLmNvcHlGcm9tID0gY29weUZyb207XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwiZGVzdFwiIHdpdGggdGhlIGdpdmVuIGZsb2F0cy5cbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZVxuICAgICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2VcbiAgICAgKiBAcGFyYW0gZGVzdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlGcm9tRmxvYXRzKHgsIHksIHosIGRlc3QpIHtcbiAgICAgICAgZGVzdC54ID0geDtcbiAgICAgICAgZGVzdC55ID0geTtcbiAgICAgICAgZGVzdC56ID0gejtcbiAgICB9XG4gICAgVmVjdG9yMy5jb3B5RnJvbUZsb2F0cyA9IGNvcHlGcm9tRmxvYXRzO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyB3aXRoIHRoZSBzYW1lIHZhbHVlXG4gICAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyB2ZWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZShzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShzb3VyY2UueCwgc291cmNlLnksIHNvdXJjZS56KTtcbiAgICB9XG4gICAgVmVjdG9yMy5jbG9uZSA9IGNsb25lO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2xpcCBmYWN0b3IgYmV0d2VlbiB0d28gdmVjdG9yc1xuICAgICAqIEBwYXJhbSB2ZWN0b3IwIC0gZGVmaW5lcyB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB2ZWN0b3IxIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gYXhpcyAtIGRlZmluZXMgdGhlIGF4aXMgdG8gdXNlXG4gICAgICogQHBhcmFtIHNpemUgLSBkZWZpbmVzIHRoZSBzaXplIGFsb25nIHRoZSBheGlzXG4gICAgICogQHJldHVybnMgdGhlIGNsaXAgZmFjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0Q2xpcEZhY3Rvcih2ZWN0b3IwLCB2ZWN0b3IxLCBheGlzLCBzaXplKSB7XG4gICAgICAgIGNvbnN0IGQwID0gZG90KHZlY3RvcjAsIGF4aXMpIC0gc2l6ZTtcbiAgICAgICAgY29uc3QgZDEgPSBkb3QodmVjdG9yMSwgYXhpcykgLSBzaXplO1xuICAgICAgICBjb25zdCBzID0gZDAgLyAoZDAgLSBkMSk7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgICBWZWN0b3IzLmdldENsaXBGYWN0b3IgPSBnZXRDbGlwRmFjdG9yO1xuICAgIC8qKlxuICAgICAqIEdldCBhbmdsZSBiZXR3ZWVuIHR3byB2ZWN0b3JzXG4gICAgICogQHBhcmFtIHZlY3RvcjAgLSBhbmdsZSBiZXR3ZWVuIHZlY3RvcjAgYW5kIHZlY3RvcjFcbiAgICAgKiBAcGFyYW0gdmVjdG9yMSAtIGFuZ2xlIGJldHdlZW4gdmVjdG9yMCBhbmQgdmVjdG9yMVxuICAgICAqIEBwYXJhbSBub3JtYWwgLSBkaXJlY3Rpb24gb2YgdGhlIG5vcm1hbFxuICAgICAqIEByZXR1cm5zIHRoZSBhbmdsZSBiZXR3ZWVuIHZlY3RvcjAgYW5kIHZlY3RvcjFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbmdsZUJldHdlZW5WZWN0b3JzKHZlY3RvcjAsIHZlY3RvcjEsIG5vcm1hbCkge1xuICAgICAgICBjb25zdCB2MCA9IG5vcm1hbGl6ZSh2ZWN0b3IwKTtcbiAgICAgICAgY29uc3QgdjEgPSBub3JtYWxpemUodmVjdG9yMSk7XG4gICAgICAgIGNvbnN0IHYwdjFkb3QgPSBkb3QodjAsIHYxKTtcbiAgICAgICAgY29uc3QgbiA9IGNyZWF0ZSgpO1xuICAgICAgICBjcm9zc1RvUmVmKHYwLCB2MSwgbik7XG4gICAgICAgIGlmIChkb3Qobiwgbm9ybWFsKSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFjb3ModjB2MWRvdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC1NYXRoLmFjb3ModjB2MWRvdCk7XG4gICAgfVxuICAgIFZlY3RvcjMuZ2V0QW5nbGVCZXR3ZWVuVmVjdG9ycyA9IGdldEFuZ2xlQmV0d2VlblZlY3RvcnM7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCBmcm9tIHRoZSBpbmRleCBcIm9mZnNldFwiIG9mIHRoZSBnaXZlbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSwgb2Zmc2V0ID0gMCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKGFycmF5W29mZnNldF0sIGFycmF5W29mZnNldCArIDFdLCBhcnJheVtvZmZzZXQgKyAyXSk7XG4gICAgfVxuICAgIFZlY3RvcjMuZnJvbUFycmF5ID0gZnJvbUFycmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgZnJvbSB0aGUgaW5kZXggXCJvZmZzZXRcIiBvZiB0aGUgZ2l2ZW4gRmxvYXRBcnJheVxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gIFVzZSBGcm9tQXJyYXkgaW5zdGVhZFxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21GbG9hdEFycmF5KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGZyb21BcnJheShhcnJheSwgb2Zmc2V0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5mcm9tRmxvYXRBcnJheSA9IGZyb21GbG9hdEFycmF5O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIGVsZW1lbnQgdmFsdWVzIGZyb20gdGhlIGluZGV4IFwib2Zmc2V0XCIgb2YgdGhlIGdpdmVuIGFycmF5XG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IGFycmF5W29mZnNldF07XG4gICAgICAgIHJlc3VsdC55ID0gYXJyYXlbb2Zmc2V0ICsgMV07XG4gICAgICAgIHJlc3VsdC56ID0gYXJyYXlbb2Zmc2V0ICsgMl07XG4gICAgfVxuICAgIFZlY3RvcjMuZnJvbUFycmF5VG9SZWYgPSBmcm9tQXJyYXlUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBlbGVtZW50IHZhbHVlcyBmcm9tIHRoZSBpbmRleCBcIm9mZnNldFwiIG9mIHRoZSBnaXZlbiBGbG9hdEFycmF5XG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLiAgVXNlIEZyb21BcnJheVRvUmVmIGluc3RlYWQuXG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21GbG9hdEFycmF5VG9SZWYoYXJyYXksIG9mZnNldCwgcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBmcm9tQXJyYXlUb1JlZihhcnJheSwgb2Zmc2V0LCByZXN1bHQpO1xuICAgIH1cbiAgICBWZWN0b3IzLmZyb21GbG9hdEFycmF5VG9SZWYgPSBmcm9tRmxvYXRBcnJheVRvUmVmO1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsZW5ndGggb2YgdGhlIFZlY3RvcjNcbiAgICAgKiBAcmV0dXJucyB0aGUgbGVuZ3RoIG9mIHRoZSBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVuZ3RoKHZlY3Rvcikge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHZlY3Rvci54ICogdmVjdG9yLnggKyB2ZWN0b3IueSAqIHZlY3Rvci55ICsgdmVjdG9yLnogKiB2ZWN0b3Iueik7XG4gICAgfVxuICAgIFZlY3RvcjMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIHRoZSBWZWN0b3IzXG4gICAgICogQHJldHVybnMgc3F1YXJlZCBsZW5ndGggb2YgdGhlIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZW5ndGhTcXVhcmVkKHZlY3Rvcikge1xuICAgICAgICByZXR1cm4gdmVjdG9yLnggKiB2ZWN0b3IueCArIHZlY3Rvci55ICogdmVjdG9yLnkgKyB2ZWN0b3IueiAqIHZlY3Rvci56O1xuICAgIH1cbiAgICBWZWN0b3IzLmxlbmd0aFNxdWFyZWQgPSBsZW5ndGhTcXVhcmVkO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgd2l0aCB0aGUgY3VycmVudCBWZWN0b3IzIGNvb3JkaW5hdGVzIG11bHRpcGxpZWQgYnkgdGhlIGZsb2F0IFwic2NhbGVcIlxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIG11bHRpcGxpZXIgZmFjdG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlVG9SZWYodmVjdG9yLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yLnggKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IueSAqIHNjYWxlO1xuICAgICAgICByZXN1bHQueiA9IHZlY3Rvci56ICogc2NhbGU7XG4gICAgfVxuICAgIFZlY3RvcjMuc2NhbGVUb1JlZiA9IHNjYWxlVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgbXVsdGlwbGllZCBieSB0aGUgZmxvYXQgXCJzY2FsZVwiXG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgbXVsdGlwbGllciBmYWN0b3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2NhbGUodmVjdG9yLCBzY2FsZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZlY3Rvci54ICogc2NhbGUsIHZlY3Rvci55ICogc2NhbGUsIHZlY3Rvci56ICogc2NhbGUpO1xuICAgIH1cbiAgICBWZWN0b3IzLnNjYWxlID0gc2NhbGU7XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIHRoZSBjdXJyZW50IFZlY3RvcjMgd2l0aCB0aGUgZ2l2ZW4gaW5wdXQgbGVuZ3RoLlxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBpcyBhbiBpbiBwbGFjZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIGxlbiAtIHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvclxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUZyb21MZW5ndGgodmVjdG9yLCBsZW4pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAsIDAsIDApO1xuICAgICAgICBub3JtYWxpemVGcm9tTGVuZ3RoVG9SZWYodmVjdG9yLCBsZW4sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMubm9ybWFsaXplRnJvbUxlbmd0aCA9IG5vcm1hbGl6ZUZyb21MZW5ndGg7XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIHRoZSBjdXJyZW50IFZlY3RvcjMgd2l0aCB0aGUgZ2l2ZW4gaW5wdXQgbGVuZ3RoLlxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBpcyBhbiBpbiBwbGFjZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIGxlbiAtIHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvclxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZih2ZWN0b3IsIGxlbiwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChsZW4gPT09IDAgfHwgbGVuID09PSAxLjApIHtcbiAgICAgICAgICAgIGNvcHlGcm9tKHZlY3RvciwgcmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzY2FsZVRvUmVmKHZlY3RvciwgMS4wIC8gbGVuLCByZXN1bHQpO1xuICAgIH1cbiAgICBWZWN0b3IzLm5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZiA9IG5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgdGhlIGN1cnJlbnQgVmVjdG9yMy5cbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZSh2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZUZyb21MZW5ndGgodmVjdG9yLCBsZW5ndGgodmVjdG9yKSk7XG4gICAgfVxuICAgIFZlY3RvcjMubm9ybWFsaXplID0gbm9ybWFsaXplO1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBWZWN0b3IzLlxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBpcyBhbiBpbiBwbGFjZSBvcGVyYXRpb24uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplVG9SZWYodmVjdG9yLCByZXN1bHQpIHtcbiAgICAgICAgbm9ybWFsaXplRnJvbUxlbmd0aFRvUmVmKHZlY3RvciwgbGVuZ3RoKHZlY3RvciksIHJlc3VsdCk7XG4gICAgfVxuICAgIFZlY3RvcjMubm9ybWFsaXplVG9SZWYgPSBub3JtYWxpemVUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkb3QgcHJvZHVjdCAoZmxvYXQpIGJldHdlZW4gdGhlIHZlY3RvcnMgXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgbGVmdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgcmlnaHQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBkb3QgcHJvZHVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRvdChsZWZ0LCByaWdodCkge1xuICAgICAgICByZXR1cm4gbGVmdC54ICogcmlnaHQueCArIGxlZnQueSAqIHJpZ2h0LnkgKyBsZWZ0LnogKiByaWdodC56O1xuICAgIH1cbiAgICBWZWN0b3IzLmRvdCA9IGRvdDtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoaXMgdmVjdG9yICh3aXRoIGFuIGltcGxpY2l0IDEgaW4gdGhlIDR0aCBkaW1lbnNpb24pIGFuZCBtLCBhbmQgZGl2aWRlcyBieSBwZXJzcGVjdGl2ZVxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHJldHVybnMgcmVzdWx0IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcHBseU1hdHJpeDQodmVjdG9yLCBtYXRyaXgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY2xvbmUodmVjdG9yKTtcbiAgICAgICAgYXBwbHlNYXRyaXg0VG9SZWYodmVjdG9yLCBtYXRyaXgsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMuYXBwbHlNYXRyaXg0ID0gYXBwbHlNYXRyaXg0O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhpcyB2ZWN0b3IgKHdpdGggYW4gaW1wbGljaXQgMSBpbiB0aGUgNHRoIGRpbWVuc2lvbikgYW5kIG0sIGFuZCBkaXZpZGVzIGJ5IHBlcnNwZWN0aXZlIGFuZCBzZXQgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhpcyByZXN1bHRcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gYXBwbHlNYXRyaXg0VG9SZWYodmVjdG9yLCBtYXRyaXgsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCB7IHgsIHksIHogfSA9IHZlY3RvcjtcbiAgICAgICAgY29uc3QgbSA9IG1hdHJpeC5fbTtcbiAgICAgICAgY29uc3QgdyA9IDEgLyAobVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdKTtcbiAgICAgICAgcmVzdWx0LnggPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pICogdztcbiAgICAgICAgcmVzdWx0LnkgPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pICogdztcbiAgICAgICAgcmVzdWx0LnogPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdKSAqIHc7XG4gICAgfVxuICAgIFZlY3RvcjMuYXBwbHlNYXRyaXg0VG9SZWYgPSBhcHBseU1hdHJpeDRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSBjdXJyZW50IFZlY3RvcjMgYmFzZWQgb24gdGhlIGdpdmVuIHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gcSAtIGRlZmluZXMgdGhlIFF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRlKHZlY3RvciwgcSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRlVG9SZWYodmVjdG9yLCBxLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLnJvdGF0ZSA9IHJvdGF0ZTtcbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGN1cnJlbnQgVmVjdG9yMyBiYXNlZCBvbiB0aGUgZ2l2ZW4gcXVhdGVybmlvbiwgYnV0IGFwcGxpZXMgdGhlIHJvdGF0aW9uIHRvIHRhcmdldCBWZWN0b3IzLlxuICAgICAqIEBwYXJhbSBxIC0gZGVmaW5lcyB0aGUgUXVhdGVybmlvblxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgVmVjdG9yM1xuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGVUb1JlZih2ZWN0b3IsIHEsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCB7IHgsIHksIHogfSA9IHZlY3RvcjtcbiAgICAgICAgY29uc3QgeyB4OiBxeCwgeTogcXksIHo6IHF6LCB3OiBxdyB9ID0gcTtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHF1YXQgKiB2ZWN0b3JcbiAgICAgICAgY29uc3QgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7XG4gICAgICAgIGNvbnN0IGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xuICAgICAgICBjb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcbiAgICAgICAgY29uc3QgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6O1xuICAgICAgICAvLyBjYWxjdWxhdGUgcmVzdWx0ICogaW52ZXJzZSBxdWF0XG4gICAgICAgIHJlc3VsdC54ID0gaXggKiBxdyArIGl3ICogLXF4ICsgaXkgKiAtcXogLSBpeiAqIC1xeTtcbiAgICAgICAgcmVzdWx0LnkgPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6O1xuICAgICAgICByZXN1bHQueiA9IGl6ICogcXcgKyBpdyAqIC1xeiArIGl4ICogLXF5IC0gaXkgKiAtcXg7XG4gICAgfVxuICAgIFZlY3RvcjMucm90YXRlVG9SZWYgPSByb3RhdGVUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgbG9jYXRlZCBmb3IgXCJhbW91bnRcIiAoZmxvYXQpIG9uIHRoZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHRoZSB2ZWN0b3JzIFwic3RhcnRcIiBhbmQgXCJlbmRcIlxuICAgICAqIEBwYXJhbSBzdGFydCAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIGVuZCAtIGRlZmluZXMgdGhlIGVuZCB2YWx1ZVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBtYXggZGVmaW5lcyBhbW91bnQgYmV0d2VlbiBib3RoIChiZXR3ZWVuIDAgYW5kIDEpXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycChzdGFydCwgZW5kLCBhbW91bnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAsIDAsIDApO1xuICAgICAgICBsZXJwVG9SZWYoc3RhcnQsIGVuZCwgYW1vdW50LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLmxlcnAgPSBsZXJwO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbGluZWFyIGludGVycG9sYXRpb24gZnJvbSB0aGUgdmVjdG9yIFwic3RhcnRcIiBmb3IgXCJhbW91bnRcIiB0byB0aGUgdmVjdG9yIFwiZW5kXCJcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBlbmQgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gbWF4IGRlZmluZXMgYW1vdW50IGJldHdlZW4gYm90aCAoYmV0d2VlbiAwIGFuZCAxKVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwVG9SZWYoc3RhcnQsIGVuZCwgYW1vdW50LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBzdGFydC54ICsgKGVuZC54IC0gc3RhcnQueCkgKiBhbW91bnQ7XG4gICAgICAgIHJlc3VsdC55ID0gc3RhcnQueSArIChlbmQueSAtIHN0YXJ0LnkpICogYW1vdW50O1xuICAgICAgICByZXN1bHQueiA9IHN0YXJ0LnogKyAoZW5kLnogLSBzdGFydC56KSAqIGFtb3VudDtcbiAgICB9XG4gICAgVmVjdG9yMy5sZXJwVG9SZWYgPSBsZXJwVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGFzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHRoZSB2ZWN0b3JzIFwibGVmdFwiIGFuZCBcInJpZ2h0XCJcbiAgICAgKiBUaGUgY3Jvc3MgcHJvZHVjdCBpcyB0aGVuIG9ydGhvZ29uYWwgdG8gYm90aCBcImxlZnRcIiBhbmQgXCJyaWdodFwiXG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBsZWZ0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSByaWdodCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIGNyb3NzIHByb2R1Y3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcm9zcyhsZWZ0LCByaWdodCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBaZXJvKCk7XG4gICAgICAgIGNyb3NzVG9SZWYobGVmdCwgcmlnaHQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMuY3Jvc3MgPSBjcm9zcztcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBjcm9zcyBwcm9kdWN0IG9mIFwibGVmdFwiIGFuZCBcInJpZ2h0XCJcbiAgICAgKiBUaGUgY3Jvc3MgcHJvZHVjdCBpcyB0aGVuIG9ydGhvZ29uYWwgdG8gYm90aCBcImxlZnRcIiBhbmQgXCJyaWdodFwiXG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBsZWZ0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSByaWdodCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyb3NzVG9SZWYobGVmdCwgcmlnaHQsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IGxlZnQueSAqIHJpZ2h0LnogLSBsZWZ0LnogKiByaWdodC55O1xuICAgICAgICByZXN1bHQueSA9IGxlZnQueiAqIHJpZ2h0LnggLSBsZWZ0LnggKiByaWdodC56O1xuICAgICAgICByZXN1bHQueiA9IGxlZnQueCAqIHJpZ2h0LnkgLSBsZWZ0LnkgKiByaWdodC54O1xuICAgIH1cbiAgICBWZWN0b3IzLmNyb3NzVG9SZWYgPSBjcm9zc1RvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSB0cmFuc2Zvcm1hdGlvbiBieSB0aGUgZ2l2ZW4gbWF0cml4IG9mIHRoZSBnaXZlbiB2ZWN0b3IuXG4gICAgICogVGhpcyBtZXRob2QgY29tcHV0ZXMgdHJhbmZvcm1lZCBjb29yZGluYXRlcyBvbmx5LCBub3QgdHJhbnNmb3JtZWQgZGlyZWN0aW9uIHZlY3RvcnMgKGllLiBpdCB0YWtlcyB0cmFuc2xhdGlvbiBpbiBhY2NvdW50KVxuICAgICAqIEBwYXJhbSB2ZWN0b3IgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB0cmFuc2Zvcm1hdGlvbiAtIGRlZmluZXMgdGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSB0cmFuc2Zvcm1lZCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtQ29vcmRpbmF0ZXModmVjdG9yLCB0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBaZXJvKCk7XG4gICAgICAgIHRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy50cmFuc2Zvcm1Db29yZGluYXRlcyA9IHRyYW5zZm9ybUNvb3JkaW5hdGVzO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIGNvb3JkaW5hdGVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gdmVjdG9yXG4gICAgICogVGhpcyBtZXRob2QgY29tcHV0ZXMgdHJhbmZvcm1lZCBjb29yZGluYXRlcyBvbmx5LCBub3QgdHJhbnNmb3JtZWQgZGlyZWN0aW9uIHZlY3RvcnMgKGllLiBpdCB0YWtlcyB0cmFuc2xhdGlvbiBpbiBhY2NvdW50KVxuICAgICAqIEBwYXJhbSB2ZWN0b3IgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB0cmFuc2Zvcm1hdGlvbiAtIGRlZmluZXMgdGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHZlY3RvciwgdHJhbnNmb3JtYXRpb24sIHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYodmVjdG9yLngsIHZlY3Rvci55LCB2ZWN0b3IueiwgdHJhbnNmb3JtYXRpb24sIHJlc3VsdCk7XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZiA9IHRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgY29vcmRpbmF0ZXMgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSB0cmFuc2Zvcm1hdGlvbiBieSB0aGUgZ2l2ZW4gbWF0cml4IG9mIHRoZSBnaXZlbiBmbG9hdHMgKHgsIHksIHopXG4gICAgICogVGhpcyBtZXRob2QgY29tcHV0ZXMgdHJhbmZvcm1lZCBjb29yZGluYXRlcyBvbmx5LCBub3QgdHJhbnNmb3JtZWQgZGlyZWN0aW9uIHZlY3RvcnNcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZSB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2UgdmVjdG9yXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmUgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlIHZlY3RvclxuICAgICAqIEBwYXJhbSB6IC0gZGVmaW5lIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoeCwgeSwgeiwgdHJhbnNmb3JtYXRpb24sIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBtID0gdHJhbnNmb3JtYXRpb24uX207XG4gICAgICAgIGNvbnN0IHJ4ID0geCAqIG1bMF0gKyB5ICogbVs0XSArIHogKiBtWzhdICsgbVsxMl07XG4gICAgICAgIGNvbnN0IHJ5ID0geCAqIG1bMV0gKyB5ICogbVs1XSArIHogKiBtWzldICsgbVsxM107XG4gICAgICAgIGNvbnN0IHJ6ID0geCAqIG1bMl0gKyB5ICogbVs2XSArIHogKiBtWzEwXSArIG1bMTRdO1xuICAgICAgICBjb25zdCBydyA9IDEgLyAoeCAqIG1bM10gKyB5ICogbVs3XSArIHogKiBtWzExXSArIG1bMTVdKTtcbiAgICAgICAgcmVzdWx0LnggPSByeCAqIHJ3O1xuICAgICAgICByZXN1bHQueSA9IHJ5ICogcnc7XG4gICAgICAgIHJlc3VsdC56ID0gcnogKiBydztcbiAgICB9XG4gICAgVmVjdG9yMy50cmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZiA9IHRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBub3JtYWwgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gdmVjdG9yXG4gICAgICogVGhpcyBtZXRob2RzIGNvbXB1dGVzIHRyYW5zZm9ybWVkIG5vcm1hbGl6ZWQgZGlyZWN0aW9uIHZlY3RvcnMgb25seSAoaWUuIGl0IGRvZXMgbm90IGFwcGx5IHRyYW5zbGF0aW9uKVxuICAgICAqIEBwYXJhbSB2ZWN0b3IgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB0cmFuc2Zvcm1hdGlvbiAtIGRlZmluZXMgdGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybU5vcm1hbCh2ZWN0b3IsIHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFplcm8oKTtcbiAgICAgICAgdHJhbnNmb3JtTm9ybWFsVG9SZWYodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy50cmFuc2Zvcm1Ob3JtYWwgPSB0cmFuc2Zvcm1Ob3JtYWw7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBub3JtYWwgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gdmVjdG9yXG4gICAgICogVGhpcyBtZXRob2RzIGNvbXB1dGVzIHRyYW5zZm9ybWVkIG5vcm1hbGl6ZWQgZGlyZWN0aW9uIHZlY3RvcnMgb25seSAoaWUuIGl0IGRvZXMgbm90IGFwcGx5IHRyYW5zbGF0aW9uKVxuICAgICAqIEBwYXJhbSB2ZWN0b3IgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB0cmFuc2Zvcm1hdGlvbiAtIGRlZmluZXMgdGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm1Ob3JtYWxUb1JlZih2ZWN0b3IsIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpIHtcbiAgICAgICAgdHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKHZlY3Rvci54LCB2ZWN0b3IueSwgdmVjdG9yLnosIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpO1xuICAgIH1cbiAgICBWZWN0b3IzLnRyYW5zZm9ybU5vcm1hbFRvUmVmID0gdHJhbnNmb3JtTm9ybWFsVG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBub3JtYWwgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gZmxvYXRzICh4LCB5LCB6KVxuICAgICAqIFRoaXMgbWV0aG9kcyBjb21wdXRlcyB0cmFuc2Zvcm1lZCBub3JtYWxpemVkIGRpcmVjdGlvbiB2ZWN0b3JzIG9ubHkgKGllLiBpdCBkb2VzIG5vdCBhcHBseSB0cmFuc2xhdGlvbilcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZSB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2UgdmVjdG9yXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmUgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlIHZlY3RvclxuICAgICAqIEBwYXJhbSB6IC0gZGVmaW5lIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKHgsIHksIHosIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgbSA9IHRyYW5zZm9ybWF0aW9uLl9tO1xuICAgICAgICByZXN1bHQueCA9IHggKiBtWzBdICsgeSAqIG1bNF0gKyB6ICogbVs4XTtcbiAgICAgICAgcmVzdWx0LnkgPSB4ICogbVsxXSArIHkgKiBtWzVdICsgeiAqIG1bOV07XG4gICAgICAgIHJlc3VsdC56ID0geCAqIG1bMl0gKyB5ICogbVs2XSArIHogKiBtWzEwXTtcbiAgICB9XG4gICAgVmVjdG9yMy50cmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYgPSB0cmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgb24gdGhlIENhdG11bGxSb20gaW50ZXJwb2xhdGlvbiBzcGxpbmUgZGVmaW5lZCBieSB0aGUgdmVjdG9ycyBcInZhbHVlMVwiLCBcInZhbHVlMlwiLCBcInZhbHVlM1wiLCBcInZhbHVlNFwiXG4gICAgICogQHBhcmFtIHZhbHVlMSAtIGRlZmluZXMgdGhlIGZpcnN0IGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gdmFsdWUyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gdmFsdWUzIC0gZGVmaW5lcyB0aGUgdGhpcmQgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB2YWx1ZTQgLSBkZWZpbmVzIHRoZSBmb3VydGggY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBhbW91bnQgb24gdGhlIHNwbGluZSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXRtdWxsUm9tKHZhbHVlMSwgdmFsdWUyLCB2YWx1ZTMsIHZhbHVlNCwgYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHNxdWFyZWQgPSBhbW91bnQgKiBhbW91bnQ7XG4gICAgICAgIGNvbnN0IGN1YmVkID0gYW1vdW50ICogc3F1YXJlZDtcbiAgICAgICAgY29uc3QgeCA9IDAuNSAqXG4gICAgICAgICAgICAoMi4wICogdmFsdWUyLnggK1xuICAgICAgICAgICAgICAgICgtdmFsdWUxLnggKyB2YWx1ZTMueCkgKiBhbW91bnQgK1xuICAgICAgICAgICAgICAgICgyLjAgKiB2YWx1ZTEueCAtIDUuMCAqIHZhbHVlMi54ICsgNC4wICogdmFsdWUzLnggLSB2YWx1ZTQueCkgKlxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS54ICsgMy4wICogdmFsdWUyLnggLSAzLjAgKiB2YWx1ZTMueCArIHZhbHVlNC54KSAqIGN1YmVkKTtcbiAgICAgICAgY29uc3QgeSA9IDAuNSAqXG4gICAgICAgICAgICAoMi4wICogdmFsdWUyLnkgK1xuICAgICAgICAgICAgICAgICgtdmFsdWUxLnkgKyB2YWx1ZTMueSkgKiBhbW91bnQgK1xuICAgICAgICAgICAgICAgICgyLjAgKiB2YWx1ZTEueSAtIDUuMCAqIHZhbHVlMi55ICsgNC4wICogdmFsdWUzLnkgLSB2YWx1ZTQueSkgKlxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS55ICsgMy4wICogdmFsdWUyLnkgLSAzLjAgKiB2YWx1ZTMueSArIHZhbHVlNC55KSAqIGN1YmVkKTtcbiAgICAgICAgY29uc3QgeiA9IDAuNSAqXG4gICAgICAgICAgICAoMi4wICogdmFsdWUyLnogK1xuICAgICAgICAgICAgICAgICgtdmFsdWUxLnogKyB2YWx1ZTMueikgKiBhbW91bnQgK1xuICAgICAgICAgICAgICAgICgyLjAgKiB2YWx1ZTEueiAtIDUuMCAqIHZhbHVlMi56ICsgNC4wICogdmFsdWUzLnogLSB2YWx1ZTQueikgKlxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS56ICsgMy4wICogdmFsdWUyLnogLSAzLjAgKiB2YWx1ZTMueiArIHZhbHVlNC56KSAqIGN1YmVkKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh4LCB5LCB6KTtcbiAgICB9XG4gICAgVmVjdG9yMy5jYXRtdWxsUm9tID0gY2F0bXVsbFJvbTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIGNvb3JkaW5hdGVzIG9mIFwidmFsdWVcIiwgaWYgdGhlIHZlY3RvciBcInZhbHVlXCIgaXMgaW4gdGhlIGN1YmUgZGVmaW5lZCBieSB0aGUgdmVjdG9ycyBcIm1pblwiIGFuZCBcIm1heFwiXG4gICAgICogSWYgYSBjb29yZGluYXRlIHZhbHVlIG9mIFwidmFsdWVcIiBpcyBsb3dlciB0aGFuIG9uZSBvZiB0aGUgXCJtaW5cIiBjb29yZGluYXRlLCB0aGVuIHRoaXMgXCJ2YWx1ZVwiIGNvb3JkaW5hdGUgaXMgc2V0IHdpdGggdGhlIFwibWluXCIgb25lXG4gICAgICogSWYgYSBjb29yZGluYXRlIHZhbHVlIG9mIFwidmFsdWVcIiBpcyBncmVhdGVyIHRoYW4gb25lIG9mIHRoZSBcIm1heFwiIGNvb3JkaW5hdGUsIHRoZW4gdGhpcyBcInZhbHVlXCIgY29vcmRpbmF0ZSBpcyBzZXQgd2l0aCB0aGUgXCJtYXhcIiBvbmVcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHZhbHVlXG4gICAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgdGhlIGxvd2VyIHJhbmdlIHZhbHVlXG4gICAgICogQHBhcmFtIG1heCAtIGRlZmluZXMgdGhlIHVwcGVyIHJhbmdlIHZhbHVlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgICAgIGNvbnN0IHYgPSBjcmVhdGUoKTtcbiAgICAgICAgY2xhbXBUb1JlZih2YWx1ZSwgbWluLCBtYXgsIHYpO1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG4gICAgVmVjdG9yMy5jbGFtcCA9IGNsYW1wO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIGNvb3JkaW5hdGVzIG9mIFwidmFsdWVcIiwgaWYgdGhlIHZlY3RvciBcInZhbHVlXCIgaXMgaW4gdGhlIGN1YmUgZGVmaW5lZCBieSB0aGUgdmVjdG9ycyBcIm1pblwiIGFuZCBcIm1heFwiXG4gICAgICogSWYgYSBjb29yZGluYXRlIHZhbHVlIG9mIFwidmFsdWVcIiBpcyBsb3dlciB0aGFuIG9uZSBvZiB0aGUgXCJtaW5cIiBjb29yZGluYXRlLCB0aGVuIHRoaXMgXCJ2YWx1ZVwiIGNvb3JkaW5hdGUgaXMgc2V0IHdpdGggdGhlIFwibWluXCIgb25lXG4gICAgICogSWYgYSBjb29yZGluYXRlIHZhbHVlIG9mIFwidmFsdWVcIiBpcyBncmVhdGVyIHRoYW4gb25lIG9mIHRoZSBcIm1heFwiIGNvb3JkaW5hdGUsIHRoZW4gdGhpcyBcInZhbHVlXCIgY29vcmRpbmF0ZSBpcyBzZXQgd2l0aCB0aGUgXCJtYXhcIiBvbmVcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHZhbHVlXG4gICAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgdGhlIGxvd2VyIHJhbmdlIHZhbHVlXG4gICAgICogQHBhcmFtIG1heCAtIGRlZmluZXMgdGhlIHVwcGVyIHJhbmdlIHZhbHVlXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wVG9SZWYodmFsdWUsIG1pbiwgbWF4LCByZXN1bHQpIHtcbiAgICAgICAgbGV0IHggPSB2YWx1ZS54O1xuICAgICAgICB4ID0geCA+IG1heC54ID8gbWF4LnggOiB4O1xuICAgICAgICB4ID0geCA8IG1pbi54ID8gbWluLnggOiB4O1xuICAgICAgICBsZXQgeSA9IHZhbHVlLnk7XG4gICAgICAgIHkgPSB5ID4gbWF4LnkgPyBtYXgueSA6IHk7XG4gICAgICAgIHkgPSB5IDwgbWluLnkgPyBtaW4ueSA6IHk7XG4gICAgICAgIGxldCB6ID0gdmFsdWUuejtcbiAgICAgICAgeiA9IHogPiBtYXgueiA/IG1heC56IDogejtcbiAgICAgICAgeiA9IHogPCBtaW4ueiA/IG1pbi56IDogejtcbiAgICAgICAgY29weUZyb21GbG9hdHMoeCwgeSwgeiwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5jbGFtcFRvUmVmID0gY2xhbXBUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgbG9jYXRlZCBmb3IgXCJhbW91bnRcIiAoZmxvYXQpIG9uIHRoZSBIZXJtaXRlIGludGVycG9sYXRpb24gc3BsaW5lIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiwgXCJ0YW5nZW50MVwiLCBcInZhbHVlMlwiLCBcInRhbmdlbnQyXCJcbiAgICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgZmlyc3QgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB0YW5nZW50MSAtIGRlZmluZXMgdGhlIGZpcnN0IHRhbmdlbnQgdmVjdG9yXG4gICAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgdGhlIHNlY29uZCBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHRhbmdlbnQyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIHRhbmdlbnQgdmVjdG9yXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGFtb3VudCBvbiB0aGUgaW50ZXJwb2xhdGlvbiBzcGxpbmUgKGJldHdlZW4gMCBhbmQgMSlcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZXJtaXRlKHZhbHVlMSwgdGFuZ2VudDEsIHZhbHVlMiwgdGFuZ2VudDIsIGFtb3VudCkge1xuICAgICAgICBjb25zdCBzcXVhcmVkID0gYW1vdW50ICogYW1vdW50O1xuICAgICAgICBjb25zdCBjdWJlZCA9IGFtb3VudCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHBhcnQxID0gMi4wICogY3ViZWQgLSAzLjAgKiBzcXVhcmVkICsgMS4wO1xuICAgICAgICBjb25zdCBwYXJ0MiA9IC0yLjAgKiBjdWJlZCArIDMuMCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHBhcnQzID0gY3ViZWQgLSAyLjAgKiBzcXVhcmVkICsgYW1vdW50O1xuICAgICAgICBjb25zdCBwYXJ0NCA9IGN1YmVkIC0gc3F1YXJlZDtcbiAgICAgICAgY29uc3QgeCA9IHZhbHVlMS54ICogcGFydDEgK1xuICAgICAgICAgICAgdmFsdWUyLnggKiBwYXJ0MiArXG4gICAgICAgICAgICB0YW5nZW50MS54ICogcGFydDMgK1xuICAgICAgICAgICAgdGFuZ2VudDIueCAqIHBhcnQ0O1xuICAgICAgICBjb25zdCB5ID0gdmFsdWUxLnkgKiBwYXJ0MSArXG4gICAgICAgICAgICB2YWx1ZTIueSAqIHBhcnQyICtcbiAgICAgICAgICAgIHRhbmdlbnQxLnkgKiBwYXJ0MyArXG4gICAgICAgICAgICB0YW5nZW50Mi55ICogcGFydDQ7XG4gICAgICAgIGNvbnN0IHogPSB2YWx1ZTEueiAqIHBhcnQxICtcbiAgICAgICAgICAgIHZhbHVlMi56ICogcGFydDIgK1xuICAgICAgICAgICAgdGFuZ2VudDEueiAqIHBhcnQzICtcbiAgICAgICAgICAgIHRhbmdlbnQyLnogKiBwYXJ0NDtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh4LCB5LCB6KTtcbiAgICB9XG4gICAgVmVjdG9yMy5oZXJtaXRlID0gaGVybWl0ZTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtaW5pbWFsIGNvb3JkaW5hdGUgdmFsdWVzIGJldHdlZW4gdHdvIFZlY3RvcjNcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbmltaXplKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IGNyZWF0ZSgpO1xuICAgICAgICBtaW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzVG9SZWYocmlnaHQsIGxlZnQueCwgbGVmdC55LCBsZWZ0LnosIG1pbik7XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIFZlY3RvcjMubWluaW1pemUgPSBtaW5pbWl6ZTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXhpbWFsIGNvb3JkaW5hdGUgdmFsdWVzIGJldHdlZW4gdHdvIFZlY3RvcjNcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heGltaXplKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IG1heCA9IGNyZWF0ZSgpO1xuICAgICAgICBtYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzVG9SZWYobGVmdCwgcmlnaHQueCwgcmlnaHQueSwgcmlnaHQueiwgbWF4KTtcbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG4gICAgVmVjdG9yMy5tYXhpbWl6ZSA9IG1heGltaXplO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiBhbmQgXCJ2YWx1ZTJcIlxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIGRpc3RhbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGlzdGFuY2UodmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkaXN0YW5jZVNxdWFyZWQodmFsdWUxLCB2YWx1ZTIpKTtcbiAgICB9XG4gICAgVmVjdG9yMy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdmVjdG9ycyBcInZhbHVlMVwiIGFuZCBcInZhbHVlMlwiXG4gICAgICogQHBhcmFtIHZhbHVlMSAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gdmFsdWUyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgc3F1YXJlZCBkaXN0YW5jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpc3RhbmNlU3F1YXJlZCh2YWx1ZTEsIHZhbHVlMikge1xuICAgICAgICBjb25zdCB4ID0gdmFsdWUxLnggLSB2YWx1ZTIueDtcbiAgICAgICAgY29uc3QgeSA9IHZhbHVlMS55IC0gdmFsdWUyLnk7XG4gICAgICAgIGNvbnN0IHogPSB2YWx1ZTEueiAtIHZhbHVlMi56O1xuICAgICAgICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xuICAgIH1cbiAgICBWZWN0b3IzLmRpc3RhbmNlU3F1YXJlZCA9IGRpc3RhbmNlU3F1YXJlZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgbG9jYXRlZCBhdCB0aGUgY2VudGVyIGJldHdlZW4gXCJ2YWx1ZTFcIiBhbmQgXCJ2YWx1ZTJcIlxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2VudGVyKHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGFkZCh2YWx1ZTEsIHZhbHVlMik7XG4gICAgICAgIHNjYWxlVG9SZWYoY2VudGVyLCAwLjUsIGNlbnRlcik7XG4gICAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgfVxuICAgIFZlY3RvcjMuY2VudGVyID0gY2VudGVyO1xuICAgIC8qKlxuICAgICAqIEdpdmVuIHRocmVlIG9ydGhvZ29uYWwgbm9ybWFsaXplZCBsZWZ0LWhhbmRlZCBvcmllbnRlZCBWZWN0b3IzIGF4aXMgaW4gc3BhY2UgKHRhcmdldCBzeXN0ZW0pLFxuICAgICAqIFJvdGF0aW9uRnJvbUF4aXMoKSByZXR1cm5zIHRoZSByb3RhdGlvbiBFdWxlciBhbmdsZXMgKGV4IDogcm90YXRpb24ueCwgcm90YXRpb24ueSwgcm90YXRpb24ueikgdG8gYXBwbHlcbiAgICAgKiB0byBzb21ldGhpbmcgaW4gb3JkZXIgdG8gcm90YXRlIGl0IGZyb20gaXRzIGxvY2FsIHN5c3RlbSB0byB0aGUgZ2l2ZW4gdGFyZ2V0IHN5c3RlbVxuICAgICAqIE5vdGU6IGF4aXMxLCBheGlzMiBhbmQgYXhpczMgYXJlIG5vcm1hbGl6ZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIGF4aXMxIC0gZGVmaW5lcyB0aGUgZmlyc3QgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMiAtIGRlZmluZXMgdGhlIHNlY29uZCBheGlzXG4gICAgICogQHBhcmFtIGF4aXMzIC0gZGVmaW5lcyB0aGUgdGhpcmQgYXhpc1xuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGlvbkZyb21BeGlzKGF4aXMxLCBheGlzMiwgYXhpczMpIHtcbiAgICAgICAgY29uc3Qgcm90YXRpb24gPSBaZXJvKCk7XG4gICAgICAgIHJvdGF0aW9uRnJvbUF4aXNUb1JlZihheGlzMSwgYXhpczIsIGF4aXMzLCByb3RhdGlvbik7XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICB9XG4gICAgVmVjdG9yMy5yb3RhdGlvbkZyb21BeGlzID0gcm90YXRpb25Gcm9tQXhpcztcbiAgICAvKipcbiAgICAgKiBUaGUgc2FtZSB0aGFuIFJvdGF0aW9uRnJvbUF4aXMgYnV0IHVwZGF0ZXMgdGhlIGdpdmVuIHJlZiBWZWN0b3IzIHBhcmFtZXRlciBpbnN0ZWFkIG9mIHJldHVybmluZyBhIG5ldyBWZWN0b3IzXG4gICAgICogQHBhcmFtIGF4aXMxIC0gZGVmaW5lcyB0aGUgZmlyc3QgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMiAtIGRlZmluZXMgdGhlIHNlY29uZCBheGlzXG4gICAgICogQHBhcmFtIGF4aXMzIC0gZGVmaW5lcyB0aGUgdGhpcmQgYXhpc1xuICAgICAqIEBwYXJhbSByZWYgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGlvbkZyb21BeGlzVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHF1YXQgPSBRdWF0ZXJuaW9uLmNyZWF0ZSgpO1xuICAgICAgICBRdWF0ZXJuaW9uLmZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb25Ub1JlZihheGlzMSwgYXhpczIsIGF4aXMzLCBxdWF0KTtcbiAgICAgICAgY29weUZyb20oUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzKHF1YXQpLCByZXN1bHQpO1xuICAgIH1cbiAgICBWZWN0b3IzLnJvdGF0aW9uRnJvbUF4aXNUb1JlZiA9IHJvdGF0aW9uRnJvbUF4aXNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBWZWN0b3IzXG4gICAgICogQHJldHVybnMgYSBzdHJpbmcgd2l0aCB0aGUgVmVjdG9yMyBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1N0cmluZyh2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGAoJHt2ZWN0b3IueH0sICR7dmVjdG9yLnl9LCAke3ZlY3Rvci56fSlgO1xuICAgIH1cbiAgICBWZWN0b3IzLnRvU3RyaW5nID0gdG9TdHJpbmc7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgVmVjdG9yMyBoYXNoIGNvZGVcbiAgICAgKiBAcmV0dXJucyBhIG51bWJlciB3aGljaCB0ZW5kcyB0byBiZSB1bmlxdWUgYmV0d2VlbiBWZWN0b3IzIGluc3RhbmNlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhhc2hDb2RlKHZlY3Rvcikge1xuICAgICAgICBsZXQgaGFzaCA9IHZlY3Rvci54IHx8IDA7XG4gICAgICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodmVjdG9yLnkgfHwgMCk7XG4gICAgICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodmVjdG9yLnogfHwgMCk7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICBWZWN0b3IzLmdldEhhc2hDb2RlID0gZ2V0SGFzaENvZGU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB2ZWN0b3IxIGFuZCB0aGUgdmVjdG9yMiBjb29yZGluYXRlcyBhcmUgc3RyaWN0bHkgZXF1YWxcbiAgICAgKiBAcGFyYW0gdmVjdG9yMSAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gdmVjdG9yMiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBib3RoIHZlY3RvcnMgYXJlIGVxdWFsc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFscyh2ZWN0b3IxLCB2ZWN0b3IyKSB7XG4gICAgICAgIHJldHVybiAodmVjdG9yMS54ID09PSB2ZWN0b3IyLnggJiZcbiAgICAgICAgICAgIHZlY3RvcjEueSA9PT0gdmVjdG9yMi55ICYmXG4gICAgICAgICAgICB2ZWN0b3IxLnogPT09IHZlY3RvcjIueik7XG4gICAgfVxuICAgIFZlY3RvcjMuZXF1YWxzID0gZXF1YWxzO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBWZWN0b3IzIGFuZCB0aGUgZ2l2ZW4gdmVjdG9yIGNvb3JkaW5hdGVzIGFyZSBkaXN0YW50IGxlc3MgdGhhbiBlcHNpbG9uXG4gICAgICogQHBhcmFtIG90aGVyVmVjdG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gZXBzaWxvbiAtIGRlZmluZXMgdGhlIG1pbmltYWwgZGlzdGFuY2UgdG8gZGVmaW5lIHZhbHVlcyBhcyBlcXVhbHNcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGJvdGggdmVjdG9ycyBhcmUgZGlzdGFudCBsZXNzIHRoYW4gZXBzaWxvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsc1dpdGhFcHNpbG9uKHZlY3RvcjEsIHZlY3RvcjIsIGVwc2lsb24gPSBFcHNpbG9uKSB7XG4gICAgICAgIHJldHVybiAoU2NhbGFyLndpdGhpbkVwc2lsb24odmVjdG9yMS54LCB2ZWN0b3IyLngsIGVwc2lsb24pICYmXG4gICAgICAgICAgICBTY2FsYXIud2l0aGluRXBzaWxvbih2ZWN0b3IxLnksIHZlY3RvcjIueSwgZXBzaWxvbikgJiZcbiAgICAgICAgICAgIFNjYWxhci53aXRoaW5FcHNpbG9uKHZlY3RvcjEueiwgdmVjdG9yMi56LCBlcHNpbG9uKSk7XG4gICAgfVxuICAgIFZlY3RvcjMuZXF1YWxzV2l0aEVwc2lsb24gPSBlcXVhbHNXaXRoRXBzaWxvbjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBlcXVhbHMgdGhlIGdpdmVuIGZsb2F0c1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgYm90aCB2ZWN0b3JzIGFyZSBlcXVhbHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHNUb0Zsb2F0cyh2ZWN0b3IsIHgsIHksIHopIHtcbiAgICAgICAgcmV0dXJuIHZlY3Rvci54ID09PSB4ICYmIHZlY3Rvci55ID09PSB5ICYmIHZlY3Rvci56ID09PSB6O1xuICAgIH1cbiAgICBWZWN0b3IzLmVxdWFsc1RvRmxvYXRzID0gZXF1YWxzVG9GbG9hdHM7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzLCByZXN1bHQgb2YgdGhlIG11bHRpcGxpY2F0aW9uIG9mIHZlY3RvcjEgYnkgdGhlIHZlY3RvcjJcbiAgICAgKiBAcGFyYW0gdmVjdG9yMSAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gdmVjdG9yMiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHkodmVjdG9yMSwgdmVjdG9yMikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgbXVsdGlwbHlUb1JlZih2ZWN0b3IxLCB2ZWN0b3IyLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0aGUgY3VycmVudCBWZWN0b3IzIGJ5IHRoZSBnaXZlbiBvbmUgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZih2ZWN0b3IxLCB2ZWN0b3IyLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3IxLnggKiB2ZWN0b3IyLng7XG4gICAgICAgIHJlc3VsdC55ID0gdmVjdG9yMS55ICogdmVjdG9yMi55O1xuICAgICAgICByZXN1bHQueiA9IHZlY3RvcjEueiAqIHZlY3RvcjIuejtcbiAgICB9XG4gICAgVmVjdG9yMy5tdWx0aXBseVRvUmVmID0gbXVsdGlwbHlUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbXVsbGlwbGljYXRpb24gb2YgdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBieSB0aGUgZ2l2ZW4gZmxvYXRzXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlCeUZsb2F0c1RvUmVmKHZlY3RvcjEsIHgsIHksIHosIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IHZlY3RvcjEueCAqIHg7XG4gICAgICAgIHJlc3VsdC55ID0gdmVjdG9yMS55ICogeTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3IxLnogKiB6O1xuICAgIH1cbiAgICBWZWN0b3IzLm11bHRpcGx5QnlGbG9hdHNUb1JlZiA9IG11bHRpcGx5QnlGbG9hdHNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbXVsbGlwbGljYXRpb24gb2YgdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBieSB0aGUgZ2l2ZW4gZmxvYXRzXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlCeUZsb2F0cyh2ZWN0b3IxLCB4LCB5LCB6KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBtdWx0aXBseUJ5RmxvYXRzVG9SZWYodmVjdG9yMSwgeCwgeSwgeiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy5tdWx0aXBseUJ5RmxvYXRzID0gbXVsdGlwbHlCeUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgZGl2aXNpb24gb2YgdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBieSB0aGUgZ2l2ZW4gb25lc1xuICAgICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGl2aWRlKHZlY3RvcjEsIHZlY3RvcjIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHZlY3RvcjEueCAvIHZlY3RvcjIueCxcbiAgICAgICAgICAgIHk6IHZlY3RvcjEueSAvIHZlY3RvcjIueSxcbiAgICAgICAgICAgIHo6IHZlY3RvcjEueiAvIHZlY3RvcjIuelxuICAgICAgICB9O1xuICAgIH1cbiAgICBWZWN0b3IzLmRpdmlkZSA9IGRpdmlkZTtcbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIG9uZXMgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGl2aWRlVG9SZWYodmVjdG9yMSwgdmVjdG9yMiwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yMS54IC8gdmVjdG9yMi54O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvcjEueSAvIHZlY3RvcjIueTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3IxLnogLyB2ZWN0b3IyLno7XG4gICAgfVxuICAgIFZlY3RvcjMuZGl2aWRlVG9SZWYgPSBkaXZpZGVUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTZXQgcmVzdWx0IFZlY3RvcjMgd2l0aCB0aGUgbWF4aW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHZlY3RvcjEgYW5kIHRoZSBnaXZlbiBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSB0aGUgc2V0IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzVG9SZWYodmVjdG9yMSwgeCwgeSwgeiwgcmVzdWx0KSB7XG4gICAgICAgIGlmICh4ID4gdmVjdG9yMS54KSB7XG4gICAgICAgICAgICByZXN1bHQueCA9IHg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQueCA9IHZlY3RvcjEueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA+IHZlY3RvcjEueSkge1xuICAgICAgICAgICAgcmVzdWx0LnkgPSB5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHogPiB2ZWN0b3IxLnopIHtcbiAgICAgICAgICAgIHJlc3VsdC56ID0gejtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56O1xuICAgICAgICB9XG4gICAgfVxuICAgIFZlY3RvcjMubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmID0gbWF4aW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmO1xuICAgIC8qKlxuICAgICAqIFNldCByZXN1bHQgVmVjdG9yMyB3aXRoIHRoZSBtaW5pbWFsIGNvb3JkaW5hdGUgdmFsdWVzIGJldHdlZW4gdmVjdG9yMSBhbmQgdGhlIGdpdmVuIGNvb3JkaW5hdGVzXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIHRoZSBzZXQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbmltaXplSW5QbGFjZUZyb21GbG9hdHNUb1JlZih2ZWN0b3IxLCB4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgaWYgKHggPCB2ZWN0b3IxLngpIHtcbiAgICAgICAgICAgIHJlc3VsdC54ID0geDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC54ID0gdmVjdG9yMS54O1xuICAgICAgICB9XG4gICAgICAgIGlmICh5IDwgdmVjdG9yMS55KSB7XG4gICAgICAgICAgICByZXN1bHQueSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQueSA9IHZlY3RvcjEueTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeiA8IHZlY3RvcjEueikge1xuICAgICAgICAgICAgcmVzdWx0LnogPSB6O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3IxLno7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVmVjdG9yMy5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzVG9SZWYgPSBtaW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzVG9SZWY7XG4gICAgLyoqXG4gICAgICogR2V0cyBhIG5ldyBWZWN0b3IzIGZyb20gdmVjdG9yMSBmbG9vcmVkIHZhbHVlc1xuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbG9vcih2ZWN0b3IxKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoTWF0aC5mbG9vcih2ZWN0b3IxLngpLCBNYXRoLmZsb29yKHZlY3RvcjEueSksIE1hdGguZmxvb3IodmVjdG9yMS56KSk7XG4gICAgfVxuICAgIFZlY3RvcjMuZmxvb3IgPSBmbG9vcjtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbmV3IFZlY3RvcjMgZnJvbSB2ZWN0b3IxIGZsb29yZWQgdmFsdWVzXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyYWN0KHZlY3RvcjEpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2ZWN0b3IxLnggLSBNYXRoLmZsb29yKHZlY3RvcjEueCksIHZlY3RvcjEueSAtIE1hdGguZmxvb3IodmVjdG9yMS55KSwgdmVjdG9yMS56IC0gTWF0aC5mbG9vcih2ZWN0b3IxLnopKTtcbiAgICB9XG4gICAgVmVjdG9yMy5mcmFjdCA9IGZyYWN0O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKDAuMCwgMC4wLCAwLjApXG4gICAgICogQHJldHVybnMgYSBuZXcgZW1wdHkgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFplcm8oKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIDAuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuWmVybyA9IFplcm87XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB0byAoMS4wLCAxLjAsIDEuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyB1bml0IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPbmUoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMS4wLCAxLjAsIDEuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuT25lID0gT25lO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG9sZW5ndGhTcXVhcmVkICgwLjAsIDEuMCwgMC4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IHVwIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVcCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjAsIDEuMCwgMC4wKTtcbiAgICB9XG4gICAgVmVjdG9yMy5VcCA9IFVwO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKDAuMCwgLTEuMCwgMC4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IGRvd24gVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIERvd24oKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAtMS4wLCAwLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLkRvd24gPSBEb3duO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKDAuMCwgMC4wLCAxLjApXG4gICAgICogQHJldHVybnMgYSBuZXcgZm9yd2FyZCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gRm9yd2FyZCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjAsIDAuMCwgMS4wKTtcbiAgICB9XG4gICAgVmVjdG9yMy5Gb3J3YXJkID0gRm9yd2FyZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIDAuMCwgLTEuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBmb3J3YXJkIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYWNrd2FyZCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjAsIDAuMCwgLTEuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuQmFja3dhcmQgPSBCYWNrd2FyZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgxLjAsIDAuMCwgMC4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IHJpZ2h0IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgxLjAsIDAuMCwgMC4wKTtcbiAgICB9XG4gICAgVmVjdG9yMy5SaWdodCA9IFJpZ2h0O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKC0xLjAsIDAuMCwgMC4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IGxlZnQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIExlZnQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoLTEuMCwgMC4wLCAwLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLkxlZnQgPSBMZWZ0O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgcmFuZG9tIFZlY3RvcjNcbiAgICAgKiBAcmV0dXJucyBhIHJhbmRvbSBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmFuZG9tKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCkpO1xuICAgIH1cbiAgICBWZWN0b3IzLlJhbmRvbSA9IFJhbmRvbTtcbn0pKFZlY3RvcjMgfHwgKFZlY3RvcjMgPSB7fSkpO1xuIiwgImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi9NYXRyaXgnO1xuLyoqXG4gKiBSZXByZXNlbnMgYSBwbGFuZSBieSB0aGUgZXF1YXRpb24gYXggKyBieSArIGN6ICsgZCA9IDBcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQbGFuZTtcbihmdW5jdGlvbiAoUGxhbmUpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgUGxhbmUgb2JqZWN0IGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gZmxvYXRzIGEsIGIsIGMsIGQgYW5kIHRoZSBwbGFuZSBlcXVhdGlvbiA6IGF4ICsgYnkgKyBjeiArIGQgPSAwXG4gICAgICogQHBhcmFtIGEgLSBhIGNvbXBvbmVudCBvZiB0aGUgcGxhbmVcbiAgICAgKiBAcGFyYW0gYiAtIGIgY29tcG9uZW50IG9mIHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBjIC0gYyBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAgICogQHBhcmFtIGQgLSBkIGNvbXBvbmVudCBvZiB0aGUgcGxhbmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUoYSwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9ybWFsOiBWZWN0b3IzLmNyZWF0ZShhLCBiLCBjKSxcbiAgICAgICAgICAgIGQ6IGRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgUGxhbmUuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8vIFN0YXRpY3NcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGxhbmUgZnJvbSBhbiAgYXJyYXlcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSB0aGUgYXJyYXkgdG8gY3JlYXRlIGEgcGxhbmUgZnJvbVxuICAgICAqIEByZXR1cm5zIGEgbmV3IFBsYW5lIGZyb20gdGhlIGdpdmVuIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKGFycmF5WzBdLCBhcnJheVsxXSwgYXJyYXlbMl0sIGFycmF5WzNdKTtcbiAgICB9XG4gICAgUGxhbmUuZnJvbUFycmF5ID0gZnJvbUFycmF5O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwbGFuZSBmcm9tIHRocmVlIHBvaW50c1xuICAgICAqIEBwYXJhbSBwb2ludDEgLSBwb2ludCB1c2VkIHRvIGNyZWF0ZSB0aGUgcGxhbmVcbiAgICAgKiBAcGFyYW0gcG9pbnQyIC0gcG9pbnQgdXNlZCB0byBjcmVhdGUgdGhlIHBsYW5lXG4gICAgICogQHBhcmFtIHBvaW50MyAtIHBvaW50IHVzZWQgdG8gY3JlYXRlIHRoZSBwbGFuZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IFBsYW5lIGRlZmluZWQgYnkgdGhlIHRocmVlIGdpdmVuIHBvaW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUG9pbnRzKF9wb2ludDEsIF9wb2ludDIsIF9wb2ludDMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAuMCwgMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gcmVzdWx0LmNvcHlGcm9tUG9pbnRzKHBvaW50MSwgcG9pbnQyLCBwb2ludDMpXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFBsYW5lLmZyb21Qb2ludHMgPSBmcm9tUG9pbnRzO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwbGFuZSBmcm9tIGFuIG9yaWdpbiBwb2ludCBhbmQgYSBub3JtYWxcbiAgICAgKiBAcGFyYW0gb3JpZ2luIC0gb3JpZ2luIG9mIHRoZSBwbGFuZSB0byBiZSBjb25zdHJ1Y3RlZFxuICAgICAqIEBwYXJhbSBub3JtYWwgLSBub3JtYWwgb2YgdGhlIHBsYW5lIHRvIGJlIGNvbnN0cnVjdGVkXG4gICAgICogQHJldHVybnMgYSBuZXcgUGxhbmUgdGhlIG5vcm1hbCB2ZWN0b3IgdG8gdGhpcyBwbGFuZSBhdCB0aGUgZ2l2ZW4gb3JpZ2luIHBvaW50LlxuICAgICAqIE5vdGUgOiB0aGUgdmVjdG9yIFwibm9ybWFsXCIgaXMgdXBkYXRlZCBiZWNhdXNlIG5vcm1hbGl6ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcm9tUG9zaXRpb25BbmROb3JtYWwob3JpZ2luLCBub3JtYWwpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAuMCwgMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIHJlc3VsdC5ub3JtYWwgPSBWZWN0b3IzLm5vcm1hbGl6ZShub3JtYWwpO1xuICAgICAgICByZXN1bHQuZCA9IC0obm9ybWFsLnggKiBvcmlnaW4ueCArXG4gICAgICAgICAgICBub3JtYWwueSAqIG9yaWdpbi55ICtcbiAgICAgICAgICAgIG5vcm1hbC56ICogb3JpZ2luLnopO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBQbGFuZS5yb21Qb3NpdGlvbkFuZE5vcm1hbCA9IHJvbVBvc2l0aW9uQW5kTm9ybWFsO1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGRpc3RhbmNlIGZyb20gYSBwbGFuZSBhbmQgYSBwb2ludFxuICAgICAqIEBwYXJhbSBvcmlnaW4gLSBvcmlnaW4gb2YgdGhlIHBsYW5lIHRvIGJlIGNvbnN0cnVjdGVkXG4gICAgICogQHBhcmFtIG5vcm1hbCAtIG5vcm1hbCBvZiB0aGUgcGxhbmUgdG8gYmUgY29uc3RydWN0ZWRcbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBwb2ludCB0byBjYWxjdWxhdGUgZGlzdGFuY2UgdG9cbiAgICAgKiBAcmV0dXJucyB0aGUgc2lnbmVkIGRpc3RhbmNlIGJldHdlZW4gdGhlIHBsYW5lIGRlZmluZWQgYnkgdGhlIG5vcm1hbCB2ZWN0b3IgYXQgdGhlIFwib3JpZ2luXCJcIiBwb2ludCBhbmQgdGhlIGdpdmVuIG90aGVyIHBvaW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbChvcmlnaW4sIG5vcm1hbCwgcG9pbnQpIHtcbiAgICAgICAgY29uc3QgZCA9IC0obm9ybWFsLnggKiBvcmlnaW4ueCArIG5vcm1hbC55ICogb3JpZ2luLnkgKyBub3JtYWwueiAqIG9yaWdpbi56KTtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjMuZG90KHBvaW50LCBub3JtYWwpICsgZDtcbiAgICB9XG4gICAgUGxhbmUuc2lnbmVkRGlzdGFuY2VUb1BsYW5lRnJvbVBvc2l0aW9uQW5kTm9ybWFsID0gc2lnbmVkRGlzdGFuY2VUb1BsYW5lRnJvbVBvc2l0aW9uQW5kTm9ybWFsO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRoZSBwbGFuZSBjb29yZGluYXRlcyBhcyBhIG5ldyBhcnJheSBvZiA0IGVsZW1lbnRzIFthLCBiLCBjLCBkXS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc0FycmF5KHBsYW5lKSB7XG4gICAgICAgIHJldHVybiBbcGxhbmUubm9ybWFsLngsIHBsYW5lLm5vcm1hbC55LCBwbGFuZS5ub3JtYWwueiwgcGxhbmUuZF07XG4gICAgfVxuICAgIFBsYW5lLmFzQXJyYXkgPSBhc0FycmF5O1xuICAgIC8vIE1ldGhvZHNcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBwbGFuZSBjb3BpZWQgZnJvbSB0aGUgY3VycmVudCBQbGFuZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZShwbGFuZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHBsYW5lLm5vcm1hbC54LCBwbGFuZS5ub3JtYWwueSwgcGxhbmUubm9ybWFsLnosIHBsYW5lLmQpO1xuICAgIH1cbiAgICBQbGFuZS5jbG9uZSA9IGNsb25lO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRoZSBQbGFuZSBoYXNoIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SGFzaENvZGUoX3BsYW5lKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gbGV0IGhhc2ggPSBwbGFuZS5ub3JtYWwuZ2V0SGFzaENvZGUoKVxuICAgICAgICAvLyBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHBsYW5lLmQgfHwgMClcbiAgICAgICAgLy8gcmV0dXJuIGhhc2hcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIFBsYW5lLmdldEhhc2hDb2RlID0gZ2V0SGFzaENvZGU7XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIHRoZSBjdXJyZW50IFBsYW5lIGluIHBsYWNlLlxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIFBsYW5lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZShwbGFuZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoMCwgMCwgMCwgMCk7XG4gICAgICAgIGNvbnN0IG5vcm0gPSBNYXRoLnNxcnQocGxhbmUubm9ybWFsLnggKiBwbGFuZS5ub3JtYWwueCArXG4gICAgICAgICAgICBwbGFuZS5ub3JtYWwueSAqIHBsYW5lLm5vcm1hbC55ICtcbiAgICAgICAgICAgIHBsYW5lLm5vcm1hbC56ICogcGxhbmUubm9ybWFsLnopO1xuICAgICAgICBsZXQgbWFnbml0dWRlID0gMC4wO1xuICAgICAgICBpZiAobm9ybSAhPT0gMCkge1xuICAgICAgICAgICAgbWFnbml0dWRlID0gMS4wIC8gbm9ybTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQubm9ybWFsLnggPSBwbGFuZS5ub3JtYWwueCAqIG1hZ25pdHVkZTtcbiAgICAgICAgcmVzdWx0Lm5vcm1hbC55ID0gcGxhbmUubm9ybWFsLnkgKiBtYWduaXR1ZGU7XG4gICAgICAgIHJlc3VsdC5ub3JtYWwueiA9IHBsYW5lLm5vcm1hbC56ICogbWFnbml0dWRlO1xuICAgICAgICByZXN1bHQuZCAqPSBtYWduaXR1ZGU7XG4gICAgICAgIHJldHVybiBwbGFuZTtcbiAgICB9XG4gICAgUGxhbmUubm9ybWFsaXplID0gbm9ybWFsaXplO1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSB0cmFuc2Zvcm1hdGlvbiB0aGUgcGxhbmUgYW5kIHJldHVybnMgdGhlIHJlc3VsdFxuICAgICAqIEBwYXJhbSB0cmFuc2Zvcm1hdGlvbiAtIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggdG8gYmUgYXBwbGllZCB0byB0aGUgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBQbGFuZSBhcyB0aGUgcmVzdWx0IG9mIHRoZSB0cmFuc2Zvcm1hdGlvbiBvZiB0aGUgY3VycmVudCBQbGFuZSBieSB0aGUgZ2l2ZW4gbWF0cml4LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShwbGFuZSwgdHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgY29uc3QgdHJhbnNwb3NlZE1hdHJpeCA9IE1hdHJpeC5jcmVhdGUoKTtcbiAgICAgICAgTWF0cml4LnRyYW5zcG9zZVRvUmVmKHRyYW5zZm9ybWF0aW9uLCB0cmFuc3Bvc2VkTWF0cml4KTtcbiAgICAgICAgY29uc3QgbSA9IHRyYW5zcG9zZWRNYXRyaXguX207XG4gICAgICAgIGNvbnN0IHggPSBwbGFuZS5ub3JtYWwueDtcbiAgICAgICAgY29uc3QgeSA9IHBsYW5lLm5vcm1hbC55O1xuICAgICAgICBjb25zdCB6ID0gcGxhbmUubm9ybWFsLno7XG4gICAgICAgIGNvbnN0IGQgPSBwbGFuZS5kO1xuICAgICAgICBjb25zdCBub3JtYWxYID0geCAqIG1bMF0gKyB5ICogbVsxXSArIHogKiBtWzJdICsgZCAqIG1bM107XG4gICAgICAgIGNvbnN0IG5vcm1hbFkgPSB4ICogbVs0XSArIHkgKiBtWzVdICsgeiAqIG1bNl0gKyBkICogbVs3XTtcbiAgICAgICAgY29uc3Qgbm9ybWFsWiA9IHggKiBtWzhdICsgeSAqIG1bOV0gKyB6ICogbVsxMF0gKyBkICogbVsxMV07XG4gICAgICAgIGNvbnN0IGZpbmFsRCA9IHggKiBtWzEyXSArIHkgKiBtWzEzXSArIHogKiBtWzE0XSArIGQgKiBtWzE1XTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShub3JtYWxYLCBub3JtYWxZLCBub3JtYWxaLCBmaW5hbEQpO1xuICAgIH1cbiAgICBQbGFuZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgLyoqXG4gICAgICogQ2FsY3VhbHR0ZSB0aGUgZG90IHByb2R1Y3QgYmV0d2VlbiB0aGUgcG9pbnQgYW5kIHRoZSBwbGFuZSBub3JtYWxcbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBwb2ludCB0byBjYWxjdWxhdGUgdGhlIGRvdCBwcm9kdWN0IHdpdGhcbiAgICAgKiBAcmV0dXJucyB0aGUgZG90IHByb2R1Y3QgKGZsb2F0KSBvZiB0aGUgcG9pbnQgY29vcmRpbmF0ZXMgYW5kIHRoZSBwbGFuZSBub3JtYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZG90Q29vcmRpbmF0ZShwbGFuZSwgcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIChwbGFuZS5ub3JtYWwueCAqIHBvaW50LnggK1xuICAgICAgICAgICAgcGxhbmUubm9ybWFsLnkgKiBwb2ludC55ICtcbiAgICAgICAgICAgIHBsYW5lLm5vcm1hbC56ICogcG9pbnQueiArXG4gICAgICAgICAgICBwbGFuZS5kKTtcbiAgICB9XG4gICAgUGxhbmUuZG90Q29vcmRpbmF0ZSA9IGRvdENvb3JkaW5hdGU7XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY3VycmVudCBQbGFuZSBmcm9tIHRoZSBwbGFuZSBkZWZpbmVkIGJ5IHRoZSB0aHJlZSBnaXZlbiBwb2ludHMuXG4gICAgICogQHBhcmFtIHBvaW50MSAtIG9uZSBvZiB0aGUgcG9pbnRzIHVzZWQgdG8gY29udHJ1Y3QgdGhlIHBsYW5lXG4gICAgICogQHBhcmFtIHBvaW50MiAtIG9uZSBvZiB0aGUgcG9pbnRzIHVzZWQgdG8gY29udHJ1Y3QgdGhlIHBsYW5lXG4gICAgICogQHBhcmFtIHBvaW50MyAtIG9uZSBvZiB0aGUgcG9pbnRzIHVzZWQgdG8gY29udHJ1Y3QgdGhlIHBsYW5lXG4gICAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgUGxhbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUZyb21Qb2ludHMocG9pbnQxLCBwb2ludDIsIHBvaW50Mykge1xuICAgICAgICBjb25zdCB4MSA9IHBvaW50Mi54IC0gcG9pbnQxLng7XG4gICAgICAgIGNvbnN0IHkxID0gcG9pbnQyLnkgLSBwb2ludDEueTtcbiAgICAgICAgY29uc3QgejEgPSBwb2ludDIueiAtIHBvaW50MS56O1xuICAgICAgICBjb25zdCB4MiA9IHBvaW50My54IC0gcG9pbnQxLng7XG4gICAgICAgIGNvbnN0IHkyID0gcG9pbnQzLnkgLSBwb2ludDEueTtcbiAgICAgICAgY29uc3QgejIgPSBwb2ludDMueiAtIHBvaW50MS56O1xuICAgICAgICBjb25zdCB5eiA9IHkxICogejIgLSB6MSAqIHkyO1xuICAgICAgICBjb25zdCB4eiA9IHoxICogeDIgLSB4MSAqIHoyO1xuICAgICAgICBjb25zdCB4eSA9IHgxICogeTIgLSB5MSAqIHgyO1xuICAgICAgICBjb25zdCBweXRoID0gTWF0aC5zcXJ0KHl6ICogeXogKyB4eiAqIHh6ICsgeHkgKiB4eSk7XG4gICAgICAgIGxldCBpbnZQeXRoO1xuICAgICAgICBpZiAocHl0aCAhPT0gMCkge1xuICAgICAgICAgICAgaW52UHl0aCA9IDEuMCAvIHB5dGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnZQeXRoID0gMC4wO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IFZlY3RvcjMuY3JlYXRlKHl6ICogaW52UHl0aCwgeHogKiBpbnZQeXRoLCB4eSAqIGludlB5dGgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9ybWFsLFxuICAgICAgICAgICAgZDogLShub3JtYWwueCAqIHBvaW50MS54ICsgbm9ybWFsLnkgKiBwb2ludDEueSArIG5vcm1hbC56ICogcG9pbnQxLnopXG4gICAgICAgIH07XG4gICAgfVxuICAgIFBsYW5lLmNvcHlGcm9tUG9pbnRzID0gY29weUZyb21Qb2ludHM7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBwbGFuZSBpcyBmYWNpbmcgYSBnaXZlbiBkaXJlY3Rpb25cbiAgICAgKiBAcGFyYW0gZGlyZWN0aW9uIC0gdGhlIGRpcmVjdGlvbiB0byBjaGVjayBpZiB0aGUgcGxhbmUgaXMgZmFjaW5nXG4gICAgICogQHBhcmFtIGVwc2lsb24gLSB2YWx1ZSB0aGUgZG90IHByb2R1Y3QgaXMgY29tcGFyZWQgYWdhaW5zdCAocmV0dXJucyB0cnVlIGlmIGRvdCAmbHQ7PSBlcHNpbG9uKVxuICAgICAqIEByZXR1cm5zIFRydWUgaXMgdGhlIHZlY3RvciBcImRpcmVjdGlvblwiICBpcyB0aGUgc2FtZSBzaWRlIHRoYW4gdGhlIHBsYW5lIG5vcm1hbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Zyb250RmFjaW5nVG8ocGxhbmUsIGRpcmVjdGlvbiwgZXBzaWxvbikge1xuICAgICAgICBjb25zdCBkb3QgPSBWZWN0b3IzLmRvdChwbGFuZS5ub3JtYWwsIGRpcmVjdGlvbik7XG4gICAgICAgIHJldHVybiBkb3QgPD0gZXBzaWxvbjtcbiAgICB9XG4gICAgUGxhbmUuaXNGcm9udEZhY2luZ1RvID0gaXNGcm9udEZhY2luZ1RvO1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGRpc3RhbmNlIHRvIGEgcG9pbnRcbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBwb2ludCB0byBjYWxjdWxhdGUgZGlzdGFuY2UgdG9cbiAgICAgKiBAcmV0dXJucyB0aGUgc2lnbmVkIGRpc3RhbmNlIChmbG9hdCkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnQgdG8gdGhlIFBsYW5lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpZ25lZERpc3RhbmNlVG8ocGxhbmUsIHBvaW50KSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IzLmRvdChwb2ludCwgcGxhbmUubm9ybWFsKSArIHBsYW5lLmQ7XG4gICAgfVxuICAgIFBsYW5lLnNpZ25lZERpc3RhbmNlVG8gPSBzaWduZWREaXN0YW5jZVRvO1xufSkoUGxhbmUgfHwgKFBsYW5lID0ge30pKTtcbiIsICJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzJztcbmltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICcuL1F1YXRlcm5pb24nO1xuaW1wb3J0IHsgUGxhbmUgfSBmcm9tICcuL1BsYW5lJztcbi8qKlxuICogQ2xhc3MgdXNlZCB0byBzdG9yZSBtYXRyaXggZGF0YSAoNHg0KVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIE1hdHJpeDtcbihmdW5jdGlvbiAoTWF0cml4KSB7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgZGF0YSBvZiB0aGUgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gbShzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9tO1xuICAgIH1cbiAgICBNYXRyaXgubSA9IG07XG4gICAgbGV0IF91cGRhdGVGbGFnU2VlZCA9IDA7XG4gICAgY29uc3QgX2lkZW50aXR5UmVhZG9ubHkgPSB7fTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGFuIGlkZW50aXR5IG1hdHJpeCB0aGF0IG11c3Qgbm90IGJlIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJZGVudGl0eVJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gX2lkZW50aXR5UmVhZG9ubHk7XG4gICAgfVxuICAgIE1hdHJpeC5JZGVudGl0eVJlYWRvbmx5ID0gSWRlbnRpdHlSZWFkb25seTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVtcHR5IG1hdHJpeCAoZmlsbGVkIHdpdGggemVyb3MpXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBuZXdNYXRyaXggPSB7XG4gICAgICAgICAgICB1cGRhdGVGbGFnOiAwLFxuICAgICAgICAgICAgaXNJZGVudGl0eTogZmFsc2UsXG4gICAgICAgICAgICBpc0lkZW50aXR5M3gyOiB0cnVlLFxuICAgICAgICAgICAgX2lzSWRlbnRpdHlEaXJ0eTogdHJ1ZSxcbiAgICAgICAgICAgIF9pc0lkZW50aXR5M3gyRGlydHk6IHRydWUsXG4gICAgICAgICAgICBfbTogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgICAgIH07XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhuZXdNYXRyaXgsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIG5ld01hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4LmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvLyBTdGF0aWNzXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGFuIGFycmF5XG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgYW4gb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBNYXRyaXggc2V0IGZyb20gdGhlIHN0YXJ0aW5nIGluZGV4IG9mIHRoZSBnaXZlbiBhcnJheVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSwgb2Zmc2V0ID0gMCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgZnJvbUFycmF5VG9SZWYoYXJyYXksIG9mZnNldCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBDb3B5IHRoZSBjb250ZW50IG9mIGFuIGFycmF5IGludG8gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyBhbiBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUFycmF5VG9SZWYoYXJyYXksIG9mZnNldCwgcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgcmVzdWx0Ll9tW2luZGV4XSA9IGFycmF5W2luZGV4ICsgb2Zmc2V0XTtcbiAgICAgICAgfVxuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZnJvbUFycmF5VG9SZWYgPSBmcm9tQXJyYXlUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYW4gYXJyYXkgaW50byBhIG1hdHJpeCBhZnRlciBoYXZpbmcgbXVsdGlwbGllZCBlYWNoIGNvbXBvbmVudCBieSBhIGdpdmVuIGZhY3RvclxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxpbmcgZmFjdG9yXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tRmxvYXRBcnJheVRvUmVmU2NhbGVkKGFycmF5LCBvZmZzZXQsIHNjYWxlLCByZXN1bHQpIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDE2OyBpbmRleCsrKSB7XG4gICAgICAgICAgICByZXN1bHQuX21baW5kZXhdID0gYXJyYXlbaW5kZXggKyBvZmZzZXRdICogc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LmZyb21GbG9hdEFycmF5VG9SZWZTY2FsZWQgPSBmcm9tRmxvYXRBcnJheVRvUmVmU2NhbGVkO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIGxpc3Qgb2YgdmFsdWVzICgxNikgaW5zaWRlIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGluaXRpYWxNMTEgLSBkZWZpbmVzIDFzdCB2YWx1ZSBvZiAxc3Qgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMTIgLSBkZWZpbmVzIDJuZCB2YWx1ZSBvZiAxc3Qgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMTMgLSBkZWZpbmVzIDNyZCB2YWx1ZSBvZiAxc3Qgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMTQgLSBkZWZpbmVzIDR0aCB2YWx1ZSBvZiAxc3Qgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMjEgLSBkZWZpbmVzIDFzdCB2YWx1ZSBvZiAybmQgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMjIgLSBkZWZpbmVzIDJuZCB2YWx1ZSBvZiAybmQgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMjMgLSBkZWZpbmVzIDNyZCB2YWx1ZSBvZiAybmQgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMjQgLSBkZWZpbmVzIDR0aCB2YWx1ZSBvZiAybmQgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMzEgLSBkZWZpbmVzIDFzdCB2YWx1ZSBvZiAzcmQgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMzIgLSBkZWZpbmVzIDJuZCB2YWx1ZSBvZiAzcmQgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMzMgLSBkZWZpbmVzIDNyZCB2YWx1ZSBvZiAzcmQgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNMzQgLSBkZWZpbmVzIDR0aCB2YWx1ZSBvZiAzcmQgcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNNDEgLSBkZWZpbmVzIDFzdCB2YWx1ZSBvZiA0dGggcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNNDIgLSBkZWZpbmVzIDJuZCB2YWx1ZSBvZiA0dGggcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNNDMgLSBkZWZpbmVzIDNyZCB2YWx1ZSBvZiA0dGggcm93XG4gICAgICogQHBhcmFtIGluaXRpYWxNNDQgLSBkZWZpbmVzIDR0aCB2YWx1ZSBvZiA0dGggcm93XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tVmFsdWVzVG9SZWYoaW5pdGlhbE0xMSwgaW5pdGlhbE0xMiwgaW5pdGlhbE0xMywgaW5pdGlhbE0xNCwgaW5pdGlhbE0yMSwgaW5pdGlhbE0yMiwgaW5pdGlhbE0yMywgaW5pdGlhbE0yNCwgaW5pdGlhbE0zMSwgaW5pdGlhbE0zMiwgaW5pdGlhbE0zMywgaW5pdGlhbE0zNCwgaW5pdGlhbE00MSwgaW5pdGlhbE00MiwgaW5pdGlhbE00MywgaW5pdGlhbE00NCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG0gPSByZXN1bHQuX207XG4gICAgICAgIG1bMF0gPSBpbml0aWFsTTExO1xuICAgICAgICBtWzFdID0gaW5pdGlhbE0xMjtcbiAgICAgICAgbVsyXSA9IGluaXRpYWxNMTM7XG4gICAgICAgIG1bM10gPSBpbml0aWFsTTE0O1xuICAgICAgICBtWzRdID0gaW5pdGlhbE0yMTtcbiAgICAgICAgbVs1XSA9IGluaXRpYWxNMjI7XG4gICAgICAgIG1bNl0gPSBpbml0aWFsTTIzO1xuICAgICAgICBtWzddID0gaW5pdGlhbE0yNDtcbiAgICAgICAgbVs4XSA9IGluaXRpYWxNMzE7XG4gICAgICAgIG1bOV0gPSBpbml0aWFsTTMyO1xuICAgICAgICBtWzEwXSA9IGluaXRpYWxNMzM7XG4gICAgICAgIG1bMTFdID0gaW5pdGlhbE0zNDtcbiAgICAgICAgbVsxMl0gPSBpbml0aWFsTTQxO1xuICAgICAgICBtWzEzXSA9IGluaXRpYWxNNDI7XG4gICAgICAgIG1bMTRdID0gaW5pdGlhbE00MztcbiAgICAgICAgbVsxNV0gPSBpbml0aWFsTTQ0O1xuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZnJvbVZhbHVlc1RvUmVmID0gZnJvbVZhbHVlc1RvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IG1hdHJpeCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMgKDE2KVxuICAgICAqIEBwYXJhbSBpbml0aWFsTTExIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTEyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTEzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTE0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTI0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTM0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQ0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVZhbHVlcyhpbml0aWFsTTExLCBpbml0aWFsTTEyLCBpbml0aWFsTTEzLCBpbml0aWFsTTE0LCBpbml0aWFsTTIxLCBpbml0aWFsTTIyLCBpbml0aWFsTTIzLCBpbml0aWFsTTI0LCBpbml0aWFsTTMxLCBpbml0aWFsTTMyLCBpbml0aWFsTTMzLCBpbml0aWFsTTM0LCBpbml0aWFsTTQxLCBpbml0aWFsTTQyLCBpbml0aWFsTTQzLCBpbml0aWFsTTQ0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBjb25zdCBtID0gcmVzdWx0Ll9tO1xuICAgICAgICBtWzBdID0gaW5pdGlhbE0xMTtcbiAgICAgICAgbVsxXSA9IGluaXRpYWxNMTI7XG4gICAgICAgIG1bMl0gPSBpbml0aWFsTTEzO1xuICAgICAgICBtWzNdID0gaW5pdGlhbE0xNDtcbiAgICAgICAgbVs0XSA9IGluaXRpYWxNMjE7XG4gICAgICAgIG1bNV0gPSBpbml0aWFsTTIyO1xuICAgICAgICBtWzZdID0gaW5pdGlhbE0yMztcbiAgICAgICAgbVs3XSA9IGluaXRpYWxNMjQ7XG4gICAgICAgIG1bOF0gPSBpbml0aWFsTTMxO1xuICAgICAgICBtWzldID0gaW5pdGlhbE0zMjtcbiAgICAgICAgbVsxMF0gPSBpbml0aWFsTTMzO1xuICAgICAgICBtWzExXSA9IGluaXRpYWxNMzQ7XG4gICAgICAgIG1bMTJdID0gaW5pdGlhbE00MTtcbiAgICAgICAgbVsxM10gPSBpbml0aWFsTTQyO1xuICAgICAgICBtWzE0XSA9IGluaXRpYWxNNDM7XG4gICAgICAgIG1bMTVdID0gaW5pdGlhbE00NDtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LmZyb21WYWx1ZXMgPSBmcm9tVmFsdWVzO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbWF0cml4IGNvbXBvc2VkIGJ5IG1lcmdpbmcgc2NhbGUgKHZlY3RvcjMpLCByb3RhdGlvbiAocXVhdGVybmlvbikgYW5kIHRyYW5zbGF0aW9uICh2ZWN0b3IzKVxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIHZlY3RvcjNcbiAgICAgKiBAcGFyYW0gcm90YXRpb24gLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yM1xuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2Uoc2NhbGUsIHJvdGF0aW9uLCB0cmFuc2xhdGlvbikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgY29tcG9zZVRvUmVmKHNjYWxlLCByb3RhdGlvbiwgdHJhbnNsYXRpb24sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5jb21wb3NlID0gY29tcG9zZTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbWF0cml4IHRvIGEgdmFsdWUgY29tcG9zZWQgYnkgbWVyZ2luZyBzY2FsZSAodmVjdG9yMyksIHJvdGF0aW9uIChxdWF0ZXJuaW9uKSBhbmQgdHJhbnNsYXRpb24gKHZlY3RvcjMpXG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgdmVjdG9yM1xuICAgICAqIEBwYXJhbSByb3RhdGlvbiAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IzXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlVG9SZWYoc2NhbGUsIHJvdGF0aW9uLCB0cmFuc2xhdGlvbiwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHRtcE1hdHJpeCA9IFtjcmVhdGUoKSwgY3JlYXRlKCksIGNyZWF0ZSgpXTtcbiAgICAgICAgc2NhbGluZ1RvUmVmKHNjYWxlLngsIHNjYWxlLnksIHNjYWxlLnosIHRtcE1hdHJpeFsxXSk7XG4gICAgICAgIGZyb21RdWF0ZXJuaW9uVG9SZWYocm90YXRpb24sIHRtcE1hdHJpeFswXSk7XG4gICAgICAgIG11bHRpcGx5VG9SZWYodG1wTWF0cml4WzFdLCB0bXBNYXRyaXhbMF0sIHJlc3VsdCk7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uKHJlc3VsdCwgdHJhbnNsYXRpb24pO1xuICAgIH1cbiAgICBNYXRyaXguY29tcG9zZVRvUmVmID0gY29tcG9zZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0cml4XG4gICAgICogQHJldHVybnMgYSBuZXcgaWRlbnRpdHkgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gSWRlbnRpdHkoKSB7XG4gICAgICAgIGNvbnN0IGlkZW50aXR5ID0gZnJvbVZhbHVlcygxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjApO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMoaWRlbnRpdHksIHRydWUpO1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfVxuICAgIE1hdHJpeC5JZGVudGl0eSA9IElkZW50aXR5O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0cml4IGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gSWRlbnRpdHlUb1JlZihyZXN1bHQpIHtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgdHJ1ZSk7XG4gICAgfVxuICAgIE1hdHJpeC5JZGVudGl0eVRvUmVmID0gSWRlbnRpdHlUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHplcm8gbWF0cml4XG4gICAgICogQHJldHVybnMgYSBuZXcgemVybyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaZXJvKCkge1xuICAgICAgICBjb25zdCB6ZXJvID0gZnJvbVZhbHVlcygwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMoemVybywgZmFsc2UpO1xuICAgICAgICByZXR1cm4gemVybztcbiAgICB9XG4gICAgTWF0cml4Llplcm8gPSBaZXJvO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIFggYXhpc1xuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvdGF0aW9uWChhbmdsZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRpb25YVG9SZWYoYW5nbGUsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5Sb3RhdGlvblggPSBSb3RhdGlvblg7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWCBheGlzIGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGlvblhUb1JlZihhbmdsZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZigxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgcywgMC4wLCAwLjAsIC1zLCBjLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgYyA9PT0gMSAmJiBzID09PSAwKTtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uWFRvUmVmID0gcm90YXRpb25YVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWSBheGlzXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25ZKGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICByb3RhdGlvbllUb1JlZihhbmdsZSwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uWSA9IHJvdGF0aW9uWTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBZIGF4aXMgYW5kIHN0b3JlcyBpdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uWVRvUmVmKGFuZ2xlLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGMsIDAuMCwgLXMsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCBzLCAwLjAsIGMsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZXN1bHQpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMocmVzdWx0LCBjID09PSAxICYmIHMgPT09IDApO1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25ZVG9SZWYgPSByb3RhdGlvbllUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBaIGF4aXNcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGlvblooYW5nbGUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHJvdGF0aW9uWlRvUmVmKGFuZ2xlLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25aID0gcm90YXRpb25aO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIFogYXhpcyBhbmQgc3RvcmVzIGl0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25aVG9SZWYoYW5nbGUsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoYywgcywgMC4wLCAwLjAsIC1zLCBjLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIGMgPT09IDEgJiYgcyA9PT0gMCk7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvblpUb1JlZiA9IHJvdGF0aW9uWlRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIGdpdmVuIGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpcyAtIGRlZmluZXMgdGhlIGF4aXMgdG8gdXNlXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25BeGlzKGF4aXMsIGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICByb3RhdGlvbkF4aXNUb1JlZihheGlzLCBhbmdsZSwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uQXhpcyA9IHJvdGF0aW9uQXhpcztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBnaXZlbiBheGlzIGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gYXhpcyAtIGRlZmluZXMgdGhlIGF4aXMgdG8gdXNlXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25BeGlzVG9SZWYoX2F4aXMsIGFuZ2xlLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgcyA9IE1hdGguc2luKC1hbmdsZSk7XG4gICAgICAgIGNvbnN0IGMgPSBNYXRoLmNvcygtYW5nbGUpO1xuICAgICAgICBjb25zdCBjMSA9IDEgLSBjO1xuICAgICAgICBjb25zdCBheGlzID0gVmVjdG9yMy5ub3JtYWxpemUoX2F4aXMpO1xuICAgICAgICBjb25zdCBtID0gcmVzdWx0Ll9tO1xuICAgICAgICBtWzBdID0gYXhpcy54ICogYXhpcy54ICogYzEgKyBjO1xuICAgICAgICBtWzFdID0gYXhpcy54ICogYXhpcy55ICogYzEgLSBheGlzLnogKiBzO1xuICAgICAgICBtWzJdID0gYXhpcy54ICogYXhpcy56ICogYzEgKyBheGlzLnkgKiBzO1xuICAgICAgICBtWzNdID0gMC4wO1xuICAgICAgICBtWzRdID0gYXhpcy55ICogYXhpcy54ICogYzEgKyBheGlzLnogKiBzO1xuICAgICAgICBtWzVdID0gYXhpcy55ICogYXhpcy55ICogYzEgKyBjO1xuICAgICAgICBtWzZdID0gYXhpcy55ICogYXhpcy56ICogYzEgLSBheGlzLnggKiBzO1xuICAgICAgICBtWzddID0gMC4wO1xuICAgICAgICBtWzhdID0gYXhpcy56ICogYXhpcy54ICogYzEgLSBheGlzLnkgKiBzO1xuICAgICAgICBtWzldID0gYXhpcy56ICogYXhpcy55ICogYzEgKyBheGlzLnggKiBzO1xuICAgICAgICBtWzEwXSA9IGF4aXMueiAqIGF4aXMueiAqIGMxICsgYztcbiAgICAgICAgbVsxMV0gPSAwLjA7XG4gICAgICAgIG1bMTJdID0gMC4wO1xuICAgICAgICBtWzEzXSA9IDAuMDtcbiAgICAgICAgbVsxNF0gPSAwLjA7XG4gICAgICAgIG1bMTVdID0gMS4wO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25BeGlzVG9SZWYgPSByb3RhdGlvbkF4aXNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHlhdyAtIGRlZmluZXMgdGhlIHlhdyBhbmdsZSBpbiByYWRpYW5zIChZIGF4aXMpXG4gICAgICogQHBhcmFtIHBpdGNoIC0gZGVmaW5lcyB0aGUgcGl0Y2ggYW5nbGUgaW4gcmFkaWFucyAoWCBheGlzKVxuICAgICAqIEBwYXJhbSByb2xsIC0gZGVmaW5lcyB0aGUgcm9sbCBhbmdsZSBpbiByYWRpYW5zIChYIGF4aXMpXG4gICAgICogQHJldHVybnMgdGhlIG5ldyByb3RhdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGlvbllhd1BpdGNoUm9sbCh5YXcsIHBpdGNoLCByb2xsKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICByb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHlhdywgcGl0Y2gsIHJvbGwsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvbllhd1BpdGNoUm9sbCA9IHJvdGF0aW9uWWF3UGl0Y2hSb2xsO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByb3RhdGlvbiBtYXRyaXggYW5kIHN0b3JlcyBpdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSB5YXcgLSBkZWZpbmVzIHRoZSB5YXcgYW5nbGUgaW4gcmFkaWFucyAoWSBheGlzKVxuICAgICAqIEBwYXJhbSBwaXRjaCAtIGRlZmluZXMgdGhlIHBpdGNoIGFuZ2xlIGluIHJhZGlhbnMgKFggYXhpcylcbiAgICAgKiBAcGFyYW0gcm9sbCAtIGRlZmluZXMgdGhlIHJvbGwgYW5nbGUgaW4gcmFkaWFucyAoWCBheGlzKVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5YXcsIHBpdGNoLCByb2xsLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgcXVhdGVybmlvblJlc3VsdCA9IFF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHlhdywgcGl0Y2gsIHJvbGwsIHF1YXRlcm5pb25SZXN1bHQpO1xuICAgICAgICBmcm9tUXVhdGVybmlvblRvUmVmKHF1YXRlcm5pb25SZXN1bHQsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmID0gcm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2NhbGluZyBtYXRyaXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBYIGF4aXNcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBZIGF4aXNcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBaIGF4aXNcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxpbmcoeCwgeSwgeikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgc2NhbGluZ1RvUmVmKHgsIHksIHosIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5zY2FsaW5nID0gc2NhbGluZztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2NhbGluZyBtYXRyaXggYW5kIHN0b3JlcyBpdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yIG9uIFggYXhpc1xuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yIG9uIFkgYXhpc1xuICAgICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yIG9uIFogYXhpc1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2NhbGluZ1RvUmVmKHgsIHksIHosIHJlc3VsdCkge1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoeCwgMC4wLCAwLjAsIDAuMCwgMC4wLCB5LCAwLjAsIDAuMCwgMC4wLCAwLjAsIHosIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZXN1bHQpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMocmVzdWx0LCB4ID09PSAxICYmIHkgPT09IDEgJiYgeiA9PT0gMSk7XG4gICAgfVxuICAgIE1hdHJpeC5zY2FsaW5nVG9SZWYgPSBzY2FsaW5nVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRyYW5zbGF0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWCBheGlzXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbiBvbiBZIGF4aXNcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9ub24gWiBheGlzXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGlvbih4LCB5LCB6KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICB0cmFuc2xhdGlvblRvUmVmKHgsIHksIHosIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC50cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0cmFuc2xhdGlvbiBtYXRyaXggYW5kIHN0b3JlcyBpdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWCBheGlzXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbiBvbiBZIGF4aXNcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9ub24gWiBheGlzXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGlvblRvUmVmKHgsIHksIHosIHJlc3VsdCkge1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgeCwgeSwgeiwgMS4wLCByZXN1bHQpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMocmVzdWx0LCB4ID09PSAwICYmIHkgPT09IDAgJiYgeiA9PT0gMCk7XG4gICAgfVxuICAgIE1hdHJpeC50cmFuc2xhdGlvblRvUmVmID0gdHJhbnNsYXRpb25Ub1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IE1hdHJpeCB3aG9zZSB2YWx1ZXMgYXJlIHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGZvciBcImdyYWRpZW50XCIgKGZsb2F0KSBiZXR3ZWVuIHRoZSBvbmVzIG9mIHRoZSBtYXRyaWNlcyBcInN0YXJ0VmFsdWVcIiBhbmQgXCJlbmRWYWx1ZVwiLlxuICAgICAqIEBwYXJhbSBzdGFydFZhbHVlIC0gZGVmaW5lcyB0aGUgc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kVmFsdWUgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICAgKiBAcGFyYW0gZ3JhZGllbnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCBmYWN0b3JcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlcnAoc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIGdyYWRpZW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBsZXJwVG9SZWYoc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIGdyYWRpZW50LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgubGVycCA9IGxlcnA7XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBnaXZlbiBtYXRyaXggXCJyZXN1bHRcIiBhcyB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlcyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgYmV0d2VlbiB0aGUgb25lcyBvZiB0aGUgbWF0cmljZXMgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIi5cbiAgICAgKiBAcGFyYW0gc3RhcnRWYWx1ZSAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGdyYWRpZW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgZmFjdG9yXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIE1hdHJpeCBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgZGF0YVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlcnBUb1JlZihzdGFydFZhbHVlLCBlbmRWYWx1ZSwgZ3JhZGllbnQsIHJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5fbVtpbmRleF0gPVxuICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWUuX21baW5kZXhdICogKDEuMCAtIGdyYWRpZW50KSArIGVuZFZhbHVlLl9tW2luZGV4XSAqIGdyYWRpZW50O1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5sZXJwVG9SZWYgPSBsZXJwVG9SZWY7XG4gICAgLyoqXG4gICAgICogQnVpbGRzIGEgbmV3IG1hdHJpeCB3aG9zZSB2YWx1ZXMgYXJlIGNvbXB1dGVkIGJ5OlxuICAgICAqICogZGVjb21wb3NpbmcgdGhlIHRoZSBcInN0YXJ0VmFsdWVcIiBhbmQgXCJlbmRWYWx1ZVwiIG1hdHJpY2VzIGludG8gdGhlaXIgcmVzcGVjdGl2ZSBzY2FsZSwgcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uIG1hdHJpY2VzXG4gICAgICogKiBpbnRlcnBvbGF0aW5nIGZvciBcImdyYWRpZW50XCIgKGZsb2F0KSB0aGUgdmFsdWVzIGJldHdlZW4gZWFjaCBvZiB0aGVzZSBkZWNvbXBvc2VkIG1hdHJpY2VzIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCB0aGUgZW5kXG4gICAgICogKiByZWNvbXBvc2luZyBhIG5ldyBtYXRyaXggZnJvbSB0aGVzZSAzIGludGVycG9sYXRlZCBzY2FsZSwgcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uIG1hdHJpY2VzXG4gICAgICogQHBhcmFtIHN0YXJ0VmFsdWUgLSBkZWZpbmVzIHRoZSBmaXJzdCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZW5kVmFsdWUgLSBkZWZpbmVzIHRoZSBzZWNvbmQgbWF0cml4XG4gICAgICogQHBhcmFtIGdyYWRpZW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgYmV0d2VlbiB0aGUgdHdvIG1hdHJpY2VzXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWNvbXBvc2VMZXJwKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgZGVjb21wb3NlTGVycFRvUmVmKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LmRlY29tcG9zZUxlcnAgPSBkZWNvbXBvc2VMZXJwO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIG1hdHJpeCB0byB2YWx1ZXMgd2hpY2ggYXJlIGNvbXB1dGVkIGJ5OlxuICAgICAqICogZGVjb21wb3NpbmcgdGhlIHRoZSBcInN0YXJ0VmFsdWVcIiBhbmQgXCJlbmRWYWx1ZVwiIG1hdHJpY2VzIGludG8gdGhlaXIgcmVzcGVjdGl2ZSBzY2FsZSwgcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uIG1hdHJpY2VzXG4gICAgICogKiBpbnRlcnBvbGF0aW5nIGZvciBcImdyYWRpZW50XCIgKGZsb2F0KSB0aGUgdmFsdWVzIGJldHdlZW4gZWFjaCBvZiB0aGVzZSBkZWNvbXBvc2VkIG1hdHJpY2VzIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCB0aGUgZW5kXG4gICAgICogKiByZWNvbXBvc2luZyBhIG5ldyBtYXRyaXggZnJvbSB0aGVzZSAzIGludGVycG9sYXRlZCBzY2FsZSwgcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uIG1hdHJpY2VzXG4gICAgICogQHBhcmFtIHN0YXJ0VmFsdWUgLSBkZWZpbmVzIHRoZSBmaXJzdCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZW5kVmFsdWUgLSBkZWZpbmVzIHRoZSBzZWNvbmQgbWF0cml4XG4gICAgICogQHBhcmFtIGdyYWRpZW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgYmV0d2VlbiB0aGUgdHdvIG1hdHJpY2VzXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWNvbXBvc2VMZXJwVG9SZWYoc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIGdyYWRpZW50LCByZXN1bHQpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRTY2FsZSA9IFZlY3RvcjMuWmVybygpO1xuICAgICAgICBjb25zdCBzdGFydFJvdGF0aW9uID0gUXVhdGVybmlvbi5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0VHJhbnNsYXRpb24gPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgZGVjb21wb3NlKHN0YXJ0VmFsdWUsIHN0YXJ0U2NhbGUsIHN0YXJ0Um90YXRpb24sIHN0YXJ0VHJhbnNsYXRpb24pO1xuICAgICAgICBjb25zdCBlbmRTY2FsZSA9IFZlY3RvcjMuWmVybygpO1xuICAgICAgICBjb25zdCBlbmRSb3RhdGlvbiA9IFF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBjb25zdCBlbmRUcmFuc2xhdGlvbiA9IFZlY3RvcjMuWmVybygpO1xuICAgICAgICBkZWNvbXBvc2UoZW5kVmFsdWUsIGVuZFNjYWxlLCBlbmRSb3RhdGlvbiwgZW5kVHJhbnNsYXRpb24pO1xuICAgICAgICBjb25zdCByZXN1bHRTY2FsZSA9IFZlY3RvcjMuWmVybygpO1xuICAgICAgICBWZWN0b3IzLmxlcnBUb1JlZihzdGFydFNjYWxlLCBlbmRTY2FsZSwgZ3JhZGllbnQsIHJlc3VsdFNjYWxlKTtcbiAgICAgICAgY29uc3QgcmVzdWx0Um90YXRpb24gPSBRdWF0ZXJuaW9uLlplcm8oKTtcbiAgICAgICAgUXVhdGVybmlvbi5zbGVycFRvUmVmKHN0YXJ0Um90YXRpb24sIGVuZFJvdGF0aW9uLCBncmFkaWVudCwgcmVzdWx0Um90YXRpb24pO1xuICAgICAgICBjb25zdCByZXN1bHRUcmFuc2xhdGlvbiA9IFZlY3RvcjMuWmVybygpO1xuICAgICAgICBWZWN0b3IzLmxlcnBUb1JlZihzdGFydFRyYW5zbGF0aW9uLCBlbmRUcmFuc2xhdGlvbiwgZ3JhZGllbnQsIHJlc3VsdFRyYW5zbGF0aW9uKTtcbiAgICAgICAgY29tcG9zZVRvUmVmKHJlc3VsdFNjYWxlLCByZXN1bHRSb3RhdGlvbiwgcmVzdWx0VHJhbnNsYXRpb24sIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5kZWNvbXBvc2VMZXJwVG9SZWYgPSBkZWNvbXBvc2VMZXJwVG9SZWY7XG4gICAgLyoqXG4gICAgICogR2V0cyBhIG5ldyByb3RhdGlvbiBtYXRyaXggdXNlZCB0byByb3RhdGUgYW4gZW50aXR5IHNvIGFzIGl0IGxvb2tzIGF0IHRoZSB0YXJnZXQgdmVjdG9yMywgZnJvbSB0aGUgZXllIHZlY3RvcjMgcG9zaXRpb24sIHRoZSB1cCB2ZWN0b3IzIGJlaW5nIG9yaWVudGVkIGxpa2UgXCJ1cFwiXG4gICAgICogc2VsZiBmdW5jdGlvbiB3b3JrcyBpbiBsZWZ0IGhhbmRlZCBtb2RlXG4gICAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAgICogQHBhcmFtIHVwIC0gZGVmaW5lcyB0aGUgdXAgdmVjdG9yIGZvciB0aGUgZW50aXR5XG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb29rQXRMSChleWUsIHRhcmdldCwgdXApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGxvb2tBdExIVG9SZWYoZXllLCB0YXJnZXQsIHVwLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguTG9va0F0TEggPSBMb29rQXRMSDtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiBcInJlc3VsdFwiIE1hdHJpeCB0byBhIHJvdGF0aW9uIG1hdHJpeCB1c2VkIHRvIHJvdGF0ZSBhbiBlbnRpdHkgc28gdGhhdCBpdCBsb29rcyBhdCB0aGUgdGFyZ2V0IHZlY3RvcjMsIGZyb20gdGhlIGV5ZSB2ZWN0b3IzIHBvc2l0aW9uLCB0aGUgdXAgdmVjdG9yMyBiZWluZyBvcmllbnRlZCBsaWtlIFwidXBcIi5cbiAgICAgKiBzZWxmIGZ1bmN0aW9uIHdvcmtzIGluIGxlZnQgaGFuZGVkIG1vZGVcbiAgICAgKiBAcGFyYW0gZXllIC0gZGVmaW5lcyB0aGUgZmluYWwgcG9zaXRpb24gb2YgdGhlIGVudGl0eVxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBkZWZpbmVzIHdoZXJlIHRoZSBlbnRpdHkgc2hvdWxkIGxvb2sgYXRcbiAgICAgKiBAcGFyYW0gdXAgLSBkZWZpbmVzIHRoZSB1cCB2ZWN0b3IgZm9yIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvb2tBdExIVG9SZWYoZXllLCB0YXJnZXQsIHVwLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeEF4aXMgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgY29uc3QgeUF4aXMgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgY29uc3QgekF4aXMgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgLy8gWiBheGlzXG4gICAgICAgIFZlY3RvcjMuc3VidHJhY3RUb1JlZih0YXJnZXQsIGV5ZSwgekF4aXMpO1xuICAgICAgICBWZWN0b3IzLm5vcm1hbGl6ZVRvUmVmKHpBeGlzLCB6QXhpcyk7XG4gICAgICAgIC8vIFggYXhpc1xuICAgICAgICBWZWN0b3IzLmNyb3NzVG9SZWYodXAsIHpBeGlzLCB4QXhpcyk7XG4gICAgICAgIGNvbnN0IHhTcXVhcmVMZW5ndGggPSBWZWN0b3IzLmxlbmd0aFNxdWFyZWQoeEF4aXMpO1xuICAgICAgICBpZiAoeFNxdWFyZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgeEF4aXMueCA9IDEuMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFZlY3RvcjMubm9ybWFsaXplRnJvbUxlbmd0aFRvUmVmKHhBeGlzLCBNYXRoLnNxcnQoeFNxdWFyZUxlbmd0aCksIHhBeGlzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBZIGF4aXNcbiAgICAgICAgVmVjdG9yMy5jcm9zc1RvUmVmKHpBeGlzLCB4QXhpcywgeUF4aXMpO1xuICAgICAgICBWZWN0b3IzLm5vcm1hbGl6ZVRvUmVmKHlBeGlzLCB5QXhpcyk7XG4gICAgICAgIC8vIEV5ZSBhbmdsZXNcbiAgICAgICAgY29uc3QgZXggPSAtVmVjdG9yMy5kb3QoeEF4aXMsIGV5ZSk7XG4gICAgICAgIGNvbnN0IGV5ID0gLVZlY3RvcjMuZG90KHlBeGlzLCBleWUpO1xuICAgICAgICBjb25zdCBleiA9IC1WZWN0b3IzLmRvdCh6QXhpcywgZXllKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKHhBeGlzLngsIHlBeGlzLngsIHpBeGlzLngsIDAuMCwgeEF4aXMueSwgeUF4aXMueSwgekF4aXMueSwgMC4wLCB4QXhpcy56LCB5QXhpcy56LCB6QXhpcy56LCAwLjAsIGV4LCBleSwgZXosIDEuMCwgcmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4Lmxvb2tBdExIVG9SZWYgPSBsb29rQXRMSFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBuZXcgcm90YXRpb24gbWF0cml4IHVzZWQgdG8gcm90YXRlIGFuIGVudGl0eSBzbyBhcyBpdCBsb29rcyBhdCB0aGUgdGFyZ2V0IHZlY3RvcjMsIGZyb20gdGhlIGV5ZSB2ZWN0b3IzIHBvc2l0aW9uLCB0aGUgdXAgdmVjdG9yMyBiZWluZyBvcmllbnRlZCBsaWtlIFwidXBcIlxuICAgICAqIHNlbGYgZnVuY3Rpb24gd29ya3MgaW4gcmlnaHQgaGFuZGVkIG1vZGVcbiAgICAgKiBAcGFyYW0gZXllIC0gZGVmaW5lcyB0aGUgZmluYWwgcG9zaXRpb24gb2YgdGhlIGVudGl0eVxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBkZWZpbmVzIHdoZXJlIHRoZSBlbnRpdHkgc2hvdWxkIGxvb2sgYXRcbiAgICAgKiBAcGFyYW0gdXAgLSBkZWZpbmVzIHRoZSB1cCB2ZWN0b3IgZm9yIHRoZSBlbnRpdHlcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvb2tBdFJIKGV5ZSwgdGFyZ2V0LCB1cCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgbG9va0F0UkhUb1JlZihleWUsIHRhcmdldCwgdXAsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5sb29rQXRSSCA9IGxvb2tBdFJIO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIFwicmVzdWx0XCIgTWF0cml4IHRvIGEgcm90YXRpb24gbWF0cml4IHVzZWQgdG8gcm90YXRlIGFuIGVudGl0eSBzbyB0aGF0IGl0IGxvb2tzIGF0IHRoZSB0YXJnZXQgdmVjdG9yMywgZnJvbSB0aGUgZXllIHZlY3RvcjMgcG9zaXRpb24sIHRoZSB1cCB2ZWN0b3IzIGJlaW5nIG9yaWVudGVkIGxpa2UgXCJ1cFwiLlxuICAgICAqIHNlbGYgZnVuY3Rpb24gd29ya3MgaW4gcmlnaHQgaGFuZGVkIG1vZGVcbiAgICAgKiBAcGFyYW0gZXllIC0gZGVmaW5lcyB0aGUgZmluYWwgcG9zaXRpb24gb2YgdGhlIGVudGl0eVxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBkZWZpbmVzIHdoZXJlIHRoZSBlbnRpdHkgc2hvdWxkIGxvb2sgYXRcbiAgICAgKiBAcGFyYW0gdXAgLSBkZWZpbmVzIHRoZSB1cCB2ZWN0b3IgZm9yIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvb2tBdFJIVG9SZWYoZXllLCB0YXJnZXQsIHVwLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeEF4aXMgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgY29uc3QgeUF4aXMgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgY29uc3QgekF4aXMgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgLy8gWiBheGlzXG4gICAgICAgIFZlY3RvcjMuc3VidHJhY3RUb1JlZihleWUsIHRhcmdldCwgekF4aXMpO1xuICAgICAgICBWZWN0b3IzLm5vcm1hbGl6ZVRvUmVmKHpBeGlzLCB6QXhpcyk7XG4gICAgICAgIC8vIFggYXhpc1xuICAgICAgICBWZWN0b3IzLmNyb3NzVG9SZWYodXAsIHpBeGlzLCB4QXhpcyk7XG4gICAgICAgIGNvbnN0IHhTcXVhcmVMZW5ndGggPSBWZWN0b3IzLmxlbmd0aFNxdWFyZWQoeEF4aXMpO1xuICAgICAgICBpZiAoeFNxdWFyZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgeEF4aXMueCA9IDEuMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFZlY3RvcjMubm9ybWFsaXplRnJvbUxlbmd0aFRvUmVmKHhBeGlzLCBNYXRoLnNxcnQoeFNxdWFyZUxlbmd0aCksIHhBeGlzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBZIGF4aXNcbiAgICAgICAgVmVjdG9yMy5jcm9zc1RvUmVmKHpBeGlzLCB4QXhpcywgeUF4aXMpO1xuICAgICAgICBWZWN0b3IzLm5vcm1hbGl6ZVRvUmVmKHlBeGlzLCB5QXhpcyk7XG4gICAgICAgIC8vIEV5ZSBhbmdsZXNcbiAgICAgICAgY29uc3QgZXggPSAtVmVjdG9yMy5kb3QoeEF4aXMsIGV5ZSk7XG4gICAgICAgIGNvbnN0IGV5ID0gLVZlY3RvcjMuZG90KHlBeGlzLCBleWUpO1xuICAgICAgICBjb25zdCBleiA9IC1WZWN0b3IzLmRvdCh6QXhpcywgZXllKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKHhBeGlzLngsIHlBeGlzLngsIHpBeGlzLngsIDAuMCwgeEF4aXMueSwgeUF4aXMueSwgekF4aXMueSwgMC4wLCB4QXhpcy56LCB5QXhpcy56LCB6QXhpcy56LCAwLjAsIGV4LCBleSwgZXosIDEuMCwgcmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4Lmxvb2tBdFJIVG9SZWYgPSBsb29rQXRSSFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGxlZnQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSB3aWR0aCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHdpZHRoXG4gICAgICogQHBhcmFtIGhlaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGhlaWdodFxuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcnRob0xIKHdpZHRoLCBoZWlnaHQsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBvcnRob0xIVG9SZWYod2lkdGgsIGhlaWdodCwgem5lYXIsIHpmYXIsIG1hdHJpeCk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5vcnRob0xIID0gb3J0aG9MSDtcbiAgICAvKipcbiAgICAgKiBTdG9yZSBhIGxlZnQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIHRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIHdpZHRoIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgd2lkdGhcbiAgICAgKiBAcGFyYW0gaGVpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgaGVpZ2h0XG4gICAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3J0aG9MSFRvUmVmKHdpZHRoLCBoZWlnaHQsIHpuZWFyLCB6ZmFyLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHpuZWFyO1xuICAgICAgICBjb25zdCBmID0gemZhcjtcbiAgICAgICAgY29uc3QgYSA9IDIuMCAvIHdpZHRoO1xuICAgICAgICBjb25zdCBiID0gMi4wIC8gaGVpZ2h0O1xuICAgICAgICBjb25zdCBjID0gMi4wIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9IC0oZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGEsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYiwgMC4wLCAwLjAsIDAuMCwgMC4wLCBjLCAwLjAsIDAuMCwgMC4wLCBkLCAxLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIGEgPT09IDEgJiYgYiA9PT0gMSAmJiBjID09PSAxICYmIGQgPT09IDApO1xuICAgIH1cbiAgICBNYXRyaXgub3J0aG9MSFRvUmVmID0gb3J0aG9MSFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGxlZnQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgbGVmdCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgcmlnaHQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSBib3R0b20gLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBib3R0b20gY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB0b3AgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCB0b3AgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPcnRob09mZkNlbnRlckxIKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgem5lYXIsIHpmYXIpIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgIG9ydGhvT2ZmQ2VudGVyTEhUb1JlZihsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyLCBtYXRyaXgpO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cbiAgICBNYXRyaXguT3J0aG9PZmZDZW50ZXJMSCA9IE9ydGhvT2ZmQ2VudGVyTEg7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIGEgbGVmdC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gaW50byBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgbGVmdCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgcmlnaHQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSBib3R0b20gLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBib3R0b20gY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB0b3AgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCB0b3AgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9ydGhvT2ZmQ2VudGVyTEhUb1JlZihsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHpuZWFyO1xuICAgICAgICBjb25zdCBmID0gemZhcjtcbiAgICAgICAgY29uc3QgYSA9IDIuMCAvIChyaWdodCAtIGxlZnQpO1xuICAgICAgICBjb25zdCBiID0gMi4wIC8gKHRvcCAtIGJvdHRvbSk7XG4gICAgICAgIGNvbnN0IGMgPSAyLjAgLyAoZiAtIG4pO1xuICAgICAgICBjb25zdCBkID0gLShmICsgbikgLyAoZiAtIG4pO1xuICAgICAgICBjb25zdCBpMCA9IChsZWZ0ICsgcmlnaHQpIC8gKGxlZnQgLSByaWdodCk7XG4gICAgICAgIGNvbnN0IGkxID0gKHRvcCArIGJvdHRvbSkgLyAoYm90dG9tIC0gdG9wKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGEsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYiwgMC4wLCAwLjAsIDAuMCwgMC4wLCBjLCAwLjAsIGkwLCBpMSwgZCwgMS4wLCByZXN1bHQpO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgub3J0aG9PZmZDZW50ZXJMSFRvUmVmID0gb3J0aG9PZmZDZW50ZXJMSFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByaWdodC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBsZWZ0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCByaWdodCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIGJvdHRvbSAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGJvdHRvbSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHRvcCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHRvcCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBhcyBhIHJpZ2h0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcnRob09mZkNlbnRlclJIKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgem5lYXIsIHpmYXIpIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgIG9ydGhvT2ZmQ2VudGVyUkhUb1JlZihsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyLCBtYXRyaXgpO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cbiAgICBNYXRyaXgub3J0aG9PZmZDZW50ZXJSSCA9IG9ydGhvT2ZmQ2VudGVyUkg7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIGEgcmlnaHQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIGludG8gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGxlZnQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHJpZ2h0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gYm90dG9tIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgYm90dG9tIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gdG9wIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgdG9wIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcnRob09mZkNlbnRlclJIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgcmVzdWx0KSB7XG4gICAgICAgIG9ydGhvT2ZmQ2VudGVyTEhUb1JlZihsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyLCByZXN1bHQpO1xuICAgICAgICByZXN1bHQuX21bMTBdICo9IC0xOyAvLyBObyBuZWVkIHRvIGNhbGwgX21hcmtBc1VwZGF0ZWQgYXMgcHJldmlvdXMgZnVuY3Rpb24gYWxyZWFkeSBjYWxsZWQgaXQgYW5kIGxldCBfaXNJZGVudGl0eURpcnR5IHRvIHRydWVcbiAgICB9XG4gICAgTWF0cml4Lm9ydGhvT2ZmQ2VudGVyUkhUb1JlZiA9IG9ydGhvT2ZmQ2VudGVyUkhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGVmdC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gd2lkdGggLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCB3aWR0aFxuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBoZWlnaHRcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgbGVmdC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwZXJzcGVjdGl2ZUxIKHdpZHRoLCBoZWlnaHQsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBjb25zdCBuID0gem5lYXI7XG4gICAgICAgIGNvbnN0IGYgPSB6ZmFyO1xuICAgICAgICBjb25zdCBhID0gKDIuMCAqIG4pIC8gd2lkdGg7XG4gICAgICAgIGNvbnN0IGIgPSAoMi4wICogbikgLyBoZWlnaHQ7XG4gICAgICAgIGNvbnN0IGMgPSAoZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9ICgtMi4wICogZiAqIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGEsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYiwgMC4wLCAwLjAsIDAuMCwgMC4wLCBjLCAxLjAsIDAuMCwgMC4wLCBkLCAwLjAsIG1hdHJpeCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhtYXRyaXgsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4LnBlcnNwZWN0aXZlTEggPSBwZXJzcGVjdGl2ZUxIO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBsZWZ0LWhhbmRlZCBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSBmb3YgLSBkZWZpbmVzIHRoZSBob3Jpem9udGFsIGZpZWxkIG9mIHZpZXdcbiAgICAgKiBAcGFyYW0gYXNwZWN0IC0gZGVmaW5lcyB0aGUgYXNwZWN0IHJhdGlvXG4gICAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBhcyBhIGxlZnQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGVyc3BlY3RpdmVGb3ZMSChmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIpIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgIHBlcnNwZWN0aXZlRm92TEhUb1JlZihmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIsIG1hdHJpeCk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5wZXJzcGVjdGl2ZUZvdkxIID0gcGVyc3BlY3RpdmVGb3ZMSDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYSBsZWZ0LWhhbmRlZCBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIGludG8gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3XG4gICAgICogQHBhcmFtIGFzcGVjdCAtIGRlZmluZXMgdGhlIGFzcGVjdCByYXRpb1xuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqIEBwYXJhbSBpc1ZlcnRpY2FsRm92Rml4ZWQgLSBkZWZpbmVzIGl0IHRoZSBmb3YgaXMgdmVydGljYWxseSBmaXhlZCAoZGVmYXVsdCkgb3IgaG9yaXpvbnRhbGx5XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGVyc3BlY3RpdmVGb3ZMSFRvUmVmKGZvdiwgYXNwZWN0LCB6bmVhciwgemZhciwgcmVzdWx0LCBpc1ZlcnRpY2FsRm92Rml4ZWQgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IG4gPSB6bmVhcjtcbiAgICAgICAgY29uc3QgZiA9IHpmYXI7XG4gICAgICAgIGNvbnN0IHQgPSAxLjAgLyBNYXRoLnRhbihmb3YgKiAwLjUpO1xuICAgICAgICBjb25zdCBhID0gaXNWZXJ0aWNhbEZvdkZpeGVkID8gdCAvIGFzcGVjdCA6IHQ7XG4gICAgICAgIGNvbnN0IGIgPSBpc1ZlcnRpY2FsRm92Rml4ZWQgPyB0IDogdCAqIGFzcGVjdDtcbiAgICAgICAgY29uc3QgYyA9IChmICsgbikgLyAoZiAtIG4pO1xuICAgICAgICBjb25zdCBkID0gKC0yLjAgKiBmICogbikgLyAoZiAtIG4pO1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoYSwgMC4wLCAwLjAsIDAuMCwgMC4wLCBiLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGMsIDEuMCwgMC4wLCAwLjAsIGQsIDAuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgZmFsc2UpO1xuICAgIH1cbiAgICBNYXRyaXgucGVyc3BlY3RpdmVGb3ZMSFRvUmVmID0gcGVyc3BlY3RpdmVGb3ZMSFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByaWdodC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3XG4gICAgICogQHBhcmFtIGFzcGVjdCAtIGRlZmluZXMgdGhlIGFzcGVjdCByYXRpb1xuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgYSByaWdodC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQZXJzcGVjdGl2ZUZvdlJIKGZvdiwgYXNwZWN0LCB6bmVhciwgemZhcikge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBjcmVhdGUoKTtcbiAgICAgICAgcGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGZvdiwgYXNwZWN0LCB6bmVhciwgemZhciwgbWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4LlBlcnNwZWN0aXZlRm92UkggPSBQZXJzcGVjdGl2ZUZvdlJIO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIHJpZ2h0LWhhbmRlZCBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIGludG8gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3XG4gICAgICogQHBhcmFtIGFzcGVjdCAtIGRlZmluZXMgdGhlIGFzcGVjdCByYXRpb1xuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqIEBwYXJhbSBpc1ZlcnRpY2FsRm92Rml4ZWQgLSBkZWZpbmVzIGl0IHRoZSBmb3YgaXMgdmVydGljYWxseSBmaXhlZCAoZGVmYXVsdCkgb3IgaG9yaXpvbnRhbGx5XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGZvdiwgYXNwZWN0LCB6bmVhciwgemZhciwgcmVzdWx0LCBpc1ZlcnRpY2FsRm92Rml4ZWQgPSB0cnVlKSB7XG4gICAgICAgIC8qIGFsdGVybmF0aXZlbHkgc2VsZiBjb3VsZCBiZSBleHByZXNzZWQgYXM6XG4gICAgICAgIC8vICAgIG0gPSBQZXJzcGVjdGl2ZUZvdkxIVG9SZWZcbiAgICAgICAgLy8gICAgbVsxMF0gKj0gLTEuMDtcbiAgICAgICAgLy8gICAgbVsxMV0gKj0gLTEuMDtcbiAgICAgICAgKi9cbiAgICAgICAgY29uc3QgbiA9IHpuZWFyO1xuICAgICAgICBjb25zdCBmID0gemZhcjtcbiAgICAgICAgY29uc3QgdCA9IDEuMCAvIE1hdGgudGFuKGZvdiAqIDAuNSk7XG4gICAgICAgIGNvbnN0IGEgPSBpc1ZlcnRpY2FsRm92Rml4ZWQgPyB0IC8gYXNwZWN0IDogdDtcbiAgICAgICAgY29uc3QgYiA9IGlzVmVydGljYWxGb3ZGaXhlZCA/IHQgOiB0ICogYXNwZWN0O1xuICAgICAgICBjb25zdCBjID0gLShmICsgbikgLyAoZiAtIG4pO1xuICAgICAgICBjb25zdCBkID0gKC0yICogZiAqIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGEsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYiwgMC4wLCAwLjAsIDAuMCwgMC4wLCBjLCAtMS4wLCAwLjAsIDAuMCwgZCwgMC4wLCByZXN1bHQpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMocmVzdWx0LCBmYWxzZSk7XG4gICAgfVxuICAgIE1hdHJpeC5wZXJzcGVjdGl2ZUZvdlJIVG9SZWYgPSBwZXJzcGVjdGl2ZUZvdlJIVG9SZWY7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBmb3IgV2ViVlIgaW5mbyBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBmb3YgLSBkZWZpbmVzIHRoZSBmaWVsZCBvZiB2aWV3XG4gICAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICogQHBhcmFtIHJpZ2h0SGFuZGVkIC0gZGVmaW5lcyBpZiB0aGUgbWF0cml4IG11c3QgYmUgaW4gcmlnaHQtaGFuZGVkIG1vZGUgKGZhbHNlIGJ5IGRlZmF1bHQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGVyc3BlY3RpdmVGb3ZXZWJWUlRvUmVmKGZvdiwgem5lYXIsIHpmYXIsIHJlc3VsdCwgcmlnaHRIYW5kZWQgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCByaWdodEhhbmRlZEZhY3RvciA9IHJpZ2h0SGFuZGVkID8gLTEgOiAxO1xuICAgICAgICBjb25zdCB1cFRhbiA9IE1hdGgudGFuKChmb3YudXBEZWdyZWVzICogTWF0aC5QSSkgLyAxODAuMCk7XG4gICAgICAgIGNvbnN0IGRvd25UYW4gPSBNYXRoLnRhbigoZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSkgLyAxODAuMCk7XG4gICAgICAgIGNvbnN0IGxlZnRUYW4gPSBNYXRoLnRhbigoZm92LmxlZnREZWdyZWVzICogTWF0aC5QSSkgLyAxODAuMCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0VGFuID0gTWF0aC50YW4oKGZvdi5yaWdodERlZ3JlZXMgKiBNYXRoLlBJKSAvIDE4MC4wKTtcbiAgICAgICAgY29uc3QgeFNjYWxlID0gMi4wIC8gKGxlZnRUYW4gKyByaWdodFRhbik7XG4gICAgICAgIGNvbnN0IHlTY2FsZSA9IDIuMCAvICh1cFRhbiArIGRvd25UYW4pO1xuICAgICAgICBjb25zdCBtID0gcmVzdWx0Ll9tO1xuICAgICAgICBtWzBdID0geFNjYWxlO1xuICAgICAgICBtWzFdID0gbVsyXSA9IG1bM10gPSBtWzRdID0gMC4wO1xuICAgICAgICBtWzVdID0geVNjYWxlO1xuICAgICAgICBtWzZdID0gbVs3XSA9IDAuMDtcbiAgICAgICAgbVs4XSA9IChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41O1xuICAgICAgICBtWzldID0gLSgodXBUYW4gLSBkb3duVGFuKSAqIHlTY2FsZSAqIDAuNSk7XG4gICAgICAgIG1bMTBdID0gLXpmYXIgLyAoem5lYXIgLSB6ZmFyKTtcbiAgICAgICAgbVsxMV0gPSAxLjAgKiByaWdodEhhbmRlZEZhY3RvcjtcbiAgICAgICAgbVsxMl0gPSBtWzEzXSA9IG1bMTVdID0gMC4wO1xuICAgICAgICBtWzE0XSA9IC0oMi4wICogemZhciAqIHpuZWFyKSAvICh6ZmFyIC0gem5lYXIpO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgucGVyc3BlY3RpdmVGb3ZXZWJWUlRvUmVmID0gcGVyc3BlY3RpdmVGb3ZXZWJWUlRvUmVmO1xuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIGEgMngyIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gbWF0cml4IGFuZCBzdG9yZSB0aGUgcmVzdWx0IGluIGEgRmxvYXRBcnJheVxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gdXNlXG4gICAgICogQHJldHVybnMgYSBuZXcgRmxvYXRBcnJheSBhcnJheSB3aXRoIDQgZWxlbWVudHMgOiB0aGUgMngyIG1hdHJpeCBleHRyYWN0ZWQgZnJvbSB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gR2V0QXNNYXRyaXgyeDIobWF0cml4KSB7XG4gICAgICAgIHJldHVybiBbbWF0cml4Ll9tWzBdLCBtYXRyaXguX21bMV0sIG1hdHJpeC5fbVs0XSwgbWF0cml4Ll9tWzVdXTtcbiAgICB9XG4gICAgTWF0cml4LkdldEFzTWF0cml4MngyID0gR2V0QXNNYXRyaXgyeDI7XG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgYSAzeDMgbWF0cml4IGZyb20gYSBnaXZlbiBtYXRyaXggYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gYSBGbG9hdEFycmF5XG4gICAgICogQHBhcmFtIG1hdHJpeCAtIGRlZmluZXMgdGhlIG1hdHJpeCB0byB1c2VcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBGbG9hdEFycmF5IGFycmF5IHdpdGggOSBlbGVtZW50cyA6IHRoZSAzeDMgbWF0cml4IGV4dHJhY3RlZCBmcm9tIHRoZSBnaXZlbiBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHZXRBc01hdHJpeDN4MyhtYXRyaXgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG1hdHJpeC5fbVswXSxcbiAgICAgICAgICAgIG1hdHJpeC5fbVsxXSxcbiAgICAgICAgICAgIG1hdHJpeC5fbVsyXSxcbiAgICAgICAgICAgIG1hdHJpeC5fbVs0XSxcbiAgICAgICAgICAgIG1hdHJpeC5fbVs1XSxcbiAgICAgICAgICAgIG1hdHJpeC5fbVs2XSxcbiAgICAgICAgICAgIG1hdHJpeC5fbVs4XSxcbiAgICAgICAgICAgIG1hdHJpeC5fbVs5XSxcbiAgICAgICAgICAgIG1hdHJpeC5fbVsxMF1cbiAgICAgICAgXTtcbiAgICB9XG4gICAgTWF0cml4LkdldEFzTWF0cml4M3gzID0gR2V0QXNNYXRyaXgzeDM7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgdHJhbnNwb3NlIG9mIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIG1hdHJpeCAtIGRlZmluZXMgdGhlIG1hdHJpeCB0byB0cmFuc3Bvc2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zcG9zZShtYXRyaXgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHRyYW5zcG9zZVRvUmVmKG1hdHJpeCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LnRyYW5zcG9zZSA9IHRyYW5zcG9zZTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSB0cmFuc3Bvc2Ugb2YgYSBtYXRyaXggYW5kIHN0b3JlIGl0IGluIGEgdGFyZ2V0IG1hdHJpeFxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gdHJhbnNwb3NlXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc3Bvc2VUb1JlZihtYXRyaXgsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBybSA9IHJlc3VsdC5fbTtcbiAgICAgICAgY29uc3QgbW0gPSBtYXRyaXguX207XG4gICAgICAgIHJtWzBdID0gbW1bMF07XG4gICAgICAgIHJtWzFdID0gbW1bNF07XG4gICAgICAgIHJtWzJdID0gbW1bOF07XG4gICAgICAgIHJtWzNdID0gbW1bMTJdO1xuICAgICAgICBybVs0XSA9IG1tWzFdO1xuICAgICAgICBybVs1XSA9IG1tWzVdO1xuICAgICAgICBybVs2XSA9IG1tWzldO1xuICAgICAgICBybVs3XSA9IG1tWzEzXTtcbiAgICAgICAgcm1bOF0gPSBtbVsyXTtcbiAgICAgICAgcm1bOV0gPSBtbVs2XTtcbiAgICAgICAgcm1bMTBdID0gbW1bMTBdO1xuICAgICAgICBybVsxMV0gPSBtbVsxNF07XG4gICAgICAgIHJtWzEyXSA9IG1tWzNdO1xuICAgICAgICBybVsxM10gPSBtbVs3XTtcbiAgICAgICAgcm1bMTRdID0gbW1bMTFdO1xuICAgICAgICBybVsxNV0gPSBtbVsxNV07XG4gICAgICAgIC8vIGlkZW50aXR5LW5lc3MgZG9lcyBub3QgY2hhbmdlIHdoZW4gdHJhbnNwb3NpbmdcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgbWF0cml4LmlzSWRlbnRpdHksIG1hdHJpeC5faXNJZGVudGl0eURpcnR5KTtcbiAgICB9XG4gICAgTWF0cml4LnRyYW5zcG9zZVRvUmVmID0gdHJhbnNwb3NlVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYSByZWZsZWN0aW9uIG1hdHJpeCBmcm9tIGEgcGxhbmVcbiAgICAgKiBAcGFyYW0gcGxhbmUgLSBkZWZpbmVzIHRoZSByZWZsZWN0aW9uIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVmbGVjdGlvbihwbGFuZSkge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBjcmVhdGUoKTtcbiAgICAgICAgcmVmbGVjdGlvblRvUmVmKHBsYW5lLCBtYXRyaXgpO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cbiAgICBNYXRyaXgucmVmbGVjdGlvbiA9IHJlZmxlY3Rpb247XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYSByZWZsZWN0aW9uIG1hdHJpeCBmcm9tIGEgcGxhbmVcbiAgICAgKiBAcGFyYW0gcGxhbmUgLSBkZWZpbmVzIHRoZSByZWZsZWN0aW9uIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWZsZWN0aW9uVG9SZWYoX3BsYW5lLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgcGxhbmUgPSBQbGFuZS5ub3JtYWxpemUoX3BsYW5lKTtcbiAgICAgICAgY29uc3QgeCA9IHBsYW5lLm5vcm1hbC54O1xuICAgICAgICBjb25zdCB5ID0gcGxhbmUubm9ybWFsLnk7XG4gICAgICAgIGNvbnN0IHogPSBwbGFuZS5ub3JtYWwuejtcbiAgICAgICAgY29uc3QgdGVtcCA9IC0yICogeDtcbiAgICAgICAgY29uc3QgdGVtcDIgPSAtMiAqIHk7XG4gICAgICAgIGNvbnN0IHRlbXAzID0gLTIgKiB6O1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYodGVtcCAqIHggKyAxLCB0ZW1wMiAqIHgsIHRlbXAzICogeCwgMC4wLCB0ZW1wICogeSwgdGVtcDIgKiB5ICsgMSwgdGVtcDMgKiB5LCAwLjAsIHRlbXAgKiB6LCB0ZW1wMiAqIHosIHRlbXAzICogeiArIDEsIDAuMCwgdGVtcCAqIHBsYW5lLmQsIHRlbXAyICogcGxhbmUuZCwgdGVtcDMgKiBwbGFuZS5kLCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5yZWZsZWN0aW9uVG9SZWYgPSByZWZsZWN0aW9uVG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gbWF0cml4IGFzIGEgcm90YXRpb24gbWF0cml4IGNvbXBvc2VkIGZyb20gdGhlIDMgbGVmdCBoYW5kZWQgYXhlc1xuICAgICAqIEBwYXJhbSB4YXhpcyAtIGRlZmluZXMgdGhlIHZhbHVlIG9mIHRoZSAxc3QgYXhpc1xuICAgICAqIEBwYXJhbSB5YXhpcyAtIGRlZmluZXMgdGhlIHZhbHVlIG9mIHRoZSAybmQgYXhpc1xuICAgICAqIEBwYXJhbSB6YXhpcyAtIGRlZmluZXMgdGhlIHZhbHVlIG9mIHRoZSAzcmQgYXhpc1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVhZWkF4ZXNUb1JlZih4YXhpcywgeWF4aXMsIHpheGlzLCByZXN1bHQpIHtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKHhheGlzLngsIHhheGlzLnksIHhheGlzLnosIDAuMCwgeWF4aXMueCwgeWF4aXMueSwgeWF4aXMueiwgMC4wLCB6YXhpcy54LCB6YXhpcy55LCB6YXhpcy56LCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LmZyb21YWVpBeGVzVG9SZWYgPSBmcm9tWFlaQXhlc1RvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByb3RhdGlvbiBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gYW5kIHN0b3JlcyBpdCBpbiBhIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcXVhdCAtIGRlZmluZXMgdGhlIHF1YXRlcm5pb24gdG8gdXNlXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUXVhdGVybmlvblRvUmVmKHF1YXQsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCB4eCA9IHF1YXQueCAqIHF1YXQueDtcbiAgICAgICAgY29uc3QgeXkgPSBxdWF0LnkgKiBxdWF0Lnk7XG4gICAgICAgIGNvbnN0IHp6ID0gcXVhdC56ICogcXVhdC56O1xuICAgICAgICBjb25zdCB4eSA9IHF1YXQueCAqIHF1YXQueTtcbiAgICAgICAgY29uc3QgencgPSBxdWF0LnogKiBxdWF0Lnc7XG4gICAgICAgIGNvbnN0IHp4ID0gcXVhdC56ICogcXVhdC54O1xuICAgICAgICBjb25zdCB5dyA9IHF1YXQueSAqIHF1YXQudztcbiAgICAgICAgY29uc3QgeXogPSBxdWF0LnkgKiBxdWF0Lno7XG4gICAgICAgIGNvbnN0IHh3ID0gcXVhdC54ICogcXVhdC53O1xuICAgICAgICByZXN1bHQuX21bMF0gPSAxLjAgLSAyLjAgKiAoeXkgKyB6eik7XG4gICAgICAgIHJlc3VsdC5fbVsxXSA9IDIuMCAqICh4eSArIHp3KTtcbiAgICAgICAgcmVzdWx0Ll9tWzJdID0gMi4wICogKHp4IC0geXcpO1xuICAgICAgICByZXN1bHQuX21bM10gPSAwLjA7XG4gICAgICAgIHJlc3VsdC5fbVs0XSA9IDIuMCAqICh4eSAtIHp3KTtcbiAgICAgICAgcmVzdWx0Ll9tWzVdID0gMS4wIC0gMi4wICogKHp6ICsgeHgpO1xuICAgICAgICByZXN1bHQuX21bNl0gPSAyLjAgKiAoeXogKyB4dyk7XG4gICAgICAgIHJlc3VsdC5fbVs3XSA9IDAuMDtcbiAgICAgICAgcmVzdWx0Ll9tWzhdID0gMi4wICogKHp4ICsgeXcpO1xuICAgICAgICByZXN1bHQuX21bOV0gPSAyLjAgKiAoeXogLSB4dyk7XG4gICAgICAgIHJlc3VsdC5fbVsxMF0gPSAxLjAgLSAyLjAgKiAoeXkgKyB4eCk7XG4gICAgICAgIHJlc3VsdC5fbVsxMV0gPSAwLjA7XG4gICAgICAgIHJlc3VsdC5fbVsxMl0gPSAwLjA7XG4gICAgICAgIHJlc3VsdC5fbVsxM10gPSAwLjA7XG4gICAgICAgIHJlc3VsdC5fbVsxNF0gPSAwLjA7XG4gICAgICAgIHJlc3VsdC5fbVsxNV0gPSAxLjA7XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tUXVhdGVybmlvblRvUmVmID0gZnJvbVF1YXRlcm5pb25Ub1JlZjtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgZnVuY3Rpb24gX21hcmtBc1VwZGF0ZWQoc2VsZikge1xuICAgICAgICBzZWxmLnVwZGF0ZUZsYWcgPSBfdXBkYXRlRmxhZ1NlZWQrKztcbiAgICAgICAgc2VsZi5pc0lkZW50aXR5ID0gZmFsc2U7XG4gICAgICAgIHNlbGYuaXNJZGVudGl0eTN4MiA9IGZhbHNlO1xuICAgICAgICBzZWxmLl9pc0lkZW50aXR5RGlydHkgPSB0cnVlO1xuICAgICAgICBzZWxmLl9pc0lkZW50aXR5M3gyRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGN1cnJlbnQgbWF0cml4IGlzIGlkZW50aXR5XG4gICAgICogQHJldHVybnMgdHJ1ZSBpcyB0aGUgbWF0cml4IGlzIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0lkZW50aXR5VXBkYXRlKHNlbGYpIHtcbiAgICAgICAgaWYgKHNlbGYuX2lzSWRlbnRpdHlEaXJ0eSkge1xuICAgICAgICAgICAgc2VsZi5faXNJZGVudGl0eURpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBtID0gc2VsZi5fbTtcbiAgICAgICAgICAgIHNlbGYuaXNJZGVudGl0eSA9XG4gICAgICAgICAgICAgICAgbVswXSA9PT0gMS4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bMV0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzJdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVszXSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bNF0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzVdID09PSAxLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVs2XSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bN10gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzhdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVs5XSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bMTBdID09PSAxLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsxMV0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzEyXSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bMTNdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsxNF0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzE1XSA9PT0gMS4wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLmlzSWRlbnRpdHk7XG4gICAgfVxuICAgIE1hdHJpeC5pc0lkZW50aXR5VXBkYXRlID0gaXNJZGVudGl0eVVwZGF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgY3VycmVudCBtYXRyaXggaXMgaWRlbnRpdHkgYXMgYSB0ZXh0dXJlIG1hdHJpeCAoM3gyIHN0b3JlIGluIDR4NClcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlzIHRoZSBtYXRyaXggaXMgdGhlIGlkZW50aXR5IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSWRlbnRpdHlBczN4MlVwZGF0ZShzZWxmKSB7XG4gICAgICAgIGlmIChzZWxmLl9pc0lkZW50aXR5M3gyRGlydHkpIHtcbiAgICAgICAgICAgIHNlbGYuX2lzSWRlbnRpdHkzeDJEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHNlbGYuX21bMF0gIT09IDEuMCB8fCBzZWxmLl9tWzVdICE9PSAxLjAgfHwgc2VsZi5fbVsxNV0gIT09IDEuMCkge1xuICAgICAgICAgICAgICAgIHNlbGYuaXNJZGVudGl0eTN4MiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi5fbVsxXSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVsyXSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVszXSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVs0XSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVs2XSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVs3XSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVs4XSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVs5XSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVsxMF0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMTFdICE9PSAwLjAgfHxcbiAgICAgICAgICAgICAgICBzZWxmLl9tWzEyXSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVsxM10gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMTRdICE9PSAwLjApIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuaXNJZGVudGl0eTN4MiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYuaXNJZGVudGl0eTN4MjtcbiAgICB9XG4gICAgTWF0cml4LmlzSWRlbnRpdHlBczN4MlVwZGF0ZSA9IGlzSWRlbnRpdHlBczN4MlVwZGF0ZTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkZXRlcm1pbmFudCBvZiB0aGUgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIG1hdHJpeCBkZXRlcm1pbmFudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRldGVybWluYW50KHNlbGYpIHtcbiAgICAgICAgaWYgKHNlbGYuaXNJZGVudGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbSA9IHNlbGYuX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IG0wMCA9IG1bMF0sIG0wMSA9IG1bMV0sIG0wMiA9IG1bMl0sIG0wMyA9IG1bM107XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IG0xMCA9IG1bNF0sIG0xMSA9IG1bNV0sIG0xMiA9IG1bNl0sIG0xMyA9IG1bN107XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IG0yMCA9IG1bOF0sIG0yMSA9IG1bOV0sIG0yMiA9IG1bMTBdLCBtMjMgPSBtWzExXTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgbTMwID0gbVsxMl0sIG0zMSA9IG1bMTNdLCBtMzIgPSBtWzE0XSwgbTMzID0gbVsxNV07XG4gICAgICAgIC8qXG4gICAgICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhcGxhY2VfZXhwYW5zaW9uXG4gICAgICAgIC8vIHRvIGNvbXB1dGUgdGhlIGRldGVycm1pbmFudCBvZiBhIDR4NCBNYXRyaXggd2UgY29tcHV0ZSB0aGUgY29mYWN0b3JzIG9mIGFueSByb3cgb3IgY29sdW1uLFxuICAgICAgICAvLyB0aGVuIHdlIG11bHRpcGx5IGVhY2ggQ29mYWN0b3IgYnkgaXRzIGNvcnJlc3BvbmRpbmcgbWF0cml4IHZhbHVlIGFuZCBzdW0gdGhlbSBhbGwgdG8gZ2V0IHRoZSBkZXRlcm1pbmFudFxuICAgICAgICAvLyBDb2ZhY3RvcihpLCBqKSA9IHNpZ24oaSxqKSAqIGRldChNaW5vcihpLCBqKSlcbiAgICAgICAgLy8gd2hlcmVcbiAgICAgICAgLy8gIC0gc2lnbihpLGopID0gKGkraikgJSAyID09PSAwID8gMSA6IC0xXG4gICAgICAgIC8vICAtIE1pbm9yKGksIGopIGlzIHRoZSAzeDMgbWF0cml4IHdlIGdldCBieSByZW1vdmluZyByb3cgaSBhbmQgY29sdW1uIGogZnJvbSBjdXJyZW50IE1hdHJpeFxuICAgICAgICAvL1xuICAgICAgICAvLyBIZXJlIHdlIGRvIHRoYXQgZm9yIHRoZSAxc3Qgcm93LlxuICAgICAgICAqL1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lXG4gICAgICAgIGNvbnN0IGRldF8yMl8zMyA9IG0yMiAqIG0zMyAtIG0zMiAqIG0yMztcbiAgICAgICAgY29uc3QgZGV0XzIxXzMzID0gbTIxICogbTMzIC0gbTMxICogbTIzO1xuICAgICAgICBjb25zdCBkZXRfMjFfMzIgPSBtMjEgKiBtMzIgLSBtMzEgKiBtMjI7XG4gICAgICAgIGNvbnN0IGRldF8yMF8zMyA9IG0yMCAqIG0zMyAtIG0zMCAqIG0yMztcbiAgICAgICAgY29uc3QgZGV0XzIwXzMyID0gbTIwICogbTMyIC0gbTIyICogbTMwO1xuICAgICAgICBjb25zdCBkZXRfMjBfMzEgPSBtMjAgKiBtMzEgLSBtMzAgKiBtMjE7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8wMCA9ICsobTExICogZGV0XzIyXzMzIC0gbTEyICogZGV0XzIxXzMzICsgbTEzICogZGV0XzIxXzMyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAxID0gLShtMTAgKiBkZXRfMjJfMzMgLSBtMTIgKiBkZXRfMjBfMzMgKyBtMTMgKiBkZXRfMjBfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDIgPSArKG0xMCAqIGRldF8yMV8zMyAtIG0xMSAqIGRldF8yMF8zMyArIG0xMyAqIGRldF8yMF8zMSk7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8wMyA9IC0obTEwICogZGV0XzIxXzMyIC0gbTExICogZGV0XzIwXzMyICsgbTEyICogZGV0XzIwXzMxKTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTp2YXJpYWJsZS1uYW1lXG4gICAgICAgIHJldHVybiBtMDAgKiBjb2ZhY3RfMDAgKyBtMDEgKiBjb2ZhY3RfMDEgKyBtMDIgKiBjb2ZhY3RfMDIgKyBtMDMgKiBjb2ZhY3RfMDM7XG4gICAgfVxuICAgIE1hdHJpeC5kZXRlcm1pbmFudCA9IGRldGVybWluYW50O1xuICAgIC8vIE1ldGhvZHNcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXRyaXggYXMgYSBGbG9hdEFycmF5XG4gICAgICogQHJldHVybnMgdGhlIG1hdHJpeCB1bmRlcmx5aW5nIGFycmF5XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheShzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9tO1xuICAgIH1cbiAgICBNYXRyaXgudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWF0cml4IGFzIGEgRmxvYXRBcnJheVxuICAgICAqIEByZXR1cm5zIHRoZSBtYXRyaXggdW5kZXJseWluZyBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc0FycmF5KHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX207XG4gICAgfVxuICAgIE1hdHJpeC5hc0FycmF5ID0gYXNBcnJheTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGFsbCB0aGUgbWF0cml4IGVsZW1lbnRzIHRvIHplcm9cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXNldChzZWxmKSB7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZigwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIHNlbGYpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMoc2VsZiwgZmFsc2UpO1xuICAgIH1cbiAgICBNYXRyaXgucmVzZXQgPSByZXNldDtcbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIGEgc2Vjb25kIG9uZVxuICAgICAqIEBwYXJhbSBvdGhlciAtIGRlZmluZXMgdGhlIG1hdHJpeCB0byBhZGRcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgdGhlIGFkZGl0aW9uIG9mIHRoZSBjdXJyZW50IG1hdHJpeCBhbmQgdGhlIGdpdmVuIG9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZChzZWxmLCBvdGhlcikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgYWRkVG9SZWYoc2VsZiwgb3RoZXIsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5hZGQgPSBhZGQ7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gbWF0cml4IFwicmVzdWx0XCIgdG8gdGhlIGFkZGl0aW9uIG9mIHRoZSBjdXJyZW50IG1hdHJpeCBhbmQgdGhlIGdpdmVuIG9uZVxuICAgICAqIEBwYXJhbSBvdGhlciAtIGRlZmluZXMgdGhlIG1hdHJpeCB0byBhZGRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZFRvUmVmKHNlbGYsIG90aGVyLCByZXN1bHQpIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDE2OyBpbmRleCsrKSB7XG4gICAgICAgICAgICByZXN1bHQuX21baW5kZXhdID0gc2VsZi5fbVtpbmRleF0gKyBvdGhlci5fbVtpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LmFkZFRvUmVmID0gYWRkVG9SZWY7XG4gICAgLyoqXG4gICAgICogQWRkcyBpbiBwbGFjZSB0aGUgZ2l2ZW4gbWF0cml4IHRvIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqIEBwYXJhbSBvdGhlciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRUb1NlbGYoc2VsZiwgb3RoZXIpIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDE2OyBpbmRleCsrKSB7XG4gICAgICAgICAgICBzZWxmLl9tW2luZGV4XSArPSBvdGhlci5fbVtpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC5hZGRUb1NlbGYgPSBhZGRUb1NlbGY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBtYXRyaXggYXMgdGhlIGludmVydCBvZiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBkZWZpbmVzIHRoZSBzb3VyY2UgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZlcnQoc291cmNlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBpbnZlcnRUb1JlZihzb3VyY2UsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5pbnZlcnQgPSBpbnZlcnQ7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gbWF0cml4IHRvIHRoZSBjdXJyZW50IGludmVydGVkIE1hdHJpeFxuICAgICAqIEBwYXJhbSBvdGhlciAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmVydFRvUmVmKHNvdXJjZSwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChzb3VyY2UuaXNJZGVudGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29weShzb3VyY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIGludmVyc2Ugb2YgYSBNYXRyaXggaXMgdGhlIHRyYW5zcG9zZSBvZiBjb2ZhY3RvciBtYXRyaXggZGl2aWRlZCBieSB0aGUgZGV0ZXJtaW5hbnRcbiAgICAgICAgY29uc3QgbSA9IHNvdXJjZS5fbTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCBtMDAgPSBtWzBdLCBtMDEgPSBtWzFdLCBtMDIgPSBtWzJdLCBtMDMgPSBtWzNdO1xuICAgICAgICBjb25zdCBtMTAgPSBtWzRdLCBtMTEgPSBtWzVdLCBtMTIgPSBtWzZdLCBtMTMgPSBtWzddO1xuICAgICAgICBjb25zdCBtMjAgPSBtWzhdLCBtMjEgPSBtWzldLCBtMjIgPSBtWzEwXSwgbTIzID0gbVsxMV07XG4gICAgICAgIGNvbnN0IG0zMCA9IG1bMTJdLCBtMzEgPSBtWzEzXSwgbTMyID0gbVsxNF0sIG0zMyA9IG1bMTVdO1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZVxuICAgICAgICBjb25zdCBkZXRfMjJfMzMgPSBtMjIgKiBtMzMgLSBtMzIgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMV8zMyA9IG0yMSAqIG0zMyAtIG0zMSAqIG0yMztcbiAgICAgICAgY29uc3QgZGV0XzIxXzMyID0gbTIxICogbTMyIC0gbTMxICogbTIyO1xuICAgICAgICBjb25zdCBkZXRfMjBfMzMgPSBtMjAgKiBtMzMgLSBtMzAgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMF8zMiA9IG0yMCAqIG0zMiAtIG0yMiAqIG0zMDtcbiAgICAgICAgY29uc3QgZGV0XzIwXzMxID0gbTIwICogbTMxIC0gbTMwICogbTIxO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDAgPSArKG0xMSAqIGRldF8yMl8zMyAtIG0xMiAqIGRldF8yMV8zMyArIG0xMyAqIGRldF8yMV8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8wMSA9IC0obTEwICogZGV0XzIyXzMzIC0gbTEyICogZGV0XzIwXzMzICsgbTEzICogZGV0XzIwXzMyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAyID0gKyhtMTAgKiBkZXRfMjFfMzMgLSBtMTEgKiBkZXRfMjBfMzMgKyBtMTMgKiBkZXRfMjBfMzEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDMgPSAtKG0xMCAqIGRldF8yMV8zMiAtIG0xMSAqIGRldF8yMF8zMiArIG0xMiAqIGRldF8yMF8zMSk7XG4gICAgICAgIGNvbnN0IGRldCA9IG0wMCAqIGNvZmFjdF8wMCArIG0wMSAqIGNvZmFjdF8wMSArIG0wMiAqIGNvZmFjdF8wMiArIG0wMyAqIGNvZmFjdF8wMztcbiAgICAgICAgaWYgKGRldCA9PT0gMCkge1xuICAgICAgICAgICAgY29weShzb3VyY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGV0SW52ID0gMSAvIGRldDtcbiAgICAgICAgY29uc3QgZGV0XzEyXzMzID0gbTEyICogbTMzIC0gbTMyICogbTEzO1xuICAgICAgICBjb25zdCBkZXRfMTFfMzMgPSBtMTEgKiBtMzMgLSBtMzEgKiBtMTM7XG4gICAgICAgIGNvbnN0IGRldF8xMV8zMiA9IG0xMSAqIG0zMiAtIG0zMSAqIG0xMjtcbiAgICAgICAgY29uc3QgZGV0XzEwXzMzID0gbTEwICogbTMzIC0gbTMwICogbTEzO1xuICAgICAgICBjb25zdCBkZXRfMTBfMzIgPSBtMTAgKiBtMzIgLSBtMzAgKiBtMTI7XG4gICAgICAgIGNvbnN0IGRldF8xMF8zMSA9IG0xMCAqIG0zMSAtIG0zMCAqIG0xMTtcbiAgICAgICAgY29uc3QgZGV0XzEyXzIzID0gbTEyICogbTIzIC0gbTIyICogbTEzO1xuICAgICAgICBjb25zdCBkZXRfMTFfMjMgPSBtMTEgKiBtMjMgLSBtMjEgKiBtMTM7XG4gICAgICAgIGNvbnN0IGRldF8xMV8yMiA9IG0xMSAqIG0yMiAtIG0yMSAqIG0xMjtcbiAgICAgICAgY29uc3QgZGV0XzEwXzIzID0gbTEwICogbTIzIC0gbTIwICogbTEzO1xuICAgICAgICBjb25zdCBkZXRfMTBfMjIgPSBtMTAgKiBtMjIgLSBtMjAgKiBtMTI7XG4gICAgICAgIGNvbnN0IGRldF8xMF8yMSA9IG0xMCAqIG0yMSAtIG0yMCAqIG0xMTtcbiAgICAgICAgY29uc3QgY29mYWN0XzEwID0gLShtMDEgKiBkZXRfMjJfMzMgLSBtMDIgKiBkZXRfMjFfMzMgKyBtMDMgKiBkZXRfMjFfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMTEgPSArKG0wMCAqIGRldF8yMl8zMyAtIG0wMiAqIGRldF8yMF8zMyArIG0wMyAqIGRldF8yMF8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8xMiA9IC0obTAwICogZGV0XzIxXzMzIC0gbTAxICogZGV0XzIwXzMzICsgbTAzICogZGV0XzIwXzMxKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzEzID0gKyhtMDAgKiBkZXRfMjFfMzIgLSBtMDEgKiBkZXRfMjBfMzIgKyBtMDIgKiBkZXRfMjBfMzEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMjAgPSArKG0wMSAqIGRldF8xMl8zMyAtIG0wMiAqIGRldF8xMV8zMyArIG0wMyAqIGRldF8xMV8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8yMSA9IC0obTAwICogZGV0XzEyXzMzIC0gbTAyICogZGV0XzEwXzMzICsgbTAzICogZGV0XzEwXzMyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzIyID0gKyhtMDAgKiBkZXRfMTFfMzMgLSBtMDEgKiBkZXRfMTBfMzMgKyBtMDMgKiBkZXRfMTBfMzEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMjMgPSAtKG0wMCAqIGRldF8xMV8zMiAtIG0wMSAqIGRldF8xMF8zMiArIG0wMiAqIGRldF8xMF8zMSk7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8zMCA9IC0obTAxICogZGV0XzEyXzIzIC0gbTAyICogZGV0XzExXzIzICsgbTAzICogZGV0XzExXzIyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzMxID0gKyhtMDAgKiBkZXRfMTJfMjMgLSBtMDIgKiBkZXRfMTBfMjMgKyBtMDMgKiBkZXRfMTBfMjIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMzIgPSAtKG0wMCAqIGRldF8xMV8yMyAtIG0wMSAqIGRldF8xMF8yMyArIG0wMyAqIGRldF8xMF8yMSk7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8zMyA9ICsobTAwICogZGV0XzExXzIyIC0gbTAxICogZGV0XzEwXzIyICsgbTAyICogZGV0XzEwXzIxKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGNvZmFjdF8wMCAqIGRldEludiwgY29mYWN0XzEwICogZGV0SW52LCBjb2ZhY3RfMjAgKiBkZXRJbnYsIGNvZmFjdF8zMCAqIGRldEludiwgY29mYWN0XzAxICogZGV0SW52LCBjb2ZhY3RfMTEgKiBkZXRJbnYsIGNvZmFjdF8yMSAqIGRldEludiwgY29mYWN0XzMxICogZGV0SW52LCBjb2ZhY3RfMDIgKiBkZXRJbnYsIGNvZmFjdF8xMiAqIGRldEludiwgY29mYWN0XzIyICogZGV0SW52LCBjb2ZhY3RfMzIgKiBkZXRJbnYsIGNvZmFjdF8wMyAqIGRldEludiwgY29mYWN0XzEzICogZGV0SW52LCBjb2ZhY3RfMjMgKiBkZXRJbnYsIGNvZmFjdF8zMyAqIGRldEludiwgcmVzdWx0KTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTp2YXJpYWJsZS1uYW1lXG4gICAgfVxuICAgIE1hdHJpeC5pbnZlcnRUb1JlZiA9IGludmVydFRvUmVmO1xuICAgIC8qKlxuICAgICAqIGFkZCBhIHZhbHVlIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnQgTWF0cml4XG4gICAgICogQHBhcmFtIGluZGV4IC0gdGhlIGluZGV4IG9mIHRoZSB2YWx1ZSB3aXRoaW4gdGhlIG1hdHJpeC4gYmV0d2VlbiAwIGFuZCAxNS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSB0aGUgdmFsdWUgdG8gYmUgYWRkZWRcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZEF0SW5kZXgoc2VsZiwgaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIHNlbGYuX21baW5kZXhdICs9IHZhbHVlO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChzZWxmKTtcbiAgICB9XG4gICAgTWF0cml4LmFkZEF0SW5kZXggPSBhZGRBdEluZGV4O1xuICAgIC8qKlxuICAgICAqIG11dGlwbHkgdGhlIHNwZWNpZmllZCBwb3NpdGlvbiBpbiB0aGUgY3VycmVudCBNYXRyaXggYnkgYSB2YWx1ZVxuICAgICAqIEBwYXJhbSBpbmRleCAtIHRoZSBpbmRleCBvZiB0aGUgdmFsdWUgd2l0aGluIHRoZSBtYXRyaXguIGJldHdlZW4gMCBhbmQgMTUuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRvIGJlIGFkZGVkXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtdWx0aXBseUF0SW5kZXgoc2VsZiwgaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIHNlbGYuX21baW5kZXhdICo9IHZhbHVlO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChzZWxmKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIE1hdHJpeC5tdWx0aXBseUF0SW5kZXggPSBtdWx0aXBseUF0SW5kZXg7XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yICh1c2luZyAzIGZsb2F0cykgaW4gdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSAxc3QgY29tcG9uZW50IG9mIHRoZSB0cmFuc2xhdGlvblxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgMm5kIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIDNyZCBjb21wb25lbnQgb2YgdGhlIHRyYW5zbGF0aW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoc2VsZiwgeCwgeSwgeikge1xuICAgICAgICBzZWxmLl9tWzEyXSA9IHg7XG4gICAgICAgIHNlbGYuX21bMTNdID0geTtcbiAgICAgICAgc2VsZi5fbVsxNF0gPSB6O1xuICAgICAgICBfbWFya0FzVXBkYXRlZChzZWxmKTtcbiAgICB9XG4gICAgTWF0cml4LnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyA9IHNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgaW4gdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHBhcmFtIHZlY3RvcjMgLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbiB0byBpbnNlcnRcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFRyYW5zbGF0aW9uKHNlbGYsIHZlY3RvcjMpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKHNlbGYsIHZlY3RvcjMueCwgdmVjdG9yMy55LCB2ZWN0b3IzLnopO1xuICAgIH1cbiAgICBNYXRyaXguc2V0VHJhbnNsYXRpb24gPSBzZXRUcmFuc2xhdGlvbjtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0cmFuc2xhdGlvbiB2YWx1ZSBvZiB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzIGFzIHRoZSBleHRyYWN0ZWQgdHJhbnNsYXRpb24gZnJvbSB0aGUgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24oc2VsZikge1xuICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUoc2VsZi5fbVsxMl0sIHNlbGYuX21bMTNdLCBzZWxmLl9tWzE0XSk7XG4gICAgfVxuICAgIE1hdHJpeC5nZXRUcmFuc2xhdGlvbiA9IGdldFRyYW5zbGF0aW9uO1xuICAgIC8qKlxuICAgICAqIEZpbGwgYSBWZWN0b3IzIHdpdGggdGhlIGV4dHJhY3RlZCB0cmFuc2xhdGlvbiBmcm9tIHRoZSBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgdHJhbnNsYXRpb25cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvblRvUmVmKHNlbGYsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IHNlbGYuX21bMTJdO1xuICAgICAgICByZXN1bHQueSA9IHNlbGYuX21bMTNdO1xuICAgICAgICByZXN1bHQueiA9IHNlbGYuX21bMTRdO1xuICAgIH1cbiAgICBNYXRyaXguZ2V0VHJhbnNsYXRpb25Ub1JlZiA9IGdldFRyYW5zbGF0aW9uVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHJvdGF0aW9uIGFuZCBzY2FsaW5nIHBhcnQgZnJvbSB0aGUgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlUm90YXRpb25BbmRTY2FsaW5nKHNlbGYpIHtcbiAgICAgICAgY29uc3QgbSA9IHNlbGYuX207XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZigxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCBtWzEyXSwgbVsxM10sIG1bMTRdLCBtWzE1XSwgc2VsZik7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhzZWxmLCBtWzEyXSA9PT0gMCAmJiBtWzEzXSA9PT0gMCAmJiBtWzE0XSA9PT0gMCAmJiBtWzE1XSA9PT0gMSk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBNYXRyaXgucmVtb3ZlUm90YXRpb25BbmRTY2FsaW5nID0gcmVtb3ZlUm90YXRpb25BbmRTY2FsaW5nO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSBvdGhlciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IHNldCB3aXRoIHRoZSBtdWx0aXBsaWNhdGlvbiByZXN1bHQgb2YgdGhlIGN1cnJlbnQgTWF0cml4IGFuZCB0aGUgZ2l2ZW4gb25lXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHkoc2VsZiwgb3RoZXIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIG11bHRpcGx5VG9SZWYoc2VsZiwgb3RoZXIsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIC8qKlxuICAgICAqIENvcHkgdGhlIGN1cnJlbnQgbWF0cml4IGZyb20gdGhlIGdpdmVuIG9uZVxuICAgICAqIEBwYXJhbSBvdGhlciAtIGRlZmluZXMgdGhlIHNvdXJjZSBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHkoZnJvbSwgZGVzdCkge1xuICAgICAgICBjb3B5VG9BcnJheShmcm9tLCBkZXN0Ll9tKTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGRlc3QsIGZyb20uaXNJZGVudGl0eSwgZnJvbS5faXNJZGVudGl0eURpcnR5LCBmcm9tLmlzSWRlbnRpdHkzeDIsIGZyb20uX2lzSWRlbnRpdHkzeDJEaXJ0eSk7XG4gICAgfVxuICAgIE1hdHJpeC5jb3B5ID0gY29weTtcbiAgICAvKipcbiAgICAgKiBQb3B1bGF0ZXMgdGhlIGdpdmVuIGFycmF5IGZyb20gdGhlIHN0YXJ0aW5nIGluZGV4IHdpdGggdGhlIGN1cnJlbnQgbWF0cml4IHZhbHVlc1xuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHRhcmdldCBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHRhcmdldCBhcnJheSB3aGVyZSB0byBzdGFydCBzdG9yaW5nIHZhbHVlc1xuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlUb0FycmF5KHNlbGYsIGFycmF5RGVzdCwgb2Zmc2V0RGVzdCA9IDApIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDE2OyBpbmRleCsrKSB7XG4gICAgICAgICAgICBhcnJheURlc3Rbb2Zmc2V0RGVzdCArIGluZGV4XSA9IHNlbGYuX21baW5kZXhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIE1hdHJpeC5jb3B5VG9BcnJheSA9IGNvcHlUb0FycmF5O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCBcInJlc3VsdFwiIHdpdGggdGhlIG11bHRpcGxpY2F0aW9uIHJlc3VsdCBvZiB0aGUgY3VycmVudCBNYXRyaXggYW5kIHRoZSBnaXZlbiBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBtYXRyaXggd2hlcmUgdG8gc3RvcmUgdGhlIG11bHRpcGxpY2F0aW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZihzZWxmLCBvdGhlciwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChzZWxmLmlzSWRlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvcHkob3RoZXIsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyLmlzSWRlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvcHkoc2VsZiwgcmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtdWx0aXBseVRvQXJyYXkoc2VsZiwgb3RoZXIsIHJlc3VsdC5fbSwgMCk7XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5tdWx0aXBseVRvUmVmID0gbXVsdGlwbHlUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBGbG9hdEFycmF5IFwicmVzdWx0XCIgZnJvbSB0aGUgZ2l2ZW4gaW5kZXggXCJvZmZzZXRcIiB3aXRoIHRoZSBtdWx0aXBsaWNhdGlvbiBvZiB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBhcnJheSB3aGVyZSB0byBzdG9yZSB0aGUgbXVsdGlwbGljYXRpb25cbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSB0YXJnZXQgYXJyYXkgd2hlcmUgdG8gc3RhcnQgc3RvcmluZyB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtdWx0aXBseVRvQXJyYXkoc2VsZiwgb3RoZXIsIHJlc3VsdCwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICBjb25zdCBvdGhlck0gPSBvdGhlci5fbTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCB0bTAgPSBtWzBdLCB0bTEgPSBtWzFdLCB0bTIgPSBtWzJdLCB0bTMgPSBtWzNdO1xuICAgICAgICBjb25zdCB0bTQgPSBtWzRdLCB0bTUgPSBtWzVdLCB0bTYgPSBtWzZdLCB0bTcgPSBtWzddO1xuICAgICAgICBjb25zdCB0bTggPSBtWzhdLCB0bTkgPSBtWzldLCB0bTEwID0gbVsxMF0sIHRtMTEgPSBtWzExXTtcbiAgICAgICAgY29uc3QgdG0xMiA9IG1bMTJdLCB0bTEzID0gbVsxM10sIHRtMTQgPSBtWzE0XSwgdG0xNSA9IG1bMTVdO1xuICAgICAgICBjb25zdCBvbTAgPSBvdGhlck1bMF0sIG9tMSA9IG90aGVyTVsxXSwgb20yID0gb3RoZXJNWzJdLCBvbTMgPSBvdGhlck1bM107XG4gICAgICAgIGNvbnN0IG9tNCA9IG90aGVyTVs0XSwgb201ID0gb3RoZXJNWzVdLCBvbTYgPSBvdGhlck1bNl0sIG9tNyA9IG90aGVyTVs3XTtcbiAgICAgICAgY29uc3Qgb204ID0gb3RoZXJNWzhdLCBvbTkgPSBvdGhlck1bOV0sIG9tMTAgPSBvdGhlck1bMTBdLCBvbTExID0gb3RoZXJNWzExXTtcbiAgICAgICAgY29uc3Qgb20xMiA9IG90aGVyTVsxMl0sIG9tMTMgPSBvdGhlck1bMTNdLCBvbTE0ID0gb3RoZXJNWzE0XSwgb20xNSA9IG90aGVyTVsxNV07XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICByZXN1bHRbb2Zmc2V0XSA9IHRtMCAqIG9tMCArIHRtMSAqIG9tNCArIHRtMiAqIG9tOCArIHRtMyAqIG9tMTI7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxXSA9IHRtMCAqIG9tMSArIHRtMSAqIG9tNSArIHRtMiAqIG9tOSArIHRtMyAqIG9tMTM7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAyXSA9IHRtMCAqIG9tMiArIHRtMSAqIG9tNiArIHRtMiAqIG9tMTAgKyB0bTMgKiBvbTE0O1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgM10gPSB0bTAgKiBvbTMgKyB0bTEgKiBvbTcgKyB0bTIgKiBvbTExICsgdG0zICogb20xNTtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDRdID0gdG00ICogb20wICsgdG01ICogb200ICsgdG02ICogb204ICsgdG03ICogb20xMjtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDVdID0gdG00ICogb20xICsgdG01ICogb201ICsgdG02ICogb205ICsgdG03ICogb20xMztcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDZdID0gdG00ICogb20yICsgdG01ICogb202ICsgdG02ICogb20xMCArIHRtNyAqIG9tMTQ7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA3XSA9IHRtNCAqIG9tMyArIHRtNSAqIG9tNyArIHRtNiAqIG9tMTEgKyB0bTcgKiBvbTE1O1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgOF0gPSB0bTggKiBvbTAgKyB0bTkgKiBvbTQgKyB0bTEwICogb204ICsgdG0xMSAqIG9tMTI7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA5XSA9IHRtOCAqIG9tMSArIHRtOSAqIG9tNSArIHRtMTAgKiBvbTkgKyB0bTExICogb20xMztcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDEwXSA9IHRtOCAqIG9tMiArIHRtOSAqIG9tNiArIHRtMTAgKiBvbTEwICsgdG0xMSAqIG9tMTQ7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxMV0gPSB0bTggKiBvbTMgKyB0bTkgKiBvbTcgKyB0bTEwICogb20xMSArIHRtMTEgKiBvbTE1O1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMTJdID0gdG0xMiAqIG9tMCArIHRtMTMgKiBvbTQgKyB0bTE0ICogb204ICsgdG0xNSAqIG9tMTI7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxM10gPSB0bTEyICogb20xICsgdG0xMyAqIG9tNSArIHRtMTQgKiBvbTkgKyB0bTE1ICogb20xMztcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDE0XSA9IHRtMTIgKiBvbTIgKyB0bTEzICogb202ICsgdG0xNCAqIG9tMTAgKyB0bTE1ICogb20xNDtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDE1XSA9IHRtMTIgKiBvbTMgKyB0bTEzICogb203ICsgdG0xNCAqIG9tMTEgKyB0bTE1ICogb20xNTtcbiAgICB9XG4gICAgTWF0cml4Lm11bHRpcGx5VG9BcnJheSA9IG11bHRpcGx5VG9BcnJheTtcbiAgICAvKipcbiAgICAgKiBDaGVjayBlcXVhbGl0eSBiZXR3ZWVuIHNlbGYgbWF0cml4IGFuZCBhIHNlY29uZCBvbmVcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBkZWZpbmVzIHRoZSBzZWNvbmQgbWF0cml4IHRvIGNvbXBhcmVcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlzIHRoZSBjdXJyZW50IG1hdHJpeCBhbmQgdGhlIGdpdmVuIG9uZSB2YWx1ZXMgYXJlIHN0cmljdGx5IGVxdWFsXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxzKHNlbGYsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG90aGVyID0gdmFsdWU7XG4gICAgICAgIGlmICghb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5pc0lkZW50aXR5IHx8IG90aGVyLmlzSWRlbnRpdHkpIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faXNJZGVudGl0eURpcnR5ICYmICFvdGhlci5faXNJZGVudGl0eURpcnR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuaXNJZGVudGl0eSAmJiBvdGhlci5pc0lkZW50aXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICBjb25zdCBvbSA9IG90aGVyLl9tO1xuICAgICAgICByZXR1cm4gKG1bMF0gPT09IG9tWzBdICYmXG4gICAgICAgICAgICBtWzFdID09PSBvbVsxXSAmJlxuICAgICAgICAgICAgbVsyXSA9PT0gb21bMl0gJiZcbiAgICAgICAgICAgIG1bM10gPT09IG9tWzNdICYmXG4gICAgICAgICAgICBtWzRdID09PSBvbVs0XSAmJlxuICAgICAgICAgICAgbVs1XSA9PT0gb21bNV0gJiZcbiAgICAgICAgICAgIG1bNl0gPT09IG9tWzZdICYmXG4gICAgICAgICAgICBtWzddID09PSBvbVs3XSAmJlxuICAgICAgICAgICAgbVs4XSA9PT0gb21bOF0gJiZcbiAgICAgICAgICAgIG1bOV0gPT09IG9tWzldICYmXG4gICAgICAgICAgICBtWzEwXSA9PT0gb21bMTBdICYmXG4gICAgICAgICAgICBtWzExXSA9PT0gb21bMTFdICYmXG4gICAgICAgICAgICBtWzEyXSA9PT0gb21bMTJdICYmXG4gICAgICAgICAgICBtWzEzXSA9PT0gb21bMTNdICYmXG4gICAgICAgICAgICBtWzE0XSA9PT0gb21bMTRdICYmXG4gICAgICAgICAgICBtWzE1XSA9PT0gb21bMTVdKTtcbiAgICB9XG4gICAgTWF0cml4LmVxdWFscyA9IGVxdWFscztcbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggZnJvbSB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZShzZWxmKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBjb3B5KHNlbGYsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5jbG9uZSA9IGNsb25lO1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhc2ggY29kZSBvZiB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgaGFzaCBjb2RlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SGFzaENvZGUoc2VsZikge1xuICAgICAgICBsZXQgaGFzaCA9IHNlbGYuX21bMF0gfHwgMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHNlbGYuX21baV0gfHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuICAgIE1hdHJpeC5nZXRIYXNoQ29kZSA9IGdldEhhc2hDb2RlO1xuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgdGhlIGN1cnJlbnQgTWF0cml4IGludG8gYSB0cmFuc2xhdGlvbiwgcm90YXRpb24gYW5kIHNjYWxpbmcgY29tcG9uZW50c1xuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIHZlY3RvcjMgZ2l2ZW4gYXMgYSByZWZlcmVuY2UgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHJvdGF0aW9uIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gcXVhdGVybmlvbiBnaXZlbiBhcyBhIHJlZmVyZW5jZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IzIGdpdmVuIGFzIGEgcmVmZXJlbmNlIHRvIHVwZGF0ZVxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVjb21wb3NlKHNlbGYsIHNjYWxlLCByb3RhdGlvbiwgdHJhbnNsYXRpb24pIHtcbiAgICAgICAgaWYgKHNlbGYuaXNJZGVudGl0eSkge1xuICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24ueCA9IDA7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24ueSA9IDA7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24ueiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NhbGUpIHtcbiAgICAgICAgICAgICAgICBzY2FsZS54ID0gMTtcbiAgICAgICAgICAgICAgICBzY2FsZS55ID0gMTtcbiAgICAgICAgICAgICAgICBzY2FsZS56ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uLncgPSAxO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uLnggPSAwO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uLnkgPSAwO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uLnogPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbSA9IHNlbGYuX207XG4gICAgICAgIGlmICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgdHJhbnNsYXRpb24ueCA9IG1bMTJdO1xuICAgICAgICAgICAgdHJhbnNsYXRpb24ueSA9IG1bMTNdO1xuICAgICAgICAgICAgdHJhbnNsYXRpb24ueiA9IG1bMTRdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZWRTY2FsZSA9IHNjYWxlIHx8IFZlY3RvcjMuWmVybygpO1xuICAgICAgICB1c2VkU2NhbGUueCA9IE1hdGguc3FydChtWzBdICogbVswXSArIG1bMV0gKiBtWzFdICsgbVsyXSAqIG1bMl0pO1xuICAgICAgICB1c2VkU2NhbGUueSA9IE1hdGguc3FydChtWzRdICogbVs0XSArIG1bNV0gKiBtWzVdICsgbVs2XSAqIG1bNl0pO1xuICAgICAgICB1c2VkU2NhbGUueiA9IE1hdGguc3FydChtWzhdICogbVs4XSArIG1bOV0gKiBtWzldICsgbVsxMF0gKiBtWzEwXSk7XG4gICAgICAgIGlmIChkZXRlcm1pbmFudChzZWxmKSA8PSAwKSB7XG4gICAgICAgICAgICB1c2VkU2NhbGUueSAqPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlZFNjYWxlLnggPT09IDAgfHwgdXNlZFNjYWxlLnkgPT09IDAgfHwgdXNlZFNjYWxlLnogPT09IDApIHtcbiAgICAgICAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uLncgPSAxO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uLnggPSAwO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uLnkgPSAwO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uLnogPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgICAgIGNvbnN0IHN4ID0gMSAvIHVzZWRTY2FsZS54LCBzeSA9IDEgLyB1c2VkU2NhbGUueSwgc3ogPSAxIC8gdXNlZFNjYWxlLno7XG4gICAgICAgICAgICBjb25zdCB0bXBNYXRyaXggPSBjcmVhdGUoKTtcbiAgICAgICAgICAgIGZyb21WYWx1ZXNUb1JlZihtWzBdICogc3gsIG1bMV0gKiBzeCwgbVsyXSAqIHN4LCAwLjAsIG1bNF0gKiBzeSwgbVs1XSAqIHN5LCBtWzZdICogc3ksIDAuMCwgbVs4XSAqIHN6LCBtWzldICogc3osIG1bMTBdICogc3osIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCB0bXBNYXRyaXgpO1xuICAgICAgICAgICAgUXVhdGVybmlvbi5mcm9tUm90YXRpb25NYXRyaXhUb1JlZih0bXBNYXRyaXgsIHJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgTWF0cml4LmRlY29tcG9zZSA9IGRlY29tcG9zZTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHNwZWNpZmljIHJvdyBvZiB0aGUgbWF0cml4XG4gICAgICogQHBhcmFtIGluZGV4IC0gZGVmaW5lcyB0aGUgbnVtYmVyIG9mIHRoZSByb3cgdG8gZ2V0XG4gICAgICogQHJldHVybnMgdGhlIGluZGV4LXRoIHJvdyBvZiB0aGUgY3VycmVudCBtYXRyaXggYXMgYSBuZXcgVmVjdG9yNFxuICAgICAqL1xuICAgIC8vIFRPRE9cbiAgICAvLyBleHBvcnQgZnVuY3Rpb24gZ2V0Um93KGluZGV4OiBudW1iZXIpOiBOdWxsYWJsZTxWZWN0b3I0PiB7XG4gICAgLy8gICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gMykge1xuICAgIC8vICAgICByZXR1cm4gbnVsbFxuICAgIC8vICAgfVxuICAgIC8vICAgY29uc3QgaSA9IGluZGV4ICogNFxuICAgIC8vICAgcmV0dXJuIG5ldyBWZWN0b3I0KFxuICAgIC8vICAgICBzZWxmLl9tW2kgKyAwXSxcbiAgICAvLyAgICAgc2VsZi5fbVtpICsgMV0sXG4gICAgLy8gICAgIHNlbGYuX21baSArIDJdLFxuICAgIC8vICAgICBzZWxmLl9tW2kgKyAzXVxuICAgIC8vICAgKVxuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbmRleC10aCByb3cgb2YgdGhlIGN1cnJlbnQgbWF0cml4IHRvIHRoZSB2ZWN0b3I0IHZhbHVlc1xuICAgICAqIEBwYXJhbSBpbmRleCAtIGRlZmluZXMgdGhlIG51bWJlciBvZiB0aGUgcm93IHRvIHNldFxuICAgICAqIEBwYXJhbSByb3cgLSBkZWZpbmVzIHRoZSB0YXJnZXQgdmVjdG9yNFxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgLy8gVE9ET1xuICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBzZXRSb3coaW5kZXg6IG51bWJlciwgcm93OiBWZWN0b3I0KTogTXV0YWJsZU1hdHJpeCB7XG4gICAgLy8gICByZXR1cm4gc2V0Um93RnJvbUZsb2F0cyhpbmRleCwgcm93LngsIHJvdy55LCByb3cueiwgcm93LncpXG4gICAgLy8gfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGluZGV4LXRoIHJvdyBvZiB0aGUgY3VycmVudCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gNCB4IGZsb2F0IHZhbHVlc1xuICAgICAqIEBwYXJhbSBpbmRleCAtIGRlZmluZXMgdGhlIHJvdyBpbmRleFxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb21wb25lbnQgdG8gc2V0XG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvbXBvbmVudCB0byBzZXRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29tcG9uZW50IHRvIHNldFxuICAgICAqIEBwYXJhbSB3IC0gZGVmaW5lcyB0aGUgdyBjb21wb25lbnQgdG8gc2V0XG4gICAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRSb3dGcm9tRmxvYXRzKHNlbGYsIGluZGV4LCB4LCB5LCB6LCB3KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiAzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaSA9IGluZGV4ICogNDtcbiAgICAgICAgc2VsZi5fbVtpICsgMF0gPSB4O1xuICAgICAgICBzZWxmLl9tW2kgKyAxXSA9IHk7XG4gICAgICAgIHNlbGYuX21baSArIDJdID0gejtcbiAgICAgICAgc2VsZi5fbVtpICsgM10gPSB3O1xuICAgICAgICBfbWFya0FzVXBkYXRlZChzZWxmKTtcbiAgICB9XG4gICAgTWF0cml4LnNldFJvd0Zyb21GbG9hdHMgPSBzZXRSb3dGcm9tRmxvYXRzO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgYSBuZXcgbWF0cml4IHNldCB3aXRoIHRoZSBjdXJyZW50IG1hdHJpeCB2YWx1ZXMgbXVsdGlwbGllZCBieSBzY2FsZSAoZmxvYXQpXG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2NhbGUoc2VsZiwgc2NhbGUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHNjYWxlVG9SZWYoc2VsZiwgc2NhbGUsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5zY2FsZSA9IHNjYWxlO1xuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBjdXJyZW50IG1hdHJpeCB2YWx1ZXMgYnkgYSBmYWN0b3IgdG8gYSBnaXZlbiByZXN1bHQgbWF0cml4XG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIG1hdHJpeCB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2NhbGVUb1JlZihzZWxmLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgcmVzdWx0Ll9tW2luZGV4XSA9IHNlbGYuX21baW5kZXhdICogc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LnNjYWxlVG9SZWYgPSBzY2FsZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBjdXJyZW50IG1hdHJpeCB2YWx1ZXMgYnkgYSBmYWN0b3IgYW5kIGFkZCB0aGUgcmVzdWx0IHRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIE1hdHJpeCB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2NhbGVBbmRBZGRUb1JlZihzZWxmLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgcmVzdWx0Ll9tW2luZGV4XSArPSBzZWxmLl9tW2luZGV4XSAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5zY2FsZUFuZEFkZFRvUmVmID0gc2NhbGVBbmRBZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBXcml0ZXMgdG8gdGhlIGdpdmVuIG1hdHJpeCBhIG5vcm1hbCBtYXRyaXgsIGNvbXB1dGVkIGZyb20gc2VsZiBvbmUgKHVzaW5nIHZhbHVlcyBmcm9tIGlkZW50aXR5IG1hdHJpeCBmb3IgZm91cnRoIHJvdyBhbmQgY29sdW1uKS5cbiAgICAgKiBAcGFyYW0gcmVmIC0gbWF0cml4IHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxNYXRyaXhUb1JlZihzZWxmLCByZWYpIHtcbiAgICAgICAgY29uc3QgdG1wID0gY3JlYXRlKCk7XG4gICAgICAgIGludmVydFRvUmVmKHNlbGYsIHRtcCk7XG4gICAgICAgIHRyYW5zcG9zZVRvUmVmKHRtcCwgcmVmKTtcbiAgICAgICAgY29uc3QgbSA9IHJlZi5fbTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKG1bMF0sIG1bMV0sIG1bMl0sIDAuMCwgbVs0XSwgbVs1XSwgbVs2XSwgMC4wLCBtWzhdLCBtWzldLCBtWzEwXSwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlZik7XG4gICAgfVxuICAgIE1hdHJpeC5ub3JtYWxNYXRyaXhUb1JlZiA9IG5vcm1hbE1hdHJpeFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEdldHMgb25seSByb3RhdGlvbiBwYXJ0IG9mIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBzZXRzIHRvIHRoZSBleHRyYWN0ZWQgcm90YXRpb24gbWF0cml4IGZyb20gdGhlIGN1cnJlbnQgb25lXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0Um90YXRpb25NYXRyaXgoc2VsZikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgZ2V0Um90YXRpb25NYXRyaXhUb1JlZihzZWxmLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguZ2V0Um90YXRpb25NYXRyaXggPSBnZXRSb3RhdGlvbk1hdHJpeDtcbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgcm90YXRpb24gbWF0cml4IGZyb20gdGhlIGN1cnJlbnQgb25lIGFuZCBzZXRzIGl0IGFzIHRoZSBnaXZlbiBcInJlc3VsdFwiXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXggdG8gc3RvcmUgZGF0YSB0b1xuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJvdGF0aW9uTWF0cml4VG9SZWYoc2VsZiwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGlmICghZGVjb21wb3NlKHNlbGYsIHNjYWxlKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gSWRlbnRpdHkoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtID0gc2VsZi5fbTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3Qgc3ggPSAxIC8gc2NhbGUueCwgc3kgPSAxIC8gc2NhbGUueSwgc3ogPSAxIC8gc2NhbGUuejtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKG1bMF0gKiBzeCwgbVsxXSAqIHN4LCBtWzJdICogc3gsIDAuMCwgbVs0XSAqIHN5LCBtWzVdICogc3ksIG1bNl0gKiBzeSwgMC4wLCBtWzhdICogc3osIG1bOV0gKiBzeiwgbVsxMF0gKiBzeiwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmID0gZ2V0Um90YXRpb25NYXRyaXhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIG1vZGVsIG1hdHJpeCBmcm9tIGJlaW5nIHJpZ2h0IGhhbmRlZCB0byBsZWZ0IGhhbmRlZCBpbiBwbGFjZSBhbmQgdmljZSB2ZXJzYVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvZ2dsZU1vZGVsTWF0cml4SGFuZEluUGxhY2Uoc2VsZikge1xuICAgICAgICBzZWxmLl9tWzJdICo9IC0xO1xuICAgICAgICBzZWxmLl9tWzZdICo9IC0xO1xuICAgICAgICBzZWxmLl9tWzhdICo9IC0xO1xuICAgICAgICBzZWxmLl9tWzldICo9IC0xO1xuICAgICAgICBzZWxmLl9tWzE0XSAqPSAtMTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC50b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlID0gdG9nZ2xlTW9kZWxNYXRyaXhIYW5kSW5QbGFjZTtcbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIHByb2plY3Rpb24gbWF0cml4IGZyb20gYmVpbmcgcmlnaHQgaGFuZGVkIHRvIGxlZnQgaGFuZGVkIGluIHBsYWNlIGFuZCB2aWNlIHZlcnNhXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9nZ2xlUHJvamVjdGlvbk1hdHJpeEhhbmRJblBsYWNlKHNlbGYpIHtcbiAgICAgICAgc2VsZi5fbVs4XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVs5XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVsxMF0gKj0gLTE7XG4gICAgICAgIHNlbGYuX21bMTFdICo9IC0xO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChzZWxmKTtcbiAgICB9XG4gICAgTWF0cml4LnRvZ2dsZVByb2plY3Rpb25NYXRyaXhIYW5kSW5QbGFjZSA9IHRvZ2dsZVByb2plY3Rpb25NYXRyaXhIYW5kSW5QbGFjZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgZnVuY3Rpb24gX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHNlbGYsIGlzSWRlbnRpdHksIGlzSWRlbnRpdHlEaXJ0eSA9IGZhbHNlLCBpc0lkZW50aXR5M3gyID0gZmFsc2UsIGlzSWRlbnRpdHkzeDJEaXJ0eSA9IHRydWUpIHtcbiAgICAgICAgc2VsZi51cGRhdGVGbGFnID0gX3VwZGF0ZUZsYWdTZWVkKys7XG4gICAgICAgIHNlbGYuaXNJZGVudGl0eSA9IGlzSWRlbnRpdHk7XG4gICAgICAgIHNlbGYuaXNJZGVudGl0eTN4MiA9IGlzSWRlbnRpdHkgfHwgaXNJZGVudGl0eTN4MjtcbiAgICAgICAgc2VsZi5faXNJZGVudGl0eURpcnR5ID0gc2VsZi5pc0lkZW50aXR5ID8gZmFsc2UgOiBpc0lkZW50aXR5RGlydHk7XG4gICAgICAgIHNlbGYuX2lzSWRlbnRpdHkzeDJEaXJ0eSA9IHNlbGYuaXNJZGVudGl0eTN4MiA/IGZhbHNlIDogaXNJZGVudGl0eTN4MkRpcnR5O1xuICAgIH1cbn0pKE1hdHJpeCB8fCAoTWF0cml4ID0ge30pKTtcbiIsICJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzJztcbmltcG9ydCB7IFNjYWxhciB9IGZyb20gJy4vU2NhbGFyJztcbmltcG9ydCB7IERFRzJSQUQsIFJBRDJERUcgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4vTWF0cml4Jztcbi8qKlxuICogQHB1YmxpY1xuICogUXVhdGVybmlvbiBpcyBhIHR5cGUgYW5kIGEgbmFtZXNwYWNlLlxuICogYGBgXG4gKiAvLyBUaGUgbmFtZXNwYWNlIGNvbnRhaW5zIGFsbCB0eXBlcyBhbmQgZnVuY3Rpb25zIHRvIG9wZXJhdGVzIHdpdGggUXVhdGVybmlvblxuICogY29uc3QgbmV4dCA9IFF1YXRlcm5pb24uYWRkKHBvaW50QSwgdmVsb2NpdHlBKVxuICogLy8gVGhlIHR5cGUgUXVhdGVybmlvbiBpcyBhbiBhbGlhcyB0byBRdWF0ZXJuaW9uLlJlYWRvbmx5UXVhdGVybmlvblxuICogY29uc3QgcmVhZG9ubHlSb3RhdGlvbjogUXVhdGVybmlvbiA9IFF1YXRlcm5pb24uWmVybygpXG4gKiByZWFkb25seVJvdGF0aW9uLnggPSAwLjEgLy8gdGhpcyBGQUlMU1xuICpcbiAqIC8vIEZvciBtdXRhYmxlIHVzYWdlLCB1c2UgYFF1YXRlcm5pb24uTXV0YWJsZWBcbiAqIGNvbnN0IHJvdGF0aW9uOiBRdWF0ZXJuaW9uLk11dGFibGUgPSBRdWF0ZXJuaW9uLklkZW50aXR5KClcbiAqIHJvdGF0aW9uLnggPSAzLjAgLy8gdGhpcyBXT1JLU1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgUXVhdGVybmlvbjtcbihmdW5jdGlvbiAoUXVhdGVybmlvbikge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgUXVhdGVybmlvbiBmcm9tIHRoZSBnaXZlbiBmbG9hdHNcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIGZpcnN0IGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KVxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgc2Vjb25kIGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KVxuICAgICAqIEBwYXJhbSB6IC0gZGVmaW5lcyB0aGUgdGhpcmQgY29tcG9uZW50ICgwIGJ5IGRlZmF1bHQpXG4gICAgICogQHBhcmFtIHcgLSBkZWZpbmVzIHRoZSBmb3VydGggY29tcG9uZW50ICgxLjAgYnkgZGVmYXVsdClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUoXG4gICAgLyoqIGRlZmluZXMgdGhlIGZpcnN0IGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KSAqL1xuICAgIHggPSAwLjAsIFxuICAgIC8qKiBkZWZpbmVzIHRoZSBzZWNvbmQgY29tcG9uZW50ICgwIGJ5IGRlZmF1bHQpICovXG4gICAgeSA9IDAuMCwgXG4gICAgLyoqIGRlZmluZXMgdGhlIHRoaXJkIGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KSAqL1xuICAgIHogPSAwLjAsIFxuICAgIC8qKiBkZWZpbmVzIHRoZSBmb3VydGggY29tcG9uZW50ICgxLjAgYnkgZGVmYXVsdCkgKi9cbiAgICB3ID0gMS4wKSB7XG4gICAgICAgIHJldHVybiB7IHgsIHksIHosIHcgfTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBRdWF0ZXJuaW9uIGFzIHRoZSByZXN1bHQgb2YgdGhlIGFkZGl0aW9uIG9mIHRoZSB0d28gZ2l2ZW4gcXVhdGVybmlvbnMuXG4gICAgICogQHBhcmFtIHExIC0gdGhlIGZpcnN0IHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gcTIgLSB0aGUgc2Vjb25kIHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgcmVzdWx0aW5nIHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQocTEsIHEyKSB7XG4gICAgICAgIHJldHVybiB7IHg6IHExLnggKyBxMi54LCB5OiBxMS55ICsgcTIueSwgejogcTEueiArIHEyLnosIHc6IHExLncgKyBxMi53IH07XG4gICAgfVxuICAgIFF1YXRlcm5pb24uYWRkID0gYWRkO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gZnJvbSB0aGUgZ2l2ZW4gRXVsZXIgZmxvYXQgYW5nbGVzICh5LCB4LCB6KSBhbmQgc3RvcmVzIGl0IGluIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSB5YXcgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWSBheGlzIChyYWRpYW5zKVxuICAgICAqIEBwYXJhbSBwaXRjaCAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIGFyb3VuZCBYIGF4aXMgKHJhZGlhbnMpXG4gICAgICogQHBhcmFtIHJvbGwgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWiBheGlzIChyYWRpYW5zKVxuICAgICAqIEByZXR1cm5zIHJlc3VsdCBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsKHlhdywgcGl0Y2gsIHJvbGwpIHtcbiAgICAgICAgLy8gSW1wbGVtZW50ZWQgdW5pdHktYmFzZWQgY2FsY3VsYXRpb25zIGZyb206IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NjA1NTgxM1xuICAgICAgICBjb25zdCBoYWxmUGl0Y2ggPSBwaXRjaCAqIDAuNTtcbiAgICAgICAgY29uc3QgaGFsZllhdyA9IHlhdyAqIDAuNTtcbiAgICAgICAgY29uc3QgaGFsZlJvbGwgPSByb2xsICogMC41O1xuICAgICAgICBjb25zdCBjMSA9IE1hdGguY29zKGhhbGZQaXRjaCk7XG4gICAgICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoaGFsZllhdyk7XG4gICAgICAgIGNvbnN0IGMzID0gTWF0aC5jb3MoaGFsZlJvbGwpO1xuICAgICAgICBjb25zdCBzMSA9IE1hdGguc2luKGhhbGZQaXRjaCk7XG4gICAgICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oaGFsZllhdyk7XG4gICAgICAgIGNvbnN0IHMzID0gTWF0aC5zaW4oaGFsZlJvbGwpO1xuICAgICAgICByZXR1cm4gY3JlYXRlKGMyICogczEgKiBjMyArIHMyICogYzEgKiBzMywgczIgKiBjMSAqIGMzIC0gYzIgKiBzMSAqIHMzLCBjMiAqIGMxICogczMgLSBzMiAqIHMxICogYzMsIGMyICogYzEgKiBjMyArIHMyICogczEgKiBzMyk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsID0gZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByb3RhdGlvbiB0aGF0IHJvdGF0ZXMgeiBkZWdyZWVzIGFyb3VuZCB0aGUgeiBheGlzLCB4IGRlZ3JlZXMgYXJvdW5kIHRoZSB4IGF4aXMsIGFuZCB5IGRlZ3JlZXMgYXJvdW5kIHRoZSB5IGF4aXMuXG4gICAgICogQHBhcmFtIHggLSB0aGUgcm90YXRpb24gb24gdGhlIHggYXhpcyBpbiBldWxlciBkZWdyZWVzXG4gICAgICogQHBhcmFtIHkgLSB0aGUgcm90YXRpb24gb24gdGhlIHkgYXhpcyBpbiBldWxlciBkZWdyZWVzXG4gICAgICogQHBhcmFtIHogLSB0aGUgcm90YXRpb24gb24gdGhlIHogYXhpcyBpbiBldWxlciBkZWdyZWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUV1bGVyRGVncmVlcyh4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiBmcm9tUm90YXRpb25ZYXdQaXRjaFJvbGwoeSAqIERFRzJSQUQsIHggKiBERUcyUkFELCB6ICogREVHMlJBRCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcyA9IGZyb21FdWxlckRlZ3JlZXM7XG4gICAgLyoqXG4gICAgICogR2V0cyBsZW5ndGggb2YgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAgICogQHJldHVybnMgdGhlIHF1YXRlcm5pb24gbGVuZ3RoIChmbG9hdClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZW5ndGgocSkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGxlbmd0aFNxdWFyZWQocSkpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAvKipcbiAgICAgKiBHZXRzIGxlbmd0aCBvZiBjdXJyZW50IHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgcXVhdGVybmlvbiBsZW5ndGggKGZsb2F0KVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlbmd0aFNxdWFyZWQocSkge1xuICAgICAgICByZXR1cm4gcS54ICogcS54ICsgcS55ICogcS55ICsgcS56ICogcS56ICsgcS53ICogcS53O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmxlbmd0aFNxdWFyZWQgPSBsZW5ndGhTcXVhcmVkO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRvdCBwcm9kdWN0IChmbG9hdCkgYmV0d2VlbiB0aGUgcXVhdGVybmlvbnMgXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgbGVmdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgcmlnaHQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBkb3QgcHJvZHVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRvdChsZWZ0LCByaWdodCkge1xuICAgICAgICByZXR1cm4gKGxlZnQueCAqIHJpZ2h0LnggKyBsZWZ0LnkgKiByaWdodC55ICsgbGVmdC56ICogcmlnaHQueiArIGxlZnQudyAqIHJpZ2h0LncpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmRvdCA9IGRvdDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBpbiBkZWdyZWVzIGJldHdlZW4gdHdvIHJvdGF0aW9ucyBhIGFuZCBiLlxuICAgICAqIEBwYXJhbSBxdWF0MSAtIGRlZmluZXMgdGhlIGZpcnN0IHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gcXVhdDIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgcXVhdGVybmlvblxuICAgICAqIEByZXR1cm5zIHRoZSBkZWdyZWVzIGFuZ2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYW5nbGUocXVhdDEsIHF1YXQyKSB7XG4gICAgICAgIGNvbnN0IGRvdFZhbCA9IGRvdChxdWF0MSwgcXVhdDIpO1xuICAgICAgICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGguYWJzKGRvdFZhbCksIDEpKSAqIDIgKiBSQUQyREVHO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmFuZ2xlID0gYW5nbGU7XG4gICAgLyoqXG4gICAgICogVGhlIGZyb20gcXVhdGVybmlvbiBpcyByb3RhdGVkIHRvd2FyZHMgdG8gYnkgYW4gYW5ndWxhciBzdGVwIG9mIG1heERlZ3JlZXNEZWx0YS5cbiAgICAgKiBAcGFyYW0gZnJvbSAtIGRlZmluZXMgdGhlIGZpcnN0IHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gdG8gLSBkZWZpbmVzIHRoZSBzZWNvbmQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSBtYXhEZWdyZWVzRGVsdGEgLSB0aGUgaW50ZXJ2YWwgc3RlcFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0ZVRvd2FyZHMoZnJvbSwgdG8sIG1heERlZ3JlZXNEZWx0YSkge1xuICAgICAgICBjb25zdCBudW0gPSBhbmdsZShmcm9tLCB0byk7XG4gICAgICAgIGlmIChudW0gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ID0gTWF0aC5taW4oMSwgbWF4RGVncmVlc0RlbHRhIC8gbnVtKTtcbiAgICAgICAgcmV0dXJuIHNsZXJwKGZyb20sIHRvLCB0KTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5yb3RhdGVUb3dhcmRzID0gcm90YXRlVG93YXJkcztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gd2l0aCB0aGUgc3BlY2lmaWVkIGZvcndhcmQgYW5kIHVwd2FyZHMgZGlyZWN0aW9ucy5cbiAgICAgKiBAcGFyYW0gZm9yd2FyZCAtIHRoZSBkaXJlY3Rpb24gdG8gbG9vayBpblxuICAgICAqIEBwYXJhbSB1cCAtIHRoZSB2ZWN0b3IgdGhhdCBkZWZpbmVzIGluIHdoaWNoIGRpcmVjdGlvbiB1cCBpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvb2tSb3RhdGlvbihmb3J3YXJkLCB1cCA9IHsgeDogMC4wLCB5OiAxLjAsIHo6IDAuMCB9KSB7XG4gICAgICAgIGNvbnN0IGZvcndhcmROZXcgPSBWZWN0b3IzLm5vcm1hbGl6ZShmb3J3YXJkKTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSBWZWN0b3IzLm5vcm1hbGl6ZShWZWN0b3IzLmNyb3NzKHVwLCBmb3J3YXJkTmV3KSk7XG4gICAgICAgIGNvbnN0IHVwTmV3ID0gVmVjdG9yMy5jcm9zcyhmb3J3YXJkTmV3LCByaWdodCk7XG4gICAgICAgIGNvbnN0IG0wMCA9IHJpZ2h0Lng7XG4gICAgICAgIGNvbnN0IG0wMSA9IHJpZ2h0Lnk7XG4gICAgICAgIGNvbnN0IG0wMiA9IHJpZ2h0Lno7XG4gICAgICAgIGNvbnN0IG0xMCA9IHVwTmV3Lng7XG4gICAgICAgIGNvbnN0IG0xMSA9IHVwTmV3Lnk7XG4gICAgICAgIGNvbnN0IG0xMiA9IHVwTmV3Lno7XG4gICAgICAgIGNvbnN0IG0yMCA9IGZvcndhcmROZXcueDtcbiAgICAgICAgY29uc3QgbTIxID0gZm9yd2FyZE5ldy55O1xuICAgICAgICBjb25zdCBtMjIgPSBmb3J3YXJkTmV3Lno7XG4gICAgICAgIGNvbnN0IG51bTggPSBtMDAgKyBtMTEgKyBtMjI7XG4gICAgICAgIGNvbnN0IHF1YXRlcm5pb24gPSBjcmVhdGUoKTtcbiAgICAgICAgaWYgKG51bTggPiAwKSB7XG4gICAgICAgICAgICBsZXQgbnVtID0gTWF0aC5zcXJ0KG51bTggKyAxKTtcbiAgICAgICAgICAgIHF1YXRlcm5pb24udyA9IG51bSAqIDAuNTtcbiAgICAgICAgICAgIG51bSA9IDAuNSAvIG51bTtcbiAgICAgICAgICAgIHF1YXRlcm5pb24ueCA9IChtMTIgLSBtMjEpICogbnVtO1xuICAgICAgICAgICAgcXVhdGVybmlvbi55ID0gKG0yMCAtIG0wMikgKiBudW07XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnogPSAobTAxIC0gbTEwKSAqIG51bTtcbiAgICAgICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtMDAgPj0gbTExICYmIG0wMCA+PSBtMjIpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bTcgPSBNYXRoLnNxcnQoMSArIG0wMCAtIG0xMSAtIG0yMik7XG4gICAgICAgICAgICBjb25zdCBudW00ID0gMC41IC8gbnVtNztcbiAgICAgICAgICAgIHF1YXRlcm5pb24ueCA9IDAuNSAqIG51bTc7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnkgPSAobTAxICsgbTEwKSAqIG51bTQ7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnogPSAobTAyICsgbTIwKSAqIG51bTQ7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLncgPSAobTEyIC0gbTIxKSAqIG51bTQ7XG4gICAgICAgICAgICByZXR1cm4gcXVhdGVybmlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobTExID4gbTIyKSB7XG4gICAgICAgICAgICBjb25zdCBudW02ID0gTWF0aC5zcXJ0KDEgKyBtMTEgLSBtMDAgLSBtMjIpO1xuICAgICAgICAgICAgY29uc3QgbnVtMyA9IDAuNSAvIG51bTY7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnggPSAobTEwICsgbTAxKSAqIG51bTM7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnkgPSAwLjUgKiBudW02O1xuICAgICAgICAgICAgcXVhdGVybmlvbi56ID0gKG0yMSArIG0xMikgKiBudW0zO1xuICAgICAgICAgICAgcXVhdGVybmlvbi53ID0gKG0yMCAtIG0wMikgKiBudW0zO1xuICAgICAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbnVtNSA9IE1hdGguc3FydCgxICsgbTIyIC0gbTAwIC0gbTExKTtcbiAgICAgICAgY29uc3QgbnVtMiA9IDAuNSAvIG51bTU7XG4gICAgICAgIHF1YXRlcm5pb24ueCA9IChtMjAgKyBtMDIpICogbnVtMjtcbiAgICAgICAgcXVhdGVybmlvbi55ID0gKG0yMSArIG0xMikgKiBudW0yO1xuICAgICAgICBxdWF0ZXJuaW9uLnogPSAwLjUgKiBudW01O1xuICAgICAgICBxdWF0ZXJuaW9uLncgPSAobTAxIC0gbTEwKSAqIG51bTI7XG4gICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmxvb2tSb3RhdGlvbiA9IGxvb2tSb3RhdGlvbjtcbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgaW4gcGxhY2UgdGhlIGN1cnJlbnQgcXVhdGVybmlvblxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZShxKSB7XG4gICAgICAgIGNvbnN0IHFMZW5ndGggPSAxLjAgLyBsZW5ndGgocSk7XG4gICAgICAgIHJldHVybiBjcmVhdGUocS54ICogcUxlbmd0aCwgcS55ICogcUxlbmd0aCwgcS56ICogcUxlbmd0aCwgcS53ICogcUxlbmd0aCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24ubm9ybWFsaXplID0gbm9ybWFsaXplO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByb3RhdGlvbiB3aGljaCByb3RhdGVzIGZyb20gZnJvbURpcmVjdGlvbiB0byB0b0RpcmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gZnJvbSAtIGRlZmluZXMgdGhlIGZpcnN0IGRpcmVjdGlvbiBWZWN0b3JcbiAgICAgKiBAcGFyYW0gdG8gLSBkZWZpbmVzIHRoZSB0YXJnZXQgZGlyZWN0aW9uIFZlY3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21Ub1JvdGF0aW9uKGZyb20sIHRvLCB1cCA9IFZlY3RvcjMuVXAoKSkge1xuICAgICAgICAvLyBVbml0eS1iYXNlZCBjYWxjdWxhdGlvbnMgaW1wbGVtZW50ZWQgZnJvbSBodHRwczovL2ZvcnVtLnVuaXR5LmNvbS90aHJlYWRzL3F1YXRlcm5pb24tbG9va3JvdGF0aW9uLWFyb3VuZC1hbi1heGlzLjYwODQ3MC8jcG9zdC00MDY5ODg4XG4gICAgICAgIGNvbnN0IHYwID0gVmVjdG9yMy5ub3JtYWxpemUoZnJvbSk7XG4gICAgICAgIGNvbnN0IHYxID0gVmVjdG9yMy5ub3JtYWxpemUodG8pO1xuICAgICAgICBjb25zdCBhID0gVmVjdG9yMy5jcm9zcyh2MCwgdjEpO1xuICAgICAgICBjb25zdCB3ID0gTWF0aC5zcXJ0KFZlY3RvcjMubGVuZ3RoU3F1YXJlZCh2MCkgKiBWZWN0b3IzLmxlbmd0aFNxdWFyZWQodjEpKSArXG4gICAgICAgICAgICBWZWN0b3IzLmRvdCh2MCwgdjEpO1xuICAgICAgICBpZiAoVmVjdG9yMy5sZW5ndGhTcXVhcmVkKGEpIDwgMC4wMDAxKSB7XG4gICAgICAgICAgICAvLyB0aGUgdmVjdG9ycyBhcmUgcGFyYWxsZWwsIGNoZWNrIHcgdG8gZmluZCBkaXJlY3Rpb25cbiAgICAgICAgICAgIC8vIGlmIHcgaXMgMCB0aGVuIHZhbHVlcyBhcmUgb3Bwb3NpdGUsIGFuZCB3ZSBzb3VsZCByb3RhdGUgMTgwIGRlZ3JlZXMgYXJvdW5kIHRoZSBzdXBwbGllZCBheGlzXG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgdGhlIHZlY3RvcnMgaW4gdGhlIHNhbWUgZGlyZWN0aW9uIGFuZCBubyByb3RhdGlvbiBzaG91bGQgb2NjdXJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh3KSA8IDAuMDAwMVxuICAgICAgICAgICAgICAgID8gbm9ybWFsaXplKGNyZWF0ZSh1cC54LCB1cC55LCB1cC56LCAwKSlcbiAgICAgICAgICAgICAgICA6IElkZW50aXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbm9ybWFsaXplKGNyZWF0ZShhLngsIGEueSwgYS56LCB3KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUXVhdGVybmlvbi5mcm9tVG9Sb3RhdGlvbiA9IGZyb21Ub1JvdGF0aW9uO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaWRlbnRpdHkgcXVhdGVybmlvblxuICAgICAqIEByZXR1cm5zIC0gdGhlIGlkZW50aXR5IHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJZGVudGl0eSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAxLjApO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLklkZW50aXR5ID0gSWRlbnRpdHk7XG4gICAgLyoqXG4gICAgICogR2V0cyBvciBzZXRzIHRoZSBldWxlciBhbmdsZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcm90YXRpb24uXG4gICAgICogSW1wbGVtZW50ZWQgdW5pdHktYmFzZWQgY2FsY3VsYXRpb25zIGZyb206IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NjA1NTgxM1xuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzIHdpdGggZXVsZXIgYW5nbGVzIGRlZ3JlZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0V1bGVyQW5nbGVzKHEpIHtcbiAgICAgICAgY29uc3Qgb3V0ID0gVmVjdG9yMy5jcmVhdGUoKTtcbiAgICAgICAgLy8gaWYgdGhlIGlucHV0IHF1YXRlcm5pb24gaXMgbm9ybWFsaXplZCwgdGhpcyBpcyBleGFjdGx5IG9uZS4gT3RoZXJ3aXNlLCB0aGlzIGFjdHMgYXMgYSBjb3JyZWN0aW9uIGZhY3RvciBmb3IgdGhlIHF1YXRlcm5pb24ncyBub3Qtbm9ybWFsaXplZG5lc3NcbiAgICAgICAgY29uc3QgdW5pdCA9IHEueCAqIHEueCArIHEueSAqIHEueSArIHEueiAqIHEueiArIHEudyAqIHEudztcbiAgICAgICAgLy8gcSB3aWxsIGhhdmUgYSBtYWduaXR1ZGUgb2YgMC41IG9yIGdyZWF0ZXIgaWYgYW5kIG9ubHkgaWYgcSBpcyBhIHNpbmd1bGFyaXR5IGNhc2VcbiAgICAgICAgY29uc3QgdGVzdCA9IHEueCAqIHEudyAtIHEueSAqIHEuejtcbiAgICAgICAgaWYgKHRlc3QgPiAwLjQ5OTUgKiB1bml0KSB7XG4gICAgICAgICAgICAvLyBzaW5ndWxhcml0eSBhdCBub3J0aCBwb2xlXG4gICAgICAgICAgICBvdXQueCA9IE1hdGguUEkgLyAyO1xuICAgICAgICAgICAgb3V0LnkgPSAyICogTWF0aC5hdGFuMihxLnksIHEueCk7XG4gICAgICAgICAgICBvdXQueiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGVzdCA8IC0wLjQ5OTUgKiB1bml0KSB7XG4gICAgICAgICAgICAvLyBzaW5ndWxhcml0eSBhdCBzb3V0aCBwb2xlXG4gICAgICAgICAgICBvdXQueCA9IC1NYXRoLlBJIC8gMjtcbiAgICAgICAgICAgIG91dC55ID0gLTIgKiBNYXRoLmF0YW4yKHEueSwgcS54KTtcbiAgICAgICAgICAgIG91dC56ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIHNpbmd1bGFyaXR5IC0gcSBpcyB0aGUgbWFqb3JpdHkgb2YgY2FzZXNcbiAgICAgICAgICAgIG91dC54ID0gTWF0aC5hc2luKDIgKiAocS53ICogcS54IC0gcS55ICogcS56KSk7XG4gICAgICAgICAgICBvdXQueSA9IE1hdGguYXRhbjIoMiAqIHEudyAqIHEueSArIDIgKiBxLnogKiBxLngsIDEgLSAyICogKHEueCAqIHEueCArIHEueSAqIHEueSkpO1xuICAgICAgICAgICAgb3V0LnogPSBNYXRoLmF0YW4yKDIgKiBxLncgKiBxLnogKyAyICogcS54ICogcS55LCAxIC0gMiAqIChxLnogKiBxLnogKyBxLnggKiBxLngpKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQueCAqPSBSQUQyREVHO1xuICAgICAgICBvdXQueSAqPSBSQUQyREVHO1xuICAgICAgICBvdXQueiAqPSBSQUQyREVHO1xuICAgICAgICAvLyBlbnN1cmUgdGhlIGRlZ3JlZSB2YWx1ZXMgYXJlIGJldHdlZW4gMCBhbmQgMzYwXG4gICAgICAgIG91dC54ID0gU2NhbGFyLnJlcGVhdChvdXQueCwgMzYwKTtcbiAgICAgICAgb3V0LnkgPSBTY2FsYXIucmVwZWF0KG91dC55LCAzNjApO1xuICAgICAgICBvdXQueiA9IFNjYWxhci5yZXBlYXQob3V0LnosIDM2MCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIFF1YXRlcm5pb24udG9FdWxlckFuZ2xlcyA9IHRvRXVsZXJBbmdsZXM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBmcm9tIHRoZSBnaXZlbiBFdWxlciBmbG9hdCBhbmdsZXMgKHksIHgsIHopIGFuZCBzdG9yZXMgaXQgaW4gdGhlIHRhcmdldCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHlhdyAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIGFyb3VuZCBZIGF4aXMgKHJhZGlhbnMpXG4gICAgICogQHBhcmFtIHBpdGNoIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gYXJvdW5kIFggYXhpcyAocmFkaWFucylcbiAgICAgKiBAcGFyYW0gcm9sbCAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIGFyb3VuZCBaIGF4aXMgKHJhZGlhbnMpXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoeWF3LCBwaXRjaCwgcm9sbCwgcmVzdWx0KSB7XG4gICAgICAgIC8vIEltcGxlbWVudGVkIHVuaXR5LWJhc2VkIGNhbGN1bGF0aW9ucyBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYwNTU4MTNcbiAgICAgICAgY29uc3QgaGFsZlBpdGNoID0gcGl0Y2ggKiAwLjU7XG4gICAgICAgIGNvbnN0IGhhbGZZYXcgPSB5YXcgKiAwLjU7XG4gICAgICAgIGNvbnN0IGhhbGZSb2xsID0gcm9sbCAqIDAuNTtcbiAgICAgICAgY29uc3QgYzEgPSBNYXRoLmNvcyhoYWxmUGl0Y2gpO1xuICAgICAgICBjb25zdCBjMiA9IE1hdGguY29zKGhhbGZZYXcpO1xuICAgICAgICBjb25zdCBjMyA9IE1hdGguY29zKGhhbGZSb2xsKTtcbiAgICAgICAgY29uc3QgczEgPSBNYXRoLnNpbihoYWxmUGl0Y2gpO1xuICAgICAgICBjb25zdCBzMiA9IE1hdGguc2luKGhhbGZZYXcpO1xuICAgICAgICBjb25zdCBzMyA9IE1hdGguc2luKGhhbGZSb2xsKTtcbiAgICAgICAgcmVzdWx0LnggPSBjMiAqIHMxICogYzMgKyBzMiAqIGMxICogczM7XG4gICAgICAgIHJlc3VsdC55ID0gczIgKiBjMSAqIGMzIC0gYzIgKiBzMSAqIHMzO1xuICAgICAgICByZXN1bHQueiA9IGMyICogYzEgKiBzMyAtIHMyICogczEgKiBjMztcbiAgICAgICAgcmVzdWx0LncgPSBjMiAqIGMxICogYzMgKyBzMiAqIHMxICogczM7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYgPSBmcm9tUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZjtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBnaXZlbiBxdWF0ZXJuaW9uIHdpdGggdGhlIGdpdmVuIHJvdGF0aW9uIG1hdHJpeCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gZGVmaW5lcyB0aGUgc291cmNlIG1hdHJpeFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKG1hdHJpeCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBtYXRyaXguX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgbTExID0gZGF0YVswXSwgbTEyID0gZGF0YVs0XSwgbTEzID0gZGF0YVs4XTtcbiAgICAgICAgY29uc3QgbTIxID0gZGF0YVsxXSwgbTIyID0gZGF0YVs1XSwgbTIzID0gZGF0YVs5XTtcbiAgICAgICAgY29uc3QgbTMxID0gZGF0YVsyXSwgbTMyID0gZGF0YVs2XSwgbTMzID0gZGF0YVsxMF07XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCB0cmFjZSA9IG0xMSArIG0yMiArIG0zMztcbiAgICAgICAgbGV0IHM7XG4gICAgICAgIGlmICh0cmFjZSA+IDApIHtcbiAgICAgICAgICAgIHMgPSAwLjUgLyBNYXRoLnNxcnQodHJhY2UgKyAxLjApO1xuICAgICAgICAgICAgcmVzdWx0LncgPSAwLjI1IC8gcztcbiAgICAgICAgICAgIHJlc3VsdC54ID0gKG0zMiAtIG0yMykgKiBzO1xuICAgICAgICAgICAgcmVzdWx0LnkgPSAobTEzIC0gbTMxKSAqIHM7XG4gICAgICAgICAgICByZXN1bHQueiA9IChtMjEgLSBtMTIpICogcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtMTEgPiBtMjIgJiYgbTExID4gbTMzKSB7XG4gICAgICAgICAgICBzID0gMi4wICogTWF0aC5zcXJ0KDEuMCArIG0xMSAtIG0yMiAtIG0zMyk7XG4gICAgICAgICAgICByZXN1bHQudyA9IChtMzIgLSBtMjMpIC8gcztcbiAgICAgICAgICAgIHJlc3VsdC54ID0gMC4yNSAqIHM7XG4gICAgICAgICAgICByZXN1bHQueSA9IChtMTIgKyBtMjEpIC8gcztcbiAgICAgICAgICAgIHJlc3VsdC56ID0gKG0xMyArIG0zMSkgLyBzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG0yMiA+IG0zMykge1xuICAgICAgICAgICAgcyA9IDIuMCAqIE1hdGguc3FydCgxLjAgKyBtMjIgLSBtMTEgLSBtMzMpO1xuICAgICAgICAgICAgcmVzdWx0LncgPSAobTEzIC0gbTMxKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueCA9IChtMTIgKyBtMjEpIC8gcztcbiAgICAgICAgICAgIHJlc3VsdC55ID0gMC4yNSAqIHM7XG4gICAgICAgICAgICByZXN1bHQueiA9IChtMjMgKyBtMzIpIC8gcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHMgPSAyLjAgKiBNYXRoLnNxcnQoMS4wICsgbTMzIC0gbTExIC0gbTIyKTtcbiAgICAgICAgICAgIHJlc3VsdC53ID0gKG0yMSAtIG0xMikgLyBzO1xuICAgICAgICAgICAgcmVzdWx0LnggPSAobTEzICsgbTMxKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueSA9IChtMjMgKyBtMzIpIC8gcztcbiAgICAgICAgICAgIHJlc3VsdC56ID0gMC4yNSAqIHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUXVhdGVybmlvbi5mcm9tUm90YXRpb25NYXRyaXhUb1JlZiA9IGZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEludGVycG9sYXRlcyBiZXR3ZWVuIHR3byBxdWF0ZXJuaW9uc1xuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyBzZWNvbmQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IGludGVycG9sYXRlZCBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xlcnAobGVmdCwgcmlnaHQsIGFtb3VudCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBRdWF0ZXJuaW9uLklkZW50aXR5KCk7XG4gICAgICAgIFF1YXRlcm5pb24uc2xlcnBUb1JlZihsZWZ0LCByaWdodCwgYW1vdW50LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLnNsZXJwID0gc2xlcnA7XG4gICAgLyoqXG4gICAgICogSW50ZXJwb2xhdGVzIGJldHdlZW4gdHdvIHF1YXRlcm5pb25zIGFuZCBzdG9yZXMgaXQgaW50byBhIHRhcmdldCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIGZpcnN0IHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHNlY29uZCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IHRvIHVzZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KSB7XG4gICAgICAgIGxldCBudW0yO1xuICAgICAgICBsZXQgbnVtMztcbiAgICAgICAgbGV0IG51bTQgPSBsZWZ0LnggKiByaWdodC54ICsgbGVmdC55ICogcmlnaHQueSArIGxlZnQueiAqIHJpZ2h0LnogKyBsZWZ0LncgKiByaWdodC53O1xuICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xuICAgICAgICBpZiAobnVtNCA8IDApIHtcbiAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgbnVtNCA9IC1udW00O1xuICAgICAgICB9XG4gICAgICAgIGlmIChudW00ID4gMC45OTk5OTkpIHtcbiAgICAgICAgICAgIG51bTMgPSAxIC0gYW1vdW50O1xuICAgICAgICAgICAgbnVtMiA9IGZsYWcgPyAtYW1vdW50IDogYW1vdW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbnVtNSA9IE1hdGguYWNvcyhudW00KTtcbiAgICAgICAgICAgIGNvbnN0IG51bTYgPSAxLjAgLyBNYXRoLnNpbihudW01KTtcbiAgICAgICAgICAgIG51bTMgPSBNYXRoLnNpbigoMS4wIC0gYW1vdW50KSAqIG51bTUpICogbnVtNjtcbiAgICAgICAgICAgIG51bTIgPSBmbGFnXG4gICAgICAgICAgICAgICAgPyAtTWF0aC5zaW4oYW1vdW50ICogbnVtNSkgKiBudW02XG4gICAgICAgICAgICAgICAgOiBNYXRoLnNpbihhbW91bnQgKiBudW01KSAqIG51bTY7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnggPSBudW0zICogbGVmdC54ICsgbnVtMiAqIHJpZ2h0Lng7XG4gICAgICAgIHJlc3VsdC55ID0gbnVtMyAqIGxlZnQueSArIG51bTIgKiByaWdodC55O1xuICAgICAgICByZXN1bHQueiA9IG51bTMgKiBsZWZ0LnogKyBudW0yICogcmlnaHQuejtcbiAgICAgICAgcmVzdWx0LncgPSBudW0zICogbGVmdC53ICsgbnVtMiAqIHJpZ2h0Lnc7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uc2xlcnBUb1JlZiA9IHNsZXJwVG9SZWY7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gcXVhdGVybmlvbnNcbiAgICAgKiBAcGFyYW0gc2VsZiAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcTEgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIGEgbmV3IHF1YXRlcm5pb24gc2V0IGFzIHRoZSBtdWx0aXBsaWNhdGlvbiByZXN1bHQgb2YgdGhlIHNlbGYgb25lIHdpdGggdGhlIGdpdmVuIG9uZSBcInExXCJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtdWx0aXBseShzZWxmLCBxMSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoMCwgMCwgMCwgMS4wKTtcbiAgICAgICAgbXVsdGlwbHlUb1JlZihzZWxmLCBxMSwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIFwicmVzdWx0XCIgYXMgdGhlIHRoZSBtdWx0aXBsaWNhdGlvbiByZXN1bHQgb2YgdGhlIHNlbGYgb25lIHdpdGggdGhlIGdpdmVuIG9uZSBcInExXCJcbiAgICAgKiBAcGFyYW0gc2VsZiAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcTEgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtdWx0aXBseVRvUmVmKHNlbGYsIHExLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBzZWxmLnggKiBxMS53ICsgc2VsZi55ICogcTEueiAtIHNlbGYueiAqIHExLnkgKyBzZWxmLncgKiBxMS54O1xuICAgICAgICByZXN1bHQueSA9IC1zZWxmLnggKiBxMS56ICsgc2VsZi55ICogcTEudyArIHNlbGYueiAqIHExLnggKyBzZWxmLncgKiBxMS55O1xuICAgICAgICByZXN1bHQueiA9IHNlbGYueCAqIHExLnkgLSBzZWxmLnkgKiBxMS54ICsgc2VsZi56ICogcTEudyArIHNlbGYudyAqIHExLno7XG4gICAgICAgIHJlc3VsdC53ID0gLXNlbGYueCAqIHExLnggLSBzZWxmLnkgKiBxMS55IC0gc2VsZi56ICogcTEueiArIHNlbGYudyAqIHExLnc7XG4gICAgfVxuICAgIFF1YXRlcm5pb24ubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVncmVlcyAtIHRoZSBhbmdsZSBkZWdyZWVzXG4gICAgICogQHBhcmFtIGF4aXMgLSB2ZWN0b3IzXG4gICAgICogQHJldHVybnMgYSBuZXcgUXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BbmdsZUF4aXMoZGVncmVlcywgYXhpcykge1xuICAgICAgICBpZiAoVmVjdG9yMy5sZW5ndGhTcXVhcmVkKGF4aXMpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUXVhdGVybmlvbi5JZGVudGl0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IElkZW50aXR5KCk7XG4gICAgICAgIGxldCByYWRpYW5zID0gZGVncmVlcyAqIERFRzJSQUQ7XG4gICAgICAgIHJhZGlhbnMgKj0gMC41O1xuICAgICAgICBjb25zdCBhMiA9IFZlY3RvcjMubm9ybWFsaXplKGF4aXMpO1xuICAgICAgICBWZWN0b3IzLnNjYWxlVG9SZWYoYTIsIE1hdGguc2luKHJhZGlhbnMpLCBhMik7XG4gICAgICAgIHJlc3VsdC54ID0gYTIueDtcbiAgICAgICAgcmVzdWx0LnkgPSBhMi55O1xuICAgICAgICByZXN1bHQueiA9IGEyLno7XG4gICAgICAgIHJlc3VsdC53ID0gTWF0aC5jb3MocmFkaWFucyk7XG4gICAgICAgIHJldHVybiBub3JtYWxpemUocmVzdWx0KTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5mcm9tQW5nbGVBeGlzID0gZnJvbUFuZ2xlQXhpcztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHF1YXRlcm5pb24gY29udGFpbmluZyB0aGUgcm90YXRpb24gdmFsdWUgdG8gcmVhY2ggdGhlIHRhcmdldCAoYXhpczEsIGF4aXMyLCBheGlzMykgb3JpZW50YXRpb24gYXMgYSByb3RhdGVkIFhZWiBzeXN0ZW0gKGF4aXMxLCBheGlzMiBhbmQgYXhpczMgYXJlIG5vcm1hbGl6ZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uKVxuICAgICAqIEBwYXJhbSBheGlzMSAtIGRlZmluZXMgdGhlIGZpcnN0IGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMyAtIGRlZmluZXMgdGhlIHRoaXJkIGF4aXNcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uKGF4aXMxLCBheGlzMiwgYXhpczMpIHtcbiAgICAgICAgY29uc3QgcXVhdCA9IFF1YXRlcm5pb24uY3JlYXRlKDAuMCwgMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIGZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb25Ub1JlZihheGlzMSwgYXhpczIsIGF4aXMzLCBxdWF0KTtcbiAgICAgICAgcmV0dXJuIHF1YXQ7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbUF4aXNUb1JvdGF0aW9uUXVhdGVybmlvbiA9IGZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb247XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJvdGF0aW9uIHZhbHVlIHRvIHJlYWNoIHRoZSB0YXJnZXQgKGF4aXMxLCBheGlzMiwgYXhpczMpIG9yaWVudGF0aW9uIGFzIGEgcm90YXRlZCBYWVogc3lzdGVtIChheGlzMSwgYXhpczIgYW5kIGF4aXMzIGFyZSBub3JtYWxpemVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbikgYW5kIHN0b3JlcyBpdCBpbiB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gYXhpczEgLSBkZWZpbmVzIHRoZSBmaXJzdCBheGlzXG4gICAgICogQHBhcmFtIGF4aXMyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczMgLSBkZWZpbmVzIHRoZSB0aGlyZCBheGlzXG4gICAgICogQHBhcmFtIHJlZiAtIGRlZmluZXMgdGhlIHRhcmdldCBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUF4aXNUb1JvdGF0aW9uUXVhdGVybmlvblRvUmVmKGF4aXMxLCBheGlzMiwgYXhpczMsIHJlZikge1xuICAgICAgICBjb25zdCByb3RNYXQgPSBNYXRyaXguY3JlYXRlKCk7XG4gICAgICAgIE1hdHJpeC5mcm9tWFlaQXhlc1RvUmVmKFZlY3RvcjMubm9ybWFsaXplKGF4aXMxKSwgVmVjdG9yMy5ub3JtYWxpemUoYXhpczIpLCBWZWN0b3IzLm5vcm1hbGl6ZShheGlzMyksIHJvdE1hdCk7XG4gICAgICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4VG9SZWYocm90TWF0LCByZWYpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb25Ub1JlZiA9IGZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb25Ub1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgemVybyBmaWxsZWQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFplcm8oKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIDAuMCwgMC4wKTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5aZXJvID0gWmVybztcbiAgICAvKipcbiAgICAgKiBAcHVibGljXG4gICAgICogUm90YXRlcyB0aGUgdHJhbnNmb3JtIHNvIHRoZSBmb3J3YXJkIHZlY3RvciBwb2ludHMgYXQgdGFyZ2V0J3MgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tTG9va0F0KHBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAgPSBWZWN0b3IzLlVwKCkpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUXVhdGVybmlvbi5JZGVudGl0eSgpO1xuICAgICAgICBmcm9tTG9va0F0VG9SZWYocG9zaXRpb24sIHRhcmdldCwgd29ybGRVcCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5mcm9tTG9va0F0ID0gZnJvbUxvb2tBdDtcbiAgICAvKipcbiAgICAgKiBAcHVibGljXG4gICAgICogUm90YXRlcyB0aGUgdHJhbnNmb3JtIHNvIHRoZSBmb3J3YXJkIHZlY3RvciBwb2ludHMgYXQgdGFyZ2V0J3MgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tTG9va0F0VG9SZWYocG9zaXRpb24sIHRhcmdldCwgd29ybGRVcCA9IFZlY3RvcjMuVXAoKSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG0gPSBNYXRyaXguSWRlbnRpdHkoKTtcbiAgICAgICAgTWF0cml4Lmxvb2tBdExIVG9SZWYocG9zaXRpb24sIHRhcmdldCwgd29ybGRVcCwgbSk7XG4gICAgICAgIE1hdHJpeC5pbnZlcnRUb1JlZihtLCBtKTtcbiAgICAgICAgUXVhdGVybmlvbi5mcm9tUm90YXRpb25NYXRyaXhUb1JlZihtLCByZXN1bHQpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21Mb29rQXRUb1JlZiA9IGZyb21Mb29rQXRUb1JlZjtcbn0pKFF1YXRlcm5pb24gfHwgKFF1YXRlcm5pb24gPSB7fSkpO1xuIiwgImltcG9ydCB7IFNjYWxhciB9IGZyb20gJy4vU2NhbGFyJztcbmltcG9ydCB7IFRvTGluZWFyU3BhY2UsIFRvR2FtbWFTcGFjZSB9IGZyb20gJy4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKiBDb2xvcjQgaXMgYSB0eXBlIGFuZCBhIG5hbWVzcGFjZS5cbiAqIGBgYFxuICogLy8gVGhlIG5hbWVzcGFjZSBjb250YWlucyBhbGwgdHlwZXMgYW5kIGZ1bmN0aW9ucyB0byBvcGVyYXRlcyB3aXRoIENvbG9yNFxuICogQ29sb3I0LmFkZChibHVlLCByZWQpIC8vIHN1bSBjb21wb25lbnQgYnkgY29tcG9uZW50IHJlc3VsdGluZyBwaW5rXG4gKiAvLyBUaGUgdHlwZSBDb2xvcjQgaXMgYW4gYWxpYXMgdG8gQ29sb3I0LlJlYWRvbmx5Q29sb3I0XG4gKiBjb25zdCByZWFkb25seUJsdWU6IENvbG9yNCA9IENvbG9yNC5CbHVlKClcbiAqIHJlYWRvbmx5Qmx1ZS5hID0gMC4xIC8vIHRoaXMgRkFJTFNcbiAqXG4gKiAvLyBGb3IgbXV0YWJsZSB1c2FnZSwgdXNlIGBDb2xvcjQuTXV0YWJsZWBcbiAqIGNvbnN0IGJsdWU6IENvbG9yNC5NdXRhYmxlID0gQ29sb3I0LkJsdWUoKVxuICogYmx1ZS5hID0gMC4xIC8vIHRoaXMgV09SS1NcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIENvbG9yNDtcbihmdW5jdGlvbiAoQ29sb3I0KSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjcmVhdGUgbXV0YWJsZSBDb2xvcjQgZnJvbSByZWQsIGdyZWVuLCBibHVlIHZhbHVlcywgYWxsIGJldHdlZW4gMCBhbmQgMVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUoXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgciA9IDAsIFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgZyA9IDAsIFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKi9cbiAgICBiID0gMCwgXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMSlcbiAgICAgKi9cbiAgICBhID0gMSkge1xuICAgICAgICByZXR1cm4geyByLCBnLCBiLCBhIH07XG4gICAgfVxuICAgIENvbG9yNC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLy8gU3RhdGljc1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgZnJvbSB0aGUgc3RyaW5nIGNvbnRhaW5pbmcgdmFsaWQgaGV4YWRlY2ltYWwgdmFsdWVzXG4gICAgICogQHBhcmFtIGhleCAtIGRlZmluZXMgYSBzdHJpbmcgY29udGFpbmluZyB2YWxpZCBoZXhhZGVjaW1hbCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tSGV4U3RyaW5nKGhleCkge1xuICAgICAgICBpZiAoaGV4LnN1YnN0cmluZygwLCAxKSAhPT0gJyMnIHx8IChoZXgubGVuZ3RoICE9PSA3ICYmIGhleC5sZW5ndGggIT09IDkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMSwgMyksIDE2KTtcbiAgICAgICAgY29uc3QgZyA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMywgNSksIDE2KTtcbiAgICAgICAgY29uc3QgYiA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoNSwgNyksIDE2KTtcbiAgICAgICAgY29uc3QgYVN0ciA9IGhleC5zdWJzdHJpbmcoNywgOSk7XG4gICAgICAgIGNvbnN0IGEgPSBhU3RyID8gcGFyc2VJbnQoYVN0ciwgMTYpIDogMjU1O1xuICAgICAgICByZXR1cm4gQ29sb3I0LmZyb21JbnRzKHIsIGcsIGIsIGEpO1xuICAgIH1cbiAgICBDb2xvcjQuZnJvbUhleFN0cmluZyA9IGZyb21IZXhTdHJpbmc7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjcmVhdGUgbXV0YWJsZSBDb2xvcjQgIHNldCB3aXRoIHRoZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgdmFsdWVzIG9mIFwiYW1vdW50XCIgYmV0d2VlbiB0aGUgbGVmdCBDb2xvcjQgb2JqZWN0IGFuZCB0aGUgcmlnaHQgQ29sb3I0IG9iamVjdFxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgZmFjdG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycChsZWZ0LCByaWdodCwgYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBDb2xvcjQubGVycFRvUmVmKGxlZnQsIHJpZ2h0LCBhbW91bnQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvbG9yNC5sZXJwID0gbGVycDtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGdpdmVuIFwicmVzdWx0XCIgd2l0aCB0aGUgbGluZWFybHkgaW50ZXJwb2xhdGVkIHZhbHVlcyBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIGxlZnQgQ29sb3I0IG9iamVjdCBhbmQgdGhlIHJpZ2h0IENvbG9yNCBvYmplY3RcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIGRhdGFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gbGVmdC5yICsgKHJpZ2h0LnIgLSBsZWZ0LnIpICogYW1vdW50O1xuICAgICAgICByZXN1bHQuZyA9IGxlZnQuZyArIChyaWdodC5nIC0gbGVmdC5nKSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LmIgPSBsZWZ0LmIgKyAocmlnaHQuYiAtIGxlZnQuYikgKiBhbW91bnQ7XG4gICAgICAgIHJlc3VsdC5hID0gbGVmdC5hICsgKHJpZ2h0LmEgLSBsZWZ0LmEpICogYW1vdW50O1xuICAgIH1cbiAgICBDb2xvcjQubGVycFRvUmVmID0gbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHJlZCBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgxLjAsIDAsIDAsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yNC5SZWQgPSBSZWQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgZ3JlZW4gY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAxLjAsIDAsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yNC5HcmVlbiA9IEdyZWVuO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIGJsdWUgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDAsIDEuMCwgMS4wKTtcbiAgICB9XG4gICAgQ29sb3I0LkJsdWUgPSBCbHVlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIGJsYWNrIGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gQmxhY2soKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMCwgMCwgMCwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5CbGFjayA9IEJsYWNrO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHdoaXRlIGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gV2hpdGUoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMSwgMSwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5XaGl0ZSA9IFdoaXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHB1cnBsZSBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFB1cnBsZSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjUsIDAsIDAuNSwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5QdXJwbGUgPSBQdXJwbGU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgbWFnZW50YSBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hZ2VudGEoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMCwgMSwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5NYWdlbnRhID0gTWFnZW50YTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSB5ZWxsb3cgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBZZWxsb3coKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMSwgMCwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5ZZWxsb3cgPSBZZWxsb3c7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgZ3JheSBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXkoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC41LCAwLjUsIDAuNSwgMS4wKTtcbiAgICB9XG4gICAgQ29sb3I0LkdyYXkgPSBHcmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHRlYWwgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZWFsKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDEuMCwgMS4wLCAxLjApO1xuICAgIH1cbiAgICBDb2xvcjQuVGVhbCA9IFRlYWw7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgdHJhbnNwYXJlbnQgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAwLCAwLCAwKTtcbiAgICB9XG4gICAgQ29sb3I0LkNsZWFyID0gQ2xlYXI7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBmcm9tIGEgQ29sb3IzIGFuZCBhbiBhbHBoYSB2YWx1ZVxuICAgICAqIEBwYXJhbSBjb2xvcjMgLSBkZWZpbmVzIHRoZSBzb3VyY2UgQ29sb3IzIHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBhbHBoYSAtIGRlZmluZXMgdGhlIGFscGhhIGNvbXBvbmVudCAoMS4wIGJ5IGRlZmF1bHQpXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUNvbG9yMyhjb2xvcjMsIGFscGhhID0gMS4wKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoY29sb3IzLnIsIGNvbG9yMy5nLCBjb2xvcjMuYiwgYWxwaGEpO1xuICAgIH1cbiAgICBDb2xvcjQuZnJvbUNvbG9yMyA9IGZyb21Db2xvcjM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBmcm9tIHRoZSBzdGFydGluZyBpbmRleCBlbGVtZW50IG9mIHRoZSBnaXZlbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheSB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShhcnJheVtvZmZzZXRdLCBhcnJheVtvZmZzZXQgKyAxXSwgYXJyYXlbb2Zmc2V0ICsgMl0sIGFycmF5W29mZnNldCArIDNdKTtcbiAgICB9XG4gICAgQ29sb3I0LmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IENvbG9yMyBmcm9tIGludGVnZXIgdmFsdWVzIChsZXNzIHRoYW4gMjU2KVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbSAodmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUpXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IHRvIHJlYWQgZnJvbSAodmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUpXG4gICAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUludHMociwgZywgYiwgYSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHIgLyAyNTUuMCwgZyAvIDI1NS4wLCBiIC8gMjU1LjAsIGEgLyAyNTUuMCk7XG4gICAgfVxuICAgIENvbG9yNC5mcm9tSW50cyA9IGZyb21JbnRzO1xuICAgIC8qKlxuICAgICAqIENoZWNrIHRoZSBjb250ZW50IG9mIGEgZ2l2ZW4gYXJyYXkgYW5kIGNvbnZlcnQgaXQgdG8gYW4gYXJyYXkgY29udGFpbmluZyBSR0JBIGRhdGFcbiAgICAgKiBJZiB0aGUgb3JpZ2luYWwgYXJyYXkgd2FzIGFscmVhZHkgY29udGFpbmluZyBjb3VudCAqIDQgdmFsdWVzIHRoZW4gaXQgaXMgcmV0dXJuZWQgZGlyZWN0bHlcbiAgICAgKiBAcGFyYW0gY29sb3JzIC0gZGVmaW5lcyB0aGUgYXJyYXkgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0gY291bnQgLSBkZWZpbmVzIHRoZSBudW1iZXIgb2YgUkdCQSBkYXRhIHRvIGV4cGVjdFxuICAgICAqIEByZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgY291bnQgKiA0IHZhbHVlcyAoUkdCQSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGVja0NvbG9yczQoY29sb3JzLCBjb3VudCkge1xuICAgICAgICAvLyBDaGVjayBpZiBjb2xvcjMgd2FzIHVzZWRcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IGNvdW50ICogMykge1xuICAgICAgICAgICAgY29uc3QgY29sb3JzNCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvbG9ycy5sZW5ndGg7IGluZGV4ICs9IDMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdJbmRleCA9IChpbmRleCAvIDMpICogNDtcbiAgICAgICAgICAgICAgICBjb2xvcnM0W25ld0luZGV4XSA9IGNvbG9yc1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDFdID0gY29sb3JzW2luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDJdID0gY29sb3JzW2luZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDNdID0gMS4wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yczQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9ycztcbiAgICB9XG4gICAgQ29sb3I0LmNoZWNrQ29sb3JzNCA9IGNoZWNrQ29sb3JzNDtcbiAgICAvLyBPcGVyYXRvcnNcbiAgICAvKipcbiAgICAgKiBBZGRzICB0aGUgZ2l2ZW4gQ29sb3I0IHZhbHVlcyB0byB0aGUgcmVmIENvbG9yNCBvYmplY3RcbiAgICAgKiBAcGFyYW0gYSAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlZiAtIGRlZmluZXMgdGhlIHJlc3VsdCByZmVyZW5jZVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkVG9SZWYoYSwgYiwgcmVmKSB7XG4gICAgICAgIHJlZi5yID0gYS5yICsgYi5yO1xuICAgICAgICByZWYuZyA9IGEuZyArIGIuZztcbiAgICAgICAgcmVmLmIgPSBhLmIgKyBiLmI7XG4gICAgICAgIHJlZi5hID0gYS5hICsgYi5hO1xuICAgIH1cbiAgICBDb2xvcjQuYWRkVG9SZWYgPSBhZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgZnJvbSB0aGUgc3RhcnRpbmcgaW5kZXggaW4gdGhlIGdpdmVuIGFycmF5IHRoZSBDb2xvcjQgc3VjY2Vzc2l2ZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBhcnJheSB3aGVyZSB0byBzdG9yZSB0aGUgcixnLGIgY29tcG9uZW50c1xuICAgICAqIEBwYXJhbSBpbmRleCAtIGRlZmluZXMgYW4gb3B0aW9uYWwgaW5kZXggaW4gdGhlIHRhcmdldCBhcnJheSB0byBkZWZpbmUgd2hlcmUgdG8gc3RhcnQgc3RvcmluZyB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSwgYXJyYXksIGluZGV4ID0gMCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZS5yO1xuICAgICAgICBhcnJheVtpbmRleCArIDFdID0gdmFsdWUuZztcbiAgICAgICAgYXJyYXlbaW5kZXggKyAyXSA9IHZhbHVlLmI7XG4gICAgICAgIGFycmF5W2luZGV4ICsgM10gPSB2YWx1ZS5hO1xuICAgIH1cbiAgICBDb2xvcjQudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBzZXQgd2l0aCB0aGUgYWRkZWQgdmFsdWVzIG9mIHRoZSBjdXJyZW50IENvbG9yNCBhbmQgb2YgdGhlIGdpdmVuIG9uZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkKHZhbHVlLCByaWdodCkge1xuICAgICAgICBjb25zdCByZXQgPSBDbGVhcigpO1xuICAgICAgICBhZGRUb1JlZih2YWx1ZSwgcmlnaHQsIHJldCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIENvbG9yNC5hZGQgPSBhZGQ7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBzZXQgd2l0aCB0aGUgc3VidHJhY3RlZCB2YWx1ZXMgb2YgdGhlIGdpdmVuIG9uZSBmcm9tIHRoZSBjdXJyZW50IENvbG9yNFxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VidHJhY3QodmFsdWUsIHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHJldCA9IENsZWFyKCk7XG4gICAgICAgIHN1YnRyYWN0VG9SZWYodmFsdWUsIHJpZ2h0LCByZXQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBDb2xvcjQuc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdGhlIGdpdmVuIG9uZXMgZnJvbSB0aGUgY3VycmVudCBDb2xvcjQgdmFsdWVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdHMgaW4gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIENvbG9yNCBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IENvbG9yNCBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdWJ0cmFjdFRvUmVmKGEsIGIsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IGEuciAtIGIucjtcbiAgICAgICAgcmVzdWx0LmcgPSBhLmcgLSBiLmc7XG4gICAgICAgIHJlc3VsdC5iID0gYS5iIC0gYi5iO1xuICAgICAgICByZXN1bHQuYSA9IGEuYSAtIGIuYTtcbiAgICB9XG4gICAgQ29sb3I0LnN1YnRyYWN0VG9SZWYgPSBzdWJ0cmFjdFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgd2l0aCB0aGUgY3VycmVudCBDb2xvcjQgdmFsdWVzIG11bHRpcGxpZWQgYnkgc2NhbGVcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvciB0byBhcHBseVxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHZhbHVlLCBzY2FsZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgKiBzY2FsZSwgdmFsdWUuZyAqIHNjYWxlLCB2YWx1ZS5iICogc2NhbGUsIHZhbHVlLmEgKiBzY2FsZSk7XG4gICAgfVxuICAgIENvbG9yNC5zY2FsZSA9IHNjYWxlO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgQ29sb3I0IHZhbHVlcyBieSBzY2FsZSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxpbmcgZmFjdG9yIHRvIGFwcGx5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIENvbG9yNCBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlVG9SZWYodmFsdWUsIHNjYWxlLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5nID0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmEgPSB2YWx1ZS5hICogc2NhbGU7XG4gICAgfVxuICAgIENvbG9yNC5zY2FsZVRvUmVmID0gc2NhbGVUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgY3VycmVudCBDb2xvcjQgdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIENvbG9yNFxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZUFuZEFkZFRvUmVmKHZhbHVlLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yICs9IHZhbHVlLnIgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmcgKz0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiArPSB2YWx1ZS5iICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5hICs9IHZhbHVlLmEgKiBzY2FsZTtcbiAgICB9XG4gICAgQ29sb3I0LnNjYWxlQW5kQWRkVG9SZWYgPSBzY2FsZUFuZEFkZFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENsYW1wcyB0aGUgcmdiIHZhbHVlcyBieSB0aGUgbWluIGFuZCBtYXggdmFsdWVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gbWluIC0gZGVmaW5lcyBtaW5pbXVtIGNsYW1waW5nIHZhbHVlIChkZWZhdWx0IGlzIDApXG4gICAgICogQHBhcmFtIG1heCAtIGRlZmluZXMgbWF4aW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAxKVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIGNvbG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW50by5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcFRvUmVmKHZhbHVlLCBtaW4gPSAwLCBtYXggPSAxLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSBTY2FsYXIuY2xhbXAodmFsdWUuciwgbWluLCBtYXgpO1xuICAgICAgICByZXN1bHQuZyA9IFNjYWxhci5jbGFtcCh2YWx1ZS5nLCBtaW4sIG1heCk7XG4gICAgICAgIHJlc3VsdC5iID0gU2NhbGFyLmNsYW1wKHZhbHVlLmIsIG1pbiwgbWF4KTtcbiAgICAgICAgcmVzdWx0LmEgPSBTY2FsYXIuY2xhbXAodmFsdWUuYSwgbWluLCBtYXgpO1xuICAgIH1cbiAgICBDb2xvcjQuY2xhbXBUb1JlZiA9IGNsYW1wVG9SZWY7XG4gICAgLyoqXG4gICAgICogTXVsdGlweSBhbiBDb2xvcjQgdmFsdWUgYnkgYW5vdGhlciBhbmQgcmV0dXJuIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqIEBwYXJhbSBjb2xvciAtIGRlZmluZXMgdGhlIENvbG9yNCB2YWx1ZSB0byBtdWx0aXBseSBieVxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHZhbHVlLCBjb2xvcikge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgKiBjb2xvci5yLCB2YWx1ZS5nICogY29sb3IuZywgdmFsdWUuYiAqIGNvbG9yLmIsIHZhbHVlLmEgKiBjb2xvci5hKTtcbiAgICB9XG4gICAgQ29sb3I0Lm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgLyoqXG4gICAgICogTXVsdGlweSBhIENvbG9yNCB2YWx1ZSBieSBhbm90aGVyIGFuZCBwdXNoIHRoZSByZXN1bHQgaW4gYSByZWZlcmVuY2UgdmFsdWVcbiAgICAgKiBAcGFyYW0gY29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgdmFsdWUgdG8gbXVsdGlwbHkgYnlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3I0IHRvIGZpbGwgdGhlIHJlc3VsdCBpblxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHQgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZih2YWx1ZSwgY29sb3IsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IHZhbHVlLnIgKiBjb2xvci5yO1xuICAgICAgICByZXN1bHQuZyA9IHZhbHVlLmcgKiBjb2xvci5nO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBjb2xvci5iO1xuICAgICAgICByZXN1bHQuYSA9IHZhbHVlLmEgKiBjb2xvci5hO1xuICAgIH1cbiAgICBDb2xvcjQubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0cmluZyB3aXRoIHRoZSBDb2xvcjQgY3VycmVudCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICgne1I6ICcgK1xuICAgICAgICAgICAgdmFsdWUuciArXG4gICAgICAgICAgICAnIEc6JyArXG4gICAgICAgICAgICB2YWx1ZS5nICtcbiAgICAgICAgICAgICcgQjonICtcbiAgICAgICAgICAgIHZhbHVlLmIgK1xuICAgICAgICAgICAgJyBBOicgK1xuICAgICAgICAgICAgdmFsdWUuYSArXG4gICAgICAgICAgICAnfScpO1xuICAgIH1cbiAgICBDb2xvcjQudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBDb2xvcjQgaGFzaCBjb2RlXG4gICAgICogQHJldHVybnMgYW4gdW5pcXVlIG51bWJlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGhhc2ggQ29sb3I0IG9iamVjdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIYXNoQ29kZSh2YWx1ZSkge1xuICAgICAgICBsZXQgaGFzaCA9IHZhbHVlLnIgfHwgMDtcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh2YWx1ZS5nIHx8IDApO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZhbHVlLmIgfHwgMCk7XG4gICAgICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodmFsdWUuYSB8fCAwKTtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuICAgIENvbG9yNC5nZXRIYXNoQ29kZSA9IGdldEhhc2hDb2RlO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgY29waWVkIGZyb20gdGhlIGN1cnJlbnQgb25lXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2YWx1ZS5yLCB2YWx1ZS5nLCB2YWx1ZS5iLCB2YWx1ZS5hKTtcbiAgICB9XG4gICAgQ29sb3I0LmNsb25lID0gY2xvbmU7XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSBnaXZlbiBDb2xvcjQgdmFsdWVzIGludG8gdGhlIGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIGRlZmluZXMgdGhlIHNvdXJjZSBDb2xvcjQgb2JqZWN0XG4gICAgICogQHBhcmFtIGRlc3QgLSBkZWZpbmVzIHRoZSBkZXN0aW5hdGlvbiBDb2xvcjQgb2JqZWN0XG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5RnJvbShzb3VyY2UsIGRlc3QpIHtcbiAgICAgICAgZGVzdC5yID0gc291cmNlLnI7XG4gICAgICAgIGRlc3QuZyA9IHNvdXJjZS5nO1xuICAgICAgICBkZXN0LmIgPSBzb3VyY2UuYjtcbiAgICAgICAgZGVzdC5hID0gc291cmNlLmE7XG4gICAgfVxuICAgIENvbG9yNC5jb3B5RnJvbSA9IGNvcHlGcm9tO1xuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgZ2l2ZW4gZmxvYXQgdmFsdWVzIGludG8gdGhlIGN1cnJlbnQgb25lXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHBhcmFtIGEgLSBkZWZpbmVzIHRoZSBhbHBoYSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUZyb21GbG9hdHMociwgZywgYiwgYSwgZGVzdCkge1xuICAgICAgICBkZXN0LnIgPSByO1xuICAgICAgICBkZXN0LmcgPSBnO1xuICAgICAgICBkZXN0LmIgPSBiO1xuICAgICAgICBkZXN0LmEgPSBhO1xuICAgIH1cbiAgICBDb2xvcjQuY29weUZyb21GbG9hdHMgPSBjb3B5RnJvbUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIGdpdmVuIGZsb2F0IHZhbHVlcyBpbnRvIHRoZSBjdXJyZW50IG9uZVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgQ29sb3I0IG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChyLCBnLCBiLCBhLCBkZXN0KSB7XG4gICAgICAgIGRlc3QuciA9IHI7XG4gICAgICAgIGRlc3QuZyA9IGc7XG4gICAgICAgIGRlc3QuYiA9IGI7XG4gICAgICAgIGRlc3QuYSA9IGE7XG4gICAgfVxuICAgIENvbG9yNC5zZXQgPSBzZXQ7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgQ29sb3I0IGhleGFkZWNpbWFsIGNvZGUgYXMgYSBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyBhIHN0cmluZyBjb250YWluaW5nIHRoZSBoZXhhZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgQ29sb3I0IG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSGV4U3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGludFIgPSAodmFsdWUuciAqIDI1NSkgfCAwO1xuICAgICAgICBjb25zdCBpbnRHID0gKHZhbHVlLmcgKiAyNTUpIHwgMDtcbiAgICAgICAgY29uc3QgaW50QiA9ICh2YWx1ZS5iICogMjU1KSB8IDA7XG4gICAgICAgIGNvbnN0IGludEEgPSAodmFsdWUuYSAqIDI1NSkgfCAwO1xuICAgICAgICByZXR1cm4gKCcjJyArXG4gICAgICAgICAgICBTY2FsYXIudG9IZXgoaW50UikgK1xuICAgICAgICAgICAgU2NhbGFyLnRvSGV4KGludEcpICtcbiAgICAgICAgICAgIFNjYWxhci50b0hleChpbnRCKSArXG4gICAgICAgICAgICBTY2FsYXIudG9IZXgoaW50QSkpO1xuICAgIH1cbiAgICBDb2xvcjQudG9IZXhTdHJpbmcgPSB0b0hleFN0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIENvbG9yNCBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gbGluZWFyIHNwYWNlXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MaW5lYXJTcGFjZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRDb2xvciA9IGNyZWF0ZSgpO1xuICAgICAgICB0b0xpbmVhclNwYWNlVG9SZWYodmFsdWUsIGNvbnZlcnRlZENvbG9yKTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRlZENvbG9yO1xuICAgIH1cbiAgICBDb2xvcjQudG9MaW5lYXJTcGFjZSA9IHRvTGluZWFyU3BhY2U7XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIENvbG9yNCB2YWx1ZXMgdG8gbGluZWFyIHNwYWNlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBcImNvbnZlcnRlZENvbG9yXCJcbiAgICAgKiBAcGFyYW0gY29udmVydGVkQ29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSBsaW5lYXIgc3BhY2UgdmVyc2lvblxuICAgICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGluZWFyU3BhY2VUb1JlZih2YWx1ZSwgcmVmKSB7XG4gICAgICAgIHJlZi5yID0gTWF0aC5wb3codmFsdWUuciwgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIHJlZi5nID0gTWF0aC5wb3codmFsdWUuZywgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIHJlZi5iID0gTWF0aC5wb3codmFsdWUuYiwgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIHJlZi5hID0gdmFsdWUuYTtcbiAgICB9XG4gICAgQ29sb3I0LnRvTGluZWFyU3BhY2VUb1JlZiA9IHRvTGluZWFyU3BhY2VUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIENvbG9yNCBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gZ2FtbWEgc3BhY2VcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0dhbW1hU3BhY2UodmFsdWUpIHtcbiAgICAgICAgY29uc3QgY29udmVydGVkQ29sb3IgPSBjcmVhdGUoKTtcbiAgICAgICAgdG9HYW1tYVNwYWNlVG9SZWYodmFsdWUsIGNvbnZlcnRlZENvbG9yKTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRlZENvbG9yO1xuICAgIH1cbiAgICBDb2xvcjQudG9HYW1tYVNwYWNlID0gdG9HYW1tYVNwYWNlO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBDb2xvcjQgdmFsdWVzIHRvIGdhbW1hIHNwYWNlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBcImNvbnZlcnRlZENvbG9yXCJcbiAgICAgKiBAcGFyYW0gY29udmVydGVkQ29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSBnYW1tYSBzcGFjZSB2ZXJzaW9uXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9HYW1tYVNwYWNlVG9SZWYodmFsdWUsIGNvbnZlcnRlZENvbG9yKSB7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLnIgPSBNYXRoLnBvdyh2YWx1ZS5yLCBUb0dhbW1hU3BhY2UpO1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5nID0gTWF0aC5wb3codmFsdWUuZywgVG9HYW1tYVNwYWNlKTtcbiAgICAgICAgY29udmVydGVkQ29sb3IuYiA9IE1hdGgucG93KHZhbHVlLmIsIFRvR2FtbWFTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmEgPSB2YWx1ZS5hO1xuICAgIH1cbiAgICBDb2xvcjQudG9HYW1tYVNwYWNlVG9SZWYgPSB0b0dhbW1hU3BhY2VUb1JlZjtcbn0pKENvbG9yNCB8fCAoQ29sb3I0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBUb0xpbmVhclNwYWNlLCBUb0dhbW1hU3BhY2UgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gJy4vQ29sb3I0JztcbmltcG9ydCB7IFNjYWxhciB9IGZyb20gJy4vU2NhbGFyJztcbi8qKlxuICogQHB1YmxpY1xuICogQ29sb3IzIGlzIGEgdHlwZSBhbmQgYSBuYW1lc3BhY2UuXG4gKiBgYGBcbiAqIC8vIFRoZSBuYW1lc3BhY2UgY29udGFpbnMgYWxsIHR5cGVzIGFuZCBmdW5jdGlvbnMgdG8gb3BlcmF0ZXMgd2l0aCBDb2xvcjNcbiAqIENvbG9yMy5hZGQoYmx1ZSwgcmVkKSAvLyBzdW0gY29tcG9uZW50IGJ5IGNvbXBvbmVudCByZXN1bHRpbmcgcGlua1xuICogLy8gVGhlIHR5cGUgQ29sb3IzIGlzIGFuIGFsaWFzIHRvIENvbG9yMy5SZWFkb25seUNvbG9yM1xuICogY29uc3QgcmVhZG9ubHlCbHVlOiBDb2xvcjMgPSBDb2xvcjMuQmx1ZSgpXG4gKiByZWFkb25seUJsdWUuciA9IDAuMSAvLyB0aGlzIEZBSUxTXG4gKlxuICogLy8gRm9yIG11dGFibGUgdXNhZ2UsIHVzZSBgQ29sb3IzLk11dGFibGVgXG4gKiBjb25zdCBibHVlOiBDb2xvcjMuTXV0YWJsZSA9IENvbG9yMy5CbHVlKClcbiAqIGJsdWUuciA9IDAuMSAvLyB0aGlzIFdPUktTXG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBDb2xvcjM7XG4oZnVuY3Rpb24gKENvbG9yMykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgQ29sb3IzIG9iamVjdCBmcm9tIHJlZCwgZ3JlZW4sIGJsdWUgdmFsdWVzLCBhbGwgYmV0d2VlbiAwIGFuZCAxXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIHIgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIGcgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgYiA9IDApIHtcbiAgICAgICAgcmV0dXJuIHsgciwgZywgYiB9O1xuICAgIH1cbiAgICBDb2xvcjMuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBWZWN0b3IzIGZyb20gdGhlIHN0cmluZyBjb250YWluaW5nIHZhbGlkIGhleGFkZWNpbWFsIHZhbHVlc1xuICAgICAqIEBwYXJhbSBoZXggLSBkZWZpbmVzIGEgc3RyaW5nIGNvbnRhaW5pbmcgdmFsaWQgaGV4YWRlY2ltYWwgdmFsdWVzXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21IZXhTdHJpbmcoaGV4KSB7XG4gICAgICAgIGlmIChoZXguc3Vic3RyaW5nKDAsIDEpICE9PSAnIycgfHwgaGV4Lmxlbmd0aCAhPT0gNykge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygxLCAzKSwgMTYpO1xuICAgICAgICBjb25zdCBnID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygzLCA1KSwgMTYpO1xuICAgICAgICBjb25zdCBiID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZyg1LCA3KSwgMTYpO1xuICAgICAgICByZXR1cm4gZnJvbUludHMociwgZywgYik7XG4gICAgfVxuICAgIENvbG9yMy5mcm9tSGV4U3RyaW5nID0gZnJvbUhleFN0cmluZztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFZlY3RvcjMgZnJvbSB0aGUgc3RhcnRpbmcgaW5kZXggb2YgdGhlIGdpdmVuIGFycmF5XG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgYW4gb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5LCBvZmZzZXQgPSAwKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoYXJyYXlbb2Zmc2V0XSwgYXJyYXlbb2Zmc2V0ICsgMV0sIGFycmF5W29mZnNldCArIDJdKTtcbiAgICB9XG4gICAgQ29sb3IzLmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVmVjdG9yMyBmcm9tIGludGVnZXIgdmFsdWVzIChsZXNzIHRoYW4gMjU2KVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbSAodmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUpXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tSW50cyhyLCBnLCBiKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUociAvIDI1NS4wLCBnIC8gMjU1LjAsIGIgLyAyNTUuMCk7XG4gICAgfVxuICAgIENvbG9yMy5mcm9tSW50cyA9IGZyb21JbnRzO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBWZWN0b3IzIHdpdGggdmFsdWVzIGxpbmVhcmx5IGludGVycG9sYXRlZCBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIHN0YXJ0IENvbG9yMyBhbmQgdGhlIGVuZCBDb2xvcjNcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBkZWZpbmVzIHRoZSBzdGFydCBDb2xvcjMgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kIC0gZGVmaW5lcyB0aGUgZW5kIENvbG9yMyB2YWx1ZVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCB2YWx1ZSBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmRcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycChzdGFydCwgZW5kLCBhbW91bnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBDb2xvcjMubGVycFRvUmVmKHN0YXJ0LCBlbmQsIGFtb3VudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgQ29sb3IzLmxlcnAgPSBsZXJwO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBWZWN0b3IzIHdpdGggdmFsdWVzIGxpbmVhcmx5IGludGVycG9sYXRlZCBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIHN0YXJ0IENvbG9yMyBhbmQgdGhlIGVuZCBDb2xvcjNcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gbGVmdC5yICsgKHJpZ2h0LnIgLSBsZWZ0LnIpICogYW1vdW50O1xuICAgICAgICByZXN1bHQuZyA9IGxlZnQuZyArIChyaWdodC5nIC0gbGVmdC5nKSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LmIgPSBsZWZ0LmIgKyAocmlnaHQuYiAtIGxlZnQuYikgKiBhbW91bnQ7XG4gICAgfVxuICAgIENvbG9yMy5sZXJwVG9SZWYgPSBsZXJwVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgcmVkIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgxLCAwLCAwKTtcbiAgICB9XG4gICAgQ29sb3IzLlJlZCA9IFJlZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBncmVlbiBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAxLCAwKTtcbiAgICB9XG4gICAgQ29sb3IzLkdyZWVuID0gR3JlZW47XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgYmx1ZSBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDAsIDEpO1xuICAgIH1cbiAgICBDb2xvcjMuQmx1ZSA9IEJsdWU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgYmxhY2sgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmxhY2soKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMCwgMCwgMCk7XG4gICAgfVxuICAgIENvbG9yMy5CbGFjayA9IEJsYWNrO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIHdoaXRlIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdoaXRlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEsIDEsIDEpO1xuICAgIH1cbiAgICBDb2xvcjMuV2hpdGUgPSBXaGl0ZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBwdXJwbGUgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHVycGxlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuNSwgMCwgMC41KTtcbiAgICB9XG4gICAgQ29sb3IzLlB1cnBsZSA9IFB1cnBsZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBtYWdlbnRhIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hZ2VudGEoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMCwgMSk7XG4gICAgfVxuICAgIENvbG9yMy5NYWdlbnRhID0gTWFnZW50YTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSB5ZWxsb3cgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gWWVsbG93KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEsIDEsIDApO1xuICAgIH1cbiAgICBDb2xvcjMuWWVsbG93ID0gWWVsbG93O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIGdyYXkgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JheSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjUsIDAuNSwgMC41KTtcbiAgICB9XG4gICAgQ29sb3IzLkdyYXkgPSBHcmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIHRlYWwgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGVhbCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAxLjAsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yMy5UZWFsID0gVGVhbDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSByYW5kb20gY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmFuZG9tKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCkpO1xuICAgIH1cbiAgICBDb2xvcjMuUmFuZG9tID0gUmFuZG9tO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdHJpbmcgd2l0aCB0aGUgQ29sb3IzIGN1cnJlbnQgdmFsdWVzXG4gICAgICogQHJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQ29sb3IzIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAne1I6ICcgKyB2YWx1ZS5yICsgJyBHOicgKyB2YWx1ZS5nICsgJyBCOicgKyB2YWx1ZS5iICsgJ30nO1xuICAgIH1cbiAgICBDb2xvcjMudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBDb2xvcjMgaGFzaCBjb2RlXG4gICAgICogQHJldHVybnMgYW4gdW5pcXVlIG51bWJlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGhhc2ggQ29sb3IzIG9iamVjdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIYXNoQ29kZSh2YWx1ZSkge1xuICAgICAgICBsZXQgaGFzaCA9IHZhbHVlLnIgfHwgMDtcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh2YWx1ZS5nIHx8IDApO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZhbHVlLmIgfHwgMCk7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICBDb2xvcjMuZ2V0SGFzaENvZGUgPSBnZXRIYXNoQ29kZTtcbiAgICAvLyBPcGVyYXRvcnNcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgaW4gdGhlIGdpdmVuIGFycmF5IGZyb20gdGhlIGdpdmVuIHN0YXJ0aW5nIGluZGV4IHRoZSByZWQsIGdyZWVuLCBibHVlIHZhbHVlcyBhcyBzdWNjZXNzaXZlIGVsZW1lbnRzXG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIHIsZyxiIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIGFuIG9wdGlvbmFsIGluZGV4IGluIHRoZSB0YXJnZXQgYXJyYXkgdG8gZGVmaW5lIHdoZXJlIHRvIHN0YXJ0IHN0b3JpbmcgdmFsdWVzXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlLCBhcnJheSwgaW5kZXggPSAwKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlLnI7XG4gICAgICAgIGFycmF5W2luZGV4ICsgMV0gPSB2YWx1ZS5nO1xuICAgICAgICBhcnJheVtpbmRleCArIDJdID0gdmFsdWUuYjtcbiAgICB9XG4gICAgQ29sb3IzLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdCBmcm9tIHRoZSBjdXJyZW50IENvbG9yMyBhbmQgdGhlIGdpdmVuIGFscGhhXG4gICAgICogQHBhcmFtIGFscGhhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IG9uIHRoZSBuZXcgQ29sb3I0IG9iamVjdCAoZGVmYXVsdCBpcyAxKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0NvbG9yNCh2YWx1ZSwgYWxwaGEgPSAxKSB7XG4gICAgICAgIHJldHVybiBDb2xvcjQuY3JlYXRlKHZhbHVlLnIsIHZhbHVlLmcsIHZhbHVlLmIsIGFscGhhKTtcbiAgICB9XG4gICAgQ29sb3IzLnRvQ29sb3I0ID0gdG9Db2xvcjQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBhcnJheSBwb3B1bGF0ZWQgd2l0aCAzIG51bWVyaWMgZWxlbWVudHMgOiByZWQsIGdyZWVuIGFuZCBibHVlIHZhbHVlc1xuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgYXJyYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0b0FycmF5KHZhbHVlLCByZXN1bHQsIDApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBDb2xvcjMuYXNBcnJheSA9IGFzQXJyYXk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbHVtaW5hbmNlIHZhbHVlXG4gICAgICogQHJldHVybnMgYSBmbG9hdCB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTHVtaW5hbmNlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5yICogMC4zICsgdmFsdWUuZyAqIDAuNTkgKyB2YWx1ZS5iICogMC4xMTtcbiAgICB9XG4gICAgQ29sb3IzLnRvTHVtaW5hbmNlID0gdG9MdW1pbmFuY2U7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgZWFjaCBDb2xvcjMgcmdiIHZhbHVlcyBieSB0aGUgZ2l2ZW4gQ29sb3IzIHJnYiB2YWx1ZXMgaW4gQ29sb3IzIG9iamVjdFxuICAgICAqIEBwYXJhbSBvdGhlckNvbG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgY3JlYXRlIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHZhbHVlLCBvdGhlckNvbG9yKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciAqIG90aGVyQ29sb3IuciwgdmFsdWUuZyAqIG90aGVyQ29sb3IuZywgdmFsdWUuYiAqIG90aGVyQ29sb3IuYik7XG4gICAgfVxuICAgIENvbG9yMy5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoZSByZ2IgdmFsdWVzIG9mIHRoZSBDb2xvcjMgYW5kIHRoZSBnaXZlbiBDb2xvcjMgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIHRoZSBvYmplY3QgXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSBvdGhlckNvbG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgQ29sb3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZih2YWx1ZSwgb3RoZXJDb2xvciwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gdmFsdWUuciAqIG90aGVyQ29sb3IucjtcbiAgICAgICAgcmVzdWx0LmcgPSB2YWx1ZS5nICogb3RoZXJDb2xvci5nO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBvdGhlckNvbG9yLmI7XG4gICAgfVxuICAgIENvbG9yMy5tdWx0aXBseVRvUmVmID0gbXVsdGlwbHlUb1JlZjtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGVxdWFsaXR5IGJldHdlZW4gQ29sb3IzIG9iamVjdHNcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcmdiIHZhbHVlcyBhcmUgZXF1YWwgdG8gdGhlIGdpdmVuIG9uZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHModmFsdWUsIG90aGVyQ29sb3IpIHtcbiAgICAgICAgcmV0dXJuIChvdGhlckNvbG9yICYmXG4gICAgICAgICAgICB2YWx1ZS5yID09PSBvdGhlckNvbG9yLnIgJiZcbiAgICAgICAgICAgIHZhbHVlLmcgPT09IG90aGVyQ29sb3IuZyAmJlxuICAgICAgICAgICAgdmFsdWUuYiA9PT0gb3RoZXJDb2xvci5iKTtcbiAgICB9XG4gICAgQ29sb3IzLmVxdWFscyA9IGVxdWFscztcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGVxdWFsaXR5IGJldHdlZW4gdGhlIGN1cnJlbnQgQ29sb3IzIG9iamVjdCBhbmQgYSBzZXQgb2YgcixiLGcgdmFsdWVzXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIGNoZWNrXG4gICAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcmdiIHZhbHVlcyBhcmUgZXF1YWwgdG8gdGhlIGdpdmVuIG9uZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHNGbG9hdHModmFsdWUsIHIsIGcsIGIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnIgPT09IHIgJiYgdmFsdWUuZyA9PT0gZyAmJiB2YWx1ZS5iID09PSBiO1xuICAgIH1cbiAgICBDb2xvcjMuZXF1YWxzRmxvYXRzID0gZXF1YWxzRmxvYXRzO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgaW4gcGxhY2UgZWFjaCByZ2IgdmFsdWUgYnkgc2NhbGVcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHZhbHVlLCBzY2FsZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgKiBzY2FsZSwgdmFsdWUuZyAqIHNjYWxlLCB2YWx1ZS5iICogc2NhbGUpO1xuICAgIH1cbiAgICBDb2xvcjMuc2NhbGUgPSBzY2FsZTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoZSByZ2IgdmFsdWVzIGJ5IHNjYWxlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlVG9SZWYodmFsdWUsIHNjYWxlLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5nID0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBzY2FsZTtcbiAgICB9XG4gICAgQ29sb3IzLnNjYWxlVG9SZWYgPSBzY2FsZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBjdXJyZW50IENvbG9yMyB2YWx1ZXMgYnkgYSBmYWN0b3IgYW5kIGFkZCB0aGUgcmVzdWx0IHRvIGEgZ2l2ZW4gQ29sb3IzXG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgY29sb3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbnRvXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBDb2xvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZUFuZEFkZFRvUmVmKHZhbHVlLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yICs9IHZhbHVlLnIgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmcgKz0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiArPSB2YWx1ZS5iICogc2NhbGU7XG4gICAgfVxuICAgIENvbG9yMy5zY2FsZUFuZEFkZFRvUmVmID0gc2NhbGVBbmRBZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDbGFtcHMgdGhlIHJnYiB2YWx1ZXMgYnkgdGhlIG1pbiBhbmQgbWF4IHZhbHVlcyBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW50byBcInJlc3VsdFwiXG4gICAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgbWluaW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIG1heGltdW0gY2xhbXBpbmcgdmFsdWUgKGRlZmF1bHQgaXMgMSlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyBjb2xvciB0byBzdG9yZSB0aGUgcmVzdWx0IGludG9cbiAgICAgKiBAcmV0dXJucyB0aGUgb3JpZ2luYWwgQ29sb3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXBUb1JlZih2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gU2NhbGFyLmNsYW1wKHZhbHVlLnIsIG1pbiwgbWF4KTtcbiAgICAgICAgcmVzdWx0LmcgPSBTY2FsYXIuY2xhbXAodmFsdWUuZywgbWluLCBtYXgpO1xuICAgICAgICByZXN1bHQuYiA9IFNjYWxhci5jbGFtcCh2YWx1ZS5iLCBtaW4sIG1heCk7XG4gICAgfVxuICAgIENvbG9yMy5jbGFtcFRvUmVmID0gY2xhbXBUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDbGFtcHMgdGhlIHJnYiB2YWx1ZXMgYnkgdGhlIG1pbiBhbmQgbWF4IHZhbHVlcyBhbmQgcmV0dXJucyB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgbWluaW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIG1heGltdW0gY2xhbXBpbmcgdmFsdWUgKGRlZmF1bHQgaXMgMSlcbiAgICAgKiBAcmV0dXJucyByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBDb2xvcjMuQmxhY2soKTtcbiAgICAgICAgY2xhbXBUb1JlZih2YWx1ZSwgbWluLCBtYXgsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvbG9yMy5jbGFtcCA9IGNsYW1wO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgQ29sb3IzIHNldCB3aXRoIHRoZSBhZGRlZCB2YWx1ZXMgb2YgdGhlIGN1cnJlbnQgQ29sb3IzIGFuZCBvZiB0aGUgZ2l2ZW4gb25lXG4gICAgICogQHBhcmFtIG90aGVyQ29sb3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBjcmVhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQodmFsdWUsIG90aGVyQ29sb3IpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2YWx1ZS5yICsgb3RoZXJDb2xvci5yLCB2YWx1ZS5nICsgb3RoZXJDb2xvci5nLCB2YWx1ZS5iICsgb3RoZXJDb2xvci5iKTtcbiAgICB9XG4gICAgQ29sb3IzLmFkZCA9IGFkZDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgdGhlIHJlc3VsdCBvZiB0aGUgYWRkaXRpb24gb2YgdGhlIGN1cnJlbnQgQ29sb3IzIGFuZCBnaXZlbiBvbmUgcmdiIHZhbHVlcyBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgQ29sb3IzIG9iamVjdCB0byBzdG9yZSB0aGUgcmVzdWx0IGludG9cbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZFRvUmVmKHZhbHVlLCBvdGhlckNvbG9yLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yICsgb3RoZXJDb2xvci5yO1xuICAgICAgICByZXN1bHQuZyA9IHZhbHVlLmcgKyBvdGhlckNvbG9yLmc7XG4gICAgICAgIHJlc3VsdC5iID0gdmFsdWUuYiArIG90aGVyQ29sb3IuYjtcbiAgICB9XG4gICAgQ29sb3IzLmFkZFRvUmVmID0gYWRkVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBDb2xvcjMgc2V0IHdpdGggdGhlIHN1YnRyYWN0ZWQgdmFsdWVzIG9mIHRoZSBnaXZlbiBvbmUgZnJvbSB0aGUgY3VycmVudCBDb2xvcjNcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIGNyZWF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KHZhbHVlLCBvdGhlckNvbG9yKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciAtIG90aGVyQ29sb3IuciwgdmFsdWUuZyAtIG90aGVyQ29sb3IuZywgdmFsdWUuYiAtIG90aGVyQ29sb3IuYik7XG4gICAgfVxuICAgIENvbG9yMy5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyB0aGUgcmVzdWx0IG9mIHRoZSBzdWJ0cmFjdGlvbiBvZiBnaXZlbiBvbmUgZnJvbSB0aGUgY3VycmVudCBDb2xvcjMgcmdiIHZhbHVlcyBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgQ29sb3IzIG9iamVjdCB0byBzdG9yZSB0aGUgcmVzdWx0IGludG9cbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnRyYWN0VG9SZWYodmFsdWUsIG90aGVyQ29sb3IsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IHZhbHVlLnIgLSBvdGhlckNvbG9yLnI7XG4gICAgICAgIHJlc3VsdC5nID0gdmFsdWUuZyAtIG90aGVyQ29sb3IuZztcbiAgICAgICAgcmVzdWx0LmIgPSB2YWx1ZS5iIC0gb3RoZXJDb2xvci5iO1xuICAgIH1cbiAgICBDb2xvcjMuc3VidHJhY3RUb1JlZiA9IHN1YnRyYWN0VG9SZWY7XG4gICAgLyoqXG4gICAgICogQ29weSB0aGUgY3VycmVudCBvYmplY3RcbiAgICAgKiBAcmV0dXJucyBDb2xvcjMgY29waWVkIHRoZSBjdXJyZW50IG9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciwgdmFsdWUuZywgdmFsdWUuYik7XG4gICAgfVxuICAgIENvbG9yMy5jbG9uZSA9IGNsb25lO1xuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgcmdiIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UgaW4gdGhlIGN1cnJlbnQgQ29sb3IzXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIGRlZmluZXMgdGhlIHNvdXJjZSBDb2xvcjMgb2JqZWN0XG4gICAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgQ29sb3IzIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlGcm9tKHNvdXJjZSwgZGVzdCkge1xuICAgICAgICBkZXN0LnIgPSBzb3VyY2UucjtcbiAgICAgICAgZGVzdC5nID0gc291cmNlLmc7XG4gICAgICAgIGRlc3QuYiA9IHNvdXJjZS5iO1xuICAgIH1cbiAgICBDb2xvcjMuY29weUZyb20gPSBjb3B5RnJvbTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBDb2xvcjMgcmdiIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBmbG9hdHNcbiAgICAgKiBAcGFyYW0gZGVzdCAtXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQoZGVzdCwgciwgZywgYikge1xuICAgICAgICBkZXN0LnIgPSByO1xuICAgICAgICBkZXN0LmcgPSBnO1xuICAgICAgICBkZXN0LmIgPSBiO1xuICAgIH1cbiAgICBDb2xvcjMuc2V0ID0gc2V0O1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIENvbG9yMyBoZXhhZGVjaW1hbCBjb2RlIGFzIGEgc3RyaW5nXG4gICAgICogQHJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgaGV4YWRlY2ltYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIENvbG9yMyBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0hleFN0cmluZyh2YWx1ZSkge1xuICAgICAgICBjb25zdCBpbnRSID0gKHZhbHVlLnIgKiAyNTUpIHwgMDtcbiAgICAgICAgY29uc3QgaW50RyA9ICh2YWx1ZS5nICogMjU1KSB8IDA7XG4gICAgICAgIGNvbnN0IGludEIgPSAodmFsdWUuYiAqIDI1NSkgfCAwO1xuICAgICAgICByZXR1cm4gJyMnICsgU2NhbGFyLnRvSGV4KGludFIpICsgU2NhbGFyLnRvSGV4KGludEcpICsgU2NhbGFyLnRvSGV4KGludEIpO1xuICAgIH1cbiAgICBDb2xvcjMudG9IZXhTdHJpbmcgPSB0b0hleFN0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBDb2xvcjMgY29udmVydGVkIGZyb20gdGhlIGN1cnJlbnQgb25lIHRvIGxpbmVhciBzcGFjZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xpbmVhclNwYWNlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZENvbG9yID0gY3JlYXRlKCk7XG4gICAgICAgIHRvTGluZWFyU3BhY2VUb1JlZih2YWx1ZSwgY29udmVydGVkQ29sb3IpO1xuICAgICAgICByZXR1cm4gY29udmVydGVkQ29sb3I7XG4gICAgfVxuICAgIENvbG9yMy50b0xpbmVhclNwYWNlID0gdG9MaW5lYXJTcGFjZTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgQ29sb3IzIHZhbHVlcyB0byBsaW5lYXIgc3BhY2UgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIFwiY29udmVydGVkQ29sb3JcIlxuICAgICAqIEBwYXJhbSBjb252ZXJ0ZWRDb2xvciAtIGRlZmluZXMgdGhlIENvbG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIGxpbmVhciBzcGFjZSB2ZXJzaW9uXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgQ29sb3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MaW5lYXJTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcikge1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5yID0gTWF0aC5wb3codmFsdWUuciwgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmcgPSBNYXRoLnBvdyh2YWx1ZS5nLCBUb0xpbmVhclNwYWNlKTtcbiAgICAgICAgY29udmVydGVkQ29sb3IuYiA9IE1hdGgucG93KHZhbHVlLmIsIFRvTGluZWFyU3BhY2UpO1xuICAgIH1cbiAgICBDb2xvcjMudG9MaW5lYXJTcGFjZVRvUmVmID0gdG9MaW5lYXJTcGFjZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIENvbG9yMyBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gZ2FtbWEgc3BhY2VcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9HYW1tYVNwYWNlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZENvbG9yID0gY3JlYXRlKCk7XG4gICAgICAgIHRvR2FtbWFTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcik7XG4gICAgICAgIHJldHVybiBjb252ZXJ0ZWRDb2xvcjtcbiAgICB9XG4gICAgQ29sb3IzLnRvR2FtbWFTcGFjZSA9IHRvR2FtbWFTcGFjZTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgQ29sb3IzIHZhbHVlcyB0byBnYW1tYSBzcGFjZSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gXCJjb252ZXJ0ZWRDb2xvclwiXG4gICAgICogQHBhcmFtIGNvbnZlcnRlZENvbG9yIC0gZGVmaW5lcyB0aGUgQ29sb3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgZ2FtbWEgc3BhY2UgdmVyc2lvblxuICAgICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvR2FtbWFTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcikge1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5yID0gTWF0aC5wb3codmFsdWUuciwgVG9HYW1tYVNwYWNlKTtcbiAgICAgICAgY29udmVydGVkQ29sb3IuZyA9IE1hdGgucG93KHZhbHVlLmcsIFRvR2FtbWFTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmIgPSBNYXRoLnBvdyh2YWx1ZS5iLCBUb0dhbW1hU3BhY2UpO1xuICAgIH1cbiAgICBDb2xvcjMudG9HYW1tYVNwYWNlVG9SZWYgPSB0b0dhbW1hU3BhY2VUb1JlZjtcbn0pKENvbG9yMyB8fCAoQ29sb3IzID0ge30pKTtcbiIsICJpbXBvcnQgeyBlbmdpbmUsIE1hdGVyaWFsLCBNZXNoUmVuZGVyZXIsIFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwsIFNjaGVtYXMsIFRyYW5zZm9ybSB9IGZyb20gJ0BkY2wvc2RrL2Vjcyc7XG5pbXBvcnQgeyBDb2xvcjQsIFF1YXRlcm5pb24sIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJztcblxubGV0IHRpbWVFbGFwc2VkID0gMDtcblxuZXhwb3J0IGNvbnN0IFBhcnRpY2xlU3RhdGUgPSB7XG4gIEFDVElWRTogXCJBQ1RJVkVcIixcbiAgRFJPUFBJTkc6IFwiRFJPUFBJTkdcIixcbiAgSU5BQ1RJVkU6IFwiSU5BQ1RJVkVcIlxufTtcblxuXG5jb25zdCB0cmFuc2l0aW9uUHJvYmFiaWxpdGllcyA9IFswLjMsIDAuMiwgMC4yLCAwLjEsIDAuMl07XG5jb25zdCB0aWdodG5lc3NBcnJheSA9IFswLjEsIDAuMywgMC41LCAwLjgsIDFdO1xuY29uc3Qgc3BlZWRBcnJheSA9IFswLjUsIDEsIDEuNSwgMl07XG5jb25zdCBzcGlyYWxDb3VudEFycmF5ID0gWzQsIDYsIDhdO1xuY29uc3Qgc2l6ZUFycmF5ID0gWzAuMSwgMC41LCAxLCAyLCA1XTtcblxudHlwZSBQYXJ0aWNsZVN0YXRlVHlwZSA9IGtleW9mIHR5cGVvZiBQYXJ0aWNsZVN0YXRlO1xuXG5cbmV4cG9ydCBjb25zdCBQYXJ0aWNsZSA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ1BhcnRpY2xlJywge1xuICBhbmdsZTogU2NoZW1hcy5GbG9hdCxcbiAgcmFkaXVzOiBTY2hlbWFzLkZsb2F0LFxuICBzcGVlZDogU2NoZW1hcy5OdW1iZXIsXG4gIHNwaXJhbE9mZnNldDogU2NoZW1hcy5GbG9hdCxcbiAgc3RhdGU6IFNjaGVtYXMuU3RyaW5nLFxuICBtYXJrb3ZTdGVwOiBTY2hlbWFzLkludCAvLyBDdXJyZW50IHN0ZXAgaW4gTWFya292IENoYWluXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpY2xlU3lzdGVtKGR0OiBudW1iZXIpIHtcbiAgdGltZUVsYXBzZWQgKz0gZHQ7XG5cbiAgZm9yIChjb25zdCBbZW50aXR5XSBvZiBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFBhcnRpY2xlLCBUcmFuc2Zvcm0pKSB7XG4gICAgY29uc3QgcGFydGljbGUgPSBQYXJ0aWNsZS5nZXRNdXRhYmxlKGVudGl0eSk7XG4gICAgcGFydGljbGUuYW5nbGUgKz0gZHQgKiBwYXJ0aWNsZS5zcGVlZDtcblxuICAgIGlmIChwYXJ0aWNsZS5hbmdsZSA+PSAyICogTWF0aC5QSSkge1xuICAgICAgcGFydGljbGUuYW5nbGUgPSAwO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgbmV4dCBNYXJrb3Ygc3RlcFxuICAgICAgY29uc3QgcmFuZG9tTnVtYmVyID0gTWF0aC5yYW5kb20oKTtcbiAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgZm9yIChsZXQgcHJvYiBvZiB0cmFuc2l0aW9uUHJvYmFiaWxpdGllcykge1xuICAgICAgICBzdW0gKz0gcHJvYjtcbiAgICAgICAgaWYgKHJhbmRvbU51bWJlciA8PSBzdW0pIHtcbiAgICAgICAgICBwYXJ0aWNsZS5tYXJrb3ZTdGVwID0gdHJhbnNpdGlvblByb2JhYmlsaXRpZXMuaW5kZXhPZihwcm9iKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBcHBseSBuZXcgc2V0dGluZ3MgYmFzZWQgb24gTWFya292IHN0ZXBcbiAgICAgIHBhcnRpY2xlLnNwZWVkID0gc3BlZWRBcnJheVtwYXJ0aWNsZS5tYXJrb3ZTdGVwICUgc3BlZWRBcnJheS5sZW5ndGhdO1xuICAgIH1cblxuICAgIGNvbnN0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKGVudGl0eSk7XG4gICAgY29uc3QgYWRqdXN0ZWRBbmdsZSA9IHBhcnRpY2xlLmFuZ2xlICogdGlnaHRuZXNzQXJyYXlbcGFydGljbGUubWFya292U3RlcCAlIHRpZ2h0bmVzc0FycmF5Lmxlbmd0aF07XG4gICAgY29uc3QgeCA9IHBhcnRpY2xlLnJhZGl1cyAqIE1hdGguY29zKGFkanVzdGVkQW5nbGUgKyBwYXJ0aWNsZS5zcGlyYWxPZmZzZXQpO1xuICAgIGNvbnN0IHogPSBwYXJ0aWNsZS5yYWRpdXMgKiBNYXRoLnNpbihhZGp1c3RlZEFuZ2xlICsgcGFydGljbGUuc3BpcmFsT2Zmc2V0KTtcbiAgICBjb25zdCB5ID0gcGFydGljbGUucmFkaXVzICogTWF0aC5zaW4oYWRqdXN0ZWRBbmdsZSk7IC8vIEFkZGVkIFktY29vcmRpbmF0ZSB0byBtb3ZlIGRvd253YXJkXG4gICAgdHJhbnNmb3JtLnBvc2l0aW9uID0gVmVjdG9yMy5jcmVhdGUoeCwgeSwgeik7IC8vIEFkZGVkIHkgdG8gdGhlIHBvc2l0aW9uIHZlY3RvclxuICAgIGNvbnN0IGFkanVzdGVkU2l6ZSA9IHNpemVBcnJheVtwYXJ0aWNsZS5tYXJrb3ZTdGVwICUgc2l6ZUFycmF5Lmxlbmd0aF07XG4gICAgdHJhbnNmb3JtLnNjYWxlID0gVmVjdG9yMy5jcmVhdGUoYWRqdXN0ZWRTaXplLCBhZGp1c3RlZFNpemUsIGFkanVzdGVkU2l6ZSk7XG4gICAgXG5cblxuICB9XG59XG5cbmNvbnN0IG1hdGVyaWFsOiBQQk1hdGVyaWFsX1Bick1hdGVyaWFsID0ge1xuICBtZXRhbGxpYzogMSxcbiAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC41LCAxLjUsIDIpLFxuICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC41LCAyKVxufTtcblxuY29uc3QgcGFydGljbGVQYXJlbnRFbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KCk7XG5UcmFuc2Zvcm0uY3JlYXRlKHBhcnRpY2xlUGFyZW50RW50aXR5LCB7XG4gIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg3Ljk3LCAxMCwgNC4zNyksXG4gIHJvdGF0aW9uOiBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoMCwgOTAsIDApXG59KTtcblxuY29uc3QgTUFYX1BBUlRJQ0xFU19QRVJfU1BJUkFMID0gODA7XG5jb25zdCBTUElSQUxfQ09VTlQgPSAxMDtcbmNvbnN0IFNQSVJBTF9PRkZTRVQgPSAoMiAqIE1hdGguUEkpIC8gU1BJUkFMX0NPVU5UO1xuXG5mb3IgKGxldCBzID0gMDsgcyA8IFNQSVJBTF9DT1VOVDsgcysrKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgTUFYX1BBUlRJQ0xFU19QRVJfU1BJUkFMOyBpKyspIHtcbiAgICBjb25zdCBwYXJ0aWNsZUVudGl0eSA9IGVuZ2luZS5hZGRFbnRpdHkoKTtcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHBhcnRpY2xlRW50aXR5KTsgLy8gU2V0dGluZyBwYXJ0aWNsZXMgdG8gYmUgY3ViZXNcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChwYXJ0aWNsZUVudGl0eSwgbWF0ZXJpYWwpO1xuICAgIFxuICAgIFBhcnRpY2xlLmNyZWF0ZShwYXJ0aWNsZUVudGl0eSwge1xuICAgICAgYW5nbGU6IGkgKiAwLjIsXG4gICAgICByYWRpdXM6IGkgKiAwLjMsXG4gICAgICBzcGVlZDogMixcbiAgICAgIHNwaXJhbE9mZnNldDogcyAqIFNQSVJBTF9PRkZTRVQsXG4gICAgICBzdGF0ZTogUGFydGljbGVTdGF0ZS5BQ1RJVkUsXG4gICAgICBtYXJrb3ZTdGVwOiAwXG4gICAgfSk7XG5cbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHBhcnRpY2xlRW50aXR5LCB7XG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4yLCA1LCAwLjIpLCAvLyBTY2FsZSBmb3IgdGhlIGN1YmVcbiAgICAgIHBhcmVudDogcGFydGljbGVQYXJlbnRFbnRpdHlcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEF1ZGlvU291cmNlLCBBdmF0YXJBdHRhY2gsIEVudGl0eSwgTWVzaENvbGxpZGVyLGVuZ2luZSwgVHJhbnNmb3JtLCBNZXNoUmVuZGVyZXIsIEF2YXRhckFuY2hvclBvaW50VHlwZSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcblxuXG4vKlxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNvdW5kKHNyYzogc3RyaW5nKSB7XG4gIGNvbnN0IGVudGl0eSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICBUcmFuc2Zvcm0uY3JlYXRlKGVudGl0eSlcbiAgQXVkaW9Tb3VyY2UuY3JlYXRlKGVudGl0eSwgeyBhdWRpb0NsaXBVcmw6IHNyYywgcGxheWluZzogdHJ1ZSB9KVxuICByZXR1cm4gZW50aXR5XG59XG4qL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5U291bmQoZW50aXR5OiBFbnRpdHkpe1xuICBjb25zdCBhdWRpb1NvdXJjZSA9IEF1ZGlvU291cmNlLmdldE11dGFibGUoZW50aXR5KTtcbiAgaWYgKGF1ZGlvU291cmNlKSB7XG4gICAgYXVkaW9Tb3VyY2UucGxheWluZyA9IHRydWU7XG4gICAgYXVkaW9Tb3VyY2UubG9vcCA9IHRydWU7XG4gICAgY29uc29sZS5sb2coXCJBdWRpbyBzaG91bGQgYmUgcGxheWluZ1wiKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIHNvdXJjZSBpcyB1bmRlZmluZWRcIik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BTb3VuZChlbnRpdHk6IEVudGl0eSl7XG4gIGNvbnN0IGF1ZGlvU291cmNlID0gQXVkaW9Tb3VyY2UuZ2V0TXV0YWJsZShlbnRpdHkpO1xuICBpZiAoYXVkaW9Tb3VyY2UpIHtcbiAgICBhdWRpb1NvdXJjZS5wbGF5aW5nID0gZmFsc2U7XG4gICAgYXVkaW9Tb3VyY2UubG9vcCA9IGZhbHNlO1xuICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gc2hvdWxkIGJlIHBsYXlpbmdcIik7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXCJBdWRpbyBzb3VyY2UgaXMgdW5kZWZpbmVkXCIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5T25lU2hvdChlbnRpdHk6IEVudGl0eSl7XG4gIGNvbnN0IGF1ZGlvU291cmNlID0gQXVkaW9Tb3VyY2UuZ2V0TXV0YWJsZShlbnRpdHkpO1xuICBpZiAoYXVkaW9Tb3VyY2UpIHtcbiAgICBhdWRpb1NvdXJjZS5wbGF5aW5nID0gdHJ1ZTtcbiAgICBhdWRpb1NvdXJjZS5sb29wID0gZmFsc2U7XG4gICAgY29uc29sZS5sb2coXCJBdWRpbyBzaG91bGQgYmUgcGxheWluZ1wiKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIHNvdXJjZSBpcyB1bmRlZmluZWRcIik7XG4gIH1cbn1cblxuXG5leHBvcnQgY29uc3QgaW50cm8gPSBlbmdpbmUuYWRkRW50aXR5KClcbi8vTWVzaENvbGxpZGVyLnNldEJveChpbnRybylcbk1lc2hDb2xsaWRlci5zZXRCb3goaW50cm8pXG5BdWRpb1NvdXJjZS5jcmVhdGUoaW50cm8sIHtcbiAgYXVkaW9DbGlwVXJsOiAnc291bmRzL2xvYmJ5T0ZGYWlyLm1wMycsXG4gIHBsYXlpbmc6IHRydWVcbn0pXG5UcmFuc2Zvcm0uY3JlYXRlKGludHJvLCB7XG4gIHBvc2l0aW9uOiB7IHg6IDgsIHk6IDYsIHo6LTkgfSxcbiAgc2NhbGU6IHsgeDogMSwgeTogMSwgejogMSB9LFxufSk7ICAgIFxuXG5cblxuZXhwb3J0IGNvbnN0IFBhcnRBdWRpbyA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuLy9NZXNoUmVuZGVyZXIuc2V0Qm94KFBhcnRBdWRpbylcbk1lc2hDb2xsaWRlci5zZXRCb3goUGFydEF1ZGlvKVxuXG5BdWRpb1NvdXJjZS5jcmVhdGUoUGFydEF1ZGlvLCB7XG4gIGF1ZGlvQ2xpcFVybDogJ3NvdW5kcy9hbWJpZW50MSEubXAzJyxcbiAgcGxheWluZzogdHJ1ZVxufSlcblRyYW5zZm9ybS5jcmVhdGUoUGFydEF1ZGlvLCB7XG4gIHBvc2l0aW9uOiB7IHg6IDcuOCwgeTogNCwgejogMS42OCB9LFxuICBzY2FsZTogeyB4OiAxLCB5OiAxLCB6OiAxIH0sXG5cbn0pOyAgICBcblxuZXhwb3J0IGNvbnN0IGZsb3dlciA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuLy9NZXNoQ29sbGlkZXIuc2V0Qm94KGZsb3dlcilcbi8vTWVzaFJlbmRlcmVyLnNldEJveChmbG93ZXIpXG5BdWRpb1NvdXJjZS5jcmVhdGUoZmxvd2VyLCB7XG4gIGF1ZGlvQ2xpcFVybDogJ3NvdW5kcy9mbG93ZXIubXAzJyxcbiAgcGxheWluZzogdHJ1ZVxufSlcbkF2YXRhckF0dGFjaC5jcmVhdGVPclJlcGxhY2UoZmxvd2VyLCB7XG4gIGFuY2hvclBvaW50SWQ6IEF2YXRhckFuY2hvclBvaW50VHlwZS5BQVBUX05BTUVfVEFHXG59KVxuXG5leHBvcnQgY29uc3QgUG93ZXJEb3duID0gZW5naW5lLmFkZEVudGl0eSgpXG5NZXNoQ29sbGlkZXIuc2V0Qm94KFBvd2VyRG93bilcblxuQXVkaW9Tb3VyY2UuY3JlYXRlKFBvd2VyRG93biwge1xuICBhdWRpb0NsaXBVcmw6ICdzb3VuZHMvcG93ZXJEb3duIS5tcDMnLFxuICBwbGF5aW5nOiB0cnVlXG59KVxuVHJhbnNmb3JtLmNyZWF0ZShQb3dlckRvd24sIHtcbiAgcG9zaXRpb246IHsgeDogNy44LCB5OiA4LCB6OiAxLjY4IH0sXG4gIHNjYWxlOiB7IHg6IDEsIHk6IDEsIHo6IDEgfSxcblxufSk7ICAgIFxuIiwgImltcG9ydCB7IEVudGl0eSwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgVmVjdG9yMywgUXVhdGVybmlvbiB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5cbi8qKlxuICogUmVtYXBzIGEgdmFsdWUgZnJvbSBvbmUgcmFuZ2Ugb2YgdmFsdWVzIHRvIGl0cyBlcXVpdmFsZW50LCBzY2FsZWQgaW4gcHJvcG9ydGlvbiB0byBhbm90aGVyIHJhbmdlIG9mIHZhbHVlcywgdXNpbmcgbWF4aW11bSBhbmQgbWluaW11bS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSB2YWx1ZSBpbnB1dCBudW1iZXJcbiAqIEBwYXJhbSBtaW4xIC0gbWluMSBNaW5pbXVtIHZhbHVlIGluIHRoZSByYW5nZSBvZiB0aGUgaW5wdXQuXG4gKiBAcGFyYW0gbWF4MSAtIG1heDEgTWF4aW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2Ugb2YgdGhlIGlucHV0LlxuICogQHBhcmFtIG1pbjIgLSBtaW4yIE1pbmltdW0gdmFsdWUgaW4gdGhlIHJhbmdlIG9mIHRoZSBvdXRwdXQuXG4gKiBAcGFyYW0gbWF4MiAtIG1heDIgTWF4aW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2Ugb2YgdGhlIG91dHB1dC5cbiAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgcmVtYXBwZWQgdmFsdWUgYmV0d2VlbiB0aGUgbmV3IG1pbiBhbmQgbWF4XG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1hcChcbiAgdmFsdWU6IG51bWJlcixcbiAgbWluMTogbnVtYmVyLFxuICBtYXgxOiBudW1iZXIsXG4gIG1pbjI6IG51bWJlcixcbiAgbWF4MjogbnVtYmVyXG4pIHtcbiAgbGV0IHJhbmdlMSA9IG1heDEgLSBtaW4xXG4gIGxldCByYW5nZTIgPSBtYXgyIC0gbWluMlxuICByZXR1cm4gKCh2YWx1ZSAtIG1pbjEpIC8gcmFuZ2UxKSAqIHJhbmdlMiArIG1pbjJcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiBhbiBlbnRpdHkgdGhhdCBpcyBhIGNoaWxkIG9mIG90aGVyIGVudGl0aWVzLCByZWxhdGl2ZSB0byB0aGUgc2NlbmUgaW5zdGVhZCBvZiByZWxhdGl2ZSB0byB0aGUgcGFyZW50LiBSZXR1cm5zIGEgVmVjdG9yMy5cbiAqXG4gKiBAcGFyYW0gZW50aXR5IC0gRW50aXR5IHRvIGNhbGN1bGF0ZSBwb3NpdGlvblxuICogQHJldHVybnMgVGhlIEVudGl0eSdzIGdsb2JhbCBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgc2NlbmUncyBvcmlnaW5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdvcmxkUG9zaXRpb24oZW50aXR5OiBFbnRpdHkpOiBWZWN0b3IzIHtcbiAgbGV0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRPck51bGwoZW50aXR5KVxuXG4gIGlmICghdHJhbnNmb3JtKVxuICAgIHJldHVybiBWZWN0b3IzLlplcm8oKVxuXG4gIGxldCBwYXJlbnQgPSB0cmFuc2Zvcm0ucGFyZW50XG5cbiAgaWYgKCFwYXJlbnQpIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtLnBvc2l0aW9uXG4gIH0gZWxzZSB7XG4gICAgbGV0IHBhcmVudFJvdGF0aW9uID0gVHJhbnNmb3JtLmdldChwYXJlbnQpLnJvdGF0aW9uXG4gICAgcmV0dXJuIFZlY3RvcjMuYWRkKGdldFdvcmxkUG9zaXRpb24ocGFyZW50KSwgVmVjdG9yMy5yb3RhdGUodHJhbnNmb3JtLnBvc2l0aW9uLCBwYXJlbnRSb3RhdGlvbikpXG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiBhbiBlbnRpdHkgdGhhdCBpcyBhIGNoaWxkIG9mIG90aGVyIGVudGl0aWVzLCByZWxhdGl2ZSB0byB0aGUgc2NlbmUgaW5zdGVhZCBvZiByZWxhdGl2ZSB0byB0aGUgcGFyZW50LiBSZXR1cm5zIGEgVmVjdG9yMy5cbiAqXG4gKiBAcGFyYW0gZW50aXR5IC0gRW50aXR5IHRvIGNhbGN1bGF0ZSBwb3NpdGlvblxuICogQHJldHVybnMgVGhlIEVudGl0eSdzIGdsb2JhbCByb3RhdGlvbiBpbiByZWZlcmVuY2UgdG8gdGhlIHNjZW5lJ3Mgb3JpZ2luXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXb3JsZFJvdGF0aW9uKGVudGl0eTogRW50aXR5KTogUXVhdGVybmlvbiB7XG4gIGxldCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0T3JOdWxsKGVudGl0eSlcblxuICBpZiAoIXRyYW5zZm9ybSlcbiAgICByZXR1cm4gUXVhdGVybmlvbi5JZGVudGl0eSgpXG5cbiAgbGV0IHBhcmVudCA9IHRyYW5zZm9ybS5wYXJlbnRcblxuICBpZiAoIXBhcmVudCkge1xuICAgIHJldHVybiB0cmFuc2Zvcm0ucm90YXRpb25cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUXVhdGVybmlvbi5tdWx0aXBseSh0cmFuc2Zvcm0ucm90YXRpb24sIGdldFdvcmxkUm90YXRpb24ocGFyZW50KSlcbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGVudW0gSW50ZXJwb2xhdGlvblR5cGUge1xuICBMSU5FQVIgPSAnbGluZWFyJyxcblxuICBFQVNFSU5RVUFEID0gJ2Vhc2VpbnF1YWQnLFxuICBFQVNFT1VUUVVBRCA9ICdlYXNlb3V0cXVhZCcsXG4gIEVBU0VRVUFEID0gJ2Vhc2VxdWFkJyxcblxuICBFQVNFSU5TSU5FID0gJ2Vhc2VpbnNpbmUnLFxuICBFQVNFT1VUU0lORSA9ICdlYXNlb3V0c2luZScsXG4gIEVBU0VTSU5FID0gJ2Vhc2Vpbm91dHNpbmUnLFxuXG4gIEVBU0VJTkVYUE8gPSAnZWFzZWluZXhwbycsXG4gIEVBU0VPVVRFWFBPID0gJ2Vhc2VvdXRleHBvJyxcbiAgRUFTRUVYUE8gPSAnZWFzZWlub3V0ZXhwbycsXG5cbiAgRUFTRUlORUxBU1RJQyA9ICdlYXNlaW5lbGFzdGljJyxcbiAgRUFTRU9VVEVMQVNUSUMgPSAnZWFzZW91dGVsYXN0aWMnLFxuICBFQVNFRUxBU1RJQyA9ICdlYXNlaW5vdXRlbGFzdGljJyxcblxuICBFQVNFSU5CT1VOQ0UgPSAnZWFzZWluYm91bmNlJyxcbiAgRUFTRU9VVEVCT1VOQ0UgPSAnZWFzZW91dGJvdW5jZScsXG4gIEVBU0VCT1VOQ0UgPSAnZWFzZWlub3V0Ym91bmNlJyxcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnBvbGF0ZSh0eXBlOiBJbnRlcnBvbGF0aW9uVHlwZSwgdDogbnVtYmVyKTogbnVtYmVyIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5MSU5FQVI6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVMaW5lYXIodClcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VJTlFVQUQ6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlSW5RdWFkKHQpXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFT1VUUVVBRDpcbiAgICAgIHJldHVybiBJbnRlcnBvbGF0ZUVhc2VPdXRRdWFkKHQpXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFUVVBRDpcbiAgICAgIHJldHVybiBJbnRlcnBvbGF0ZUVhc2VRdWFkKHQpXG5cdCAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFSU5TSU5FOlxuXHRcdCAgcmV0dXJuIEludGVycG9sYXRlRWFzZUluU2luZSh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRU9VVFNJTkU6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlT3V0U2luZSh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRVNJTkU6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlSW5PdXRTaW5lKHQpXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFSU5FWFBPOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZUluRXhwbyh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRU9VVEVYUE86XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlT3V0RXhwbyh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUVYUE86XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlSW5PdXRFeHBvKHQpXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFSU5FTEFTVElDOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZUluRWxhc3RpYyh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRU9VVEVMQVNUSUM6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlT3V0RWxhc3RpYyh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUVMQVNUSUM6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlSW5PdXRFbGFzdGljKHQpXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFSU5CT1VOQ0U6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlSW5Cb3VuY2UodClcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VPVVRFQk9VTkNFOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZU91dEJvdW5jZSh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUJPVU5DRTpcbiAgICAgIHJldHVybiBJbnRlcnBvbGF0ZUVhc2VJbk91dEJvdW5jZSh0KVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVMaW5lYXIodClcbiAgfVxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUxpbmVhcih0OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gdFxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VJblF1YWQodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIHQgKiB0XG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZU91dFF1YWQodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIHQgKiAoMiAtIHQpXG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZVF1YWQodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuICh0ICogdCkgLyAoMi4wICogKHQgKiB0IC0gdCkgKyAxLjApXG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZUluU2luZSh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gMSAtIE1hdGguY29zKCh0ICogTWF0aC5QSSkgLyAyKVxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VPdXRTaW5lKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBNYXRoLnNpbigodCAqIE1hdGguUEkpIC8gMilcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5PdXRTaW5lKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiAtKE1hdGguY29zKE1hdGguUEkgKiB0KSAtIDEpIC8gMlxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VJbkV4cG8odDogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIHQgPT09IDAgPyAwIDogTWF0aC5wb3coMiwgMTAgKiB0IC0gMTApXG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZU91dEV4cG8odDogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIHQgPT09IDEgPyAxIDogMSAtIE1hdGgucG93KDIsIC0xMCAqIHQpXG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZUluT3V0RXhwbyh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gdCA9PT0gMFxuXHRcdFx0PyAwXG5cdFx0XHQ6IHQgPT09IDFcblx0XHRcdD8gMVxuXHRcdFx0OiB0IDwgMC41XG5cdFx0XHQ/IE1hdGgucG93KDIsIDIwICogdCAtIDEwKSAvIDJcblx0XHRcdDogKDIgLSBNYXRoLnBvdygyLCAtMjAgKiB0ICsgMTApKSAvIDJcbn1cblxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VJbkVsYXN0aWModDogbnVtYmVyKTogbnVtYmVyIHtcblx0Y29uc3QgYzQgPSAoMiAqIE1hdGguUEkpIC8gM1xuXHRcblx0cmV0dXJuIHQgPT09IDBcblx0XHRcdD8gMFxuXHRcdFx0OiB0ID09PSAxXG5cdFx0XHQ/IDFcblx0XHRcdDogLU1hdGgucG93KDIsIDEwICogdCAtIDEwKSAqIE1hdGguc2luKCh0ICogMTAgLSAxMC43NSkgKiBjNClcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlT3V0RWxhc3RpYyh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRjb25zdCBjNSA9ICgyICogTWF0aC5QSSkgLyAzXG5cdFxuXHRyZXR1cm4gdCA9PT0gMFxuXHRcdFx0PyAwXG5cdFx0XHQ6IHQgPT09IDFcblx0XHRcdD8gMVxuXHRcdFx0OiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0ICogMTAgLSAwLjc1KSAqIGM1KSArIDFcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5PdXRFbGFzdGljKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdGNvbnN0IGM2ID0gKDIgKiBNYXRoLlBJKSAvIDQuNVxuXHRcblx0cmV0dXJuIHQgPT09IDBcblx0XHRcdD8gMFxuXHRcdFx0OiB0ID09PSAxXG5cdFx0XHQ/IDFcblx0XHRcdDogdCA8IDAuNVxuXHRcdFx0PyAtKE1hdGgucG93KDIsIDIwICogdCAtIDEwKSAqIE1hdGguc2luKCgyMCAqIHQgLSAxMS4xMjUpICogYzYpKSAvIDJcblx0XHRcdDogKE1hdGgucG93KDIsIC0yMCAqIHQgKyAxMCkgKiBNYXRoLnNpbigoMjAgKiB0IC0gMTEuMTI1KSAqIGM2KSkgLyAyICsgMVxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VJbkJvdW5jZSh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gMSAtIGJvdW5jZSgxIC0gdClcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlT3V0Qm91bmNlKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBib3VuY2UodClcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5PdXRCb3VuY2UodDogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIHQgPCAwLjUgPyAoMSAtIGJvdW5jZSgxIC0gMiAqIHQpKSAvIDIgOiAoMSArIGJvdW5jZSgyICogdCAtIDEpKSAvIDJcbn1cblxuZnVuY3Rpb24gYm91bmNlKHg6IG51bWJlcikge1xuXHRjb25zdCBuMSA9IDcuNTYyNVxuXHRjb25zdCBkMSA9IDIuNzVcblxuXHRpZiAoeCA8IDEgLyBkMSkge1xuXHRcdHJldHVybiBuMSAqIHggKiB4XG5cdH0gZWxzZSBpZiAoeCA8IDIgLyBkMSkge1xuXHRcdHJldHVybiBuMSAqICh4IC09IDEuNSAvIGQxKSAqIHggKyAwLjc1XG5cdH0gZWxzZSBpZiAoeCA8IDIuNSAvIGQxKSB7XG5cdFx0cmV0dXJuIG4xICogKHggLT0gMi4yNSAvIGQxKSAqIHggKyAwLjkzNzVcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gbjEgKiAoeCAtPSAyLjYyNSAvIGQxKSAqIHggKyAwLjk4NDM3NVxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYXRtdWxsUm9tU3BsaW5lKHBvaW50czogVmVjdG9yM1tdLCBuYlBvaW50czogbnVtYmVyLCBjbG9zZWQ/OiBib29sZWFuKTogVmVjdG9yM1tdIHtcblx0Y29uc3QgY2F0bXVsbFJvbSA9IG5ldyBBcnJheTxWZWN0b3IzPigpO1xuXHRjb25zdCBzdGVwID0gMS4wIC8gbmJQb2ludHM7XG5cdGxldCBhbW91bnQgPSAwLjA7XG5cdGlmIChjbG9zZWQpIHtcblx0XHRjb25zdCBwb2ludHNDb3VudCA9IHBvaW50cy5sZW5ndGg7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHNDb3VudDsgaSsrKSB7XG5cdFx0XHRhbW91bnQgPSAwO1xuXHRcdFx0Zm9yIChsZXQgYyA9IDA7IGMgPCBuYlBvaW50czsgYysrKSB7XG5cdFx0XHRcdGNhdG11bGxSb20ucHVzaChcblx0XHRcdFx0XHRWZWN0b3IzLmNhdG11bGxSb20ocG9pbnRzW2kgJSBwb2ludHNDb3VudF0sIHBvaW50c1soaSArIDEpICUgcG9pbnRzQ291bnRdLCBwb2ludHNbKGkgKyAyKSAlIHBvaW50c0NvdW50XSwgcG9pbnRzWyhpICsgMykgJSBwb2ludHNDb3VudF0sIGFtb3VudClcblx0XHRcdFx0KTtcblx0XHRcdFx0YW1vdW50ICs9IHN0ZXA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNhdG11bGxSb20ucHVzaChjYXRtdWxsUm9tWzBdKTtcblx0fSBlbHNlIHtcblx0XHRjb25zdCB0b3RhbFBvaW50cyA9IG5ldyBBcnJheTxWZWN0b3IzPigpO1xuXHRcdHRvdGFsUG9pbnRzLnB1c2goVmVjdG9yMy5jbG9uZShwb2ludHNbMF0pKTtcblx0XHRBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0b3RhbFBvaW50cywgcG9pbnRzKTtcblx0XHR0b3RhbFBvaW50cy5wdXNoKFZlY3RvcjMuY2xvbmUocG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSkpO1xuXHRcdGxldCBpID0gMDtcblx0XHRmb3IgKDsgaSA8IHRvdGFsUG9pbnRzLmxlbmd0aCAtIDM7IGkrKykge1xuXHRcdFx0YW1vdW50ID0gMDtcblx0XHRcdGZvciAobGV0IGMgPSAwOyBjIDwgbmJQb2ludHM7IGMrKykge1xuXHRcdFx0XHRjYXRtdWxsUm9tLnB1c2goVmVjdG9yMy5jYXRtdWxsUm9tKHRvdGFsUG9pbnRzW2ldLCB0b3RhbFBvaW50c1tpICsgMV0sIHRvdGFsUG9pbnRzW2kgKyAyXSwgdG90YWxQb2ludHNbaSArIDNdLCBhbW91bnQpKTtcblx0XHRcdFx0YW1vdW50ICs9IHN0ZXA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGktLTtcblx0XHRjYXRtdWxsUm9tLnB1c2goVmVjdG9yMy5jYXRtdWxsUm9tKHRvdGFsUG9pbnRzW2ldLCB0b3RhbFBvaW50c1tpICsgMV0sIHRvdGFsUG9pbnRzW2kgKyAyXSwgdG90YWxQb2ludHNbaSArIDNdLCBhbW91bnQpKTtcblx0fVxuXHRyZXR1cm4gY2F0bXVsbFJvbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFyZUFBQkJJbnRlcnNlY3RpbmcoYU1pbjogVmVjdG9yMywgYU1heDogVmVjdG9yMywgYk1pbjogVmVjdG9yMywgYk1heDogVmVjdG9yMyk6IGJvb2xlYW4ge1xuXHRyZXR1cm4gKFxuXHRcdGFNaW4ueCA8PSBiTWF4LnggJiZcblx0XHRhTWF4LnggPj0gYk1pbi54ICYmXG5cdFx0YU1pbi55IDw9IGJNYXgueSAmJlxuXHRcdGFNYXgueSA+PSBiTWluLnkgJiZcblx0XHRhTWluLnogPD0gYk1heC56ICYmXG5cdFx0YU1heC56ID49IGJNaW4uelxuXHQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVTcGhlcmVzSW50ZXJzZWN0aW5nKGFQb3M6IFZlY3RvcjMsIGFSYWRpdXM6IG51bWJlciwgYlBvczogVmVjdG9yMywgYlJhZGl1czogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGNvbnN0IHNxRGlzdCA9IFZlY3RvcjMuZGlzdGFuY2VTcXVhcmVkKGFQb3MsIGJQb3MpXG4gIGNvbnN0IHJhZGl1c1N1bSA9IGFSYWRpdXMgKyBiUmFkaXVzXG4gIHJldHVybiBzcURpc3QgPCByYWRpdXNTdW0gKiByYWRpdXNTdW1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFyZUFBQkJTcGhlcmVJbnRlcnNlY3RpbmcoYm94TWluOiBWZWN0b3IzLCBib3hNYXg6IFZlY3RvcjMsIHNwaGVyZVBvczogVmVjdG9yMywgc3BoZXJlUmFkaXVzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgbGV0IGRtaW4gPSAwXG5cbiAgaWYgKHNwaGVyZVBvcy54IDwgYm94TWluLngpXG4gICAgZG1pbiArPSAoYm94TWluLnggLSBzcGhlcmVQb3MueCkgKiAoYm94TWluLnggLSBzcGhlcmVQb3MueClcbiAgaWYgKHNwaGVyZVBvcy54ID4gYm94TWF4LngpXG4gICAgZG1pbiArPSAoc3BoZXJlUG9zLnggLSBib3hNYXgueCkgKiAoc3BoZXJlUG9zLnggLSBib3hNYXgueClcbiAgaWYgKHNwaGVyZVBvcy55IDwgYm94TWluLnkpXG4gICAgZG1pbiArPSAoYm94TWluLnkgLSBzcGhlcmVQb3MueSkgKiAoYm94TWluLnkgLSBzcGhlcmVQb3MueSlcbiAgaWYgKHNwaGVyZVBvcy55ID4gYm94TWF4LnkpXG4gICAgZG1pbiArPSAoc3BoZXJlUG9zLnkgLSBib3hNYXgueSkgKiAoc3BoZXJlUG9zLnkgLSBib3hNYXgueSlcbiAgaWYgKHNwaGVyZVBvcy56IDwgYm94TWluLnopXG4gICAgZG1pbiArPSAoYm94TWluLnogLSBzcGhlcmVQb3MueikgKiAoYm94TWluLnogLSBzcGhlcmVQb3MueilcbiAgaWYgKHNwaGVyZVBvcy56ID4gYm94TWF4LnopXG4gICAgZG1pbiArPSAoc3BoZXJlUG9zLnogLSBib3hNYXgueikgKiAoc3BoZXJlUG9zLnogLSBib3hNYXgueilcblxuICByZXR1cm4gZG1pbiA8IHNwaGVyZVJhZGl1cyAqIHNwaGVyZVJhZGl1c1xufVxuIiwgImNvbnN0IFJFR1VMQVJfUFJJT1JJVFkgPSAxMDBlM1xuXG5leHBvcnQgbmFtZXNwYWNlIHByaW9yaXR5IHtcbiAgZXhwb3J0IGNvbnN0IFRpbWVyU3lzdGVtUHJpb3JpdHkgPSBSRUdVTEFSX1BSSU9SSVRZICsgMjU2XG4gIGV4cG9ydCBjb25zdCBUd2VlblN5c3RlbVByaW9yaXR5ID0gUkVHVUxBUl9QUklPUklUWSArIDE5MlxuICBleHBvcnQgY29uc3QgUGVycGV0dWFsTW90aW9uU3lzdGVtUHJpb3JpdHkgPSBSRUdVTEFSX1BSSU9SSVRZICsgMTkyXG4gIGV4cG9ydCBjb25zdCBQYXRoU3lzdGVtUHJpb3JpdHkgPSBSRUdVTEFSX1BSSU9SSVRZICsgMTkyXG4gIGV4cG9ydCBjb25zdCBUcmlnZ2VyU3lzdGVtUHJpb3JpdHkgPSBSRUdVTEFSX1BSSU9SSVRZICsgMTI4XG4gIGV4cG9ydCBjb25zdCBBY3Rpb25TeXN0ZW1Qcmlvcml0eSA9IFJFR1VMQVJfUFJJT1JJVFkgKyA2NFxufVxuIiwgImltcG9ydCB7IGVuZ2luZSwgRW50aXR5LCBJRW5naW5lLCBUcmFuc2Zvcm1UeXBlLCBTY2hlbWFzLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gJy4vcHJpb3JpdHknXG5cbmV4cG9ydCB0eXBlIFRpbWVycyA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZVRpbWVycz5cblxuZXhwb3J0IHR5cGUgQ2FsbGJhY2sgPSAoKSA9PiB2b2lkXG5cbmV4cG9ydCB0eXBlIFRpbWVySWQgPSBudW1iZXJcblxuZnVuY3Rpb24gY3JlYXRlVGltZXJzKHRhcmdldEVuZ2luZTogSUVuZ2luZSkge1xuICB0eXBlIFRpbWVyRGF0YSA9IHtcbiAgICBhY2N1bXVsYXRlZFRpbWU6IG51bWJlcixcbiAgICBpbnRlcnZhbDogbnVtYmVyLFxuICAgIHJlY3VycmVudDogYm9vbGVhbixcbiAgICBjYWxsYmFjazogQ2FsbGJhY2tcbiAgfVxuXG4gIGNvbnN0IHRpbWVyczogTWFwPFRpbWVySWQsIFRpbWVyRGF0YT4gPSBuZXcgTWFwKClcbiAgbGV0IHRpbWVySWRDb3VudGVyID0gMFxuXG4gIGZ1bmN0aW9uIHN5c3RlbShkdDogbnVtYmVyKSB7XG4gICAgbGV0IGRlYWRUaW1lcnMgPSBbXVxuICAgIGxldCBjYWxsYmFja3MgPSBbXVxuXG4gICAgZm9yIChsZXQgW3RpbWVySWQsIHRpbWVyRGF0YV0gb2YgdGltZXJzKSB7XG4gICAgICB0aW1lckRhdGEuYWNjdW11bGF0ZWRUaW1lICs9IDEwMDAgKiBkdFxuICAgICAgaWYgKHRpbWVyRGF0YS5hY2N1bXVsYXRlZFRpbWUgPCB0aW1lckRhdGEuaW50ZXJ2YWwpXG4gICAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGNhbGxiYWNrcy5wdXNoKHRpbWVyRGF0YS5jYWxsYmFjaylcblxuICAgICAgaWYgKHRpbWVyRGF0YS5yZWN1cnJlbnQpIHtcbiAgICAgICAgdGltZXJEYXRhLmFjY3VtdWxhdGVkVGltZSAtPSBNYXRoLmZsb29yKHRpbWVyRGF0YS5hY2N1bXVsYXRlZFRpbWUgLyB0aW1lckRhdGEuaW50ZXJ2YWwpICogdGltZXJEYXRhLmludGVydmFsXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWFkVGltZXJzLnB1c2godGltZXJJZClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCB0aW1lcklkIG9mIGRlYWRUaW1lcnMpXG4gICAgICB0aW1lcnMuZGVsZXRlKHRpbWVySWQpXG4gICAgXG4gICAgZm9yIChsZXQgY2FsbGJhY2sgb2YgY2FsbGJhY2tzKVxuICAgICAgY2FsbGJhY2soKVxuICB9XG5cbiAgdGFyZ2V0RW5naW5lLmFkZFN5c3RlbShzeXN0ZW0sIHByaW9yaXR5LlRpbWVyU3lzdGVtUHJpb3JpdHkpXG5cbiAgcmV0dXJuIHtcbiAgICBzZXRUaW1lb3V0KGNhbGxiYWNrOiBDYWxsYmFjaywgbWlsbGlzZWNvbmRzOiBudW1iZXIpOiBUaW1lcklkIHtcbiAgICAgIGxldCB0aW1lcklkID0gdGltZXJJZENvdW50ZXIrK1xuICAgICAgdGltZXJzLnNldCh0aW1lcklkLCB7Y2FsbGJhY2s6IGNhbGxiYWNrLCBpbnRlcnZhbDogbWlsbGlzZWNvbmRzLCByZWN1cnJlbnQ6IGZhbHNlLCBhY2N1bXVsYXRlZFRpbWU6IDB9KVxuICAgICAgcmV0dXJuIHRpbWVySWRcbiAgICB9LFxuICAgIGNsZWFyVGltZW91dCh0aW1lcjogVGltZXJJZCkge1xuICAgICAgdGltZXJzLmRlbGV0ZSh0aW1lcilcbiAgICB9LFxuICAgIHNldEludGVydmFsKGNhbGxiYWNrOiBDYWxsYmFjaywgbWlsbGlzZWNvbmRzOiBudW1iZXIpOiBUaW1lcklkIHtcbiAgICAgIGxldCB0aW1lcklkID0gdGltZXJJZENvdW50ZXIrK1xuICAgICAgdGltZXJzLnNldCh0aW1lcklkLCB7Y2FsbGJhY2s6IGNhbGxiYWNrLCBpbnRlcnZhbDogbWlsbGlzZWNvbmRzLCByZWN1cnJlbnQ6IHRydWUsIGFjY3VtdWxhdGVkVGltZTogMH0pXG4gICAgICByZXR1cm4gdGltZXJJZFxuICAgIH0sXG4gICAgY2xlYXJJbnRlcnZhbCh0aW1lcjogVGltZXJJZCkge1xuICAgICAgdGltZXJzLmRlbGV0ZSh0aW1lcilcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHRpbWVycyA9IGNyZWF0ZVRpbWVycyhlbmdpbmUpXG4iLCAiaW1wb3J0IHsgZW5naW5lLCBFbnRpdHksIEVudGl0eVN0YXRlLCBJRW5naW5lLCBTY2hlbWFzIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgdGltZXJzLCBUaW1lcnMgfSBmcm9tICcuL3RpbWVyJztcblxuZXhwb3J0IGVudW0gVG9nZ2xlU3RhdGUge1xuICBPZmYgPSAwLFxuICBPbiA9IDFcbn1cblxuZXhwb3J0IHR5cGUgVG9nZ2xlQ2FsbGJhY2sgPSAoc3RhdGU6IFRvZ2dsZVN0YXRlKSA9PiB2b2lkXG5cbmV4cG9ydCB0eXBlIFRvZ2dsZXMgPSBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVUb2dnbGVzPlxuXG5mdW5jdGlvbiBjcmVhdGVUb2dnbGVzKHRhcmdldEVuZ2luZTogSUVuZ2luZSwgdGltZXJzOiBUaW1lcnMpIHtcbiAgY29uc3QgVG9nZ2xlID0gdGFyZ2V0RW5naW5lLmRlZmluZUNvbXBvbmVudCgnZGNsLnV0aWxzLlRvZ2dsZScsIHtcbiAgICBzdGF0ZTogU2NoZW1hcy5FbnVtTnVtYmVyKFRvZ2dsZVN0YXRlLCBUb2dnbGVTdGF0ZS5PZmYpXG4gIH0pXG5cbiAgbGV0IHRvZ2dsZXM6IE1hcDxFbnRpdHksIFRvZ2dsZUNhbGxiYWNrIHwgdW5kZWZpbmVkPiA9IG5ldyBNYXAoKTtcblxuICB0aW1lcnMuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHRvZ2dsZXMua2V5cygpKSB7XG4gICAgICBpZiAodGFyZ2V0RW5naW5lLmdldEVudGl0eVN0YXRlKGVudGl0eSkgPT0gRW50aXR5U3RhdGUuUmVtb3ZlZCB8fCAhVG9nZ2xlLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgIHRvZ2dsZXMuZGVsZXRlKGVudGl0eSlcbiAgICAgIH1cbiAgICB9XG4gIH0sIDUwMDApXG5cbiAgcmV0dXJuIHtcbiAgICBhZGRUb2dnbGUoZW50aXR5OiBFbnRpdHksIHN0YXRlOiBUb2dnbGVTdGF0ZSwgY2FsbGJhY2s/OiBUb2dnbGVDYWxsYmFjaykge1xuICAgICAgdG9nZ2xlcy5zZXQoZW50aXR5LCBjYWxsYmFjaylcbiAgICAgIFRvZ2dsZS5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7c3RhdGU6IHN0YXRlfSlcbiAgICB9LFxuICAgIHJlbW92ZVRvZ2dsZShlbnRpdHk6IEVudGl0eSkge1xuICAgICAgdG9nZ2xlcy5kZWxldGUoZW50aXR5KVxuICAgICAgVG9nZ2xlLmRlbGV0ZUZyb20oZW50aXR5KVxuICAgIH0sXG4gICAgc2V0Q2FsbGJhY2soZW50aXR5OiBFbnRpdHksIGNhbGxiYWNrPzogVG9nZ2xlQ2FsbGJhY2spIHtcbiAgICAgIHRvZ2dsZXMuc2V0KGVudGl0eSwgY2FsbGJhY2spXG4gICAgfSxcbiAgICBzZXQoZW50aXR5OiBFbnRpdHksIHN0YXRlOiBUb2dnbGVTdGF0ZSkge1xuICAgICAgY29uc3Qgb2xkU3RhdGUgPSBUb2dnbGUuZ2V0KGVudGl0eSkuc3RhdGVcbiAgICAgIGlmIChvbGRTdGF0ZSAhPSBzdGF0ZSkge1xuICAgICAgICBUb2dnbGUuZ2V0TXV0YWJsZShlbnRpdHkpLnN0YXRlID0gc3RhdGVcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0b2dnbGVzLmdldChlbnRpdHkpXG4gICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICBjYWxsYmFjayhzdGF0ZSlcbiAgICAgIH1cbiAgICB9LFxuICAgIGZsaXAoZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgIHRoaXMuc2V0KGVudGl0eSwgMSAtIFRvZ2dsZS5nZXQoZW50aXR5KS5zdGF0ZSkgICAgICBcbiAgICB9LFxuICAgIGlzT24oZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgIHJldHVybiBUb2dnbGUuZ2V0KGVudGl0eSkuc3RhdGUgPT0gVG9nZ2xlU3RhdGUuT25cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHRvZ2dsZXMgPSBjcmVhdGVUb2dnbGVzKGVuZ2luZSwgdGltZXJzKVxuIiwgImltcG9ydCB7IGVuZ2luZSwgRW50aXR5LCBJRW5naW5lLCBUcmFuc2Zvcm1UeXBlLCBTY2hlbWFzLCBUcmFuc2Zvcm0sIEVudGl0eVN0YXRlIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgU2NhbGFyLCBWZWN0b3IzLCBRdWF0ZXJuaW9uIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IEludGVycG9sYXRpb25UeXBlLCBpbnRlcnBvbGF0ZSB9IGZyb20gJy4vbWF0aCdcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSAnLi9wcmlvcml0eSdcblxuZXhwb3J0IHR5cGUgT25GaW5pc2hDYWxsYmFjayA9ICgpID0+IHZvaWRcblxuZXhwb3J0IHR5cGUgVHdlZW5zID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlVHdlZW5zPlxuXG5mdW5jdGlvbiBjcmVhdGVUd2VlbnModGFyZ2V0RW5naW5lOiBJRW5naW5lKSB7XG4gIGNvbnN0IFZlY3RvcjNUd2VlblNjaGVtYSA9IHtcbiAgICBzdGFydDogU2NoZW1hcy5WZWN0b3IzLFxuICAgIGVuZDogU2NoZW1hcy5WZWN0b3IzLFxuICAgIGludGVycG9sYXRpb25UeXBlOiBTY2hlbWFzLkVudW1TdHJpbmcoSW50ZXJwb2xhdGlvblR5cGUsIEludGVycG9sYXRpb25UeXBlLkxJTkVBUiksXG4gICAgc3BlZWQ6IFNjaGVtYXMuRmxvYXQsXG4gICAgbm9ybWFsaXplZFRpbWU6IFNjaGVtYXMuRmxvYXRcbiAgfVxuICBjb25zdCBQb3NpdGlvblR3ZWVuID0gdGFyZ2V0RW5naW5lLmRlZmluZUNvbXBvbmVudCgnZGNsLnV0aWxzLlBvc2l0aW9uVHdlZW4nLCBWZWN0b3IzVHdlZW5TY2hlbWEpXG4gIGNvbnN0IFNjYWxlVHdlZW4gPSB0YXJnZXRFbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdkY2wudXRpbHMuU2NhbGVUd2VlbicsIFZlY3RvcjNUd2VlblNjaGVtYSlcbiAgY29uc3QgUm90YXRpb25Ud2VlbiA9IHRhcmdldEVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ2RjbC51dGlscy5Sb3RhdGlvblR3ZWVuJywge1xuICAgIHN0YXJ0OiBTY2hlbWFzLlF1YXRlcm5pb24sXG4gICAgZW5kOiBTY2hlbWFzLlF1YXRlcm5pb24sXG4gICAgaW50ZXJwb2xhdGlvblR5cGU6IFNjaGVtYXMuRW51bVN0cmluZyhJbnRlcnBvbGF0aW9uVHlwZSwgSW50ZXJwb2xhdGlvblR5cGUuTElORUFSKSxcbiAgICBzcGVlZDogU2NoZW1hcy5GbG9hdCxcbiAgICBub3JtYWxpemVkVGltZTogU2NoZW1hcy5GbG9hdFxuICB9KVxuXG4gIHR5cGUgRmluaXNoQ2FsbGJhY2tNYXAgPSBNYXA8RW50aXR5LCBPbkZpbmlzaENhbGxiYWNrIHwgdW5kZWZpbmVkPlxuXG4gIGNvbnN0IHBvc2l0aW9uRmluaXNoQ2JzOiBGaW5pc2hDYWxsYmFja01hcCA9IG5ldyBNYXAoKVxuICBjb25zdCByb3RhdGlvbkZpbmlzaENiczogRmluaXNoQ2FsbGJhY2tNYXAgPSBuZXcgTWFwKClcbiAgY29uc3Qgc2NhbGVGaW5pc2hDYnM6IEZpbmlzaENhbGxiYWNrTWFwID0gbmV3IE1hcCgpXG5cbiAgZnVuY3Rpb24gbWFrZVN5c3RlbShcbiAgICB0d2VlblR5cGU6IHR5cGVvZiBQb3NpdGlvblR3ZWVuIHwgdHlwZW9mIFJvdGF0aW9uVHdlZW4sXG4gICAgY2FsbGJhY2tzOiBGaW5pc2hDYWxsYmFja01hcCxcbiAgICB0cmFuc2Zvcm1lcjogKHRyYW5zZm9ybTogVHJhbnNmb3JtVHlwZSwgc3RhcnQ6IGFueSwgZW5kOiBhbnksIGxlcnBUaW1lOiBudW1iZXIpID0+IHZvaWQsXG4gICkge1xuICAgIHJldHVybiBmdW5jdGlvbiBzeXN0ZW0oZHQ6IG51bWJlcikge1xuICAgICAgY29uc3QgZGVhZFR3ZWVucyA9IFtdXG5cbiAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGNhbGxiYWNrcy5rZXlzKCkpIHtcbiAgICAgICAgaWYgKHRhcmdldEVuZ2luZS5nZXRFbnRpdHlTdGF0ZShlbnRpdHkpID09IEVudGl0eVN0YXRlLlJlbW92ZWQgfHwgIXR3ZWVuVHlwZS5oYXMoZW50aXR5KSkge1xuICAgICAgICAgIGNhbGxiYWNrcy5kZWxldGUoZW50aXR5KVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0d2VlbiA9IHR3ZWVuVHlwZS5nZXRNdXRhYmxlKGVudGl0eSlcbiAgICAgICAgdHdlZW4ubm9ybWFsaXplZFRpbWUgPSBTY2FsYXIuY2xhbXAodHdlZW4ubm9ybWFsaXplZFRpbWUgKyBkdCAqIHR3ZWVuLnNwZWVkLCAwLCAxKVxuICAgICAgICBjb25zdCBsZXJwVGltZSA9IGludGVycG9sYXRlKHR3ZWVuLmludGVycG9sYXRpb25UeXBlLCB0d2Vlbi5ub3JtYWxpemVkVGltZSlcblxuICAgICAgICB0cmFuc2Zvcm1lcihUcmFuc2Zvcm0uZ2V0TXV0YWJsZShlbnRpdHkpLCB0d2Vlbi5zdGFydCwgdHdlZW4uZW5kLCBsZXJwVGltZSlcblxuICAgICAgICBpZiAodHdlZW4ubm9ybWFsaXplZFRpbWUgPj0gMSlcbiAgICAgICAgICBkZWFkVHdlZW5zLnB1c2goZW50aXR5KVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBkZWFkVHdlZW5zKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gY2FsbGJhY2tzLmdldChlbnRpdHkpXG4gICAgICAgIHR3ZWVuVHlwZS5kZWxldGVGcm9tKGVudGl0eSlcbiAgICAgICAgY2FsbGJhY2tzLmRlbGV0ZShlbnRpdHkpXG4gICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVN0b3AodHdlZW5UeXBlOiB0eXBlb2YgUG9zaXRpb25Ud2VlbiB8IHR5cGVvZiBSb3RhdGlvblR3ZWVuLCBjYWxsYmFja3M6IEZpbmlzaENhbGxiYWNrTWFwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGVudGl0eTogRW50aXR5KSB7XG4gICAgICB0d2VlblR5cGUuZGVsZXRlRnJvbShlbnRpdHkpXG4gICAgICBjYWxsYmFja3MuZGVsZXRlKGVudGl0eSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlU3RhcnQ8Vj4odHdlZW5UeXBlOiBhbnksIGNhbGxiYWNrczogRmluaXNoQ2FsbGJhY2tNYXApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oXG4gICAgICBlbnRpdHk6IEVudGl0eSxcbiAgICAgIHN0YXJ0OiBWLFxuICAgICAgZW5kOiBWLFxuICAgICAgZHVyYXRpb246IG51bWJlcixcbiAgICAgIGludGVycG9sYXRpb25UeXBlOiBJbnRlcnBvbGF0aW9uVHlwZSA9IEludGVycG9sYXRpb25UeXBlLkxJTkVBUixcbiAgICAgIG9uRmluaXNoPzogT25GaW5pc2hDYWxsYmFja1xuICAgICkge1xuICAgICAgY2FsbGJhY2tzLnNldChlbnRpdHksIG9uRmluaXNoKVxuICAgICAgdHdlZW5UeXBlLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgc3BlZWQ6IGR1cmF0aW9uID09IDAgPyAwIDogMSAvIGR1cmF0aW9uLFxuICAgICAgICBpbnRlcnBvbGF0aW9uVHlwZTogaW50ZXJwb2xhdGlvblR5cGUsXG4gICAgICAgIG5vcm1hbGl6ZWRUaW1lOiBkdXJhdGlvbiA9PSAwID8gMSA6IDBcbiAgICAgIH0pICAgICAgXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFrZUdldE9uRmluaXNoQ2FsbGJhY2soY2FsbGJhY2tzOiBGaW5pc2hDYWxsYmFja01hcCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgIGlmICghY2FsbGJhY2tzLmhhcyhlbnRpdHkpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVudGl0eSAke2VudGl0eX0gaXMgbm90IHJlZ2lzdGVyZWQgd2l0aCB0d2VlbnMgc3lzdGVtYClcbiAgICAgIHJldHVybiBjYWxsYmFja3MuZ2V0KGVudGl0eSlcbiAgICB9XG4gIH1cblxuICB0YXJnZXRFbmdpbmUuYWRkU3lzdGVtKG1ha2VTeXN0ZW0oUG9zaXRpb25Ud2VlbiwgcG9zaXRpb25GaW5pc2hDYnMsIGZ1bmN0aW9uKHRyYW5zZm9ybSwgc3RhcnQsIGVuZCwgdGltZSkge1xuICAgIHRyYW5zZm9ybS5wb3NpdGlvbiA9IFZlY3RvcjMubGVycChzdGFydCwgZW5kLCB0aW1lKVxuICB9KSwgcHJpb3JpdHkuVHdlZW5TeXN0ZW1Qcmlvcml0eSlcbiAgdGFyZ2V0RW5naW5lLmFkZFN5c3RlbShtYWtlU3lzdGVtKFJvdGF0aW9uVHdlZW4sIHJvdGF0aW9uRmluaXNoQ2JzLCBmdW5jdGlvbih0cmFuc2Zvcm0sIHN0YXJ0LCBlbmQsIHRpbWUpIHtcbiAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLnNsZXJwKHN0YXJ0LCBlbmQsIHRpbWUpXG4gIH0pLCBwcmlvcml0eS5Ud2VlblN5c3RlbVByaW9yaXR5KVxuICB0YXJnZXRFbmdpbmUuYWRkU3lzdGVtKG1ha2VTeXN0ZW0oU2NhbGVUd2Vlbiwgc2NhbGVGaW5pc2hDYnMsIGZ1bmN0aW9uKHRyYW5zZm9ybSwgc3RhcnQsIGVuZCwgdGltZSkge1xuICAgIHRyYW5zZm9ybS5zY2FsZSA9IFZlY3RvcjMubGVycChzdGFydCwgZW5kLCB0aW1lKVxuICB9KSwgcHJpb3JpdHkuVHdlZW5TeXN0ZW1Qcmlvcml0eSlcblxuICByZXR1cm4ge1xuICAgIHN0YXJ0VHJhbnNsYXRpb246IG1ha2VTdGFydDxWZWN0b3IzPihQb3NpdGlvblR3ZWVuLCBwb3NpdGlvbkZpbmlzaENicyksXG4gICAgc3RvcFRyYW5zbGF0aW9uOiBtYWtlU3RvcChQb3NpdGlvblR3ZWVuLCBwb3NpdGlvbkZpbmlzaENicyksXG4gICAgc3RhcnRSb3RhdGlvbjogbWFrZVN0YXJ0PFF1YXRlcm5pb24+KFJvdGF0aW9uVHdlZW4sIHJvdGF0aW9uRmluaXNoQ2JzKSxcbiAgICBzdG9wUm90YXRpb246IG1ha2VTdG9wKFJvdGF0aW9uVHdlZW4sIHJvdGF0aW9uRmluaXNoQ2JzKSxcbiAgICBzdGFydFNjYWxpbmc6IG1ha2VTdGFydDxWZWN0b3IzPihTY2FsZVR3ZWVuLCBzY2FsZUZpbmlzaENicyksXG4gICAgc3RvcFNjYWxpbmc6IG1ha2VTdG9wKFNjYWxlVHdlZW4sIHNjYWxlRmluaXNoQ2JzKSxcbiAgICBnZXRUcmFuc2xhdGlvbk9uRmluaXNoQ2FsbGJhY2s6IG1ha2VHZXRPbkZpbmlzaENhbGxiYWNrKHBvc2l0aW9uRmluaXNoQ2JzKSxcbiAgICBnZXRSb3RhdGlvbk9uRmluaXNoQ2FsbGJhY2s6IG1ha2VHZXRPbkZpbmlzaENhbGxiYWNrKHJvdGF0aW9uRmluaXNoQ2JzKSxcbiAgICBnZXRTY2FsaW5nT25GaW5pc2hDYWxsYmFjazogbWFrZUdldE9uRmluaXNoQ2FsbGJhY2soc2NhbGVGaW5pc2hDYnMpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHR3ZWVucyA9IGNyZWF0ZVR3ZWVucyhlbmdpbmUpXG4iLCAiaW1wb3J0IHsgZW5naW5lLCBFbnRpdHksIElFbmdpbmUsIFNjaGVtYXMsIFRyYW5zZm9ybSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tICcuL3ByaW9yaXR5J1xuXG5leHBvcnQgdHlwZSBQZXJwZXR1YWxNb3Rpb25zID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlUGVycGV0dWFsTW90aW9ucz5cblxuZnVuY3Rpb24gY3JlYXRlUGVycGV0dWFsTW90aW9ucyh0YXJnZXRFbmdpbmU6IElFbmdpbmUpIHtcbiAgY29uc3QgUGVycGV0dWFsUm90YXRpb24gPSB0YXJnZXRFbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdkY2wudXRpbHMuUGVycGV0dWFsUm90YXRpb24nLCB7XG4gICAgdmVsb2NpdHk6IFNjaGVtYXMuUXVhdGVybmlvblxuICB9KVxuXG4gIGZ1bmN0aW9uIHN5c3RlbShkdDogbnVtYmVyKSB7XG4gICAgZm9yIChjb25zdCBbZW50aXR5LCByb3RhdGlvbl0gb2YgdGFyZ2V0RW5naW5lLmdldEVudGl0aWVzV2l0aChQZXJwZXR1YWxSb3RhdGlvbiwgVHJhbnNmb3JtKSkge1xuICAgICAgY29uc3Qgcm90YXRpb25EZWx0YSA9IFF1YXRlcm5pb24uc2xlcnAoUXVhdGVybmlvbi5JZGVudGl0eSgpLCByb3RhdGlvbi52ZWxvY2l0eSwgZHQpXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShlbnRpdHkpXG4gICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLm5vcm1hbGl6ZShRdWF0ZXJuaW9uLm11bHRpcGx5KHRyYW5zZm9ybS5yb3RhdGlvbiwgcm90YXRpb25EZWx0YSkpXG4gICAgfVxuICB9XG5cbiAgdGFyZ2V0RW5naW5lLmFkZFN5c3RlbShzeXN0ZW0sIHByaW9yaXR5LlBlcnBldHVhbE1vdGlvblN5c3RlbVByaW9yaXR5KVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnRSb3RhdGlvbihlbnRpdHk6IEVudGl0eSwgdmVsb2NpdHk6IFF1YXRlcm5pb24pIHtcbiAgICAgIFBlcnBldHVhbFJvdGF0aW9uLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHt2ZWxvY2l0eTogdmVsb2NpdHl9KVxuICAgIH0sXG4gICAgc3RvcFJvdGF0aW9uKGVudGl0eTogRW50aXR5KSB7XG4gICAgICBQZXJwZXR1YWxSb3RhdGlvbi5kZWxldGVGcm9tKGVudGl0eSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHBlcnBldHVhbE1vdGlvbnMgPSBjcmVhdGVQZXJwZXR1YWxNb3Rpb25zKGVuZ2luZSlcbiIsICJpbXBvcnQgeyBlbmdpbmUsIEVudGl0eSwgRW50aXR5U3RhdGUsIElFbmdpbmUsIFNjaGVtYXMsIFRyYW5zZm9ybSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IFNjYWxhciwgVmVjdG9yMywgUXVhdGVybmlvbiB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5pbXBvcnQgeyBjcmVhdGVDYXRtdWxsUm9tU3BsaW5lIH0gZnJvbSAnLi9tYXRoJ1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tICcuL3ByaW9yaXR5J1xuXG5leHBvcnQgdHlwZSBQYXRocyA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZVBhdGhzPlxuXG5leHBvcnQgdHlwZSBPbkZpbmlzaENhbGxiYWNrID0gKCkgPT4gdm9pZFxuZXhwb3J0IHR5cGUgT25Qb2ludFJlYWNoZWRDYWxsYmFjayA9IChwb2ludEluZGV4OiBudW1iZXIsIHBvaW50OiBWZWN0b3IzLCBuZXh0UG9pbnQ6IFZlY3RvcjMpID0+IHZvaWRcblxuZnVuY3Rpb24gY3JlYXRlUGF0aHModGFyZ2V0RW5naW5lOiBJRW5naW5lKSB7XG4gIGNvbnN0IEZvbGxvd1BhdGggPSB0YXJnZXRFbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdkY2wudXRpbHMuRm9sbG93UGF0aCcsIHtcbiAgICBwb2ludHM6IFNjaGVtYXMuQXJyYXkoU2NoZW1hcy5WZWN0b3IzKSxcbiAgICBmYWNlRGlyZWN0aW9uOiBTY2hlbWFzLkJvb2xlYW4sXG4gICAgc3BlZWQ6IFNjaGVtYXMuTnVtYmVyLFxuICAgIG5vcm1hbGl6ZWRUaW1lOiBTY2hlbWFzLk51bWJlcixcbiAgICBjdXJyZW50SW5kZXg6IFNjaGVtYXMuTnVtYmVyLFxuICAgIHNlZ21lbnRUaW1lczogU2NoZW1hcy5BcnJheShTY2hlbWFzLk51bWJlciksXG4gICAgY3VydmVTZWdtZW50Q291bnQ6IFNjaGVtYXMuTnVtYmVyXG4gIH0pXG5cbiAgdHlwZSBGaW5pc2hDYWxsYmFja01hcCA9IE1hcDxFbnRpdHksIE9uRmluaXNoQ2FsbGJhY2sgfCB1bmRlZmluZWQ+XG4gIHR5cGUgT25Qb2ludFJlYWNoZWRDYWxsYmFja01hcCA9IE1hcDxFbnRpdHksIE9uUG9pbnRSZWFjaGVkQ2FsbGJhY2sgfCB1bmRlZmluZWQ+XG5cbiAgY29uc3QgZmluaXNoQ2JzOiBGaW5pc2hDYWxsYmFja01hcCA9IG5ldyBNYXAoKVxuICBjb25zdCBwb2ludFJlYWNoZWRDYnM6IE9uUG9pbnRSZWFjaGVkQ2FsbGJhY2tNYXAgPSBuZXcgTWFwKClcblxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyRW50aXR5KGVudGl0eTogRW50aXR5KSB7XG4gICAgZmluaXNoQ2JzLmRlbGV0ZShlbnRpdHkpXG4gICAgcG9pbnRSZWFjaGVkQ2JzLmRlbGV0ZShlbnRpdHkpXG4gICAgRm9sbG93UGF0aC5kZWxldGVGcm9tKGVudGl0eSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHN5c3RlbShkdDogbnVtYmVyKSB7XG4gICAgY29uc3QgZGVhZFBhdGhzID0gW11cbiAgICBjb25zdCBwb2ludFJlYWNoZWRQYXRocyA9IFtdXG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBmaW5pc2hDYnMua2V5cygpKSB7XG4gICAgICBpZiAodGFyZ2V0RW5naW5lLmdldEVudGl0eVN0YXRlKGVudGl0eSkgPT0gRW50aXR5U3RhdGUuUmVtb3ZlZCB8fCAhRm9sbG93UGF0aC5oYXMoZW50aXR5KSkge1xuICAgICAgICB1bnJlZ2lzdGVyRW50aXR5KGVudGl0eSlcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE11dGFibGUoZW50aXR5KVxuICAgICAgY29uc3QgcGF0aCA9IEZvbGxvd1BhdGguZ2V0TXV0YWJsZShlbnRpdHkpXG4gICAgICBwYXRoLm5vcm1hbGl6ZWRUaW1lID0gU2NhbGFyLmNsYW1wKHBhdGgubm9ybWFsaXplZFRpbWUgKyBkdCAqIHBhdGguc3BlZWQsIDAsIDEpXG4gICAgICBpZiAocGF0aC5ub3JtYWxpemVkVGltZSA+PSAxKVxuICAgICAgICBkZWFkUGF0aHMucHVzaChlbnRpdHkpXG5cbiAgICAgIHdoaWxlIChcbiAgICAgICAgcGF0aC5ub3JtYWxpemVkVGltZSA+PSBwYXRoLnNlZ21lbnRUaW1lc1twYXRoLmN1cnJlbnRJbmRleF0gJiZcbiAgICAgICAgcGF0aC5jdXJyZW50SW5kZXggPCBwYXRoLnBvaW50cy5sZW5ndGggLSAxXG4gICAgICApIHtcbiAgICAgICAgaWYgKHBhdGguZmFjZURpcmVjdGlvbikge1xuICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IFZlY3RvcjMuc3VidHJhY3QocGF0aC5wb2ludHNbcGF0aC5jdXJyZW50SW5kZXggKyAxXSwgcGF0aC5wb2ludHNbcGF0aC5jdXJyZW50SW5kZXhdKVxuICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IFF1YXRlcm5pb24ubG9va1JvdGF0aW9uKGRpcmVjdGlvbilcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aC5jdXJyZW50SW5kZXggPiAwICYmIHBhdGguY3VycmVudEluZGV4ICUgcGF0aC5jdXJ2ZVNlZ21lbnRDb3VudCA9PSAwKSB7XG4gICAgICAgICAgY29uc3QgcG9pbnRJbmRleCA9IHBhdGguY3VycmVudEluZGV4IC8gcGF0aC5jdXJ2ZVNlZ21lbnRDb3VudFxuICAgICAgICAgIGNvbnN0IHBvaW50Q29vcmRzID0gcGF0aC5wb2ludHNbcGF0aC5jdXJyZW50SW5kZXhdXG4gICAgICAgICAgY29uc3QgbmV4dFBvaW50Q29vcmRzID0gcGF0aC5wb2ludHNbcGF0aC5jdXJyZW50SW5kZXggKyBwYXRoLmN1cnZlU2VnbWVudENvdW50XVxuICAgICAgICAgIHBvaW50UmVhY2hlZFBhdGhzLnB1c2goe2VudGl0eTogZW50aXR5LCBpbmRleDogcG9pbnRJbmRleCwgY29vcmRzOiBwb2ludENvb3JkcywgbmV4dENvb3JkczogbmV4dFBvaW50Q29vcmRzfSlcbiAgICAgICAgfVxuICAgICAgICBwYXRoLmN1cnJlbnRJbmRleCArPSAxXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRpbWVEaWZmID0gcGF0aC5zZWdtZW50VGltZXNbcGF0aC5jdXJyZW50SW5kZXhdIC0gcGF0aC5zZWdtZW50VGltZXNbcGF0aC5jdXJyZW50SW5kZXggLSAxXVxuICAgICAgY29uc3QgY29lZiA9IChwYXRoLnNlZ21lbnRUaW1lc1twYXRoLmN1cnJlbnRJbmRleF0gLSBwYXRoLm5vcm1hbGl6ZWRUaW1lKSAvIHRpbWVEaWZmXG4gICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLmxlcnAocGF0aC5wb2ludHNbcGF0aC5jdXJyZW50SW5kZXhdLCBwYXRoLnBvaW50c1twYXRoLmN1cnJlbnRJbmRleCAtIDFdLCBjb2VmKVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgcG9pbnRSZWFjaGVkIG9mIHBvaW50UmVhY2hlZFBhdGhzKSB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IHBvaW50UmVhY2hlZENicy5nZXQocG9pbnRSZWFjaGVkLmVudGl0eSlcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhwb2ludFJlYWNoZWQuaW5kZXgsIHBvaW50UmVhY2hlZC5jb29yZHMsIHBvaW50UmVhY2hlZC5uZXh0Q29vcmRzKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGRlYWRQYXRocykge1xuICAgICAgY29uc3QgY2FsbGJhY2sgPSBmaW5pc2hDYnMuZ2V0KGVudGl0eSlcbiAgICAgIHVucmVnaXN0ZXJFbnRpdHkoZW50aXR5KVxuICAgICAgaWYgKGNhbGxiYWNrKVxuICAgICAgICBjYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgdGFyZ2V0RW5naW5lLmFkZFN5c3RlbShzeXN0ZW0sIHByaW9yaXR5LlBhdGhTeXN0ZW1Qcmlvcml0eSlcblxuICBmdW5jdGlvbiBzdGFydFBhdGgoXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcG9pbnRzOiBWZWN0b3IzW10sXG4gICAgZHVyYXRpb246IG51bWJlcixcbiAgICBmYWNlRGlyZWN0aW9uPzogYm9vbGVhbixcbiAgICBjdXJ2ZVNlZ21lbnRDb3VudD86IG51bWJlcixcbiAgICBvbkZpbmlzaENhbGxiYWNrPzogT25GaW5pc2hDYWxsYmFjayxcbiAgICBvblBvaW50UmVhY2hlZENhbGxiYWNrPzogT25Qb2ludFJlYWNoZWRDYWxsYmFja1xuICApIHtcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0IGxlYXN0IDIgcG9pbnRzIGFyZSByZXF1aXJlZCB0byBmb3JtIGEgcGF0aC4nKVxuXG4gICAgaWYgKGR1cmF0aW9uID09IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhdGggZHVyYXRpb24gbXVzdCBub3QgYmUgemVybycpXG5cbiAgICBpZiAoY3VydmVTZWdtZW50Q291bnQpIHtcbiAgICAgIGNvbnN0IGxvb3AgPSBWZWN0b3IzLmVxdWFscyhwb2ludHNbMF0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pXG4gICAgICBpZiAobG9vcCkge1xuICAgICAgICBwb2ludHMucG9wKClcbiAgICAgICAgcG9pbnRzLnVuc2hpZnQocG9pbnRzLnBvcCgpISlcbiAgICAgIH1cbiAgICAgIHBvaW50cyA9IGNyZWF0ZUNhdG11bGxSb21TcGxpbmUocG9pbnRzLCBjdXJ2ZVNlZ21lbnRDb3VudCwgbG9vcClcbiAgICB9IGVsc2Uge1xuICAgICAgY3VydmVTZWdtZW50Q291bnQgPSAxXG4gICAgfVxuXG4gICAgZmluaXNoQ2JzLnNldChlbnRpdHksIG9uRmluaXNoQ2FsbGJhY2spXG4gICAgcG9pbnRSZWFjaGVkQ2JzLnNldChlbnRpdHksIG9uUG9pbnRSZWFjaGVkQ2FsbGJhY2spXG5cbiAgICBsZXQgdG90YWxMZW5ndGggPSAwXG4gICAgY29uc3Qgc2VnbWVudExlbmd0aHMgPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgbGV0IHNxRGlzdCA9IFZlY3RvcjMuZGlzdGFuY2UocG9pbnRzW2ldLCBwb2ludHNbaSArIDFdKVxuICAgICAgdG90YWxMZW5ndGggKz0gc3FEaXN0XG4gICAgICBzZWdtZW50TGVuZ3Rocy5wdXNoKHNxRGlzdClcbiAgICB9XG5cbiAgICBjb25zdCBzZWdtZW50VGltZXMgPSBbMF1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRMZW5ndGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzZWdtZW50VGltZXMucHVzaChzZWdtZW50TGVuZ3Roc1tpXSAvIHRvdGFsTGVuZ3RoICsgc2VnbWVudFRpbWVzW2ldKVxuICAgIH1cblxuICAgIEZvbGxvd1BhdGguY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgcG9pbnRzOiBwb2ludHMsXG4gICAgICBzZWdtZW50VGltZXM6IHNlZ21lbnRUaW1lcyxcbiAgICAgIGN1cnZlU2VnbWVudENvdW50OiBjdXJ2ZVNlZ21lbnRDb3VudCxcbiAgICAgIHNwZWVkOiAxIC8gZHVyYXRpb24sXG4gICAgICBub3JtYWxpemVkVGltZTogMCxcbiAgICAgIGN1cnJlbnRJbmRleDogMCxcbiAgICAgIGZhY2VEaXJlY3Rpb246IGZhY2VEaXJlY3Rpb25cbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydFN0cmFpZ2h0UGF0aChcbiAgICAgIGVudGl0eTogRW50aXR5LFxuICAgICAgcG9pbnRzOiBWZWN0b3IzW10sXG4gICAgICBkdXJhdGlvbjogbnVtYmVyLFxuICAgICAgZmFjZURpcmVjdGlvbj86IGJvb2xlYW4sXG4gICAgICBvbkZpbmlzaENhbGxiYWNrPzogT25GaW5pc2hDYWxsYmFjayxcbiAgICAgIG9uUG9pbnRSZWFjaGVkQ2FsbGJhY2s/OiBPblBvaW50UmVhY2hlZENhbGxiYWNrXG4gICAgKSB7XG4gICAgICByZXR1cm4gc3RhcnRQYXRoKGVudGl0eSwgcG9pbnRzLCBkdXJhdGlvbiwgZmFjZURpcmVjdGlvbiwgMCwgb25GaW5pc2hDYWxsYmFjaywgb25Qb2ludFJlYWNoZWRDYWxsYmFjaylcbiAgICB9LFxuICAgIHN0YXJ0U21vb3RoUGF0aChcbiAgICAgIGVudGl0eTogRW50aXR5LFxuICAgICAgcG9pbnRzOiBWZWN0b3IzW10sXG4gICAgICBkdXJhdGlvbjogbnVtYmVyLFxuICAgICAgc2VnbWVudENvdW50OiBudW1iZXIsXG4gICAgICBmYWNlRGlyZWN0aW9uPzogYm9vbGVhbixcbiAgICAgIG9uRmluaXNoQ2FsbGJhY2s/OiBPbkZpbmlzaENhbGxiYWNrLFxuICAgICAgb25Qb2ludFJlYWNoZWRDYWxsYmFjaz86IE9uUG9pbnRSZWFjaGVkQ2FsbGJhY2tcbiAgICApIHtcbiAgICAgIGlmIChzZWdtZW50Q291bnQgPCAyIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKHNlZ21lbnRDb3VudCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc2VnbWVudENvdW50IG11c3QgYmUgYW4gaW50ZWdlciB0aGF0IGlzIGdyZWF0ZXIgdGhhbiAyLCBnb3Q6ICR7c2VnbWVudENvdW50fWApXG4gICAgICByZXR1cm4gc3RhcnRQYXRoKGVudGl0eSwgcG9pbnRzLCBkdXJhdGlvbiwgZmFjZURpcmVjdGlvbiwgc2VnbWVudENvdW50LCBvbkZpbmlzaENhbGxiYWNrLCBvblBvaW50UmVhY2hlZENhbGxiYWNrKVxuICAgIH0sXG4gICAgc3RvcFBhdGgoZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgIHVucmVnaXN0ZXJFbnRpdHkoZW50aXR5KVxuICAgIH0sXG4gICAgZ2V0T25GaW5pc2hDYWxsYmFjayhlbnRpdHk6IEVudGl0eSkge1xuICAgICAgaWYgKCFmaW5pc2hDYnMuaGFzKGVudGl0eSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRW50aXR5ICR7ZW50aXR5fSBpcyBub3QgcmVnaXN0ZXJlZCBpbiB0cmlnZ2VycyBzeXN0ZW1gKVxuICAgICAgcmV0dXJuIGZpbmlzaENicy5nZXQoZW50aXR5KVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcGF0aHMgPSBjcmVhdGVQYXRocyhlbmdpbmUpXG4iLCAiaW1wb3J0IHsgZW5naW5lLCBFbnRpdHksIElFbmdpbmUsIE1lc2hSZW5kZXJlciwgU2NoZW1hcywgVHJhbnNmb3JtLCBNYXRlcmlhbCwgRGVlcFJlYWRvbmx5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IFZlY3RvcjMsIENvbG9yNCwgQ29sb3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IGdldFdvcmxkUG9zaXRpb24sIGdldFdvcmxkUm90YXRpb24sIGFyZUFBQkJJbnRlcnNlY3RpbmcsIGFyZUFBQkJTcGhlcmVJbnRlcnNlY3RpbmcsIGFyZVNwaGVyZXNJbnRlcnNlY3RpbmcgfSBmcm9tICcuL21hdGgnXG5pbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gJy4vcHJpb3JpdHknXG5cbmV4cG9ydCBjb25zdCBMQVlFUl8xID0gMVxuZXhwb3J0IGNvbnN0IExBWUVSXzIgPSAyXG5leHBvcnQgY29uc3QgTEFZRVJfMyA9IDRcbmV4cG9ydCBjb25zdCBMQVlFUl80ID0gOFxuZXhwb3J0IGNvbnN0IExBWUVSXzUgPSAxNlxuZXhwb3J0IGNvbnN0IExBWUVSXzYgPSAzMlxuZXhwb3J0IGNvbnN0IExBWUVSXzcgPSA2NFxuZXhwb3J0IGNvbnN0IExBWUVSXzggPSAxMjhcbmV4cG9ydCBjb25zdCBBTExfTEFZRVJTID0gMjU1XG5leHBvcnQgY29uc3QgTk9fTEFZRVJTID0gMFxuXG5leHBvcnQgdHlwZSBUcmlnZ2VyQm94QXJlYVNwZWMgPSB7XG4gIHR5cGU6ICdib3gnLFxuICBwb3NpdGlvbj86IFZlY3RvcjMsXG4gIHNjYWxlPzogVmVjdG9yM1xufVxuZXhwb3J0IHR5cGUgVHJpZ2dlclNwaGVyZUFyZWFTcGVjID0ge1xuICB0eXBlOiAnc3BoZXJlJyxcbiAgcG9zaXRpb24/OiBWZWN0b3IzLFxuICByYWRpdXM/OiBudW1iZXJcbn1cbmV4cG9ydCB0eXBlIFRyaWdnZXJBcmVhU3BlYyA9IFRyaWdnZXJCb3hBcmVhU3BlYyB8IFRyaWdnZXJTcGhlcmVBcmVhU3BlY1xuXG5leHBvcnQgdHlwZSBUcmlnZ2VyQm94QXJlYSA9IHtcbiAgcG9zaXRpb246IFZlY3RvcjMsXG4gIHNjYWxlOiBWZWN0b3IzXG59XG5leHBvcnQgdHlwZSBUcmlnZ2VyU3BoZXJlQXJlYSA9IHtcbiAgcG9zaXRpb246IFZlY3RvcjMsXG4gIHJhZGl1czogbnVtYmVyXG59XG5leHBvcnQgdHlwZSBUcmlnZ2VyQXJlYSA9IHskY2FzZTogJ2JveCcsIHZhbHVlOiBUcmlnZ2VyQm94QXJlYX0gfCB7JGNhc2U6ICdzcGhlcmUnLCB2YWx1ZTogVHJpZ2dlclNwaGVyZUFyZWF9XG5cbnR5cGUgT25UcmlnZ2VyRW50ZXJDYWxsYmFjayA9IChlbnRpdHk6IEVudGl0eSkgPT4gdm9pZFxudHlwZSBPblRyaWdnZXJFeGl0Q2FsbGJhY2sgPSAoZW50aXR5OiBFbnRpdHkpID0+IHZvaWRcblxuZXhwb3J0IHR5cGUgVHJpZ2dlcnMgPSBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVUcmlnZ2Vycz5cblxuZnVuY3Rpb24gY3JlYXRlVHJpZ2dlcnModGFyZ2V0RW5naW5lOiBJRW5naW5lKSB7XG4gIGNvbnN0IFRyaWdnZXIgPSBlbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdkY2wudXRpbHMuVHJpZ2dlcicsIHtcbiAgICBhY3RpdmU6IFNjaGVtYXMuQm9vbGVhbixcbiAgICBsYXllck1hc2s6IFNjaGVtYXMuSW50LFxuICAgIHRyaWdnZXJlZEJ5TWFzazogU2NoZW1hcy5JbnQsXG4gICAgYXJlYXM6IFNjaGVtYXMuQXJyYXkoU2NoZW1hcy5PbmVPZih7XG4gICAgICBib3g6IFNjaGVtYXMuTWFwKHtcbiAgICAgICAgcG9zaXRpb246IFNjaGVtYXMuVmVjdG9yMyxcbiAgICAgICAgc2NhbGU6IFNjaGVtYXMuVmVjdG9yM1xuICAgICAgfSksXG4gICAgICBzcGhlcmU6IFNjaGVtYXMuTWFwKHtcbiAgICAgICAgcG9zaXRpb246IFNjaGVtYXMuVmVjdG9yMyxcbiAgICAgICAgcmFkaXVzOiBTY2hlbWFzLk51bWJlclxuICAgICAgfSlcbiAgICB9KSksXG4gICAgZGVidWdDb2xvcjogU2NoZW1hcy5Db2xvcjNcbiAgfSlcblxuICB0eXBlIFRyaWdnZXJUeXBlID0ge1xuICAgIGFjdGl2ZTogYm9vbGVhbixcbiAgICBsYXllck1hc2s6IG51bWJlcixcbiAgICB0cmlnZ2VyZWRCeU1hc2s6IG51bWJlcixcbiAgICBhcmVhczogQXJyYXk8VHJpZ2dlckFyZWE+LFxuICAgIGRlYnVnQ29sb3I6IENvbG9yM1xuICB9XG5cbiAgY29uc3QgdHJpZ2dlckVudGVyQ2JzOiBNYXA8RW50aXR5LCBPblRyaWdnZXJFbnRlckNhbGxiYWNrIHwgdW5kZWZpbmVkPiA9IG5ldyBNYXAoKVxuICBjb25zdCB0cmlnZ2VyRXhpdENiczogTWFwPEVudGl0eSwgT25UcmlnZ2VyRXhpdENhbGxiYWNrIHwgdW5kZWZpbmVkPiA9IG5ldyBNYXAoKVxuXG4gIGxldCBkZWJ1Z0RyYXcgPSBmYWxzZVxuICBjb25zdCBhY3RpdmVDb2xsaXNpb25zOiBNYXA8RW50aXR5LCBTZXQ8RW50aXR5Pj4gPSBuZXcgTWFwKClcbiAgY29uc3QgZGVidWdFbnRpdGllczogTWFwPEVudGl0eSwgQXJyYXk8RW50aXR5Pj4gPSBuZXcgTWFwKClcblxuICBmdW5jdGlvbiB1cGRhdGVEZWJ1Z0RyYXcoZW5hYmxlZDogYm9vbGVhbikge1xuICAgIGlmICghZW5hYmxlZClcbiAgICAgIHJldHVyblxuXG4gICAgZm9yIChjb25zdCBbZW50aXR5LCB0cmlnZ2VyXSBvZiB0YXJnZXRFbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFRyaWdnZXIsIFRyYW5zZm9ybSkpIHtcbiAgICAgIGxldCBzaGFwZXMgPSBkZWJ1Z0VudGl0aWVzLmdldChlbnRpdHkpIVxuXG4gICAgICBjb25zdCBhcmVhQ291bnQgPSB0cmlnZ2VyLmFyZWFzLmxlbmd0aFxuICAgICAgd2hpbGUgKHNoYXBlcy5sZW5ndGggPiBhcmVhQ291bnQpIHtcbiAgICAgICAgdGFyZ2V0RW5naW5lLnJlbW92ZUVudGl0eShzaGFwZXMucG9wKCkhKVxuICAgICAgfVxuICAgICAgd2hpbGUoc2hhcGVzLmxlbmd0aCA8IGFyZWFDb3VudCkge1xuICAgICAgICBzaGFwZXMucHVzaCh0YXJnZXRFbmdpbmUuYWRkRW50aXR5KCkpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHdvcmxkUG9zaXRpb24gPSBnZXRXb3JsZFBvc2l0aW9uKGVudGl0eSlcbiAgICAgIGNvbnN0IHdvcmxkUm90YXRpb24gPSBnZXRXb3JsZFJvdGF0aW9uKGVudGl0eSlcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmVhQ291bnQ7ICsraSkge1xuICAgICAgICBjb25zdCBzaGFwZVNwZWMgPSB0cmlnZ2VyLmFyZWFzW2ldXG4gICAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2ldXG5cbiAgICAgICAgbGV0IHNjYWxlXG4gICAgICAgIGlmIChzaGFwZVNwZWMuJGNhc2UgPT0gJ2JveCcpIHtcbiAgICAgICAgICBzY2FsZSA9IHNoYXBlU3BlYy52YWx1ZS5zY2FsZVxuICAgICAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goc2hhcGUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcmFkaXVzID0gc2hhcGVTcGVjLnZhbHVlLnJhZGl1c1xuICAgICAgICAgIHNjYWxlID0ge3g6IHJhZGl1cywgeTogcmFkaXVzLCB6OiByYWRpdXN9XG4gICAgICAgICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShzaGFwZSlcbiAgICAgICAgfVxuXG4gICAgICAgIFRyYW5zZm9ybS5jcmVhdGVPclJlcGxhY2Uoc2hhcGUsIHtcbiAgICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5hZGQod29ybGRQb3NpdGlvbiwgVmVjdG9yMy5yb3RhdGUoc2hhcGVTcGVjLnZhbHVlLnBvc2l0aW9uLCB3b3JsZFJvdGF0aW9uKSksXG4gICAgICAgICAgc2NhbGU6IHNjYWxlXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgY29sb3IgPSB0cmlnZ2VyLmFjdGl2ZSA/IHRyaWdnZXIuZGVidWdDb2xvciA6IENvbG9yMy5CbGFjaygpXG4gICAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHNoYXBlLCB7YWxiZWRvQ29sb3I6IENvbG9yNC5mcm9tSW50cygyNTUgKiBjb2xvci5yLCAyNTUgKiBjb2xvci5nLCAyNTUgKmNvbG9yLmIsIDc1KX0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXJlVHJpZ2dlcnNJbnRlcnNlY3RpbmcoXG4gICAgc2hhcGVXb3JsZFBvczA6IEFycmF5PFZlY3RvcjM+LFxuICAgIHQwOiBEZWVwUmVhZG9ubHk8VHJpZ2dlclR5cGU+LFxuICAgIHNoYXBlV29ybGRQb3MxOiBBcnJheTxWZWN0b3IzPixcbiAgICB0MTogRGVlcFJlYWRvbmx5PFRyaWdnZXJUeXBlPlxuICApOiBib29sZWFuIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHQwLmFyZWFzLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCB0MFdvcmxkID0gc2hhcGVXb3JsZFBvczBbaV1cbiAgICAgIGNvbnN0IHQwQXJlYSA9IHQwLmFyZWFzW2ldXG5cbiAgICAgIGlmICh0MEFyZWEuJGNhc2UgPT0gJ2JveCcpIHtcbiAgICAgICAgY29uc3QgdDBCb3ggPSB0MEFyZWEudmFsdWVcbiAgICAgICAgY29uc3QgdDBNaW4gPSBWZWN0b3IzLnN1YnRyYWN0KHQwV29ybGQsIFZlY3RvcjMuc2NhbGUodDBCb3guc2NhbGUsIDAuNSkpXG4gICAgICAgIGNvbnN0IHQwTWF4ID0gVmVjdG9yMy5hZGQodDBNaW4sIHQwQm94LnNjYWxlKVxuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdDEuYXJlYXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICBjb25zdCB0MVdvcmxkID0gc2hhcGVXb3JsZFBvczFbal1cbiAgICAgICAgICBjb25zdCB0MUFyZWEgPSB0MS5hcmVhc1tqXVxuXG4gICAgICAgICAgaWYgKHQxQXJlYS4kY2FzZSA9PSAnYm94Jykge1xuICAgICAgICAgICAgY29uc3QgdDFCb3ggPSB0MUFyZWEudmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHQxTWluID0gVmVjdG9yMy5zdWJ0cmFjdCh0MVdvcmxkLCBWZWN0b3IzLnNjYWxlKHQxQm94LnNjYWxlLCAwLjUpKVxuICAgICAgICAgICAgY29uc3QgdDFNYXggPSBWZWN0b3IzLmFkZCh0MU1pbiwgdDFCb3guc2NhbGUpXG5cbiAgICAgICAgICAgIGlmIChhcmVBQUJCSW50ZXJzZWN0aW5nKHQwTWluLCB0ME1heCwgdDFNaW4sIHQxTWF4KSlcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFyZUFBQkJTcGhlcmVJbnRlcnNlY3RpbmcodDBNaW4sIHQwTWF4LCB0MVdvcmxkLCB0MUFyZWEudmFsdWUucmFkaXVzKSlcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHQwUmFkaXVzID0gdDBBcmVhLnZhbHVlLnJhZGl1c1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdDEuYXJlYXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICBjb25zdCB0MVdvcmxkID0gc2hhcGVXb3JsZFBvczFbal1cbiAgICAgICAgICBjb25zdCB0MUFyZWEgPSB0MS5hcmVhc1tqXVxuXG4gICAgICAgICAgaWYgKHQxQXJlYS4kY2FzZSA9PSAnYm94Jykge1xuICAgICAgICAgICAgY29uc3QgdDFCb3ggPSB0MUFyZWEudmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHQxTWluID0gVmVjdG9yMy5zdWJ0cmFjdCh0MVdvcmxkLCBWZWN0b3IzLnNjYWxlKHQxQm94LnNjYWxlLCAwLjUpKVxuICAgICAgICAgICAgY29uc3QgdDFNYXggPSBWZWN0b3IzLmFkZCh0MU1pbiwgdDFCb3guc2NhbGUpXG5cbiAgICAgICAgICAgIGlmIChhcmVBQUJCU3BoZXJlSW50ZXJzZWN0aW5nKHQxTWluLCB0MU1heCwgdDBXb3JsZCwgdDBSYWRpdXMpKVxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXJlU3BoZXJlc0ludGVyc2VjdGluZyh0MFdvcmxkLCB0MFJhZGl1cywgdDFXb3JsZCwgdDFBcmVhLnZhbHVlLnJhZGl1cykpXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlQ29sbGlzaW9ucyhlbnRpdHk6IEVudGl0eSwgc2hhcGVXb3JsZFBvczogTWFwPEVudGl0eSwgQXJyYXk8VmVjdG9yMz4+KSB7XG4gICAgbGV0IGNvbGxpc2lvbnM6IFNldDxFbnRpdHk+ID0gbmV3IFNldCgpXG4gICAgY29uc3QgdHJpZ2dlciA9IFRyaWdnZXIuZ2V0KGVudGl0eSlcblxuICAgIGlmICghdHJpZ2dlci5hY3RpdmUpXG4gICAgICByZXR1cm4gY29sbGlzaW9uc1xuICAgIFxuICAgIGZvciAoY29uc3QgW290aGVyRW50aXR5LCBvdGhlclRyaWdnZXJdIG9mIHRhcmdldEVuZ2luZS5nZXRFbnRpdGllc1dpdGgoVHJpZ2dlciwgVHJhbnNmb3JtKSkge1xuICAgICAgaWYgKG90aGVyRW50aXR5ID09IGVudGl0eSlcbiAgICAgICAgY29udGludWVcbiAgICAgIFxuICAgICAgaWYgKCFvdGhlclRyaWdnZXIuYWN0aXZlKVxuICAgICAgICBjb250aW51ZVxuICAgICAgXG4gICAgICBpZiAoISh0cmlnZ2VyLnRyaWdnZXJlZEJ5TWFzayAmIG90aGVyVHJpZ2dlci5sYXllck1hc2spKVxuICAgICAgICBjb250aW51ZVxuICAgICAgXG4gICAgICBjb25zdCBpbnRlcnNlY3RpbmcgPSBhcmVUcmlnZ2Vyc0ludGVyc2VjdGluZyhzaGFwZVdvcmxkUG9zLmdldChlbnRpdHkpISwgdHJpZ2dlciwgc2hhcGVXb3JsZFBvcy5nZXQob3RoZXJFbnRpdHkpISwgb3RoZXJUcmlnZ2VyKVxuICAgICAgaWYgKGludGVyc2VjdGluZylcbiAgICAgICAgY29sbGlzaW9ucy5hZGQob3RoZXJFbnRpdHkpXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbGxpc2lvbnNcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbGxpc2lvbnMoKSB7XG4gICAgY29uc3QgY29sbGlzaW9uc1N0YXJ0ZWQgPSBbXVxuICAgIGNvbnN0IGNvbGxpc2lvbnNFbmRlZCA9IFtdXG4gICAgY29uc3Qgc2hhcGVXb3JsZFBvc2l0aW9uczogTWFwPEVudGl0eSwgQXJyYXk8VmVjdG9yMz4+ID0gbmV3IE1hcCgpXG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBhY3RpdmVDb2xsaXNpb25zLmtleXMoKSkge1xuICAgICAgaWYgKHRhcmdldEVuZ2luZS5nZXRFbnRpdHlTdGF0ZShlbnRpdHkpID09IEVudGl0eVN0YXRlLlJlbW92ZWQgfHwgIVRyaWdnZXIuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgZm9yIChjb25zdCBkZWJ1Z0VudGl0eSBvZiBkZWJ1Z0VudGl0aWVzLmdldChlbnRpdHkpISlcbiAgICAgICAgICB0YXJnZXRFbmdpbmUucmVtb3ZlRW50aXR5KGRlYnVnRW50aXR5KVxuXG4gICAgICAgIGZvciAoY29uc3QgY29sbGlzaW9ucyBvZiBhY3RpdmVDb2xsaXNpb25zLnZhbHVlcygpKSB7XG4gICAgICAgICAgaWYgKGNvbGxpc2lvbnMuaGFzKGVudGl0eSkpXG4gICAgICAgICAgICBjb2xsaXNpb25zLmRlbGV0ZShlbnRpdHkpXG4gICAgICAgIH1cblxuICAgICAgICBkZWJ1Z0VudGl0aWVzLmRlbGV0ZShlbnRpdHkpXG4gICAgICAgIGFjdGl2ZUNvbGxpc2lvbnMuZGVsZXRlKGVudGl0eSlcbiAgICAgICAgdHJpZ2dlckVudGVyQ2JzLmRlbGV0ZShlbnRpdHkpXG4gICAgICAgIHRyaWdnZXJFeGl0Q2JzLmRlbGV0ZShlbnRpdHkpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IFtdXG4gICAgICBjb25zdCBlbnRpdHlXb3JsZFBvc2l0aW9uID0gZ2V0V29ybGRQb3NpdGlvbihlbnRpdHkpXG4gICAgICBjb25zdCBlbnRpdHlXb3JsZFJvdGF0aW9uID0gZ2V0V29ybGRSb3RhdGlvbihlbnRpdHkpXG4gICAgICBjb25zdCB0cmlnZ2VyID0gVHJpZ2dlci5nZXQoZW50aXR5KVxuXG4gICAgICBmb3IgKGNvbnN0IHNoYXBlIG9mIHRyaWdnZXIuYXJlYXMpIHtcbiAgICAgICAgcG9zaXRpb25zLnB1c2goVmVjdG9yMy5hZGQoZW50aXR5V29ybGRQb3NpdGlvbiwgVmVjdG9yMy5yb3RhdGUoc2hhcGUudmFsdWUucG9zaXRpb24sIGVudGl0eVdvcmxkUm90YXRpb24pKSlcbiAgICAgIH1cbiAgICAgIHNoYXBlV29ybGRQb3NpdGlvbnMuc2V0KGVudGl0eSwgcG9zaXRpb25zKVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGFjdGl2ZUNvbGxpc2lvbnMua2V5cygpKSB7XG4gICAgICBjb25zdCBuZXdDb2xsaXNpb25zID0gY29tcHV0ZUNvbGxpc2lvbnMoZW50aXR5LCBzaGFwZVdvcmxkUG9zaXRpb25zKVxuICAgICAgY29uc3Qgb2xkQ29sbGlzaW9ucyA9IGFjdGl2ZUNvbGxpc2lvbnMuZ2V0KGVudGl0eSkhXG4gICAgICBcbiAgICAgIGZvciAoY29uc3Qgb2xkQ29sbGlzaW9uIG9mIG9sZENvbGxpc2lvbnMpIHtcbiAgICAgICAgaWYgKCFuZXdDb2xsaXNpb25zLmhhcyhvbGRDb2xsaXNpb24pKVxuICAgICAgICAgIGNvbGxpc2lvbnNFbmRlZC5wdXNoKFtlbnRpdHksIG9sZENvbGxpc2lvbl0pXG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgbmV3Q29sbGlzaW9uIG9mIG5ld0NvbGxpc2lvbnMpIHtcbiAgICAgICAgaWYgKCFvbGRDb2xsaXNpb25zLmhhcyhuZXdDb2xsaXNpb24pKVxuICAgICAgICAgIGNvbGxpc2lvbnNTdGFydGVkLnB1c2goW2VudGl0eSwgbmV3Q29sbGlzaW9uXSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYWN0aXZlQ29sbGlzaW9ucy5zZXQoZW50aXR5LCBuZXdDb2xsaXNpb25zKVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2VudGl0eSwgY29sbGlzaW9uXSBvZiBjb2xsaXNpb25zU3RhcnRlZCkge1xuICAgICAgY29uc3QgY2FsbGJhY2sgPSB0cmlnZ2VyRW50ZXJDYnMuZ2V0KGVudGl0eSlcbiAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgY2FsbGJhY2soY29sbGlzaW9uKVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2VudGl0eSwgY29sbGlzaW9uXSBvZiBjb2xsaXNpb25zRW5kZWQpIHtcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gdHJpZ2dlckV4aXRDYnMuZ2V0KGVudGl0eSlcbiAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgY2FsbGJhY2soY29sbGlzaW9uKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN5c3RlbShkdDogbnVtYmVyKSB7XG4gICAgdXBkYXRlQ29sbGlzaW9ucygpXG4gICAgdXBkYXRlRGVidWdEcmF3KGRlYnVnRHJhdylcbiAgfVxuXG4gIHRhcmdldEVuZ2luZS5hZGRTeXN0ZW0oc3lzdGVtLCBwcmlvcml0eS5UcmlnZ2VyU3lzdGVtUHJpb3JpdHkpXG5cbiAgZnVuY3Rpb24gdHJpZ2dlckFyZWFzRnJvbVNwZWMoYXJlYXM/OiBBcnJheTxUcmlnZ2VyQXJlYVNwZWM+KSB7XG4gICAgaWYgKCFhcmVhcylcbiAgICAgIGFyZWFzID0gW3t0eXBlOiAnYm94J31dXG5cbiAgICBjb25zdCB0cmlnZ2VyQXJlYXM6IEFycmF5PFRyaWdnZXJBcmVhPiA9IFtdXG5cbiAgICBmb3IgKGNvbnN0IGFyZWEgb2YgYXJlYXMpIHtcbiAgICAgIGlmIChhcmVhLnR5cGUgPT0gJ2JveCcpIHtcbiAgICAgICAgdHJpZ2dlckFyZWFzLnB1c2goe1xuICAgICAgICAgICRjYXNlOiAnYm94JyxcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgcG9zaXRpb246IGFyZWEucG9zaXRpb24gPyBhcmVhLnBvc2l0aW9uIDogVmVjdG9yMy5aZXJvKCksXG4gICAgICAgICAgICBzY2FsZTogYXJlYS5zY2FsZSA/IGFyZWEuc2NhbGUgOiBWZWN0b3IzLk9uZSgpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJpZ2dlckFyZWFzLnB1c2goe1xuICAgICAgICAgICRjYXNlOiAnc3BoZXJlJyxcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgcG9zaXRpb246IGFyZWEucG9zaXRpb24gPyBhcmVhLnBvc2l0aW9uIDogVmVjdG9yMy5aZXJvKCksXG4gICAgICAgICAgICByYWRpdXM6IGFyZWEucmFkaXVzID8gYXJlYS5yYWRpdXMgOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJpZ2dlckFyZWFzXG4gIH1cblxuICBjb25zdCB0cmlnZ2Vyc0ludGVyZmFjZSA9IHtcbiAgICBhZGRUcmlnZ2VyKFxuICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICBsYXllck1hc2s6IG51bWJlciA9IE5PX0xBWUVSUyxcbiAgICAgIHRyaWdnZXJlZEJ5TWFzazogbnVtYmVyID0gTk9fTEFZRVJTLFxuICAgICAgYXJlYXM/OiBBcnJheTxUcmlnZ2VyQXJlYVNwZWM+LFxuICAgICAgb25FbnRlckNhbGxiYWNrPzogT25UcmlnZ2VyRW50ZXJDYWxsYmFjayxcbiAgICAgIG9uRXhpdENhbGxiYWNrPzogT25UcmlnZ2VyRXhpdENhbGxiYWNrLFxuICAgICAgZGVidWdDb2xvcj86IENvbG9yM1xuICAgICkge1xuICAgICAgaWYgKGxheWVyTWFzayA8IDAgfHwgbGF5ZXJNYXNrID4gQUxMX0xBWUVSUyB8fCAhTnVtYmVyLmlzSW50ZWdlcihsYXllck1hc2spKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJhZCBsYXllck1hc2s6ICR7bGF5ZXJNYXNrfS4gRXhwZWN0ZWQgYSBub24tbmVnYXRpdmUgaW50ZWdlciBubyBncmVhdGVyIHRoYW4gJHtBTExfTEFZRVJTfWApXG5cbiAgICAgIGlmICh0cmlnZ2VyZWRCeU1hc2sgPCAwIHx8IHRyaWdnZXJlZEJ5TWFzayA+IEFMTF9MQVlFUlMgfHwgIU51bWJlci5pc0ludGVnZXIodHJpZ2dlcmVkQnlNYXNrKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCYWQgdHJpZ2dlcmVkQnlNYXNrOiAke3RyaWdnZXJlZEJ5TWFza30uIEV4cGVjdGVkIGEgbm9uLW5lZ2F0aXZlIGludGVnZXIgbm8gZ3JlYXRlciB0aGFuICR7QUxMX0xBWUVSU31gKVxuXG4gICAgICBkZWJ1Z0VudGl0aWVzLnNldChlbnRpdHksIFtdKVxuICAgICAgYWN0aXZlQ29sbGlzaW9ucy5zZXQoZW50aXR5LCBuZXcgU2V0KCkpXG4gICAgICB0cmlnZ2VyRW50ZXJDYnMuc2V0KGVudGl0eSwgb25FbnRlckNhbGxiYWNrKVxuICAgICAgdHJpZ2dlckV4aXRDYnMuc2V0KGVudGl0eSwgb25FeGl0Q2FsbGJhY2spXG5cbiAgICAgIFRyaWdnZXIuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgIGxheWVyTWFzazogbGF5ZXJNYXNrLFxuICAgICAgICB0cmlnZ2VyZWRCeU1hc2s6IHRyaWdnZXJlZEJ5TWFzayxcbiAgICAgICAgYXJlYXM6IHRyaWdnZXJBcmVhc0Zyb21TcGVjKGFyZWFzKSxcbiAgICAgICAgZGVidWdDb2xvcjogZGVidWdDb2xvciA/IGRlYnVnQ29sb3IgOiBDb2xvcjMuUmVkKClcbiAgICAgIH0pXG4gICAgfSxcbiAgICByZW1vdmVUcmlnZ2VyKGVudGl0eTogRW50aXR5KSB7XG4gICAgICBjb25zdCBjb2xsaXNpb25zID0gYWN0aXZlQ29sbGlzaW9ucy5nZXQoZW50aXR5KSFcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gdHJpZ2dlckV4aXRDYnMuZ2V0KGVudGl0eSlcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBkZWJ1Z0VudGl0eSBvZiBkZWJ1Z0VudGl0aWVzLmdldChlbnRpdHkpISlcbiAgICAgICAgdGFyZ2V0RW5naW5lLnJlbW92ZUVudGl0eShkZWJ1Z0VudGl0eSlcblxuICAgICAgZGVidWdFbnRpdGllcy5kZWxldGUoZW50aXR5KVxuICAgICAgYWN0aXZlQ29sbGlzaW9ucy5kZWxldGUoZW50aXR5KVxuICAgICAgdHJpZ2dlckVudGVyQ2JzLmRlbGV0ZShlbnRpdHkpXG4gICAgICB0cmlnZ2VyRXhpdENicy5kZWxldGUoZW50aXR5KVxuICAgICAgVHJpZ2dlci5kZWxldGVGcm9tKGVudGl0eSlcblxuICAgICAgY29uc3QgY29sbGlkaW5nRW50aXRpZXMgPSBbXVxuICAgICAgZm9yIChjb25zdCBbb3RoZXJFbnRpdHksIG90aGVyRW50aXR5Q29sbGlzaW9uc10gb2YgYWN0aXZlQ29sbGlzaW9ucykge1xuICAgICAgICBpZiAob3RoZXJFbnRpdHlDb2xsaXNpb25zLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgb3RoZXJFbnRpdHlDb2xsaXNpb25zLmRlbGV0ZShlbnRpdHkpXG4gICAgICAgICAgY29sbGlkaW5nRW50aXRpZXMucHVzaChvdGhlckVudGl0eSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBjb2xsaXNpb24gb2YgY29sbGlzaW9ucylcbiAgICAgICAgICBjYWxsYmFjayhjb2xsaXNpb24pXG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3Qgb3RoZXJFbnRpdHkgb2YgY29sbGlkaW5nRW50aXRpZXMpIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0cmlnZ2VyRXhpdENicy5nZXQob3RoZXJFbnRpdHkpXG4gICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICBjYWxsYmFjayhlbnRpdHkpXG4gICAgICB9XG4gICAgfSxcbiAgICBvbmVUaW1lVHJpZ2dlcihcbiAgICAgIGVudGl0eTogRW50aXR5LFxuICAgICAgbGF5ZXJNYXNrOiBudW1iZXIgPSBOT19MQVlFUlMsXG4gICAgICB0cmlnZ2VyZWRCeU1hc2s6IG51bWJlciA9IE5PX0xBWUVSUyxcbiAgICAgIGFyZWFzPzogQXJyYXk8VHJpZ2dlckFyZWFTcGVjPixcbiAgICAgIG9uRW50ZXJDYWxsYmFjaz86IE9uVHJpZ2dlckVudGVyQ2FsbGJhY2ssXG4gICAgICBkZWJ1Z0NvbG9yPzogQ29sb3IzXG4gICAgKSB7XG4gICAgICB0aGlzLmFkZFRyaWdnZXIoZW50aXR5LCBsYXllck1hc2ssIHRyaWdnZXJlZEJ5TWFzaywgYXJlYXMsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdHJpZ2dlcnMucmVtb3ZlVHJpZ2dlcihlbnRpdHkpXG4gICAgICAgIGlmIChvbkVudGVyQ2FsbGJhY2spXG4gICAgICAgICAgb25FbnRlckNhbGxiYWNrKGUpXG4gICAgICB9LCB1bmRlZmluZWQsIGRlYnVnQ29sb3IpXG4gICAgfSxcbiAgICBlbmFibGVUcmlnZ2VyKGVudGl0eTogRW50aXR5LCBlbmFibGVkOiBib29sZWFuKSB7XG4gICAgICBUcmlnZ2VyLmdldE11dGFibGUoZW50aXR5KS5hY3RpdmUgPSBlbmFibGVkXG4gICAgfSxcbiAgICBpc1RyaWdnZXJFbmFibGVkKGVudGl0eTogRW50aXR5KSB7XG4gICAgICByZXR1cm4gVHJpZ2dlci5nZXQoZW50aXR5KS5hY3RpdmVcbiAgICB9LFxuICAgIGdldExheWVyTWFzayhlbnRpdHk6IEVudGl0eSkge1xuICAgICAgcmV0dXJuIFRyaWdnZXIuZ2V0KGVudGl0eSkubGF5ZXJNYXNrXG4gICAgfSxcbiAgICBzZXRMYXllck1hc2soZW50aXR5OiBFbnRpdHksIG1hc2s6IG51bWJlcikge1xuICAgICAgaWYgKG1hc2sgPCAwIHx8IG1hc2sgPiBBTExfTEFZRVJTIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKG1hc2spKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJhZCBsYXllck1hc2s6ICR7bWFza30uIEV4cGVjdGVkIGEgbm9uLW5lZ2F0aXZlIGludGVnZXIgbm8gZ3JlYXRlciB0aGFuICR7QUxMX0xBWUVSU31gKVxuICAgICAgVHJpZ2dlci5nZXRNdXRhYmxlKGVudGl0eSkubGF5ZXJNYXNrID0gbWFza1xuICAgIH0sXG4gICAgZ2V0VHJpZ2dlcmVkQnlNYXNrKGVudGl0eTogRW50aXR5KSB7XG4gICAgICByZXR1cm4gVHJpZ2dlci5nZXQoZW50aXR5KS50cmlnZ2VyZWRCeU1hc2tcbiAgICB9LFxuICAgIHNldFRyaWdnZXJlZEJ5TWFzayhlbnRpdHk6IEVudGl0eSwgbWFzazogbnVtYmVyKSB7XG4gICAgICBpZiAobWFzayA8IDAgfHwgbWFzayA+IEFMTF9MQVlFUlMgfHwgIU51bWJlci5pc0ludGVnZXIobWFzaykpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQmFkIGxheWVyTWFzazogJHttYXNrfS4gRXhwZWN0ZWQgYSBub24tbmVnYXRpdmUgaW50ZWdlciBubyBncmVhdGVyIHRoYW4gJHtBTExfTEFZRVJTfWApXG4gICAgICBUcmlnZ2VyLmdldE11dGFibGUoZW50aXR5KS50cmlnZ2VyZWRCeU1hc2sgPSBtYXNrXG4gICAgfSxcbiAgICBnZXRBcmVhcyhlbnRpdHk6IEVudGl0eSkge1xuICAgICAgcmV0dXJuIFRyaWdnZXIuZ2V0KGVudGl0eSkuYXJlYXNcbiAgICB9LFxuICAgIHNldEFyZWFzKGVudGl0eTogRW50aXR5LCBhcmVhczogQXJyYXk8VHJpZ2dlckFyZWFTcGVjPikge1xuICAgICAgVHJpZ2dlci5nZXRNdXRhYmxlKGVudGl0eSkuYXJlYXMgPSB0cmlnZ2VyQXJlYXNGcm9tU3BlYyhhcmVhcylcbiAgICB9LFxuICAgIHNldE9uRW50ZXJDYWxsYmFjayhlbnRpdHk6IEVudGl0eSwgY2FsbGJhY2s6IE9uVHJpZ2dlckVudGVyQ2FsbGJhY2spIHtcbiAgICAgIHRyaWdnZXJFbnRlckNicy5zZXQoZW50aXR5LCBjYWxsYmFjaylcbiAgICB9LFxuICAgIHNldE9uRXhpdENhbGxiYWNrKGVudGl0eTogRW50aXR5LCBjYWxsYmFjazogT25UcmlnZ2VyRXhpdENhbGxiYWNrKSB7XG4gICAgICB0cmlnZ2VyRXhpdENicy5zZXQoZW50aXR5LCBjYWxsYmFjaylcbiAgICB9LFxuICAgIGVuYWJsZURlYnVnRHJhdyhlbmFibGVkOiBib29sZWFuKSB7XG4gICAgICBkZWJ1Z0RyYXcgPSBlbmFibGVkXG4gICAgICBpZiAoIWVuYWJsZWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBzaGFwZXMgb2YgZGVidWdFbnRpdGllcy52YWx1ZXMoKSkge1xuICAgICAgICAgIGZvciAoY29uc3Qgc2hhcGUgb2Ygc2hhcGVzKVxuICAgICAgICAgICAgdGFyZ2V0RW5naW5lLnJlbW92ZUVudGl0eShzaGFwZSlcbiAgICAgICAgICAgIHNoYXBlcy5sZW5ndGggPSAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGlzRGVidWdEcmF3RW5hYmxlZCgpIHtcbiAgICAgIHJldHVybiBkZWJ1Z0RyYXdcbiAgICB9XG4gIH1cblxuICB0cmlnZ2Vyc0ludGVyZmFjZS5hZGRUcmlnZ2VyKFxuICAgIHRhcmdldEVuZ2luZS5QbGF5ZXJFbnRpdHksIExBWUVSXzEsIE5PX0xBWUVSUyxcbiAgICBbe1xuICAgICAgdHlwZTogJ2JveCcsXG4gICAgICBzY2FsZToge3g6IDAuNjUsIHk6IDEuOTIsIHo6IDAuNjV9LFxuICAgICAgcG9zaXRpb246IHt4OiAwLCB5OiAwLjE1LCB6OiAwfVxuICAgIH1dLFxuICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBDb2xvcjMuR3JlZW4oKVxuICApXG5cbiAgcmV0dXJuIHRyaWdnZXJzSW50ZXJmYWNlXG59XG5cbmV4cG9ydCBjb25zdCB0cmlnZ2VycyA9IGNyZWF0ZVRyaWdnZXJzKGVuZ2luZSlcbiIsICJpbXBvcnQgeyBJRW5naW5lLCBTeXN0ZW1GbiB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSAnLi9wcmlvcml0eSdcblxuZXhwb3J0IG5hbWVzcGFjZSBhY3Rpb25zIHtcblxuICBleHBvcnQgY2xhc3MgU2VxdWVuY2VSdW5uZXIge1xuICAgIHByaXZhdGUgYmVnaW5TZXF1ZW5jZU5vZGU6IFNlcXVlbmNlTm9kZSB8IG51bGwgPSBudWxsXG4gICAgcHJpdmF0ZSBjdXJyZW50U2VxdWVuY2VOb2RlOiBTZXF1ZW5jZU5vZGUgfCBudWxsID0gbnVsbFxuXG4gICAgcHJpdmF0ZSBlbmdpbmU6IElFbmdpbmVcbiAgICBwcml2YXRlIHN5c3RlbUZuOiBTeXN0ZW1GblxuXG4gICAgcHJpdmF0ZSBydW5uaW5nOiBib29sZWFuID0gZmFsc2VcbiAgICBwcml2YXRlIHN0YXJ0ZWQ6IGJvb2xlYW4gPSBmYWxzZVxuXG4gICAgcHJpdmF0ZSBvbkZpbmlzaENhbGxiYWNrPzogKCkgPT4gdm9pZFxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICB0YXJnZXRFbmdpbmU6IElFbmdpbmUsXG4gICAgICBzZXF1ZW5jZUJ1aWx0PzogU2VxdWVuY2VCdWlsZGVyLFxuICAgICAgb25GaW5pc2hDYWxsYmFjaz86ICgpID0+IHZvaWRcbiAgICApIHtcbiAgICAgIHRoaXMuZW5naW5lID0gdGFyZ2V0RW5naW5lXG4gICAgICB0aGlzLnN5c3RlbUZuID0gKGR0KSA9PiB7IHRoaXMudXBkYXRlKGR0KSB9XG4gICAgICB0aGlzLmVuZ2luZS5hZGRTeXN0ZW0odGhpcy5zeXN0ZW1GbiwgcHJpb3JpdHkuQWN0aW9uU3lzdGVtUHJpb3JpdHkpXG4gICAgICBpZiAoc2VxdWVuY2VCdWlsdCkge1xuICAgICAgICB0aGlzLnN0YXJ0U2VxdWVuY2Uoc2VxdWVuY2VCdWlsdClcbiAgICAgIH1cbiAgICAgIGlmIChvbkZpbmlzaENhbGxiYWNrKVxuICAgICAgICB0aGlzLnNldE9uRmluaXNoQ2FsbGJhY2sob25GaW5pc2hDYWxsYmFjaylcbiAgICB9XG4gIFxuICAgIHN0YXJ0U2VxdWVuY2Uoc2VxdWVuY2VCdWlsdDogU2VxdWVuY2VCdWlsZGVyKSB7XG4gICAgICB0aGlzLmJlZ2luU2VxdWVuY2VOb2RlID0gc2VxdWVuY2VCdWlsdC5iZWdpblNlcXVlbmNlTm9kZVxuICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gdGhpcy5iZWdpblNlcXVlbmNlTm9kZVxuICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZVxuICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2VcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5lbmdpbmUucmVtb3ZlU3lzdGVtKHRoaXMuc3lzdGVtRm4pXG4gICAgfVxuXG4gICAgc2V0T25GaW5pc2hDYWxsYmFjayhvbkZpbmlzaENhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgICB0aGlzLm9uRmluaXNoQ2FsbGJhY2sgPSBvbkZpbmlzaENhbGxiYWNrXG4gICAgfVxuXG4gICAgaXNSdW5uaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMucnVubmluZ1xuICAgIH1cblxuICAgIHN0b3AoKSB7XG4gICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZVxuICAgIH1cblxuICAgIHJlc3VtZSgpIHtcbiAgICAgIGlmICh0aGlzLmJlZ2luU2VxdWVuY2VOb2RlICE9IG51bGwpXG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWVcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9IHRoaXMuYmVnaW5TZXF1ZW5jZU5vZGVcbiAgICAgIHRoaXMucnVubmluZyA9IHRydWVcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgZ2V0UnVubmluZ0FjdGlvbigpOiBJQWN0aW9uIHwgbnVsbCB7XG4gICAgICBsZXQgY3VycmVudE5vZGU6IFNlcXVlbmNlTm9kZSB8IG51bGwgPSB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGVcblxuICAgICAgaWYgKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSBpbnN0YW5jZW9mIFN1YlNlcXVlbmNlTm9kZSkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgY3VycmVudE5vZGUgPSAoY3VycmVudE5vZGUgYXMgU3ViU2VxdWVuY2VOb2RlKS5jdXJyZW50SW5uZXJTZXF1ZW5jZVxuICAgICAgICB9IHdoaWxlIChjdXJyZW50Tm9kZSBpbnN0YW5jZW9mIFN1YlNlcXVlbmNlTm9kZSlcbiAgICAgIH1cbiAgICAgIHJldHVybiAoY3VycmVudE5vZGUgYXMgU2VxdWVuY2VOb2RlKS5hY3Rpb25cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XG4gICAgICBpZiAoIXRoaXMucnVubmluZylcbiAgICAgICAgcmV0dXJuXG4gICAgICAgIFxuICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLm9uU3RhcnQoKVxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIFxuICAgICAgaWYgKCEodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkuaGFzRmluaXNoKCkpIHtcbiAgICAgICAgKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLnVwZGF0ZShkdClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgICh0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgYXMgU2VxdWVuY2VOb2RlKS5vbkZpbmlzaCgpXG4gICAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgPSAodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkubmV4dFxuICAgICAgaWYgKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUub25TdGFydCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZVxuICAgICAgICBpZiAodGhpcy5vbkZpbmlzaENhbGxiYWNrKSB0aGlzLm9uRmluaXNoQ2FsbGJhY2soKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgSUFjdGlvbiB7XG4gICAgb25TdGFydCgpOiB2b2lkXG4gICAgdXBkYXRlKGR0OiBudW1iZXIpOiB2b2lkXG4gICAgb25GaW5pc2goKTogdm9pZFxuICAgIGhhc0ZpbmlzaGVkOiBib29sZWFuXG4gIH1cblxuICBleHBvcnQgY2xhc3MgU2VxdWVuY2VCdWlsZGVyIHtcbiAgICBwcml2YXRlIGN1cnJlbnRTZXF1ZW5jZU5vZGU6IFNlcXVlbmNlTm9kZSB8IG51bGwgPSBudWxsXG4gICAgcHVibGljIGJlZ2luU2VxdWVuY2VOb2RlOiBTZXF1ZW5jZU5vZGUgfCBudWxsID0gbnVsbFxuXG4gICAgcHJpdmF0ZSB3aGlsZU5vZGVTdGFjazogV2hpbGVTZXF1ZW5jZU5vZGVbXSA9IFtdXG5cbiAgICB0aGVuKGFjdGlvbjogSUFjdGlvbik6IFNlcXVlbmNlQnVpbGRlciB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gbmV3IFNlcXVlbmNlTm9kZSgpXG4gICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZS5hY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgdGhpcy5iZWdpblNlcXVlbmNlTm9kZSA9IHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG5leHQgPSBuZXcgU2VxdWVuY2VOb2RlKClcbiAgICAgICAgbmV4dC5hY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlLnRoZW4obmV4dClcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYoY29uZGl0aW9uOiAoKSA9PiBib29sZWFuKTogU2VxdWVuY2VCdWlsZGVyIHtcbiAgICAgIGxldCBpZlNlcSA9IG5ldyBJZlNlcXVlbmNlTm9kZShjb25kaXRpb24pXG4gICAgICBpZiAodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gaWZTZXFcbiAgICAgICAgdGhpcy5iZWdpblNlcXVlbmNlTm9kZSA9IGlmU2VxXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgPSB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUudGhlbihpZlNlcSlcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZWxzZSgpOiBTZXF1ZW5jZUJ1aWxkZXIge1xuICAgICAgbGV0IHNlcSA9ICh0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgYXMgU2VxdWVuY2VOb2RlKS5nZXRTZXF1ZW5jZSgpXG4gICAgICBpZiAoc2VxIGluc3RhbmNlb2YgSWZTZXF1ZW5jZU5vZGUpIHtcbiAgICAgICAgc2VxLmNsb3NlZCA9IHRydWVcbiAgICAgICAgbGV0IGVsc2VTZXEgPSBuZXcgRWxzZVNlcXVlbmNlTm9kZShzZXEpXG4gICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9ICh0aGlzXG4gICAgICAgICAgLmN1cnJlbnRTZXF1ZW5jZU5vZGUgYXMgU2VxdWVuY2VOb2RlKS50aGVuKGVsc2VTZXEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0lGIHN0YXRlbWVudCBpcyBuZWVkZWQgdG8gYmUgY2FsbGVkIGJlZm9yZSBFTFNFIHN0YXRlbWVudC4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZW5kSWYoKTogU2VxdWVuY2VCdWlsZGVyIHtcbiAgICAgIGxldCBzZXEgPSAodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkuZ2V0U2VxdWVuY2UoKVxuICAgICAgaWYgKHNlcSBpbnN0YW5jZW9mIElmU2VxdWVuY2VOb2RlIHx8IHNlcSBpbnN0YW5jZW9mIEVsc2VTZXF1ZW5jZU5vZGUpIHtcbiAgICAgICAgc2VxLmNsb3NlZCA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnSUYgc3RhdGVtZW50IGlzIG5lZWRlZCB0byBiZSBjYWxsZWQgYmVmb3JlIEVORElGIHN0YXRlbWVudC4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgd2hpbGUoY29uZGl0aW9uOiAoKSA9PiBib29sZWFuKTogU2VxdWVuY2VCdWlsZGVyIHtcbiAgICAgIGxldCB3aGlsZVNlcSA9IG5ldyBXaGlsZVNlcXVlbmNlTm9kZShjb25kaXRpb24pXG4gICAgICBpZiAodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gd2hpbGVTZXFcbiAgICAgICAgdGhpcy5iZWdpblNlcXVlbmNlTm9kZSA9IHdoaWxlU2VxXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgPSB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUudGhlbih3aGlsZVNlcSlcbiAgICAgIH1cbiAgICAgIHRoaXMud2hpbGVOb2RlU3RhY2sucHVzaCh3aGlsZVNlcSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZW5kV2hpbGUoKTogU2VxdWVuY2VCdWlsZGVyIHtcbiAgICAgIGxldCBzZXEgPSAodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkuZ2V0U2VxdWVuY2UoKVxuICAgICAgaWYgKHNlcSBpbnN0YW5jZW9mIFdoaWxlU2VxdWVuY2VOb2RlKSB7XG4gICAgICAgIHNlcS5jbG9zZWQgPSB0cnVlXG4gICAgICAgIGlmICh0aGlzLndoaWxlTm9kZVN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLndoaWxlTm9kZVN0YWNrLnNwbGljZSh0aGlzLndoaWxlTm9kZVN0YWNrLmxlbmd0aCAtIDEsIDEpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnV0hJTEUgc3RhdGVtZW50IGlzIG5lZWRlZCB0byBiZSBjYWxsZWQgYmVmb3JlIEVORFdISUxFIHN0YXRlbWVudC4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgYnJlYWtXaGlsZSgpOiBTZXF1ZW5jZUJ1aWxkZXIge1xuICAgICAgaWYgKHRoaXMud2hpbGVOb2RlU3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgPSAodGhpc1xuICAgICAgICAgIC5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkudGhlbihcbiAgICAgICAgICBuZXcgQnJlYWtXaGlsZVNlcXVlbmNlTm9kZShcbiAgICAgICAgICAgIHRoaXMud2hpbGVOb2RlU3RhY2tbdGhpcy53aGlsZU5vZGVTdGFjay5sZW5ndGggLSAxXVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdXSElMRSBzdGF0ZW1lbnQgaXMgbmVlZGVkIHRvIGJlIGNhbGxlZCBiZWZvcmUgQlJFQUtXSElMRSBzdGF0ZW1lbnQuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBjbGFzcyBTZXF1ZW5jZU5vZGUge1xuICAgIGFjdGlvbjogSUFjdGlvbiB8IG51bGwgPSBudWxsXG4gICAgbmV4dDogU2VxdWVuY2VOb2RlIHwgbnVsbCA9IG51bGxcbiAgXG4gICAgdGhlbihuZXh0OiBTZXF1ZW5jZU5vZGUpOiBTZXF1ZW5jZU5vZGUge1xuICAgICAgdGhpcy5uZXh0ID0gbmV4dFxuICAgICAgcmV0dXJuIG5leHRcbiAgICB9XG4gIFxuICAgIG9uU3RhcnQoKSB7XG4gICAgICBpZiAodGhpcy5hY3Rpb24pIHRoaXMuYWN0aW9uLm9uU3RhcnQoKVxuICAgIH1cbiAgXG4gICAgdXBkYXRlKGR0OiBudW1iZXIpIHtcbiAgICAgIGlmICh0aGlzLmFjdGlvbikgdGhpcy5hY3Rpb24udXBkYXRlKGR0KVxuICAgIH1cbiAgXG4gICAgb25GaW5pc2goKSB7XG4gICAgICBpZiAodGhpcy5hY3Rpb24pIHRoaXMuYWN0aW9uLm9uRmluaXNoKClcbiAgICB9XG4gIFxuICAgIGhhc0ZpbmlzaCgpOiBib29sZWFuIHtcbiAgICAgIGlmICh0aGlzLmFjdGlvbikgcmV0dXJuIHRoaXMuYWN0aW9uLmhhc0ZpbmlzaGVkXG4gICAgICBlbHNlIHJldHVybiB0cnVlXG4gICAgfVxuICBcbiAgICBnZXRTZXF1ZW5jZSgpOiBTZXF1ZW5jZU5vZGUge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cbiAgXG4gIGNsYXNzIFN1YlNlcXVlbmNlTm9kZSBleHRlbmRzIFNlcXVlbmNlTm9kZSB7XG4gICAgY3VycmVudElubmVyU2VxdWVuY2U6IFNlcXVlbmNlTm9kZSB8IG51bGwgPSBudWxsXG4gICAgc3RhcnRpbmdJbm5lclNlcXVlbmNlOiBTZXF1ZW5jZU5vZGUgfCBudWxsID0gbnVsbFxuICAgIGNsb3NlZDogYm9vbGVhbiA9IGZhbHNlXG4gIFxuICAgIHRoZW4obmV4dDogU2VxdWVuY2VOb2RlKTogU2VxdWVuY2VOb2RlIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9IG5leHRcbiAgICAgICAgdGhpcy5zdGFydGluZ0lubmVyU2VxdWVuY2UgPSBuZXh0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICB0aGlzLm5leHQgPSBuZXh0XG4gICAgICAgICAgcmV0dXJuIG5leHRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID0gdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS50aGVuKG5leHQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgICBvblN0YXJ0KCkge1xuICAgICAgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9IHRoaXMuc3RhcnRpbmdJbm5lclNlcXVlbmNlXG4gICAgICBpZiAodGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSkgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS5vblN0YXJ0KClcbiAgICB9XG4gIFxuICAgIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSkge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudElubmVyU2VxdWVuY2UuaGFzRmluaXNoKCkpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLnVwZGF0ZShkdClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLm9uRmluaXNoKClcbiAgICAgICAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID0gdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS5uZXh0XG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UpIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2Uub25TdGFydCgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIG9uRmluaXNoKCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UpIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2Uub25GaW5pc2goKVxuICAgIH1cbiAgXG4gICAgaGFzRmluaXNoKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPT0gbnVsbFxuICAgIH1cbiAgXG4gICAgZ2V0U2VxdWVuY2UoKTogU2VxdWVuY2VOb2RlIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlKSB7XG4gICAgICAgIGxldCBpbm5lclNlcSA9IHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UuZ2V0U2VxdWVuY2UoKVxuICAgICAgICBpZiAoaW5uZXJTZXEgaW5zdGFuY2VvZiBTdWJTZXF1ZW5jZU5vZGUpIHtcbiAgICAgICAgICBpZiAoIWlubmVyU2VxLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGlubmVyU2VxXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgfVxuICBcbiAgY2xhc3MgSWZTZXF1ZW5jZU5vZGUgZXh0ZW5kcyBTdWJTZXF1ZW5jZU5vZGUge1xuICAgIGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhblxuICAgIHJlc3VsdDogYm9vbGVhbiA9IGZhbHNlXG4gIFxuICAgIGNvbnN0cnVjdG9yKGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhbikge1xuICAgICAgc3VwZXIoKVxuICAgICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb25cbiAgICB9XG4gIFxuICAgIG9uU3RhcnQoKSB7XG4gICAgICB0aGlzLnJlc3VsdCA9IHRoaXMuY29uZGl0aW9uKClcbiAgICAgIGlmICh0aGlzLnJlc3VsdCkgc3VwZXIub25TdGFydCgpXG4gICAgICBlbHNlIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPSBudWxsXG4gICAgfVxuICB9XG4gIFxuICBjbGFzcyBFbHNlU2VxdWVuY2VOb2RlIGV4dGVuZHMgU3ViU2VxdWVuY2VOb2RlIHtcbiAgICBpZlNlcXVlbmNlOiBJZlNlcXVlbmNlTm9kZSB8IG51bGwgPSBudWxsXG4gIFxuICAgIGNvbnN0cnVjdG9yKGlmU2VxdWVuY2U6IElmU2VxdWVuY2VOb2RlKSB7XG4gICAgICBzdXBlcigpXG4gICAgICB0aGlzLmlmU2VxdWVuY2UgPSBpZlNlcXVlbmNlXG4gICAgfVxuICBcbiAgICBvblN0YXJ0KCkge1xuICAgICAgaWYgKHRoaXMuaWZTZXF1ZW5jZSAmJiAhdGhpcy5pZlNlcXVlbmNlLnJlc3VsdCkgc3VwZXIub25TdGFydCgpXG4gICAgICBlbHNlIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPSBudWxsXG4gICAgfVxuICB9XG4gIFxuICBjbGFzcyBXaGlsZVNlcXVlbmNlTm9kZSBleHRlbmRzIFN1YlNlcXVlbmNlTm9kZSB7XG4gICAgY29uZGl0aW9uOiAoKSA9PiBib29sZWFuXG4gICAgYnJlYWtXaGlsZTogYm9vbGVhbiA9IGZhbHNlXG4gIFxuICAgIGNvbnN0cnVjdG9yKGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhbikge1xuICAgICAgc3VwZXIoKVxuICAgICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb25cbiAgICB9XG4gIFxuICAgIG9uU3RhcnQoKSB7XG4gICAgICB0aGlzLmJyZWFrV2hpbGUgPSBmYWxzZVxuICAgICAgaWYgKHRoaXMuY29uZGl0aW9uKCkpIHN1cGVyLm9uU3RhcnQoKVxuICAgICAgZWxzZSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID0gbnVsbFxuICAgIH1cbiAgXG4gICAgdXBkYXRlKGR0OiBudW1iZXIpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS5oYXNGaW5pc2goKSkge1xuICAgICAgICAgIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UudXBkYXRlKGR0KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2Uub25GaW5pc2goKVxuICAgICAgICAgIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLm5leHRcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9PSBudWxsKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9IHRoaXMuc3RhcnRpbmdJbm5lclNlcXVlbmNlXG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UpIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2Uub25TdGFydCgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIGhhc0ZpbmlzaCgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLmJyZWFrV2hpbGUgfHwgIXRoaXMuY29uZGl0aW9uKClcbiAgICB9XG4gIH1cbiAgXG4gIGNsYXNzIEJyZWFrV2hpbGVTZXF1ZW5jZU5vZGUgZXh0ZW5kcyBTZXF1ZW5jZU5vZGUge1xuICAgIHdoaWxlTm9kZTogV2hpbGVTZXF1ZW5jZU5vZGVcbiAgXG4gICAgY29uc3RydWN0b3Iod2hpbGVOb2RlOiBXaGlsZVNlcXVlbmNlTm9kZSkge1xuICAgICAgc3VwZXIoKVxuICAgICAgdGhpcy53aGlsZU5vZGUgPSB3aGlsZU5vZGVcbiAgICB9XG4gIFxuICAgIG9uU3RhcnQoKSB7XG4gICAgICB0aGlzLndoaWxlTm9kZS5icmVha1doaWxlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IFNjaGVtYXMsIGVuZ2luZSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcblxuXG4vLyBXZSB1c2UgdGhpcyBjb21wb25lbnQgdG8gdHJhY2sgYW5kIGdyb3VwIGFsbCBzcGlubmluZyBlbnRpdGllcy5cbi8vIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoU3Bpbm5lcilcbmV4cG9ydCBjb25zdCBTcGlubmVyID0gZW5naW5lLmRlZmluZUNvbXBvbmVudCgnc3Bpbm5lcicsIHsgc3BlZWQ6IFNjaGVtYXMuTnVtYmVyIH0pXG5cblxuLy8gZ2VhciBzdGF0ZXMgXG4vKlxuZXhwb3J0IGNvbnN0IEdlYXJTdGF0ZSA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoXG4gICAgJ2dlYXJTdGF0ZScsXG4gICAgeyBPTjogU2NoZW1hcy5Cb29sZWFuLCBIaWRlOiBTY2hlbWFzLkJvb2xlYW4gfSxcbiAgICB7IE9OOiBmYWxzZSwgSGlkZTogZmFsc2UgfVxuICApXG4gIFxuKi9cblxuICBcbi8qXG4vLyBXZSB1c2UgdGhpcyBjb21wb25lbnQgdG8gdHJhY2sgYW5kIGdyb3VwIGFsbCB0aGUgY3ViZXMuXG4vLyBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKEN1YmUpXG5leHBvcnQgY29uc3QgQ3ViZSA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ2N1YmUtaWQnLCB7fSlcblxuXG4gKiBCb3VuY2VTY2FsaW5nIGlzIHRoZSBmbGFnLWNvbXBvbmVudCB3aXRoIHRoZSB0aW1lIGVsYXBzZWQgc2luY2UgY3JlYXRpb24uXG4gXG5leHBvcnQgY29uc3QgQm91bmNlU2NhbGluZyA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ0JvdW5jZVNjYWxpbmcnLCB7IHQ6IFNjaGVtYXMuTnVtYmVyIH0pXG5cbiovIiwgImltcG9ydCB7XG4gIEF1ZGlvU291cmNlLFxuICBlbmdpbmUsXG4gIEdsdGZDb250YWluZXIsXG4gIFBvaW50ZXJFdmVudHMsXG4gIFBvaW50ZXJFdmVudFR5cGUsXG4gIFRyYW5zZm9ybSxcbiAgVmlzaWJpbGl0eUNvbXBvbmVudFxufSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBWZWN0b3IzLCBRdWF0ZXJuaW9uIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IFBhcnRpY2xlLCBwYXJ0aWNsZVN5c3RlbSB9IGZyb20gJy4vcGFydGljbGVzJ1xuaW1wb3J0IHsgcGxheU9uZVNob3QsUG93ZXJEb3duLCBzdG9wU291bmQsUGFydEF1ZGlvLHBsYXlTb3VuZCB9IGZyb20gJy4vc291bmQnXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAZGNsLXNkay91dGlscydcblxuaW1wb3J0IHsgU3Bpbm5lciB9IGZyb20gJy4vY29tcG9uZW50cydcbi8vaW1wb3J0IHsgY2lyY3VsYXJTeXN0ZW0gfSBmcm9tICcuL3N5c3RlbXMnXG5cblxuc3RvcFNvdW5kKFBhcnRBdWRpbylcbnN0b3BTb3VuZChQb3dlckRvd24pXG5cbi8vIFBvd2VyIGdsb3dzXG4vKlxuY29uc3QgcG93ZXJCbHVlR2xvd0VudGl0eSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuR2x0ZkNvbnRhaW5lci5jcmVhdGUocG93ZXJCbHVlR2xvd0VudGl0eSwgeyBzcmM6ICdtb2RlbHMvcHVua2hlYWQxLmdsYicgfSlcblNwaW5uZXIuY3JlYXRlKHBvd2VyQmx1ZUdsb3dFbnRpdHksIHsgc3BlZWQ6IDEwMCB9KVxuVHJhbnNmb3JtLmNyZWF0ZShwb3dlckJsdWVHbG93RW50aXR5LCB7XG5wb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOC4xMiwgMiwgMy43MSksXG5zY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4xLCAwLjEsIDAuMSksIFxucm90YXRpb246IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcygwLCAxODAsIDkwKSxcbn0pXG4qL1xuXG4vKlxuY29uc3QgcHVua2ZhY2UgPSBlbmdpbmUuYWRkRW50aXR5KClcbkdsdGZDb250YWluZXIuY3JlYXRlKHB1bmtmYWNlLCB7IHNyYzogJ21vZGVscy9wdW5raGVhZC5nbGInfSkgXG5TcGlubmVyLmNyZWF0ZShwdW5rZmFjZSwgeyBzcGVlZDogMTAwIH0pXG5UcmFuc2Zvcm0uY3JlYXRlKHB1bmtmYWNlLCB7XG5wb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOC4xMiwgMiwgMy43MSksXG5zY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4xLCAwLjEsIDAuMSksIFxucm90YXRpb246IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcygwLCAxODAsIDkwKSxcbn0pXG4qL1xuXG5cbmNvbnN0IHBvd2VyUmVkR2xvd0VudGl0eSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuR2x0ZkNvbnRhaW5lci5jcmVhdGUocG93ZXJSZWRHbG93RW50aXR5LCB7IHNyYzogJ21vZGVscy9wdW5raGVhZC5nbGInIH0pXG5TcGlubmVyLmNyZWF0ZShwb3dlclJlZEdsb3dFbnRpdHksIHsgc3BlZWQ6IDEwMCB9KVxuVHJhbnNmb3JtLmNyZWF0ZShwb3dlclJlZEdsb3dFbnRpdHksIHtcbnBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LjEyLCAyLCAzLjcxKSxcbnNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjEsIDAuMSwgMC4xKSwgXG5yb3RhdGlvbjogUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKDAsIDE4MCwgOTApLFxufSlcblxuLypcbi8vIEZvcmNlZmllbGRcbmNvbnN0IGZvcmNlZmllbGRFbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcbkdsdGZDb250YWluZXIuY3JlYXRlKGZvcmNlZmllbGRFbnRpdHksIHsgc3JjOiAnbW9kZWxzL2ZvcmNlZmllbGQxLmdsYicgfSlcblRyYW5zZm9ybS5jcmVhdGUoZm9yY2VmaWVsZEVudGl0eSlcbiovXG5cbiAgICAvL0F1ZGlvU291cmNlLmdldE11dGFibGUoY3ViZVB1dERvd25Tb3VuZCkucGxheWluZyA9IHRydWVcblxuLy8gU291bmRzXG4vL2NvbnN0IHBvd2VyVXAgPSBjcmVhdGVTb3VuZCgnc291bmRzL0FtYmllbnQxLm1wMycpXG4vL2NvbnN0IHBvd2VyRG93biA9IGNyZWF0ZVNvdW5kKCdzb3VuZHMvcG93ZXJEb3duIS5tcDMnKVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUG93ZXJCYXNlKHBvc2l0aW9uOiBWZWN0b3IzLCBCb3hTb3VyY2U6IHN0cmluZykge1xuICBjb25zdCBlbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcblxuICBUcmFuc2Zvcm0uY3JlYXRlKGVudGl0eSwgeyBwb3NpdGlvbiB9KVxuICBHbHRmQ29udGFpbmVyLmNyZWF0ZShlbnRpdHksIHsgc3JjOiBCb3hTb3VyY2UgfSlcbiAgUG9pbnRlckV2ZW50cy5jcmVhdGUoZW50aXR5LCB7XG4gICAgcG9pbnRlckV2ZW50czogW1xuICAgICAge1xuICAgICAgICBldmVudFR5cGU6IFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04sXG4gICAgICAgIGV2ZW50SW5mbzoge1xuICAgICAgICAgIHNob3dGZWVkYmFjazogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfSlcblxuICBmdW5jdGlvbiB0b2dnbGVQb3dlcihpc1Bvd2VyT246IGJvb2xlYW4pIHtcbiAgICBpZiAoaXNQb3dlck9uKSB7XG4gICAgICAvLyBUT0RPOiBjaGFuZ2UgdGhpcyB3b3JrYXJvdW5kIHVudGlsIHRoZSBEaXNhYmxlQ29tcG9uZW50IGlzIGF2YWlsYWJsZVxuICAvLyAgICBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShwb3dlckJsdWVHbG93RW50aXR5KS5zY2FsZSA9IFZlY3RvcjMuY3JlYXRlKDAuMSwgMC4xLCAwLjEpXG4gICAgICBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShwb3dlclJlZEdsb3dFbnRpdHkpLnNjYWxlID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMClcbiAgIC8vICAgcGxheU9uZVNob3QoUG93ZXJEb3duKVxuXG4gICAvLyAgIFRyYW5zZm9ybS5nZXRNdXRhYmxlKGZvcmNlZmllbGRFbnRpdHkpLnNjYWxlID0gVmVjdG9yMy5PbmUoKVxuXG4gICAgICB0cnkge1xuICAgICAgICBlbmdpbmUuYWRkU3lzdGVtKHBhcnRpY2xlU3lzdGVtKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgIHBsYXlTb3VuZChQYXJ0QXVkaW8pXG4gICAgICAvL0F1ZGlvU291cmNlLmdldE11dGFibGUocG93ZXJVcCkucGxheWluZyA9IHRydWVcblxuICAgICAgZm9yIChjb25zdCBbZW50aXR5XSBvZiBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFBhcnRpY2xlKSkge1xuICAgICAgICBWaXNpYmlsaXR5Q29tcG9uZW50LmRlbGV0ZUZyb20oZW50aXR5KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOT1RFOiBwYXJ0aWNsZXMgaGF2ZSBjb2xsaWRlcnMgc28gbmVlZCB0byBtb3ZlIHRoZW0gZWxzZXdoZXJlXG4gICAgICBmb3IgKGNvbnN0IFtlbnRpdHldIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoUGFydGljbGUpKSB7XG4gICAgICAgIFZpc2liaWxpdHlDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgeyB2aXNpYmxlOiBmYWxzZSB9KVxuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiBjaGFuZ2UgdGhpcyB3b3JrYXJvdW5kIHVudGlsIHRoZSBEaXNhYmxlQ29tcG9uZW50IGlzIGF2YWlsYWJsZVxuICAgICAgLy8gSGlkZSB0aGUgYmx1ZSBnbG93XG4gICAgLy8gIFRyYW5zZm9ybS5nZXRNdXRhYmxlKHBvd2VyQmx1ZUdsb3dFbnRpdHkpLnNjYWxlID0gVmVjdG9yMy5aZXJvKClcbiAgIC8vICAgVHJhbnNmb3JtLmdldE11dGFibGUoZm9yY2VmaWVsZEVudGl0eSkuc2NhbGUgPSBWZWN0b3IzLlplcm8oKVxuICAgICAgVHJhbnNmb3JtLmdldE11dGFibGUocG93ZXJSZWRHbG93RW50aXR5KS5zY2FsZSA9IFZlY3RvcjMuY3JlYXRlKDAuMSwgMC4xLCAwLjEpXG5cbiAgICAgIGVuZ2luZS5yZW1vdmVTeXN0ZW0ocGFydGljbGVTeXN0ZW0pXG4gICAgIHBsYXlPbmVTaG90KFBvd2VyRG93bilcbiAgICAgc3RvcFNvdW5kKFBhcnRBdWRpbylcbiAgICAgIC8vIEF1ZGlvU291cmNlLmdldE11dGFibGUocG93ZXJEb3duKS5wbGF5aW5nID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHV0aWxzLnRyaWdnZXJzLmFkZFRyaWdnZXIoXG4gICAgZW50aXR5LFxuICAgIDIsXG4gICAgMixcbiAgICBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdib3gnLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoNCwgNCwgNCksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLjc1LCAwKVxuICAgICAgfVxuICAgIF0sXG4gICAgKGVudGl0eSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ29uIGVudGVyJywgeyBlbnRpdHkgfSlcbiAgICAgIC8vaWYgKGFyZ3MubGVuZ3RoID4gMClcbiAgICAgIHRvZ2dsZVBvd2VyKHRydWUpXG4gICAgfSxcbiAgICAoZW50aXR5KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnb24gZXhpdCcsIHsgZW50aXR5IH0pXG4gICAgICAvL2lmIChhcmdzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRvZ2dsZVBvd2VyKGZhbHNlKVxuICAgIH1cbiAgKVxufVxuXG4vLyBQb3dlciBiYXNlIHdoZXJlIHRoZSBwb3dlciBjdWJlIHNpdHNcbiIsICJpbXBvcnQge1xuICBlbmdpbmUsXG4gIEdsdGZDb250YWluZXIsXG4gIElucHV0QWN0aW9uLFxuICBQQlBvaW50ZXJFdmVudHMsXG4gIFBvaW50ZXJFdmVudFR5cGUsXG4gIFBvaW50ZXJFdmVudHMsXG4gIFNjaGVtYXMsXG4gIFRyYW5zZm9ybSxcbiAgcG9pbnRlckV2ZW50c1N5c3RlbSxcbiAgQXVkaW9Tb3VyY2UsXG4gIEF2YXRhckF0dGFjaCxcbiAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlLFxuICBpbnB1dFN5c3RlbVxufSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJ0BkY2wtc2RrL3V0aWxzJ1xuaW1wb3J0IHsgcGxheU9uZVNob3Qsc3RvcFNvdW5kLGZsb3dlciB9IGZyb20gJy4vc291bmQnXG5cblxuc3RvcFNvdW5kKGZsb3dlcilcblxuZXhwb3J0IGNvbnN0IFBvd2VyQ3ViZSA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ1Bvd2VyQ3ViZScsIHtcbiAgaXNHcmFiYmVkOiBTY2hlbWFzLkJvb2xlYW5cbn0pXG5cbi8vIFNvdW5kc1xuLy9jb25zdCBjdWJlUGlja1VwU291bmQgPSBjcmVhdGVTb3VuZCgnc291bmRzL0FtYmllbnQhLm1wMycpXG4vL2NvbnN0IGN1YmVQdXREb3duU291bmQgPSBjcmVhdGVTb3VuZCgnc291bmRzL2N1YmVQdXREb3duLm1wMycpXG5cbi8vIENvbmZpZ3VyYXRpb25cbmNvbnN0IFpfT0ZGU0VUID0gMS41XG5jb25zdCBHUk9VTkRfSEVJR0hUID0gMC4xXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQb3dlckN1YmUocG9zaXRpb246IFZlY3RvcjMsIGdsdGZTcmM6IHN0cmluZykge1xuICBjb25zdCBlbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShlbnRpdHksIHsgcG9zaXRpb246IHBvc2l0aW9ufSlcbiAgR2x0ZkNvbnRhaW5lci5jcmVhdGUoZW50aXR5LCB7IHNyYzogZ2x0ZlNyYyB9KVxuICBQb3dlckN1YmUuY3JlYXRlKGVudGl0eSwgeyBpc0dyYWJiZWQ6IGZhbHNlIH0pXG5cbiAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgIHtcbiAgICAgIGVudGl0eTogZW50aXR5LFxuICAgICAgb3B0czoge1xuICAgICAgICBidXR0b246IElucHV0QWN0aW9uLklBX1BSSU1BUlksXG4gICAgICAgIGhvdmVyVGV4dDogJ1BpY2sgVXAnLFxuICAgICAgICBtYXhEaXN0YW5jZTogNVxuICAgICAgfVxuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3QgcG93ZXJDdWJlID0gUG93ZXJDdWJlLmdldE11dGFibGUoZW50aXR5KVxuICAgICAgcGxheU9uZVNob3QoZmxvd2VyKVxuICAgICAgaWYgKCFwb3dlckN1YmUuaXNHcmFiYmVkKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKGVudGl0eSlcbiAgICAgICAgcG93ZXJDdWJlLmlzR3JhYmJlZCA9IHRydWVcbiAgICAgXG4gICAgICAgIC8vIEF1ZGlvU291cmNlLmdldE11dGFibGUoY3ViZVBpY2tVcFNvdW5kKS5wbGF5aW5nID0gdHJ1ZVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZXMgdGhlIGNyYXRlJ3MgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGNhbWVyYVxuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLlplcm8oKVxuICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLklkZW50aXR5KClcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSAtMVxuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueiArPSBaX09GRlNFVFxuXG4gICAgICAgIGNvbnN0IGR1bW15UGFyZW50ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICAgIFRyYW5zZm9ybS5jcmVhdGUoZHVtbXlQYXJlbnQsIHt9KVxuXG4gICAgICAgIHRyYW5zZm9ybS5wYXJlbnQgPSBkdW1teVBhcmVudFxuXG4gICAgICAgIEF2YXRhckF0dGFjaC5jcmVhdGVPclJlcGxhY2UodHJhbnNmb3JtLnBhcmVudCwge1xuICAgICAgICAgIGFuY2hvclBvaW50SWQ6IEF2YXRhckFuY2hvclBvaW50VHlwZS5BQVBUX05BTUVfVEFHXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgcG9pbnRlckV2ZW50ID0gUG9pbnRlckV2ZW50cy5nZXRNdXRhYmxlKGVudGl0eSkucG9pbnRlckV2ZW50c1swXVxuICAgICAgICBpZiAocG9pbnRlckV2ZW50ICYmIHBvaW50ZXJFdmVudC5ldmVudEluZm8pIHtcbiAgICAgICAgICBwb2ludGVyRXZlbnQuZXZlbnRJbmZvLnNob3dGZWVkYmFjayA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIClcblxuICB1dGlscy50cmlnZ2Vycy5hZGRUcmlnZ2VyKGVudGl0eSwgMiwgMiwgW3sgdHlwZTogJ2JveCcsIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgxLCAxLCAxKSB9XSlcblxuICByZXR1cm4gZW50aXR5XG59XG5cbi8vIFdoZW4gcHJlc3NpbmcgRiBrZXlcbmVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICBpZiAoaW5wdXRTeXN0ZW0uaXNUcmlnZ2VyZWQoSW5wdXRBY3Rpb24uSUFfU0VDT05EQVJZLCBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOKSkge1xuICAgIGRyb3BBbGxDdWJlcygpXG4gIH1cbn0pXG5cbi8vIERyb3AgYWxsIGN1YmVzXG5leHBvcnQgZnVuY3Rpb24gZHJvcEFsbEN1YmVzKCkge1xuICBmb3IgKGNvbnN0IFtlbnRpdHldIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoUG93ZXJDdWJlKSkge1xuICAgIGNvbnN0IHBvd2VyQ3ViZSA9IFBvd2VyQ3ViZS5nZXRNdXRhYmxlKGVudGl0eSlcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShlbnRpdHkpXG4gICAgaWYgKCFwb3dlckN1YmUuaXNHcmFiYmVkKSByZXR1cm5cblxuICAgIHBvd2VyQ3ViZS5pc0dyYWJiZWQgPSBmYWxzZVxuICAgIC8vQXVkaW9Tb3VyY2UuZ2V0TXV0YWJsZShjdWJlUHV0RG93blNvdW5kKS5wbGF5aW5nID0gdHJ1ZVxuICAgIHBsYXlPbmVTaG90KGZsb3dlcilcblxuICAgIGNvbnN0IGNhbWVyYVRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXQoZW5naW5lLlBsYXllckVudGl0eSlcbiAgICBjb25zdCBmb3J3YXJkVmVjdG9yID0gVmVjdG9yMy5yb3RhdGUoVmVjdG9yMy5zY2FsZShWZWN0b3IzLkZvcndhcmQoKSwgWl9PRkZTRVQpLCBjYW1lcmFUcmFuc2Zvcm0ucm90YXRpb24pXG5cbiAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLmFkZChjYW1lcmFUcmFuc2Zvcm0ucG9zaXRpb24sIGZvcndhcmRWZWN0b3IpXG4gICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSBHUk9VTkRfSEVJR0hUXG5cbiAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLmZyb21Mb29rQXQodHJhbnNmb3JtLnBvc2l0aW9uLCBjYW1lcmFUcmFuc2Zvcm0ucG9zaXRpb24pXG4gICAgdHJhbnNmb3JtLnJvdGF0aW9uLnggPSAwXG4gICAgdHJhbnNmb3JtLnJvdGF0aW9uLnogPSAwXG5cbiAgICB0cmFuc2Zvcm0ucGFyZW50ID0gdW5kZWZpbmVkXG5cbiAgICBjb25zdCBwb2ludGVyRXZlbnQgPSBQb2ludGVyRXZlbnRzLmdldE11dGFibGUoZW50aXR5KS5wb2ludGVyRXZlbnRzWzBdXG4gICAgaWYgKHBvaW50ZXJFdmVudCAmJiBwb2ludGVyRXZlbnQuZXZlbnRJbmZvKSB7XG4gICAgICBwb2ludGVyRXZlbnQuZXZlbnRJbmZvLnNob3dGZWVkYmFjayA9IHRydWVcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBlbmdpbmUsXG4gIFRyYW5zZm9ybSxBbmltYXRvclxufSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IFNwaW5uZXIgfSBmcm9tICcuL2NvbXBvbmVudHMnXG4vL2ltcG9ydCAge0dlYXJTdGF0ZX0gZnJvbSAnLi9jb21wb25lbnRzJ1xuLy9pbXBvcnQgeyBEb29yU3RhdGUgfSBmcm9tICcuL2NvbXBvbmVudHMnXG5cblxuLyoqXG4gKiBBbGwgY3ViZXMvIHRlbGVwb3J0IGZsb3dlcnMgcm90YXRpbmcgYmVoYXZpb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNpcmN1bGFyU3lzdGVtKGR0OiBudW1iZXIpIHtcbiAgY29uc3QgZW50aXRpZXNXaXRoU3Bpbm5lciA9IGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoU3Bpbm5lciwgVHJhbnNmb3JtKVxuICBmb3IgKGNvbnN0IFtlbnRpdHksIF9zcGlubmVyLCBfdHJhbnNmb3JtXSBvZiBlbnRpdGllc1dpdGhTcGlubmVyKSB7XG4gICAgY29uc3QgbXV0YWJsZVRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKGVudGl0eSlcbiAgICBjb25zdCBzcGlubmVyRGF0YSA9IFNwaW5uZXIuZ2V0KGVudGl0eSlcblxuICAgIG11dGFibGVUcmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLm11bHRpcGx5KFxuICAgICAgbXV0YWJsZVRyYW5zZm9ybS5yb3RhdGlvbixcbiAgICAgIFF1YXRlcm5pb24uZnJvbUFuZ2xlQXhpcyhkdCAqIHNwaW5uZXJEYXRhLnNwZWVkLCBWZWN0b3IzLkxlZnQoKSlcbiAgICApXG4gIH1cbn1cblxuLy8gR2VhciBzeXN0ZW0gXG5cbi8qXG5cbmV4cG9ydCBmdW5jdGlvbiBnZWFyU3lzdGVtKGR0OiBudW1iZXIpIHtcbiAgY29uc3QgZ2VhckVudGl0aWVzID0gZW5naW5lLmdldEVudGl0aWVzV2l0aChHZWFyU3RhdGUsIEFuaW1hdG9yKVxuICBmb3IgKGNvbnN0IFtlbnRpdHksIF9nZWFyU3RhdGVdIG9mIGdlYXJFbnRpdGllcykge1xuICAgIGlmIChfZ2VhclN0YXRlLkhpZGUpIHtcbiAgICAgIEdlYXJTdGF0ZS5nZXRNdXRhYmxlKGVudGl0eSkuSGlkZSA9IGZhbHNlXG4gICAgICBjb25zdCBhbmltYXRvciA9IEFuaW1hdG9yLmdldE11dGFibGUoZW50aXR5KVxuXG4gICAgICBpZiAoX2dlYXJTdGF0ZS5PTikge1xuICAgICAgICBBbmltYXRvci5wbGF5U2luZ2xlQW5pbWF0aW9uKGVudGl0eSwgJ09wZW4nKSAvLyBpbnNlcnQgbmFtZSBvZiBhbmltYXRpb24gXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBBbmltYXRvci5wbGF5U2luZ2xlQW5pbWF0aW9uKGVudGl0eSwgJ0Nsb3NlJylcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuKi9cblxuXG4vKipcbiAqIEhhbmRsZSBkb29yIHN0YXRlc1xuICovXG5cblxuXG4vLy8gVE9HR0xFIFNXSVRDSEVTIFdJVEggVVRJTFMgLy8vIFxuXG4vKlxuXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAZGNsL2Vjcy1zY2VuZS11dGlscydcblxuLy8gQ3JlYXRlIGVudGl0eVxuY29uc3QgYm94ID0gbmV3IEVudGl0eSgpXG5cbi8vIEdpdmUgZW50aXR5IGEgc2hhcGUgYW5kIHRyYW5zZm9ybVxuYm94LmFkZENvbXBvbmVudChuZXcgQm94U2hhcGUoKSlcbmJveC5hZGRDb21wb25lbnQobmV3IFRyYW5zZm9ybSgpKVxuXG4vL0RlZmluZSB0d28gZGlmZmVyZW50IG1hdGVyaWFsc1xubGV0IGdyZWVuTWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoKVxuZ3JlZW5NYXRlcmlhbC5hbGJlZG9Db2xvciA9IENvbG9yMy5HcmVlbigpXG5sZXQgcmVkTWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoKVxucmVkTWF0ZXJpYWwuYWxiZWRvQ29sb3IgPSBDb2xvcjMuUmVkKClcblxuLy8gQWRkIGEgVG9nZ2xlIGNvbXBvbmVudFxuYm94LmFkZENvbXBvbmVudChcbiAgbmV3IHV0aWxzLlRvZ2dsZUNvbXBvbmVudCh1dGlscy5Ub2dnbGVTdGF0ZS5PZmYsIHZhbHVlID0+IHtcbiAgICBpZiAodmFsdWUgPT0gdXRpbHMuVG9nZ2xlU3RhdGUuT24pIHtcbiAgICAgIC8vc2V0IGNvbG9yIHRvIGdyZWVuXG4gICAgICBib3guYWRkQ29tcG9uZW50T3JSZXBsYWNlKGdyZWVuTWF0ZXJpYWwpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vc2V0IGNvbG9yIHRvIHJlZFxuICAgICAgYm94LmFkZENvbXBvbmVudE9yUmVwbGFjZShyZWRNYXRlcmlhbClcbiAgICB9XG4gIH0pXG4pXG5cbi8vbGlzdGVuIGZvciBjbGljayBvbiB0aGUgYm94IGFuZCB0b2dnbGUgaXQncyBzdGF0ZVxuYm94LmFkZENvbXBvbmVudChcbiAgbmV3IE9uQ2xpY2soZXZlbnQgPT4ge1xuICAgIGJveC5nZXRDb21wb25lbnQodXRpbHMuVG9nZ2xlQ29tcG9uZW50KS50b2dnbGUoKVxuICB9KVxuKVxuXG4vLyBBZGQgZW50aXR5IHRvIGVuZ2luZVxuZW5naW5lLmFkZEVudGl0eShib3gpXG5cbiovIiwgImltcG9ydCB7IGNyZWF0ZVBvd2VyQmFzZSB9IGZyb20gJy4vcG93ZXJCYXNlJ1xuaW1wb3J0IHsgY3JlYXRlUG93ZXJDdWJlIH0gZnJvbSAnLi9wb3dlckN1YmUnXG4vL2ltcG9ydCB7IG9uRW50ZXJTY2VuZU9ic2VydmFibGUsIG9uTGVhdmVTY2VuZU9ic2VydmFibGUgfSBmcm9tICdAZGNsL3Nkay9vYnNlcnZhYmxlcydcbmltcG9ydCB7IGNpcmN1bGFyU3lzdGVtIH0gZnJvbSAnLi9zeXN0ZW1zJ1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSBcIkBkY2wtc2RrL3V0aWxzXCJcbmltcG9ydCB7IENvbG9yMywgQ29sb3I0LCBWZWN0b3IzLCBRdWF0ZXJuaW9uIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbi8vaW1wb3J0IHsgU2NlbmVTb3VuZCxTY2VuZVNvdW5kMSxTY2VuZVNvdW5kMixwbGF5T25lc2hvdCxwbGF5U291bmQgfSBmcm9tICcuL3NvdW5kJ1xuZW5naW5lLmFkZFN5c3RlbShjaXJjdWxhclN5c3RlbSlcbi8vaW1wb3J0IHsgcGxheVNvdW5kLCBpbnRybyxQYXJ0QXVkaW8gfSBmcm9tICcuL3NvdW5kJ1xuXG5pbXBvcnQge1xuICBBdWRpb1NvdXJjZSxcbiAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlLFxuICBBdmF0YXJBdHRhY2gsXG4gIGVuZ2luZSxcbiAgR2x0ZkNvbnRhaW5lcixcbiAgSW5wdXRBY3Rpb24sXG4gIGlucHV0U3lzdGVtLFxuICBQb2ludGVyRXZlbnRzLFxuICBQb2ludGVyRXZlbnRUeXBlLFxuICBUcmFuc2Zvcm0sIE1lc2hDb2xsaWRlclxufSBmcm9tICdAZGNsL3Nkay9lY3MnXG4vL2ltcG9ydCB7IFZlY3RvcjMsIFF1YXRlcm5pb24gfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgcGxheVNvdW5kLGludHJvIH0gZnJvbSAnLi9zb3VuZCdcblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4oKSB7XG5cbiAgcGxheVNvdW5kKGludHJvKVxuXG4gIC8vIEJhc2VcbiAgY29uc3Qgc3RhdGljQmFzZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAvL0dsdGZDb250YWluZXIuY3JlYXRlKHN0YXRpY0Jhc2UsIHsgc3JjOiAnbW9kZWxzL3N0YXRpY0Jhc2UuZ2xiJyB9KVxuICBQb2ludGVyRXZlbnRzLmNyZWF0ZShzdGF0aWNCYXNlLCB7XG4gICAgcG9pbnRlckV2ZW50czogW1xuICAgICAge1xuICAgICAgICBldmVudFR5cGU6IFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04sXG4gICAgICAgIGV2ZW50SW5mbzoge1xuICAgICAgICAgIHNob3dGZWVkYmFjazogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgXVxuICB9KVxuXG4gIC8vIFNjZW5lIG9iamVjdHNcbiBcblxuICBjb25zdCBHUk9VTkRfSEVJR0hUID0gMC41NVxuXG4gIGNyZWF0ZVBvd2VyQmFzZShWZWN0b3IzLmNyZWF0ZSg4LCAwLjAyNCwgMy41KSwgJ2Jhc2UnKVxuICBjb25zdCBwb3dlckN1YmVFbnRpdHkgPSBjcmVhdGVQb3dlckN1YmUoVmVjdG9yMy5jcmVhdGUoOC41NiwgR1JPVU5EX0hFSUdIVCwgLTE0LjAyKSwgJ21vZGVscy9QbGFudEFxdWEuZ2xiJylcbiAgTWVzaENvbGxpZGVyLnNldEJveChwb3dlckN1YmVFbnRpdHkpXG4gIFxuXG5jb25zdCB0aWxlMSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuR2x0ZkNvbnRhaW5lci5jcmVhdGUodGlsZTEsIHsgc3JjOiAnbW9kZWxzL0NpdHlUaWxlLmdsYid9KSBcbi8vU3Bpbm5lci5jcmVhdGUodGlsZTEsIHsgc3BlZWQ6IDEwMCB9KVxuVHJhbnNmb3JtLmNyZWF0ZSh0aWxlMSwge1xucG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDAsIDgpLFxuc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEsIDEsIDEpLCBcbnJvdGF0aW9uOiBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoMCwgMTgwLCAwKSxcbn0pXG5cbmNvbnN0IHRpbGUyID0gZW5naW5lLmFkZEVudGl0eSgpXG5HbHRmQ29udGFpbmVyLmNyZWF0ZSh0aWxlMiwgeyBzcmM6ICdtb2RlbHMvQ2l0eVRpbGUuZ2xiJ30pIFxuLy9TcGlubmVyLmNyZWF0ZSh0aWxlMSwgeyBzcGVlZDogMTAwIH0pXG5UcmFuc2Zvcm0uY3JlYXRlKHRpbGUyLCB7XG5wb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgMCwgLTgpLFxuc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEsIDEsIDEpLCBcbnJvdGF0aW9uOiBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoMCwgMTgwLCAwKSxcbn0pXG5cblxufVxuIiwgIi8qKiBAYWxwaGEgVEhJUyBGSUxFIElOSVRJQUxJWkVTIFRIRSBERUNFTlRSQUxBTkQgUlVOVElNRS4gV0lMTCBDSEFOR0UgU09PTiAqL1xuaW1wb3J0IHsgQ29tcG9zaXRlLCBlbmdpbmUgfSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IGNyZHRHZXRTdGF0ZSwgY3JkdFNlbmRUb1JlbmRlcmVyLCBzZW5kQmF0Y2ggfSBmcm9tICd+c3lzdGVtL0VuZ2luZUFwaSdcbmltcG9ydCB7IGNyZWF0ZVJlbmRlcmVyVHJhbnNwb3J0IH0gZnJvbSAnLi9pbnRlcm5hbC90cmFuc3BvcnRzL3JlbmRlcmVyVHJhbnNwb3J0J1xuaW1wb3J0IHsgcG9sbEV2ZW50cyB9IGZyb20gJy4vb2JzZXJ2YWJsZXMnXG5pbXBvcnQgeyBjb21wb3NpdGVQcm92aWRlciB9IGZyb20gJy4vY29tcG9zaXRlLXByb3ZpZGVyJ1xuXG4vLyBBdHRhY2ggQ1JEVCB0cmFuc3BvcnRcbi8vIEBpbnRlcm5hbFxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyVHJhbnNwb3J0ID0gY3JlYXRlUmVuZGVyZXJUcmFuc3BvcnQoeyBjcmR0U2VuZFRvUmVuZGVyZXIgfSlcbmVuZ2luZS5hZGRUcmFuc3BvcnQocmVuZGVyZXJUcmFuc3BvcnQpXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvblVwZGF0ZShkZWx0YVRpbWU6IG51bWJlcikge1xuICBlbmdpbmUuc2VhbCgpXG4gIGF3YWl0IGVuZ2luZS51cGRhdGUoZGVsdGFUaW1lKVxuICBhd2FpdCBwb2xsRXZlbnRzKHNlbmRCYXRjaClcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGJlZm9yZSB0aGUgZmlyc3QgdXBkYXRlIGFuZCBhZnRlciB0aGUgZXZhbHVhdGlvbiBvZiB0aGUgY29kZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9uU3RhcnQoKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY3JkdEdldFN0YXRlKHsgZGF0YTogbmV3IFVpbnQ4QXJyYXkoKSB9KVxuXG4gIC8vIHdoZW4gdGhpcyBjb25kaXRpb24gaXMgdHJ1ZSBzb21ldGhpbmcgbGlrZSBgbWFpbi5jcmR0YCB3YXMgcHJlLWxvYWRlZCBmcm9tIHRoZSBydW50aW1lLCB3ZSBkb24ndCBuZWVkIHRvIGluc3RhbmNlIHRoZSBtYWluLmNvbXBvc2l0ZVxuICBpZiAoIXJlc3BvbnNlLmhhc0VudGl0aWVzKSB7XG4gICAgY29uc3QgbWFpbkNvbXBvc2l0ZSA9IGNvbXBvc2l0ZVByb3ZpZGVyLmdldENvbXBvc2l0ZU9yTnVsbCgnbWFpbi5jb21wb3NpdGUnKVxuICAgIGlmIChtYWluQ29tcG9zaXRlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBDb21wb3NpdGUuaW5zdGFuY2UoZW5naW5lLCBtYWluQ29tcG9zaXRlLCBjb21wb3NpdGVQcm92aWRlcilcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhgV2FybmluZzogbWFpbi5jb21wb3NpdGUgY291bGRuJ3QgYmUgaW5zdGFuY2VkLmApXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICghIXJlbmRlcmVyVHJhbnNwb3J0Lm9ubWVzc2FnZSkge1xuICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IGJ5dGVBcnJheSBvZiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIHJlbmRlcmVyVHJhbnNwb3J0Lm9ubWVzc2FnZShieXRlQXJyYXkpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgVHJhbnNwb3J0LCBUcmFuc3BvcnRNZXNzYWdlIH0gZnJvbSAnQGRjbC9lY3MnXG5pbXBvcnQgeyBNQVhfU1RBVElDX0NPTVBPTkVOVCB9IGZyb20gJ0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9jb21wb25lbnQtbnVtYmVyJ1xuaW1wb3J0IHR5cGUgeyBDcmR0U2VuZFRvUmVuZGVyZXJSZXF1ZXN0LCBDcmR0U2VuZFRvUmVzcG9uc2UgfSBmcm9tICd+c3lzdGVtL0VuZ2luZUFwaSdcblxuZXhwb3J0IHR5cGUgRW5naW5lQXBpRm9yVHJhbnNwb3J0ID0ge1xuICBjcmR0U2VuZFRvUmVuZGVyZXIoYm9keTogQ3JkdFNlbmRUb1JlbmRlcmVyUmVxdWVzdCk6IFByb21pc2U8Q3JkdFNlbmRUb1Jlc3BvbnNlPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXJUcmFuc3BvcnQoZW5naW5lQXBpOiBFbmdpbmVBcGlGb3JUcmFuc3BvcnQpOiBUcmFuc3BvcnQge1xuICBhc3luYyBmdW5jdGlvbiBzZW5kVG9SZW5kZXJlcihtZXNzYWdlOiBVaW50OEFycmF5KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBlbmdpbmVBcGkuY3JkdFNlbmRUb1JlbmRlcmVyKHtcbiAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpXG4gICAgfSlcblxuICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEubGVuZ3RoKSB7XG4gICAgICBpZiAocmVuZGVyZXJUcmFuc3BvcnQub25tZXNzYWdlKSB7XG4gICAgICAgIGZvciAoY29uc3QgYnl0ZUFycmF5IG9mIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICByZW5kZXJlclRyYW5zcG9ydC5vbm1lc3NhZ2UoYnl0ZUFycmF5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVuZGVyZXJUcmFuc3BvcnQ6IFRyYW5zcG9ydCA9IHtcbiAgICBhc3luYyBzZW5kKG1lc3NhZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNlbmRUb1JlbmRlcmVyKG1lc3NhZ2UpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBjb25zb2xlLmVycm9yIG9mIHRoZSBzY2VuZVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuICAgICAgICBkZWJ1Z2dlclxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsdGVyKG1lc3NhZ2U6IFRyYW5zcG9ydE1lc3NhZ2UpIHtcbiAgICAgIC8vIE9ubHkgc2VuZCByZW5kZXJlciBjb21wb25lbnRzIChQcm90byBHZW5lcmF0ZWQpXG4gICAgICBpZiAoXG4gICAgICAgIC8vIGZpbHRlciBvdXQgbWVzc2FnZXMgZm9yIG5vbi1jb3JlIGNvbXBvbmVudHNcbiAgICAgICAgKG1lc3NhZ2UgYXMgYW55KS5jb21wb25lbnRJZCA+IE1BWF9TVEFUSUNfQ09NUE9ORU5UXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhIW1lc3NhZ2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVuZGVyZXJUcmFuc3BvcnRcbn1cbiIsICIvKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xuLyoqXG4gKiBBIGNsYXNzIHNlcnZlcyBhcyBhIG1lZGl1bSBiZXR3ZWVuIHRoZSBvYnNlcnZhYmxlIGFuZCBpdHMgb2JzZXJ2ZXJzXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZlckV2ZW50U3RhdGUge1xuICAvKipcbiAgICogQW4gT2JzZXJ2ZXIgY2FuIHNldCB0aGlzIHByb3BlcnR5IHRvIHRydWUgdG8gcHJldmVudCBzdWJzZXF1ZW50IG9ic2VydmVycyBvZiBiZWluZyBub3RpZmllZFxuICAgKi9cbiAgcHVibGljIHNraXBOZXh0T2JzZXJ2ZXJzITogYm9vbGVhblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hc2sgdmFsdWUgdGhhdCB3ZXJlIHVzZWQgdG8gdHJpZ2dlciB0aGUgZXZlbnQgY29ycmVzcG9uZGluZyB0byB0aGlzIEV2ZW50U3RhdGUgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgbWFzayE6IG51bWJlclxuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHRoYXQgb3JpZ2luYWxseSBub3RpZmllZCB0aGUgZXZlbnRcbiAgICovXG4gIHB1YmxpYyB0YXJnZXQ/OiBhbnlcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgb2JqZWN0IGluIHRoZSBidWJibGluZyBwaGFzZVxuICAgKi9cbiAgcHVibGljIGN1cnJlbnRUYXJnZXQ/OiBhbnlcblxuICAvKipcbiAgICogVGhpcyB3aWxsIGJlIHBvcHVsYXRlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGxhc3QgZnVuY3Rpb24gdGhhdCB3YXMgZXhlY3V0ZWQuXG4gICAqIElmIGl0IGlzIHRoZSBmaXJzdCBmdW5jdGlvbiBpbiB0aGUgY2FsbGJhY2sgY2hhaW4gaXQgd2lsbCBiZSB0aGUgZXZlbnQgZGF0YS5cbiAgICovXG4gIHB1YmxpYyBsYXN0UmV0dXJuVmFsdWU/OiBhbnlcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEV2ZW50U3RhdGVcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHN0YXRlXG4gICAqIEBwYXJhbSBza2lwTmV4dE9ic2VydmVycyAtIGRlZmluZXMgYSBmbGFnIHdoaWNoIHdpbGwgaW5zdHJ1Y3QgdGhlIG9ic2VydmFibGUgdG8gc2tpcCBmb2xsb3dpbmcgb2JzZXJ2ZXJzIHdoZW4gc2V0IHRvIHRydWVcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgdGhlIG9yaWdpbmFsIHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHBhcmFtIGN1cnJlbnRUYXJnZXQgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hc2s6IG51bWJlciwgc2tpcE5leHRPYnNlcnZlcnMgPSBmYWxzZSwgdGFyZ2V0PzogYW55LCBjdXJyZW50VGFyZ2V0PzogYW55KSB7XG4gICAgdGhpcy5pbml0YWxpemUobWFzaywgc2tpcE5leHRPYnNlcnZlcnMsIHRhcmdldCwgY3VycmVudFRhcmdldClcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBjdXJyZW50IGV2ZW50IHN0YXRlXG4gICAqIEBwYXJhbSBtYXNrIC0gZGVmaW5lcyB0aGUgbWFzayBhc3NvY2lhdGVkIHdpdGggdGhpcyBzdGF0ZVxuICAgKiBAcGFyYW0gc2tpcE5leHRPYnNlcnZlcnMgLSBkZWZpbmVzIGEgZmxhZyB3aGljaCB3aWxsIGluc3RydWN0IHRoZSBvYnNlcnZhYmxlIHRvIHNraXAgZm9sbG93aW5nIG9ic2VydmVycyB3aGVuIHNldCB0byB0cnVlXG4gICAqIEBwYXJhbSB0YXJnZXQgLSBkZWZpbmVzIHRoZSBvcmlnaW5hbCB0YXJnZXQgb2YgdGhlIHN0YXRlXG4gICAqIEBwYXJhbSBjdXJyZW50VGFyZ2V0IC0gZGVmaW5lcyB0aGUgY3VycmVudCB0YXJnZXQgb2YgdGhlIHN0YXRlXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IGV2ZW50IHN0YXRlXG4gICAqL1xuICBwdWJsaWMgaW5pdGFsaXplKG1hc2s6IG51bWJlciwgc2tpcE5leHRPYnNlcnZlcnMgPSBmYWxzZSwgdGFyZ2V0PzogYW55LCBjdXJyZW50VGFyZ2V0PzogYW55KTogT2JzZXJ2ZXJFdmVudFN0YXRlIHtcbiAgICB0aGlzLm1hc2sgPSBtYXNrXG4gICAgdGhpcy5za2lwTmV4dE9ic2VydmVycyA9IHNraXBOZXh0T2JzZXJ2ZXJzXG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXRcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudCBhbiBPYnNlcnZlciByZWdpc3RlcmVkIHRvIGEgZ2l2ZW4gT2JzZXJ2YWJsZSBvYmplY3QuXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZlcjxUPiB7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgYSBwcm9wZXJ0eSBkZWZpbmluZyB0aGF0IHRoZSBvYnNlcnZlciBhcyB0byBiZSB1bnJlZ2lzdGVyZWQgYWZ0ZXIgdGhlIG5leHQgbm90aWZpY2F0aW9uXG4gICAqL1xuICBwdWJsaWMgdW5yZWdpc3Rlck9uTmV4dENhbGwgPSBmYWxzZVxuXG4gIC8qKiBGb3IgaW50ZXJuYWwgdXNhZ2UgKi9cbiAgcHVibGljIF93aWxsQmVVbnJlZ2lzdGVyZWQgPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IG9ic2VydmVyXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGRlZmluZXMgdGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbiB0aGUgb2JzZXJ2ZXIgaXMgbm90aWZpZWRcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIG9mIHRoZSBvYnNlcnZlciAodXNlZCB0byBmaWx0ZXIgbm90aWZpY2F0aW9ucylcbiAgICogQHBhcmFtIHNjb3BlIC0gZGVmaW5lcyB0aGUgY3VycmVudCBzY29wZSB1c2VkIHRvIHJlc3RvcmUgdGhlIEpTIGNvbnRleHRcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbiB0aGUgb2JzZXJ2ZXIgaXMgbm90aWZpZWRcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsbGJhY2s6IChldmVudERhdGE6IFQsIGV2ZW50U3RhdGU6IE9ic2VydmVyRXZlbnRTdGF0ZSkgPT4gdm9pZCxcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBtYXNrIG9mIHRoZSBvYnNlcnZlciAodXNlZCB0byBmaWx0ZXIgbm90aWZpY2F0aW9ucylcbiAgICAgKi9cbiAgICBwdWJsaWMgbWFzazogbnVtYmVyLFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGN1cnJlbnQgc2NvcGUgdXNlZCB0byByZXN0b3JlIHRoZSBKUyBjb250ZXh0XG4gICAgICovXG4gICAgcHVibGljIHNjb3BlOiBhbnkgPSBudWxsXG4gICkge31cbn1cblxuLyoqXG4gKiBUaGUgT2JzZXJ2YWJsZSBjbGFzcyBpcyBhIHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgT2JzZXJ2YWJsZSBwYXR0ZXJuLlxuICpcbiAqIFRoZXJlJ3Mgb25lIHNsaWdodCBwYXJ0aWN1bGFyaXR5IHRob3VnaDogYSBnaXZlbiBPYnNlcnZhYmxlIGNhbiBub3RpZnkgaXRzIG9ic2VydmVyIHVzaW5nIGEgcGFydGljdWxhciBtYXNrIHZhbHVlLCBvbmx5IHRoZSBPYnNlcnZlcnMgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgbWFzayB2YWx1ZSB3aWxsIGJlIG5vdGlmaWVkLlxuICogVGhpcyBlbmFibGUgYSBtb3JlIGZpbmUgZ3JhaW5lZCBleGVjdXRpb24gd2l0aG91dCBoYXZpbmcgdG8gcmVseSBvbiBtdWx0aXBsZSBkaWZmZXJlbnQgT2JzZXJ2YWJsZSBvYmplY3RzLlxuICogRm9yIGluc3RhbmNlIHlvdSBtYXkgaGF2ZSBhIGdpdmVuIE9ic2VydmFibGUgdGhhdCBoYXZlIGZvdXIgZGlmZmVyZW50IHR5cGVzIG9mIG5vdGlmaWNhdGlvbnM6IE1vdmUgKG1hc2sgPSAweDAxKSwgU3RvcCAobWFzayA9IDB4MDIpLCBUdXJuIFJpZ2h0IChtYXNrID0gMFgwNCksIFR1cm4gTGVmdCAobWFzayA9IDBYMDgpLlxuICogQSBnaXZlbiBvYnNlcnZlciBjYW4gcmVnaXN0ZXIgaXRzZWxmIHdpdGggb25seSBNb3ZlIGFuZCBTdG9wIChtYXNrID0gMHgwMyksIHRoZW4gaXQgd2lsbCBvbmx5IGJlIG5vdGlmaWVkIHdoZW4gb25lIG9mIHRoZXNlIHR3byBvY2N1cnMgYW5kIHdpbGwgbmV2ZXIgYmUgZm9yIFR1cm4gTGVmdC9SaWdodC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlPFQ+IHtcbiAgcHJpdmF0ZSBfb2JzZXJ2ZXJzID0gbmV3IEFycmF5PE9ic2VydmVyPFQ+PigpXG5cbiAgcHJpdmF0ZSBfZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlXG5cbiAgcHJpdmF0ZSBfb25PYnNlcnZlckFkZGVkOiBudWxsIHwgKChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHZvaWQpID0gbnVsbFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IG9ic2VydmFibGVcbiAgICogQHBhcmFtIG9uT2JzZXJ2ZXJBZGRlZCAtIGRlZmluZXMgYSBjYWxsYmFjayB0byBjYWxsIHdoZW4gYSBuZXcgb2JzZXJ2ZXIgaXMgYWRkZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9uT2JzZXJ2ZXJBZGRlZD86IChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHZvaWQpIHtcbiAgICB0aGlzLl9ldmVudFN0YXRlID0gbmV3IE9ic2VydmVyRXZlbnRTdGF0ZSgwKVxuXG4gICAgaWYgKG9uT2JzZXJ2ZXJBZGRlZCkge1xuICAgICAgdGhpcy5fb25PYnNlcnZlckFkZGVkID0gb25PYnNlcnZlckFkZGVkXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBPYnNlcnZlciB3aXRoIHRoZSBzcGVjaWZpZWQgY2FsbGJhY2tcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gdGhlIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBmb3IgdGhhdCBPYnNlcnZlclxuICAgKiBAcGFyYW0gbWFzayAtIHRoZSBtYXNrIHVzZWQgdG8gZmlsdGVyIG9ic2VydmVyc1xuICAgKiBAcGFyYW0gaW5zZXJ0Rmlyc3QgLSBpZiB0cnVlIHRoZSBjYWxsYmFjayB3aWxsIGJlIGluc2VydGVkIGF0IHRoZSBmaXJzdCBwb3NpdGlvbiwgaGVuY2UgZXhlY3V0ZWQgYmVmb3JlIHRoZSBvdGhlcnMgb25lcy4gSWYgZmFsc2UgKGRlZmF1bHQgYmVoYXZpb3IpIHRoZSBjYWxsYmFjayB3aWxsIGJlIGluc2VydGVkIGF0IHRoZSBsYXN0IHBvc2l0aW9uLCBleGVjdXRlZCBhZnRlciBhbGwgdGhlIG90aGVycyBhbHJlYWR5IHByZXNlbnQuXG4gICAqIEBwYXJhbSBzY29wZSAtIG9wdGlvbmFsIHNjb3BlIGZvciB0aGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGZyb21cbiAgICogQHBhcmFtIHVucmVnaXN0ZXJPbkZpcnN0Q2FsbCAtIGRlZmluZXMgaWYgdGhlIG9ic2VydmVyIGFzIHRvIGJlIHVucmVnaXN0ZXJlZCBhZnRlciB0aGUgbmV4dCBub3RpZmljYXRpb25cbiAgICogQHJldHVybnMgdGhlIG5ldyBvYnNlcnZlciBjcmVhdGVkIGZvciB0aGUgY2FsbGJhY2tcbiAgICovXG4gIHB1YmxpYyBhZGQoXG4gICAgY2FsbGJhY2s6IChldmVudERhdGE6IFQsIGV2ZW50U3RhdGU6IE9ic2VydmVyRXZlbnRTdGF0ZSkgPT4gdm9pZCxcbiAgICBtYXNrOiBudW1iZXIgPSAtMSxcbiAgICBpbnNlcnRGaXJzdCA9IGZhbHNlLFxuICAgIHNjb3BlOiBhbnkgPSBudWxsLFxuICAgIHVucmVnaXN0ZXJPbkZpcnN0Q2FsbCA9IGZhbHNlXG4gICk6IG51bGwgfCBPYnNlcnZlcjxUPiB7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBPYnNlcnZlcihjYWxsYmFjaywgbWFzaywgc2NvcGUpXG4gICAgb2JzZXJ2ZXIudW5yZWdpc3Rlck9uTmV4dENhbGwgPSB1bnJlZ2lzdGVyT25GaXJzdENhbGxcblxuICAgIGlmIChpbnNlcnRGaXJzdCkge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQob2JzZXJ2ZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX29ic2VydmVycy5wdXNoKG9ic2VydmVyKVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9vbk9ic2VydmVyQWRkZWQpIHtcbiAgICAgIHRoaXMuX29uT2JzZXJ2ZXJBZGRlZChvYnNlcnZlcilcbiAgICB9XG5cbiAgICByZXR1cm4gb2JzZXJ2ZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgT2JzZXJ2ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGNhbGxiYWNrIGFuZCB1bnJlZ2lzdGVycyBhZnRlciB0aGUgbmV4dCBub3RpZmljYXRpb25cbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gdGhlIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBmb3IgdGhhdCBPYnNlcnZlclxuICAgKiBAcmV0dXJucyB0aGUgbmV3IG9ic2VydmVyIGNyZWF0ZWQgZm9yIHRoZSBjYWxsYmFja1xuICAgKi9cbiAgcHVibGljIGFkZE9uY2UoY2FsbGJhY2s6IChldmVudERhdGE6IFQsIGV2ZW50U3RhdGU6IE9ic2VydmVyRXZlbnRTdGF0ZSkgPT4gdm9pZCk6IG51bGwgfCBPYnNlcnZlcjxUPiB7XG4gICAgcmV0dXJuIHRoaXMuYWRkKGNhbGxiYWNrLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBPYnNlcnZlciBmcm9tIHRoZSBPYnNlcnZhYmxlIG9iamVjdFxuICAgKiBAcGFyYW0gb2JzZXJ2ZXIgLSB0aGUgaW5zdGFuY2Ugb2YgdGhlIE9ic2VydmVyIHRvIHJlbW92ZVxuICAgKiBAcmV0dXJucyBmYWxzZSBpZiBpdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIE9ic2VydmFibGVcbiAgICovXG4gIHB1YmxpYyByZW1vdmUob2JzZXJ2ZXI6IG51bGwgfCBPYnNlcnZlcjxUPik6IGJvb2xlYW4ge1xuICAgIGlmICghb2JzZXJ2ZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpXG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9kZWZlclVucmVnaXN0ZXIob2JzZXJ2ZXIpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIE9ic2VydmFibGUgb2JqZWN0XG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIHRoZSBjYWxsYmFjayB0byByZW1vdmVcbiAgICogQHBhcmFtIHNjb3BlIC0gb3B0aW9uYWwgc2NvcGUuIElmIHVzZWQgb25seSB0aGUgY2FsbGJhY2tzIHdpdGggdGhpcyBzY29wZSB3aWxsIGJlIHJlbW92ZWRcbiAgICogQHJldHVybnMgZmFsc2UgaWYgaXQgZG9lc24ndCBiZWxvbmcgdG8gdGhpcyBPYnNlcnZhYmxlXG4gICAqL1xuICBwdWJsaWMgcmVtb3ZlQ2FsbGJhY2soY2FsbGJhY2s6IChldmVudERhdGE6IFQsIGV2ZW50U3RhdGU6IE9ic2VydmVyRXZlbnRTdGF0ZSkgPT4gdm9pZCwgc2NvcGU/OiBhbnkpOiBib29sZWFuIHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgaWYgKHRoaXMuX29ic2VydmVyc1tpbmRleF0uY2FsbGJhY2sgPT09IGNhbGxiYWNrICYmICghc2NvcGUgfHwgc2NvcGUgPT09IHRoaXMuX29ic2VydmVyc1tpbmRleF0uc2NvcGUpKSB7XG4gICAgICAgIHRoaXMuX2RlZmVyVW5yZWdpc3Rlcih0aGlzLl9vYnNlcnZlcnNbaW5kZXhdKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSBhbGwgT2JzZXJ2ZXJzIGJ5IGNhbGxpbmcgdGhlaXIgcmVzcGVjdGl2ZSBjYWxsYmFjayB3aXRoIHRoZSBnaXZlbiBkYXRhXG4gICAqIFdpbGwgcmV0dXJuIHRydWUgaWYgYWxsIG9ic2VydmVycyB3ZXJlIGV4ZWN1dGVkLCBmYWxzZSBpZiBhbiBvYnNlcnZlciBzZXQgc2tpcE5leHRPYnNlcnZlcnMgdG8gdHJ1ZSwgdGhlbiBwcmV2ZW50IHRoZSBzdWJzZXF1ZW50IG9uZXMgdG8gZXhlY3V0ZVxuICAgKiBAcGFyYW0gZXZlbnREYXRhIC0gZGVmaW5lcyB0aGUgZGF0YSB0byBzZW5kIHRvIGFsbCBvYnNlcnZlcnNcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIG9mIHRoZSBjdXJyZW50IG5vdGlmaWNhdGlvbiAob2JzZXJ2ZXJzIHdpdGggaW5jb21wYXRpYmxlIG1hc2sgKGllIG1hc2sgJiBvYnNlcnZlci5tYXNrID09PSAwKSB3aWxsIG5vdCBiZSBub3RpZmllZClcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgdGhlIG9yaWdpbmFsIHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHBhcmFtIGN1cnJlbnRUYXJnZXQgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHJldHVybnMgZmFsc2UgaWYgdGhlIGNvbXBsZXRlIG9ic2VydmVyIGNoYWluIHdhcyBub3QgcHJvY2Vzc2VkIChiZWNhdXNlIG9uZSBvYnNlcnZlciBzZXQgdGhlIHNraXBOZXh0T2JzZXJ2ZXJzIHRvIHRydWUpXG4gICAqL1xuICBwdWJsaWMgbm90aWZ5T2JzZXJ2ZXJzKGV2ZW50RGF0YTogVCwgbWFzazogbnVtYmVyID0gLTEsIHRhcmdldD86IGFueSwgY3VycmVudFRhcmdldD86IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2V2ZW50U3RhdGVcbiAgICBzdGF0ZS5tYXNrID0gbWFza1xuICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldFxuICAgIHN0YXRlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0XG4gICAgc3RhdGUuc2tpcE5leHRPYnNlcnZlcnMgPSBmYWxzZVxuICAgIHN0YXRlLmxhc3RSZXR1cm5WYWx1ZSA9IGV2ZW50RGF0YVxuXG4gICAgZm9yIChjb25zdCBvYnMgb2YgdGhpcy5fb2JzZXJ2ZXJzKSB7XG4gICAgICBpZiAob2JzLl93aWxsQmVVbnJlZ2lzdGVyZWQpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKG9icy5tYXNrICYgbWFzaykge1xuICAgICAgICBpZiAob2JzLnNjb3BlKSB7XG4gICAgICAgICAgc3RhdGUubGFzdFJldHVyblZhbHVlID0gb2JzLmNhbGxiYWNrLmFwcGx5KG9icy5zY29wZSwgW2V2ZW50RGF0YSwgc3RhdGVdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLmxhc3RSZXR1cm5WYWx1ZSA9IG9icy5jYWxsYmFjayhldmVudERhdGEsIHN0YXRlKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9icy51bnJlZ2lzdGVyT25OZXh0Q2FsbCkge1xuICAgICAgICAgIHRoaXMuX2RlZmVyVW5yZWdpc3RlcihvYnMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5za2lwTmV4dE9ic2VydmVycykge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsaW5nIHRoaXMgd2lsbCBleGVjdXRlIGVhY2ggY2FsbGJhY2ssIGV4cGVjdGluZyBpdCB0byBiZSBhIHByb21pc2Ugb3IgcmV0dXJuIGEgdmFsdWUuXG4gICAqIElmIGF0IGFueSBwb2ludCBpbiB0aGUgY2hhaW4gb25lIGZ1bmN0aW9uIGZhaWxzLCB0aGUgcHJvbWlzZSB3aWxsIGZhaWwgYW5kIHRoZSBleGVjdXRpb24gd2lsbCBub3QgY29udGludWUuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gYSBjaGFpbiBvZiBldmVudHMgKHNvbWV0aW1lcyBhc3luYyBldmVudHMpIGlzIG5lZWRlZCB0byBpbml0aWFsaXplIGEgY2VydGFpbiBvYmplY3RcbiAgICogYW5kIGl0IGlzIGNydWNpYWwgdGhhdCBhbGwgY2FsbGJhY2tzIHdpbGwgYmUgZXhlY3V0ZWQuXG4gICAqIFRoZSBvcmRlciBvZiB0aGUgY2FsbGJhY2tzIGlzIGtlcHQsIGNhbGxiYWNrcyBhcmUgbm90IGV4ZWN1dGVkIHBhcmFsbGVsLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnREYXRhIC0gVGhlIGRhdGEgdG8gYmUgc2VudCB0byBlYWNoIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBtYXNrIC0gaXMgdXNlZCB0byBmaWx0ZXIgb2JzZXJ2ZXJzIGRlZmF1bHRzIHRvIC0xXG4gICAqIEBwYXJhbSB0YXJnZXQgLSBkZWZpbmVzIHRoZSBjYWxsYmFjayB0YXJnZXQgKHNlZSBFdmVudFN0YXRlKVxuICAgKiBAcGFyYW0gY3VycmVudFRhcmdldCAtIGRlZmluZXMgaGUgY3VycmVudCBvYmplY3QgaW4gdGhlIGJ1YmJsaW5nIHBoYXNlXG4gICAqIEByZXR1cm5zIHdpbGwgcmV0dXJuIGEgUHJvbWlzZSB0aGFuIHJlc29sdmVzIHdoZW4gYWxsIGNhbGxiYWNrcyBleGVjdXRlZCBzdWNjZXNzZnVsbHkuXG4gICAqL1xuICBwdWJsaWMgbm90aWZ5T2JzZXJ2ZXJzV2l0aFByb21pc2UoZXZlbnREYXRhOiBULCBtYXNrOiBudW1iZXIgPSAtMSwgdGFyZ2V0PzogYW55LCBjdXJyZW50VGFyZ2V0PzogYW55KTogUHJvbWlzZTxUPiB7XG4gICAgLy8gY3JlYXRlIGFuIGVtcHR5IHByb21pc2VcbiAgICBsZXQgcDogUHJvbWlzZTxhbnk+ID0gUHJvbWlzZS5yZXNvbHZlKGV2ZW50RGF0YSlcblxuICAgIC8vIG5vIG9ic2VydmVycz8gcmV0dXJuIHRoaXMgcHJvbWlzZS5cbiAgICBpZiAoIXRoaXMuX29ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBwXG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9ldmVudFN0YXRlXG4gICAgc3RhdGUubWFzayA9IG1hc2tcbiAgICBzdGF0ZS50YXJnZXQgPSB0YXJnZXRcbiAgICBzdGF0ZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldFxuICAgIHN0YXRlLnNraXBOZXh0T2JzZXJ2ZXJzID0gZmFsc2VcblxuICAgIC8vIGV4ZWN1dGUgb25lIGNhbGxiYWNrIGFmdGVyIGFub3RoZXIgKG5vdCB1c2luZyBQcm9taXNlLmFsbCwgdGhlIG9yZGVyIGlzIGltcG9ydGFudClcbiAgICB0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaCgob2JzKSA9PiB7XG4gICAgICBpZiAoc3RhdGUuc2tpcE5leHRPYnNlcnZlcnMpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAob2JzLl93aWxsQmVVbnJlZ2lzdGVyZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAob2JzLm1hc2sgJiBtYXNrKSB7XG4gICAgICAgIGlmIChvYnMuc2NvcGUpIHtcbiAgICAgICAgICBwID0gcC50aGVuKChsYXN0UmV0dXJuZWRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUubGFzdFJldHVyblZhbHVlID0gbGFzdFJldHVybmVkVmFsdWVcbiAgICAgICAgICAgIHJldHVybiBvYnMuY2FsbGJhY2suYXBwbHkob2JzLnNjb3BlLCBbZXZlbnREYXRhLCBzdGF0ZV0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwID0gcC50aGVuKChsYXN0UmV0dXJuZWRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUubGFzdFJldHVyblZhbHVlID0gbGFzdFJldHVybmVkVmFsdWVcbiAgICAgICAgICAgIHJldHVybiBvYnMuY2FsbGJhY2soZXZlbnREYXRhLCBzdGF0ZSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChvYnMudW5yZWdpc3Rlck9uTmV4dENhbGwpIHtcbiAgICAgICAgICB0aGlzLl9kZWZlclVucmVnaXN0ZXIob2JzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIHJldHVybiB0aGUgZXZlbnREYXRhXG4gICAgcmV0dXJuIHAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gZXZlbnREYXRhXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RpZnkgYSBzcGVjaWZpYyBvYnNlcnZlclxuICAgKiBAcGFyYW0gb2JzZXJ2ZXIgLSBkZWZpbmVzIHRoZSBvYnNlcnZlciB0byBub3RpZnlcbiAgICogQHBhcmFtIGV2ZW50RGF0YSAtIGRlZmluZXMgdGhlIGRhdGEgdG8gYmUgc2VudCB0byBlYWNoIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBtYXNrIC0gaXMgdXNlZCB0byBmaWx0ZXIgb2JzZXJ2ZXJzIGRlZmF1bHRzIHRvIC0xXG4gICAqL1xuICBwdWJsaWMgbm90aWZ5T2JzZXJ2ZXIob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+LCBldmVudERhdGE6IFQsIG1hc2s6IG51bWJlciA9IC0xKTogdm9pZCB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9ldmVudFN0YXRlXG4gICAgc3RhdGUubWFzayA9IG1hc2tcbiAgICBzdGF0ZS5za2lwTmV4dE9ic2VydmVycyA9IGZhbHNlXG5cbiAgICBvYnNlcnZlci5jYWxsYmFjayhldmVudERhdGEsIHN0YXRlKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhlIG9ic2VydmFibGUgaGFzIGF0IGxlYXN0IG9uZSBvYnNlcnZlclxuICAgKiBAcmV0dXJucyB0cnVlIGlzIHRoZSBPYnNlcnZhYmxlIGhhcyBhdCBsZWFzdCBvbmUgT2JzZXJ2ZXIgcmVnaXN0ZXJlZFxuICAgKi9cbiAgcHVibGljIGhhc09ic2VydmVycygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aCA+IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciB0aGUgbGlzdCBvZiBvYnNlcnZlcnNcbiAgICovXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLl9vYnNlcnZlcnMgPSBuZXcgQXJyYXk8T2JzZXJ2ZXI8VD4+KClcbiAgICB0aGlzLl9vbk9ic2VydmVyQWRkZWQgPSBudWxsXG4gIH1cblxuICAvKipcbiAgICogQ2xvbmUgdGhlIGN1cnJlbnQgb2JzZXJ2YWJsZVxuICAgKiBAcmV0dXJucyBhIG5ldyBvYnNlcnZhYmxlXG4gICAqL1xuICBwdWJsaWMgY2xvbmUoKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IE9ic2VydmFibGU8VD4oKVxuXG4gICAgcmVzdWx0Ll9vYnNlcnZlcnMgPSB0aGlzLl9vYnNlcnZlcnMuc2xpY2UoMClcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBEb2VzIHRoaXMgb2JzZXJ2YWJsZSBoYW5kbGVzIG9ic2VydmVyIHJlZ2lzdGVyZWQgd2l0aCBhIGdpdmVuIG1hc2tcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIHRvIGJlIHRlc3RlZFxuICAgKiBAcmV0dXJucyB3aGV0aGVyIG9yIG5vdCBvbmUgb2JzZXJ2ZXIgcmVnaXN0ZXJlZCB3aXRoIHRoZSBnaXZlbiBtYXNrIGlzIGhhbmRlbGVkXG4gICAqL1xuICBwdWJsaWMgaGFzU3BlY2lmaWNNYXNrKG1hc2s6IG51bWJlciA9IC0xKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBvYnMgb2YgdGhpcy5fb2JzZXJ2ZXJzKSB7XG4gICAgICBpZiAob2JzLm1hc2sgJiBtYXNrIHx8IG9icy5tYXNrID09PSBtYXNrKSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcHJpdmF0ZSBfZGVmZXJVbnJlZ2lzdGVyKG9ic2VydmVyOiBPYnNlcnZlcjxUPik6IHZvaWQge1xuICAgIG9ic2VydmVyLnVucmVnaXN0ZXJPbk5leHRDYWxsID0gZmFsc2VcbiAgICBvYnNlcnZlci5fd2lsbEJlVW5yZWdpc3RlcmVkID0gdHJ1ZVxuICAgIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKShhc3luYyAoKSA9PiB0aGlzLl9yZW1vdmUob2JzZXJ2ZXIpKVxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gIH1cblxuICAvLyBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuIG5vdCBpdGVyYXRpbmcgb3ZlciBfb2JzZXJ2ZXJzIHRvIGF2b2lkIGNhbGxiYWNrIHNraXBwaW5nLlxuICAvLyBSZW1vdmVzIGFuIG9ic2VydmVyIGZyb20gdGhlIF9vYnNlcnZlciBBcnJheS5cbiAgcHJpdmF0ZSBfcmVtb3ZlKG9ic2VydmVyOiBudWxsIHwgT2JzZXJ2ZXI8VD4pOiBib29sZWFuIHtcbiAgICBpZiAoIW9ic2VydmVyKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX29ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKVxuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbiIsICJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9PYnNlcnZhYmxlJ1xuaW1wb3J0IHsgUXVhdGVybmlvblR5cGUsIFZlY3RvcjNUeXBlIH0gZnJvbSAnQGRjbC9lY3MnXG5pbXBvcnQgeyBNYW55RW50aXR5QWN0aW9uLCBTZW5kQmF0Y2hSZXNwb25zZSwgc3Vic2NyaWJlIH0gZnJvbSAnfnN5c3RlbS9FbmdpbmVBcGknXG5cbmxldCBzdWJzY3JpYmVGdW5jdGlvbjogdHlwZW9mIHN1YnNjcmliZSA9IHN1YnNjcmliZVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgSW5wdXRFdmVudFJlc3VsdCA9IHtcbiAgLyoqIE9yaWdpbiBvZiB0aGUgcmF5LCByZWxhdGl2ZSB0byB0aGUgc2NlbmUgKi9cbiAgb3JpZ2luOiBWZWN0b3IzVHlwZVxuICAvKiogRGlyZWN0aW9uIHZlY3RvciBvZiB0aGUgcmF5IChub3JtYWxpemVkKSAqL1xuICBkaXJlY3Rpb246IFZlY3RvcjNUeXBlXG4gIC8qKiBJRCBvZiB0aGUgcG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQgKi9cbiAgYnV0dG9uSWQ6IG51bWJlclxuICAvKiogRG9lcyB0aGlzIHBvaW50ZXIgZXZlbnQgaGl0IGFueSBvYmplY3Q/ICovXG4gIGhpdD86IHtcbiAgICAvKiogTGVuZ3RoIG9mIHRoZSByYXkgKi9cbiAgICBsZW5ndGg6IG51bWJlclxuICAgIC8qKiBJZiB0aGUgcmF5IGhpdHMgYSBtZXNoIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgd2lsbCBiZSB0aGlzICovXG4gICAgaGl0UG9pbnQ6IFZlY3RvcjNUeXBlXG4gICAgLyoqIElmIHRoZSBtZXNoIGhhcyBhIG5hbWUsIGl0IHdpbGwgYmUgYXNzaWduZWQgdG8gbWVzaE5hbWUgKi9cbiAgICBtZXNoTmFtZTogc3RyaW5nXG4gICAgLyoqIE5vcm1hbCBvZiB0aGUgaGl0ICovXG4gICAgbm9ybWFsOiBWZWN0b3IzVHlwZVxuICAgIC8qKiBOb3JtYWwgb2YgdGhlIGhpdCwgaW4gd29ybGQgc3BhY2UgKi9cbiAgICB3b3JsZE5vcm1hbDogVmVjdG9yM1R5cGVcbiAgICAvKiogSGl0IGVudGl0eSBJRCBpZiBhbnkgKi9cbiAgICBlbnRpdHlJZDogdW5rbm93blxuICB9XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBHbG9iYWxJbnB1dEV2ZW50UmVzdWx0ID0gSW5wdXRFdmVudFJlc3VsdCAmIHtcbiAgLyoqXG4gICAqIERPV04gPSAwLFxuICAgKiBVUCA9IDFcbiAgICovXG4gIHR5cGU6IDAgfCAxXG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBSYXljYXN0UmVzcG9uc2VQYXlsb2FkPFQ+ID0ge1xuICBxdWVyeUlkOiBzdHJpbmdcbiAgcXVlcnlUeXBlOiBzdHJpbmdcbiAgcGF5bG9hZDogVFxufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgR2l6bW9EcmFnRW5kRXZlbnQgPSB7XG4gIHR5cGU6ICdnaXptb0RyYWdFbmRlZCdcbiAgdHJhbnNmb3JtczogQXJyYXk8e1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzVHlwZVxuICAgIHJvdGF0aW9uOiBRdWF0ZXJuaW9uVHlwZVxuICAgIHNjYWxlOiBWZWN0b3IzVHlwZVxuICAgIGVudGl0eUlkOiB1bmtub3duXG4gIH0+XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBHaXptb1NlbGVjdGVkRXZlbnQgPSB7XG4gIHR5cGU6ICdnaXptb1NlbGVjdGVkJ1xuICBnaXptb1R5cGU6ICdNT1ZFJyB8ICdST1RBVEUnIHwgJ1NDQUxFJyB8ICdOT05FJ1xuICBlbnRpdGllczogc3RyaW5nW11cbn1cblxuLy8vIC0tLSBFVkVOVFMgLS0tXG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBJRXZlbnROYW1lcyA9IGtleW9mIElFdmVudHNcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIEVuZ2luZUV2ZW50PFQgZXh0ZW5kcyBJRXZlbnROYW1lcyA9IElFdmVudE5hbWVzLCBWID0gSUV2ZW50c1tUXT4gPSB7XG4gIC8qKiBldmVudE5hbWUgKi9cbiAgdHlwZTogVFxuICBkYXRhOiBSZWFkb25seTxWPlxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIE5vdGU6IERvbid0IHVzZSBgb25gIHByZWZpeCBmb3IgSUV2ZW50cyB0byBhdm9pZCByZWR1bmRhbmN5IHdpdGggYGV2ZW50Lm9uKFwib25FdmVudE5hbWVcIilgIHN5bnRheC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJRXZlbnRzIHtcbiAgLyoqXG4gICAqIGBwb3NpdGlvbkNoYW5nZWRgIGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBwb3NpdGlvbiBvZiB0aGUgY2FtZXJhIGNoYW5nZXNcbiAgICogVGhpcyBldmVudCBpcyB0aHJvdHRsZWQgdG8gMTAgdGltZXMgcGVyIHNlY29uZC5cbiAgICovXG4gIHBvc2l0aW9uQ2hhbmdlZDoge1xuICAgIC8qKiBDYW1lcmEgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGJhc2UgcGFyY2VsIG9mIHRoZSBzY2VuZSAqL1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzVHlwZVxuXG4gICAgLyoqIENhbWVyYSBwb3NpdGlvbiwgdGhpcyBpcyBhIGFic29sdXRlIHdvcmxkIHBvc2l0aW9uICovXG4gICAgY2FtZXJhUG9zaXRpb246IFZlY3RvcjNUeXBlXG5cbiAgICAvKiogRXllIGhlaWdodCwgaW4gbWV0ZXJzLiAqL1xuICAgIHBsYXllckhlaWdodDogbnVtYmVyXG4gIH1cblxuICAvKipcbiAgICogYHJvdGF0aW9uQ2hhbmdlZGAgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHJvdGF0aW9uIG9mIHRoZSBjYW1lcmEgY2hhbmdlcy5cbiAgICogVGhpcyBldmVudCBpcyB0aHJvdHRsZWQgdG8gMTAgdGltZXMgcGVyIHNlY29uZC5cbiAgICovXG4gIHJvdGF0aW9uQ2hhbmdlZDoge1xuICAgIC8qKiBEZWdyZWUgdmVjdG9yLiBTYW1lIGFzIGVudGl0aWVzICovXG4gICAgcm90YXRpb246IFZlY3RvcjNUeXBlXG4gICAgLyoqIFJvdGF0aW9uIHF1YXRlcm5pb24sIHVzZWZ1bCBpbiBzb21lIHNjZW5hcmlvcy4gKi9cbiAgICBxdWF0ZXJuaW9uOiBRdWF0ZXJuaW9uVHlwZVxuICB9XG5cbiAgLyoqXG4gICAqIGBjYW1lcmFNb2RlQ2hhbmdlZGAgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgY2FtZXJhIG1vZGVcbiAgICovXG4gIGNhbWVyYU1vZGVDaGFuZ2VkOiB7XG4gICAgLyoqXG4gICAgICogRklSU1RfUEVSU09OID0gMCxcbiAgICAgKiBUSElSRF9QRVJTT04gPSAxLFxuICAgICAqIEZSRUVfQ0FNRVJBID0gMlxuICAgICAqL1xuICAgIGNhbWVyYU1vZGU6IDAgfCAxIHwgMlxuICB9XG5cbiAgLyoqXG4gICAqIGBpZGxlU3RhdGVDaGFuZ2VkYCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBub3QgbW92ZXMgZm9yIGEgZGVmaW5lZCBwZXJpb2Qgb2YgdGltZVxuICAgKi9cbiAgaWRsZVN0YXRlQ2hhbmdlZDoge1xuICAgIGlzSWRsZTogYm9vbGVhblxuICB9XG5cbiAgcGxheWVyRXhwcmVzc2lvbjoge1xuICAgIGV4cHJlc3Npb25JZDogc3RyaW5nXG4gIH1cblxuICAvKipcbiAgICogYHBvaW50ZXJVcGAgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgcmVsZWFzZXMgYW4gaW5wdXQgcG9pbnRlci5cbiAgICogSXQgY291bGQgYmUgYSBWUiBjb250cm9sbGVyLCBhIHRvdWNoIHNjcmVlbiBvciB0aGUgbW91c2UuXG4gICAqL1xuICBwb2ludGVyVXA6IElucHV0RXZlbnRSZXN1bHRcblxuICAvKipcbiAgICogYHBvaW50ZXJEb3duYCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBwcmVzcyBhbiBpbnB1dCBwb2ludGVyLlxuICAgKiBJdCBjb3VsZCBiZSBhIFZSIGNvbnRyb2xsZXIsIGEgdG91Y2ggc2NyZWVuIG9yIHRoZSBtb3VzZS5cbiAgICovXG4gIHBvaW50ZXJEb3duOiBJbnB1dEV2ZW50UmVzdWx0XG5cbiAgLyoqXG4gICAqIGBwb2ludGVyRXZlbnRgIGlzIHRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIHByZXNzIG9yIHJlbGVhc2VzIGFuIGlucHV0IHBvaW50ZXIuXG4gICAqIEl0IGNvdWxkIGJlIGEgVlIgY29udHJvbGxlciwgYSB0b3VjaCBzY3JlZW4gb3IgdGhlIG1vdXNlLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYWN0aW9uQnV0dG9uRXZlbnQgaW5zdGVhZFxuICAgKi9cbiAgcG9pbnRlckV2ZW50OiBHbG9iYWxJbnB1dEV2ZW50UmVzdWx0XG5cbiAgLyoqXG4gICAqIGBhY3Rpb25CdXR0b25FdmVudGAgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgcHJlc3Mgb3IgcmVsZWFzZXMgYW4gaW5wdXQgcG9pbnRlci5cbiAgICogSXQgY291bGQgYmUgYSBWUiBjb250cm9sbGVyLCBhIHRvdWNoIHNjcmVlbiBvciB0aGUgbW91c2UuXG4gICAqXG4gICAqIFRoaXMgZXZlbnQgaXMgZXhhY3RseSB0aGUgc2FtZSBhcyBgcG9pbnRlckV2ZW50YCBidXQgdGhlIGxvZ2ljIGluIHRoZSBFQ1MgaGFkIGFuIHVuc29sdmFibGVcbiAgICogY29uZGl0aW9uIHRoYXQgcmVxdWlyZWQgdXMgdG8gY3JlYXRlIHRoaXMgbmV3IGV2ZW50IHRvIGhhbmRsZSBtb3JlIGNhc2VzIGZvciBuZXcgYnV0dG9ucy5cbiAgICovXG4gIGFjdGlvbkJ1dHRvbkV2ZW50OiBHbG9iYWxJbnB1dEV2ZW50UmVzdWx0XG5cbiAgLyoqXG4gICAqIGByYXljYXN0UmVzcG9uc2VgIGlzIHRyaWdnZXJlZCBpbiByZXNwb25zZSB0byBhIHJheWNhc3QgcXVlcnlcbiAgICovXG4gIHJheWNhc3RSZXNwb25zZTogUmF5Y2FzdFJlc3BvbnNlUGF5bG9hZDxhbnk+XG5cbiAgLyoqXG4gICAqIGBjaGF0TWVzc2FnZWAgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgc2VuZHMgYSBtZXNzYWdlIHRocm91Z2ggY2hhdCBlbnRpdHkuXG4gICAqL1xuICBjaGF0TWVzc2FnZToge1xuICAgIGlkOiBzdHJpbmdcbiAgICBzZW5kZXI6IHN0cmluZ1xuICAgIG1lc3NhZ2U6IHN0cmluZ1xuICAgIGlzQ29tbWFuZDogYm9vbGVhblxuICB9XG5cbiAgLyoqXG4gICAqIGBvbkNoYW5nZWAgaXMgdHJpZ2dlcmVkIHdoZW4gYW4gZW50aXR5IGNoYW5nZXMgaXRzIG93biBpbnRlcm5hbCBzdGF0ZS5cbiAgICogRGlzcGF0Y2hlZCBieSB0aGUgYHVpLSpgIGVudGl0aWVzIHdoZW4gdGhlaXIgdmFsdWUgaXMgY2hhbmdlZC4gSXQgdHJpZ2dlcnMgYSBjYWxsYmFjay5cbiAgICogTm90aWNlOiBPbmx5IGVudGl0aWVzIHdpdGggSUQgd2lsbCBiZSBsaXN0ZW5pbmcgZm9yIGNsaWNrIGV2ZW50cy5cbiAgICovXG4gIG9uQ2hhbmdlOiB7XG4gICAgdmFsdWU/OiBhbnlcbiAgICAvKiogSUQgb2YgdGhlIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50ICovXG4gICAgcG9pbnRlcklkPzogbnVtYmVyXG4gIH1cblxuICAvKipcbiAgICogYG9uRW50ZXJgIGlzIHRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIGhpdHMgdGhlIFwiRW50ZXJcIiBrZXkgZnJvbSB0aGUga2V5Ym9hcmRcbiAgICogVXNlZCBwcmluY2lwYWxseSBieSB0aGUgQ2hhdCBpbnRlcm5hbCBzY2VuZVxuICAgKi9cbiAgb25FbnRlcjogdW5rbm93blxuXG4gIC8qKlxuICAgKiBgb25Qb2ludGVyTG9ja2AgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSB3b3JsZCBjYW52YXMgYW5kIHRoZVxuICAgKiBwb2ludGVyIGxvY2tzIHRvIGl0IHNvIHRoZSBwb2ludGVyIG1vdmVzIHRoZSBjYW1lcmFcbiAgICovXG4gIG9uUG9pbnRlckxvY2s6IHtcbiAgICBsb2NrZWQ/OiBib29sZWFuXG4gIH1cblxuICAvKipcbiAgICogYG9uQW5pbWF0aW9uRW5kYCBpcyB0cmlnZ2VyZWQgd2hlbiBhbiBhbmltYXRpb24gY2xpcCBnZXRzIGZpbmlzaFxuICAgKi9cbiAgb25BbmltYXRpb25FbmQ6IHtcbiAgICBjbGlwTmFtZTogc3RyaW5nXG4gIH1cblxuICAvKipcbiAgICogYG9uRm9jdXNgIGlzIHRyaWdnZXJlZCB3aGVuIGFuIGVudGl0eSBmb2N1cyBpcyBhY3RpdmUuXG4gICAqIERpc3BhdGNoZWQgYnkgdGhlIGB1aS1pbnB1dGAgYW5kIGB1aS1wYXNzd29yZGAgZW50aXRpZXMgd2hlbiB0aGUgdmFsdWUgaXMgY2hhbmdlZC5cbiAgICogSXQgdHJpZ2dlcnMgYSBjYWxsYmFjay5cbiAgICpcbiAgICogTm90aWNlOiBPbmx5IGVudGl0aWVzIHdpdGggSUQgd2lsbCBiZSBsaXN0ZW5pbmcgZm9yIGNsaWNrIGV2ZW50cy5cbiAgICovXG4gIG9uRm9jdXM6IHtcbiAgICAvKiogSUQgb2YgdGhlIGVudGl0aXkgb2YgdGhlIGV2ZW50ICovXG4gICAgZW50aXR5SWQ6IHVua25vd25cbiAgICAvKiogSUQgb2YgdGhlIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50ICovXG4gICAgcG9pbnRlcklkOiBudW1iZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBgb25CbHVyYCBpcyB0cmlnZ2VyZWQgd2hlbiBhbiBlbnRpdHkgbG9zZXMgaXRzIGZvY3VzLlxuICAgKiBEaXNwYXRjaGVkIGJ5IHRoZSBgdWktaW5wdXRgIGFuZCBgdWktcGFzc3dvcmRgIGVudGl0aWVzIHdoZW4gdGhlIHZhbHVlIGlzIGNoYW5nZWQuXG4gICAqICBJdCB0cmlnZ2VycyBhIGNhbGxiYWNrLlxuICAgKlxuICAgKiBOb3RpY2U6IE9ubHkgZW50aXRpZXMgd2l0aCBJRCB3aWxsIGJlIGxpc3RlbmluZyBmb3IgY2xpY2sgZXZlbnRzLlxuICAgKi9cbiAgb25CbHVyOiB7XG4gICAgLyoqIElEIG9mIHRoZSBlbnRpdGl5IG9mIHRoZSBldmVudCAqL1xuICAgIGVudGl0eUlkOiB1bmtub3duXG4gICAgLyoqIElEIG9mIHRoZSBwb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudCAqL1xuICAgIHBvaW50ZXJJZDogbnVtYmVyXG4gIH1cblxuICAvKiogVGhlIG9uQ2xpY2sgZXZlbnQgaXMgb25seSB1c2VkIGZvciBVSSBlbGVtZW50cyAqL1xuICBvbkNsaWNrOiB7XG4gICAgZW50aXR5SWQ6IHVua25vd25cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGV2ZW50IGdldHMgdHJpZ2dlcmVkIHdoZW4gYW4gZW50aXR5IGxlYXZlcyB0aGUgc2NlbmUgZmVuY2VzLlxuICAgKi9cbiAgZW50aXR5T3V0T2ZTY2VuZToge1xuICAgIGVudGl0eUlkOiB1bmtub3duXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBldmVudCBnZXRzIHRyaWdnZXJlZCB3aGVuIGFuIGVudGl0eSBlbnRlcnMgdGhlIHNjZW5lIGZlbmNlcy5cbiAgICovXG4gIGVudGl0eUJhY2tJblNjZW5lOiB7XG4gICAgZW50aXR5SWQ6IHVua25vd25cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGV2ZW50IGdldHMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgZW50ZXJzIHRoZSBzY2VuZVxuICAgKi9cbiAgb25FbnRlclNjZW5lOiB7XG4gICAgdXNlcklkOiBzdHJpbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGV2ZW50IGdldHMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgbGVhdmVzIHRoZSBzY2VuZVxuICAgKi9cbiAgb25MZWF2ZVNjZW5lOiB7XG4gICAgdXNlcklkOiBzdHJpbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGV2ZW50IGdldHMgdHJpZ2dlcmVkIGFmdGVyIHJlY2VpdmluZyBhIGNvbW1zIG1lc3NhZ2UuXG4gICAqL1xuICBjb21tczoge1xuICAgIHNlbmRlcjogc3RyaW5nXG4gICAgbWVzc2FnZTogc3RyaW5nXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB0cmlnZ2VyZWQgb25jZSB0aGUgc2NlbmUgc2hvdWxkIHN0YXJ0LlxuICAgKi9cbiAgc2NlbmVTdGFydDogdW5rbm93blxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRyaWdnZXJlZCBvbmNlIHRoZSBidWlsZGVyIHNjZW5lIGlzIGxvYWRlZC5cbiAgICovXG4gIGJ1aWxkZXJTY2VuZVN0YXJ0OiB1bmtub3duXG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdHJpZ2dlcmVkIG9uY2UgdGhlIGJ1aWxkZXIgc2NlbmUgaXMgdW5sb2FkZWQuXG4gICAqL1xuICBidWlsZGVyU2NlbmVVbmxvYWRlZDogdW5rbm93blxuXG4gIC8qKlxuICAgKiBBZnRlciBjaGVja2luZyBlbnRpdGllcyBvdXRzaWRlIHRoZSBmZW5jZXMsIGlmIGFueSBpcyBvdXRzaWRlLCB0aGlzIGV2ZW50XG4gICAqIHdpbGwgYmUgdHJpZ2dlcmVkIHdpdGggYWxsIHRoZSBlbnRpdGllcyBvdXRzaWRlIHRoZSBzY2VuZS5cbiAgICovXG4gIGVudGl0aWVzT3V0T2ZCb3VuZGFyaWVzOiB7XG4gICAgZW50aXRpZXM6IHN0cmluZ1tdXG4gIH1cblxuICB1dWlkRXZlbnQ6IHtcbiAgICB1dWlkOiBzdHJpbmdcbiAgICBwYXlsb2FkOiBhbnlcbiAgfVxuXG4gIG9uVGV4dFN1Ym1pdDoge1xuICAgIHRleHQ6IHN0cmluZ1xuICB9XG5cbiAgbWV0cmljc1VwZGF0ZToge1xuICAgIGdpdmVuOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+XG4gICAgbGltaXQ6IFJlY29yZDxzdHJpbmcsIG51bWJlcj5cbiAgfVxuXG4gIGxpbWl0c0V4Y2VlZGVkOiB7XG4gICAgZ2l2ZW46IFJlY29yZDxzdHJpbmcsIG51bWJlcj5cbiAgICBsaW1pdDogUmVjb3JkPHN0cmluZywgbnVtYmVyPlxuICB9XG5cbiAgLyoqIEZvciBnaXptb3MgKi9cbiAgZ2l6bW9FdmVudDogR2l6bW9EcmFnRW5kRXZlbnQgfCBHaXptb1NlbGVjdGVkRXZlbnRcblxuICBleHRlcm5hbEFjdGlvbjoge1xuICAgIHR5cGU6IHN0cmluZ1xuICAgIFtrZXk6IHN0cmluZ106IGFueVxuICB9XG5cbiAgc3RhdGVFdmVudDoge1xuICAgIHR5cGU6IHN0cmluZ1xuICAgIHBheWxvYWQ6IGFueVxuICB9XG5cbiAgLyoqIFRoaXMgaXMgdHJpZ2dlcmVkIGF0IGxlYXN0IGZvciBlYWNoIHZpZGVvU3RhdHVzIGNoYW5nZSAqL1xuICB2aWRlb0V2ZW50OiB7XG4gICAgY29tcG9uZW50SWQ6IHN0cmluZ1xuICAgIHZpZGVvQ2xpcElkOiBzdHJpbmdcbiAgICAvKiogU3RhdHVzLCBjYW4gYmUgTk9ORSA9IDAsIEVSUk9SID0gMSwgTE9BRElORyA9IDIsIFJFQURZID0gMywgUExBWUlORyA9IDQsQlVGRkVSSU5HID0gNSAqL1xuICAgIHZpZGVvU3RhdHVzOiBudW1iZXJcbiAgICAvKiogQ3VycmVudCBvZmZzZXQgcG9zaXRpb24gaW4gc2Vjb25kcyAqL1xuICAgIGN1cnJlbnRPZmZzZXQ6IG51bWJlclxuICAgIC8qKiBWaWRlbyBsZW5ndGggaW4gc2Vjb25kcy4gQ2FuIGJlIC0xICovXG4gICAgdG90YWxWaWRlb0xlbmd0aDogbnVtYmVyXG4gIH1cblxuICAvKiogVGhpcyBpcyB0cmlnZ2VyIGV2ZXJ5dGltZSBhIHByb2ZpbGUgaXMgY2hhbmdlZCAqL1xuICBwcm9maWxlQ2hhbmdlZDoge1xuICAgIGV0aEFkZHJlc3M6IHN0cmluZ1xuICAgIHZlcnNpb246IG51bWJlclxuICB9XG5cbiAgLyoqIFRyaWdnZXJlZCB3aGVuIHBlZXIncyBhdmF0YXIgaXMgY29ubmVjdGVkIGFuZCB2aXNpYmxlICovXG4gIHBsYXllckNvbm5lY3RlZDoge1xuICAgIHVzZXJJZDogc3RyaW5nXG4gIH1cblxuICAvKiogVHJpZ2dlcmVkIHdoZW4gcGVlciBkaXNjb25uZWN0IGFuZC9vciBpdCBhdmF0YXIgaXMgc2V0IGludmlzaWJsZSBieSBjb21tcyAqL1xuICBwbGF5ZXJEaXNjb25uZWN0ZWQ6IHtcbiAgICB1c2VySWQ6IHN0cmluZ1xuICB9XG5cbiAgLyoqIFRyaWdnZXJlZCB3aGVuIGN1cnJlbnQgcmVhbG0gb3IgaXNsYW5kIGNoYW5nZXMgKi9cbiAgb25SZWFsbUNoYW5nZWQ6IHtcbiAgICBkb21haW46IHN0cmluZ1xuICAgIHJvb206IHN0cmluZ1xuICAgIHNlcnZlck5hbWU6IHN0cmluZ1xuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmdcbiAgfVxuXG4gIC8qKiBUcmlnZ2VyZWQgd2hlbiBvdGhlciBwbGF5ZXIncyBhdmF0YXIgaXMgY2xpY2tlZCAqL1xuICBwbGF5ZXJDbGlja2VkOiB7XG4gICAgdXNlcklkOiBzdHJpbmdcbiAgICByYXk6IHtcbiAgICAgIG9yaWdpbjogVmVjdG9yM1R5cGVcbiAgICAgIGRpcmVjdGlvbjogVmVjdG9yM1R5cGVcbiAgICAgIGRpc3RhbmNlOiBudW1iZXJcbiAgICB9XG4gIH1cblxuICAvKiogVHJpZ2dlcmVkIHdoZW4gcG9pbnRlciBzdGFydCBob3ZlcmluZyBhbiBlbnRpdGllcycgc2hhcGUgKi9cbiAgcG9pbnRlckhvdmVyRW50ZXI6IHVua25vd25cblxuICAvKiogVHJpZ2dlcmVkIHdoZW4gcG9pbnRlciBzdG9wIGhvdmVyaW5nIGFuIGVudGl0aWVzJyBzaGFwZSAqL1xuICBwb2ludGVySG92ZXJFeGl0OiB1bmtub3duXG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKiBUaGlzIGZ1bmN0aW9uIGdlbmVyYXRlcyBhIGNhbGxiYWNrIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBPYnNlcnZhYmxlXG4gKiBjb25zdHJ1Y3RvciB0byBzdWJzY3JpYmUgdG8gdGhlIGV2ZW50cyBvZiB0aGUgRGVjZW50cmFsYW5kSW50ZXJmYWNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmliZXIoZXZlbnROYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBzdWJzY3JpYmVGdW5jdGlvbih7IGV2ZW50SWQ6IGV2ZW50TmFtZSB9KS5jYXRjaChjb25zb2xlLmVycm9yKVxuICB9XG59XG5cbi8qKlxuICogVGhlc2UgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgYWZ0ZXIgeW91ciBjaGFyYWN0ZXIgZW50ZXJzIHRoZSBzY2VuZS5cbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvbkVudGVyU2NlbmVPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1snb25FbnRlclNjZW5lJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ29uRW50ZXJTY2VuZScpKVxuLyoqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLiBVc2Ugb25FbnRlclNjZW5lT2JzZXJ2YWJsZSBpbnN0ZWFkLiAqL1xuZXhwb3J0IGNvbnN0IG9uRW50ZXJTY2VuZSA9IG9uRW50ZXJTY2VuZU9ic2VydmFibGVcblxuLyoqXG4gKiBUaGVzZSBldmVudHMgYXJlIHRyaWdnZXJlZCBhZnRlciB5b3VyIGNoYXJhY3RlciBsZWF2ZXMgdGhlIHNjZW5lLlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uTGVhdmVTY2VuZU9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydvbkxlYXZlU2NlbmUnXT4oY3JlYXRlU3Vic2NyaWJlcignb25MZWF2ZVNjZW5lJykpXG5cbi8qKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC4gVXNlIG9uTGVhdmVTY2VuZU9ic2VydmFibGUgaW5zdGVhZC4gKi9cbmV4cG9ydCBjb25zdCBvbkxlYXZlU2NlbmUgPSBvbkxlYXZlU2NlbmVPYnNlcnZhYmxlXG5cbi8qKlxuICogVGhpcyBldmVudCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgYWxsIHRoZSByZXNvdXJjZXMgb2YgdGhlIHNjZW5lIHdlcmUgbG9hZGVkIChtb2RlbHMsIHRleHR1cmVzLCBldGMuLi4pXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25TY2VuZVJlYWR5T2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3NjZW5lU3RhcnQnXT4oY3JlYXRlU3Vic2NyaWJlcignc2NlbmVTdGFydCcpKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblBsYXllckV4cHJlc3Npb25PYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncGxheWVyRXhwcmVzc2lvbiddPihcbiAgY3JlYXRlU3Vic2NyaWJlcigncGxheWVyRXhwcmVzc2lvbicpXG4pXG5cbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uVmlkZW9FdmVudCA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3ZpZGVvRXZlbnQnXT4oY3JlYXRlU3Vic2NyaWJlcigndmlkZW9FdmVudCcpKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblByb2ZpbGVDaGFuZ2VkID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncHJvZmlsZUNoYW5nZWQnXT4oY3JlYXRlU3Vic2NyaWJlcigncHJvZmlsZUNoYW5nZWQnKSlcblxuLyoqXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25QbGF5ZXJDb25uZWN0ZWRPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncGxheWVyQ29ubmVjdGVkJ10+KFxuICBjcmVhdGVTdWJzY3JpYmVyKCdwbGF5ZXJDb25uZWN0ZWQnKVxuKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblBsYXllckRpc2Nvbm5lY3RlZE9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydwbGF5ZXJEaXNjb25uZWN0ZWQnXT4oXG4gIGNyZWF0ZVN1YnNjcmliZXIoJ3BsYXllckRpc2Nvbm5lY3RlZCcpXG4pXG5cbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uUmVhbG1DaGFuZ2VkT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ29uUmVhbG1DaGFuZ2VkJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ29uUmVhbG1DaGFuZ2VkJykpXG5cbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uUGxheWVyQ2xpY2tlZE9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydwbGF5ZXJDbGlja2VkJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ3BsYXllckNsaWNrZWQnKSlcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvbkNvbW1zTWVzc2FnZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ2NvbW1zJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ2NvbW1zJykpXG5cbi8qKlxuICogQGludGVybmFsXG4gKiBVc2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFN1YnNjcmliZUZ1bmN0aW9uKGZuOiAoZXZlbnQ6IHsgZXZlbnRJZDogc3RyaW5nIH0pID0+IFByb21pc2U8YW55Pikge1xuICBzdWJzY3JpYmVGdW5jdGlvbiA9IGZuXG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKiBAZGVwcmVjYXRlZCB0aGlzIGlzIGFuIE9MRCBBUEkuXG4gKiBUaGlzIGZ1bmN0aW9uIHVzZXMgdGhlIFNESzYgc2VuZEJhdGNoIHRvIHBvbGwgZXZlbnRzIGZyb20gdGhlIHJlbmRlcmVyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb2xsRXZlbnRzKHNlbmRCYXRjaDogKGJvZHk6IE1hbnlFbnRpdHlBY3Rpb24pID0+IFByb21pc2U8U2VuZEJhdGNoUmVzcG9uc2U+KSB7XG4gIGNvbnN0IHsgZXZlbnRzIH0gPSBhd2FpdCBzZW5kQmF0Y2goeyBhY3Rpb25zOiBbXSB9KVxuICBmb3IgKGNvbnN0IGUgb2YgZXZlbnRzKSB7XG4gICAgaWYgKGUuZ2VuZXJpYykge1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZS5nZW5lcmljLmV2ZW50RGF0YSlcbiAgICAgIHN3aXRjaCAoZS5nZW5lcmljLmV2ZW50SWQpIHtcbiAgICAgICAgY2FzZSAnb25FbnRlclNjZW5lJzoge1xuICAgICAgICAgIG9uRW50ZXJTY2VuZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGRhdGEgYXMgSUV2ZW50c1snb25FbnRlclNjZW5lJ10pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdvbkxlYXZlU2NlbmUnOiB7XG4gICAgICAgICAgb25MZWF2ZVNjZW5lT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydvbkxlYXZlU2NlbmUnXSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3NjZW5lU3RhcnQnOiB7XG4gICAgICAgICAgb25TY2VuZVJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydzY2VuZVN0YXJ0J10pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdwbGF5ZXJFeHByZXNzaW9uJzoge1xuICAgICAgICAgIG9uUGxheWVyRXhwcmVzc2lvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGRhdGEgYXMgSUV2ZW50c1sncGxheWVyRXhwcmVzc2lvbiddKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndmlkZW9FdmVudCc6IHtcbiAgICAgICAgICBjb25zdCB2aWRlb0RhdGEgPSBkYXRhIGFzIElFdmVudHNbJ3ZpZGVvRXZlbnQnXVxuICAgICAgICAgIG9uVmlkZW9FdmVudC5ub3RpZnlPYnNlcnZlcnModmlkZW9EYXRhKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAncHJvZmlsZUNoYW5nZWQnOiB7XG4gICAgICAgICAgb25Qcm9maWxlQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydwcm9maWxlQ2hhbmdlZCddKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAncGxheWVyQ29ubmVjdGVkJzoge1xuICAgICAgICAgIG9uUGxheWVyQ29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydwbGF5ZXJDb25uZWN0ZWQnXSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6IHtcbiAgICAgICAgICBvblBsYXllckRpc2Nvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGRhdGEgYXMgSUV2ZW50c1sncGxheWVyRGlzY29ubmVjdGVkJ10pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdvblJlYWxtQ2hhbmdlZCc6IHtcbiAgICAgICAgICBvblJlYWxtQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGRhdGEgYXMgSUV2ZW50c1snb25SZWFsbUNoYW5nZWQnXSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3BsYXllckNsaWNrZWQnOiB7XG4gICAgICAgICAgb25QbGF5ZXJDbGlja2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydwbGF5ZXJDbGlja2VkJ10pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdjb21tcyc6IHtcbiAgICAgICAgICBvbkNvbW1zTWVzc2FnZS5ub3RpZnlPYnNlcnZlcnMoZGF0YSBhcyBJRXZlbnRzWydjb21tcyddKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICJleHBvcnQgY29uc3QgY29tcG9zaXRlRnJvbUxvYWRlciA9IHsnYXNzZXRzL3NjZW5lL21haW4uY29tcG9zaXRlJzp7XCJ2ZXJzaW9uXCI6MSxcImNvbXBvbmVudHNcIjpbe1wibmFtZVwiOlwiY29yZTo6VHJhbnNmb3JtXCIsXCJqc29uU2NoZW1hXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wicG9zaXRpb25cIjp7XCJ0eXBlXCI6XCJvYmplY3RcIixcInByb3BlcnRpZXNcIjp7XCJ4XCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwieVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcInpcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIn19fSxcInNjYWxlXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wieFwiOntcInR5cGVcIjpcIm51bWJlclwifSxcInlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIn0sXCJ6XCI6e1widHlwZVwiOlwibnVtYmVyXCJ9fX0sXCJyb3RhdGlvblwiOntcInR5cGVcIjpcIm9iamVjdFwiLFwicHJvcGVydGllc1wiOntcInhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIn0sXCJ5XCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwielwiOntcInR5cGVcIjpcIm51bWJlclwifSxcIndcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIn19fSxcInBhcmVudFwiOntcInR5cGVcIjpcImludGVnZXJcIn19LFwic2VyaWFsaXphdGlvblR5cGVcIjpcInRyYW5zZm9ybVwifSxcImRhdGFcIjp7XCI1MTJcIjp7XCJqc29uXCI6e1wicG9zaXRpb25cIjp7XCJ4XCI6OCxcInlcIjoxLFwielwiOjh9LFwic2NhbGVcIjp7XCJ4XCI6MSxcInlcIjoxLFwielwiOjF9LFwicm90YXRpb25cIjp7XCJ4XCI6MCxcInlcIjowLFwielwiOjAsXCJ3XCI6MX0sXCJwYXJlbnRcIjowfX19fSx7XCJuYW1lXCI6XCJjb3JlOjpNZXNoUmVuZGVyZXJcIixcImpzb25TY2hlbWFcIjp7XCJ0eXBlXCI6XCJvYmplY3RcIixcInByb3BlcnRpZXNcIjp7fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJwcm90b2NvbC1idWZmZXJcIixcInByb3RvY29sQnVmZmVyXCI6XCJQQk1lc2hSZW5kZXJlclwifSxcImRhdGFcIjp7XCI1MTJcIjp7XCJqc29uXCI6e1wibWVzaFwiOntcIiRjYXNlXCI6XCJib3hcIixcImJveFwiOntcInV2c1wiOltdfX19fX19LHtcIm5hbWVcIjpcImNvcmUtc2NoZW1hOjpOYW1lXCIsXCJqc29uU2NoZW1hXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1widmFsdWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJ1dGY4LXN0cmluZ1wifX0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwibWFwXCJ9LFwiZGF0YVwiOntcIjUxMlwiOntcImpzb25cIjp7XCJ2YWx1ZVwiOlwiTWFnaWMgQ3ViZVwifX19fSx7XCJuYW1lXCI6XCJpbnNwZWN0b3I6OlNjZW5lXCIsXCJqc29uU2NoZW1hXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wibGF5b3V0XCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wiYmFzZVwiOntcInR5cGVcIjpcIm9iamVjdFwiLFwicHJvcGVydGllc1wiOntcInhcIjp7XCJ0eXBlXCI6XCJpbnRlZ2VyXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiaW50MzJcIn0sXCJ5XCI6e1widHlwZVwiOlwiaW50ZWdlclwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcImludDMyXCJ9fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJtYXBcIn0sXCJwYXJjZWxzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcIml0ZW1zXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wieFwiOntcInR5cGVcIjpcImludGVnZXJcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJpbnQzMlwifSxcInlcIjp7XCJ0eXBlXCI6XCJpbnRlZ2VyXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiaW50MzJcIn19LFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm1hcFwifSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJhcnJheVwifX0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwibWFwXCJ9fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJtYXBcIn0sXCJkYXRhXCI6e1wiMFwiOntcImpzb25cIjp7XCJsYXlvdXRcIjp7XCJiYXNlXCI6e1wieFwiOjAsXCJ5XCI6MH0sXCJwYXJjZWxzXCI6W3tcInhcIjowLFwieVwiOjB9XX19fX19LHtcIm5hbWVcIjpcImluc3BlY3Rvcjo6Tm9kZXNcIixcImpzb25TY2hlbWFcIjp7XCJ0eXBlXCI6XCJvYmplY3RcIixcInByb3BlcnRpZXNcIjp7XCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJpdGVtc1wiOntcInR5cGVcIjpcIm9iamVjdFwiLFwicHJvcGVydGllc1wiOntcImVudGl0eVwiOntcInR5cGVcIjpcImludGVnZXJcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJlbnRpdHlcIn0sXCJvcGVuXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm9wdGlvbmFsXCIsXCJvcHRpb25hbEpzb25TY2hlbWFcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiYm9vbGVhblwifX0sXCJjaGlsZHJlblwiOntcInR5cGVcIjpcImFycmF5XCIsXCJpdGVtc1wiOntcInR5cGVcIjpcImludGVnZXJcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJlbnRpdHlcIn0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiYXJyYXlcIn19LFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm1hcFwifSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJhcnJheVwifX0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwibWFwXCJ9LFwiZGF0YVwiOntcIjBcIjp7XCJqc29uXCI6e1widmFsdWVcIjpbe1wiZW50aXR5XCI6NTEyLFwiY2hpbGRyZW5cIjpbNTEzXSxcIm9wZW5cIjp0cnVlfSx7XCJlbnRpdHlcIjo1MTMsXCJjaGlsZHJlblwiOltdfV19fX19LHtcIm5hbWVcIjpcImN1YmUtaWRcIixcImpzb25TY2hlbWFcIjp7XCJ0eXBlXCI6XCJvYmplY3RcIixcInByb3BlcnRpZXNcIjp7fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJtYXBcIn0sXCJkYXRhXCI6e1wiNTEyXCI6e1wianNvblwiOnt9fX19XX19IiwgImltcG9ydCB7IGNvbXBvc2l0ZUZyb21Mb2FkZXIgfSBmcm9tICd+c2RrL2FsbC1jb21wb3NpdGVzJ1xuaW1wb3J0IHsgQ29tcG9zaXRlIH0gZnJvbSAnQGRjbC9lY3MnXG5cbmNvbnN0IGNvbXBvc2l0ZXM6IENvbXBvc2l0ZS5SZXNvdXJjZVtdID0gW11cblxuLy8gQHB1YmxpY1xuZXhwb3J0IGNvbnN0IGNvbXBvc2l0ZVByb3ZpZGVyOiBDb21wb3NpdGUuUHJvdmlkZXIgPSB7XG4gIGdldENvbXBvc2l0ZU9yTnVsbChzcmM6IHN0cmluZywgX2N1cnJlbnRQYXRoPzogc3RyaW5nKSB7XG4gICAgLy8gVE9ETzogcmVzb2x2ZSBwYXRoIGZyb20gc3JjIGFuZCBjdXJyZW50UGF0aFxuXG4gICAgY29uc3QgZnJvbUxvYWRlciA9IGNvbXBvc2l0ZUZyb21Mb2FkZXJbc3JjXVxuICAgIGlmIChmcm9tTG9hZGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZnJvbUxvYWRlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBjb21wb3NpdGUgPSBDb21wb3NpdGUuZnJvbUJpbmFyeShmcm9tTG9hZGVyKVxuICAgICAgICAgIGNvbXBvc2l0ZXMucHVzaCh7IHNyYywgY29tcG9zaXRlIH0pXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZyb21Mb2FkZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgY29uc3QgY29tcG9zaXRlID0gQ29tcG9zaXRlLmZyb21Kc29uKEpTT04ucGFyc2UoZnJvbUxvYWRlcikpXG4gICAgICAgICAgY29tcG9zaXRlcy5wdXNoKHsgc3JjLCBjb21wb3NpdGUgfSlcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZnJvbUxvYWRlciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBjb25zdCBjb21wb3NpdGUgPSBDb21wb3NpdGUuZnJvbUpzb24oZnJvbUxvYWRlcilcbiAgICAgICAgICBjb21wb3NpdGVzLnB1c2goeyBzcmMsIGNvbXBvc2l0ZSB9KVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBjb21wb3NpdGVGcm9tTG9hZGVyW3NyY11cbiAgICB9XG5cbiAgICByZXR1cm4gY29tcG9zaXRlcy5maW5kKChpdGVtKSA9PiBpdGVtLnNyYyA9PT0gc3JjKSB8fCBudWxsXG4gIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUEsZ0RBQUFBLFVBQUFDLFNBQUE7QUFBQTtBQUNBLElBQUFBLFFBQU8sVUFBVTtBQW1CakIsYUFBUyxVQUFVLElBQUksS0FBbUI7QUFDdEMsVUFBSSxTQUFVLElBQUksTUFBTSxVQUFVLFNBQVMsQ0FBQyxHQUN4QyxTQUFVLEdBQ1YsUUFBVSxHQUNWLFVBQVU7QUFDZCxhQUFPLFFBQVEsVUFBVTtBQUNyQixlQUFPLFFBQVEsSUFBSSxVQUFVLE9BQU87QUFDeEMsYUFBTyxJQUFJLFFBQVEsU0FBUyxTQUFTQyxVQUFTLFFBQVE7QUFDbEQsZUFBTyxNQUFNLElBQUksU0FBUyxTQUFTLEtBQW1CO0FBQ2xELGNBQUksU0FBUztBQUNULHNCQUFVO0FBQ1YsZ0JBQUk7QUFDQSxxQkFBTyxHQUFHO0FBQUEsaUJBQ1Q7QUFDRCxrQkFBSUMsVUFBUyxJQUFJLE1BQU0sVUFBVSxTQUFTLENBQUMsR0FDdkNDLFVBQVM7QUFDYixxQkFBT0EsVUFBU0QsUUFBTztBQUNuQixnQkFBQUEsUUFBT0MsU0FBUSxJQUFJLFVBQVVBLE9BQU07QUFDdkMsY0FBQUYsU0FBUSxNQUFNLE1BQU1DLE9BQU07QUFBQSxZQUM5QjtBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBQ0EsWUFBSTtBQUNBLGFBQUcsTUFBTSxPQUFPLE1BQU0sTUFBTTtBQUFBLFFBQ2hDLFNBQVMsS0FBSztBQUNWLGNBQUksU0FBUztBQUNULHNCQUFVO0FBQ1YsbUJBQU8sR0FBRztBQUFBLFVBQ2Q7QUFBQSxRQUNKO0FBQUEsTUFDSixDQUFD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QUNKOzs7QUNIQSxJQUFJLE9BQU87QUFDWCxJQUFJO0FBQ0YsU0FBTyxJQUFJLFlBQVksU0FBUyxJQUFJLFlBQVksT0FBTyxJQUFJLFdBQVc7QUFBQSxJQUNwRTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFB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RUFDcEIscUJBQXFCO0FBQUEsRUFDckIsNkJBQTZCO0FBQ2pDOzs7QUM1Q0EsV0FBc0I7OztBQ0R0QixJQUFNLFlBQVksSUFBSSxXQUFXO0FBQUEsRUFDN0I7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQ3hDLENBQUM7QUFDRCxTQUFTLE9BQU8sS0FBSyxV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RDs7OztBTHRCSyxJQUFNLG9CQUFvQix3QkFBd0IsRUFBRSx5REFBa0IsQ0FBRTtBQUMvRSxPQUFPLGFBQWEsaUJBQWlCO0FBRXJDLGVBQXNCLFNBQVMsV0FBaUI7QUFDOUMsU0FBTyxLQUFJO0FBQ1gsUUFBTSxPQUFPLE9BQU8sU0FBUztBQUM3QixRQUFNLFdBQVcsMkJBQVM7QUFDNUI7QUFNQSxlQUFzQixVQUFPO0FBQzNCLFFBQU0sV0FBVyxVQUFNLGdDQUFhLEVBQUUsTUFBTSxJQUFJLFdBQVUsRUFBRSxDQUFFO0FBRzlELE1BQUksQ0FBQyxTQUFTLGFBQWE7QUFDekIsVUFBTSxnQkFBZ0Isa0JBQWtCLG1CQUFtQixnQkFBZ0I7QUFDM0UsUUFBSSxlQUFlO0FBQ2pCLFVBQUk7QUFDRixrQkFBVSxTQUFTLFFBQVEsZUFBZSxpQkFBaUI7ZUFDcEQsS0FBSztBQUNaLGdCQUFRLElBQUksZ0RBQWdEO0FBQzVELGdCQUFRLE1BQU0sR0FBRzs7OztBQUt2QixNQUFJLENBQUMsQ0FBQyxrQkFBa0IsV0FBVztBQUNqQyxRQUFJLFlBQVksU0FBUyxRQUFRLFNBQVMsS0FBSyxRQUFRO0FBQ3JELGlCQUFXLGFBQWEsU0FBUyxNQUFNO0FBQ3JDLDBCQUFrQixVQUFVLFNBQVM7Ozs7QUFJN0M7OztBdEt2Q0EsSUFBd0IsU0FBUyxRQUFXO0FBQzFDLE1BQVMsMkJBQVQsV0FBb0M7QUFDbEMsVUFBTSxlQUFtQyxLQUFLO0FBQzlDLFFBQUksZ0JBQWdCLE9BQU8saUJBQWlCLFlBQVksT0FBUSxhQUE2QyxTQUFTLFlBQVk7QUFDaEksbUJBQWEsTUFBTSxRQUFRLEtBQUs7QUFBQSxJQUNsQztBQUNBLFdBQU8sYUFBYSx3QkFBd0I7QUFBQSxFQUM5QztBQUNBLFNBQU8sVUFBVSwwQkFBMEIsUUFBUTtBQUNyRDsiLAogICJuYW1lcyI6IFsiZXhwb3J0cyIsICJtb2R1bGUiLCAicmVzb2x2ZSIsICJwYXJhbXMiLCAib2Zmc2V0IiwgImV4cG9ydHMiLCAibGVuZ3RoIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJ1dGY4IiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInNpemUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZnJvbU51bWJlciIsICJ0b051bWJlciIsICJsZW5ndGgiLCAiZXhwb3J0cyIsICJpc09iamVjdCIsICJpc1NldCIsICJCdWZmZXIiLCAiaSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ1dGY4IiwgImNyZWF0ZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ1dGY4IiwgImNyZWF0ZV9hcnJheSIsICJjcmVhdGUiLCAiYnVmZmVyIiwgImxlbmd0aCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJzZWxmIiwgImVyciIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImV4cG9ydHMiLCAicmVxdWlyZV9taW5pbWFsIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIlBCQW5pbWF0b3IiLCAiX20wIiwgImxlbmd0aCIsICJQQkFuaW1hdGlvblN0YXRlIiwgImltcG9ydF9taW5pbWFsIiwgIlBCQXVkaW9Tb3VyY2UiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQkF1ZGlvU3RyZWFtIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiQXZhdGFyQW5jaG9yUG9pbnRUeXBlIiwgIlBCQXZhdGFyQXR0YWNoIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiUG9zaXRpb24iLCAiX20wIiwgImxlbmd0aCIsICJWZWN0b3IzIiwgIlZlY3RvcjIiLCAiUXVhdGVybmlvbiIsICJBdmF0YXJNb2RpZmllclR5cGUiLCAiUEJBdmF0YXJNb2RpZmllckFyZWEiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJpbXBvcnRfbWluaW1hbCIsICJDb2xvcjMiLCAiX20wIiwgImxlbmd0aCIsICJDb2xvcjQiLCAiUEJBdmF0YXJTaGFwZSIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIkJpbGxib2FyZE1vZGUiLCAiUEJCaWxsYm9hcmQiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQkNhbWVyYU1vZGUiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJQQkNhbWVyYU1vZGVBcmVhIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJFbmdpbmVJbmZvIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJHbHRmQ29udGFpbmVyIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiVGV4dHVyZVdyYXBNb2RlIiwgIlRleHR1cmVGaWx0ZXJNb2RlIiwgIlRleHR1cmUiLCAiX20wIiwgImxlbmd0aCIsICJBdmF0YXJUZXh0dXJlIiwgIlZpZGVvVGV4dHVyZSIsICJUZXh0dXJlVW5pb24iLCAiTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlIiwgIlBCTWF0ZXJpYWwiLCAiX20wIiwgImxlbmd0aCIsICJQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwiLCAiUEJNYXRlcmlhbF9QYnJNYXRlcmlhbCIsICJpbXBvcnRfbWluaW1hbCIsICJDb2xsaWRlckxheWVyIiwgIlBCTWVzaENvbGxpZGVyIiwgIl9tMCIsICJsZW5ndGgiLCAiUEJNZXNoQ29sbGlkZXJfQm94TWVzaCIsICJQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2giLCAiUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoIiwgIlBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2giLCAiaW1wb3J0X21pbmltYWwiLCAiUEJNZXNoUmVuZGVyZXIiLCAiX20wIiwgImxlbmd0aCIsICJQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoIiwgIlBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaCIsICJQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2giLCAiUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaCIsICJpbXBvcnRfbWluaW1hbCIsICJOZnRGcmFtZVR5cGUiLCAiUEJOZnRTaGFwZSIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCUG9pbnRlckV2ZW50cyIsICJfbTAiLCAibGVuZ3RoIiwgIlBCUG9pbnRlckV2ZW50c19JbmZvIiwgIlBCUG9pbnRlckV2ZW50c19FbnRyeSIsICJpbXBvcnRfbWluaW1hbCIsICJpbXBvcnRfbWluaW1hbCIsICJSYXljYXN0SGl0IiwgIl9tMCIsICJsZW5ndGgiLCAiUEJQb2ludGVyRXZlbnRzUmVzdWx0IiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJQb2ludGVyTG9jayIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlJheWNhc3RRdWVyeVR5cGUiLCAiUEJSYXljYXN0IiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJSYXljYXN0UmVzdWx0IiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJUZXh0U2hhcGUiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJFYXNpbmdGdW5jdGlvbiIsICJQQlR3ZWVuIiwgIl9tMCIsICJsZW5ndGgiLCAiTW92ZSIsICJSb3RhdGUiLCAiU2NhbGUiLCAiaW1wb3J0X21pbmltYWwiLCAiVHdlZW5Mb29wIiwgIlBCVHdlZW5TZXF1ZW5jZSIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlR3ZWVuU3RhdGVTdGF0dXMiLCAiUEJUd2VlblN0YXRlIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiQm9yZGVyUmVjdCIsICJfbTAiLCAibGVuZ3RoIiwgIlJlY3QiLCAiQmFja2dyb3VuZFRleHR1cmVNb2RlIiwgIlBCVWlCYWNrZ3JvdW5kIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJVaUNhbnZhc0luZm9ybWF0aW9uIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJVaURyb3Bkb3duIiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJVaURyb3Bkb3duUmVzdWx0IiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJVaUlucHV0IiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJVaUlucHV0UmVzdWx0IiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJVaVRleHQiLCAiX20wIiwgImxlbmd0aCIsICJpbXBvcnRfbWluaW1hbCIsICJZR1Bvc2l0aW9uVHlwZSIsICJZR0FsaWduIiwgIllHVW5pdCIsICJZR0ZsZXhEaXJlY3Rpb24iLCAiWUdXcmFwIiwgIllHSnVzdGlmeSIsICJZR092ZXJmbG93IiwgIllHRGlzcGxheSIsICJZR0VkZ2UiLCAiUEJVaVRyYW5zZm9ybSIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlZpZGVvU3RhdGUiLCAiUEJWaWRlb0V2ZW50IiwgIl9tMCIsICJsZW5ndGgiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJWaWRlb1BsYXllciIsICJfbTAiLCAibGVuZ3RoIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVmlzaWJpbGl0eUNvbXBvbmVudCIsICJfbTAiLCAibGVuZ3RoIiwgImVuZ2luZSIsICJlbmdpbmUiLCAibWF0ZXJpYWwiLCAiZW5naW5lIiwgImVuZ2luZSIsICJlbmdpbmUiLCAibGVuZ3RoIiwgIk1JTl9WQUxVRSIsICJNQVhfVkFMVUUiLCAic3BlY1JlZmxlY3Rpb24iLCAic3BlY1JlZmxlY3Rpb24iLCAidmFsdWUiLCAiU2NoZW1hcyIsICJlbmdpbmUiLCAiTmFtZSIsICJlbmdpbmUiLCAiZW5naW5lIiwgIk1hdGVyaWFsIiwgIk1lc2hSZW5kZXJlciIsICJlbmdpbmUiLCAiTWVzaENvbGxpZGVyIiwgIlR3ZWVuIiwgIkVudGl0eVV0aWxzIiwgIkVudGl0eVN0YXRlIiwgInV0ZjgiLCAibGVuZ3RoIiwgIl9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkIiwgIl9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkIiwgIkNyZHRNZXNzYWdlVHlwZSIsICJQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUiLCAiQ3JkdE1lc3NhZ2VQcm90b2NvbCIsICJEZWxldGVDb21wb25lbnQiLCAid3JpdGUiLCAicmVhZCIsICJBcHBlbmRWYWx1ZU9wZXJhdGlvbiIsICJ3cml0ZSIsICJyZWFkIiwgIkRlbGV0ZUVudGl0eSIsICJ3cml0ZSIsICJyZWFkIiwgIlB1dENvbXBvbmVudE9wZXJhdGlvbiIsICJ3cml0ZSIsICJyZWFkIiwgImVuZ2luZSIsICJwYXJzZUNodW5rTWVzc2FnZSIsICJtZXNzYWdlIiwgIkNyZHRVdGlscyIsICJTeW5jaHJvbml6ZWRFbnRpdHlUeXBlIiwgImFkZCIsICJwcmlvcml0eSIsICJlbmdpbmUiLCAiVHJhbnNmb3JtIiwgImVuZ2luZSIsICJQb2ludGVyRXZlbnRzUmVzdWx0IiwgIkNvbXBvbmVudFR5cGUiLCAicHJpb3JpdHkiLCAicmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuIiwgImVuZ2luZSIsICJpbnB1dFN5c3RlbSIsICJQb2ludGVyRXZlbnRzIiwgIkV2ZW50VHlwZSIsICJlbmdpbmUiLCAiVHdlZW4iLCAiVHdlZW5TdGF0ZSIsICJUd2VlblNlcXVlbmNlIiwgIkF1ZGlvU291cmNlIiwgIkF2YXRhckF0dGFjaCIsICJHbHRmQ29udGFpbmVyIiwgIlBvaW50ZXJFdmVudHMiLCAiVmlzaWJpbGl0eUNvbXBvbmVudCIsICJDYW1lcmFUeXBlIiwgIklucHV0QWN0aW9uIiwgIlBvaW50ZXJFdmVudFR5cGUiLCAiTG9hZGluZ1N0YXRlIiwgIlRleHRBbGlnbk1vZGUiLCAiRm9udCIsICJlbmdpbmUiLCAiRW50aXR5TWFwcGluZ01vZGUiLCAiZW5naW5lIiwgImNvbXBvc2l0ZVByb3ZpZGVyIiwgImltcG9ydF9taW5pbWFsIiwgImltcG9ydF9taW5pbWFsIiwgIk51bGxWYWx1ZSIsICJ0c1Byb3RvR2xvYmFsVGhpcyIsICJTdHJ1Y3QiLCAiX20wIiwgImxlbmd0aCIsICJTdHJ1Y3RfRmllbGRzRW50cnkiLCAiVmFsdWUiLCAiTGlzdFZhbHVlIiwgIkNvbXBvbmVudERhdGEiLCAiX20wIiwgImxlbmd0aCIsICJpc1NldCIsICJDb21wb3NpdGVDb21wb25lbnQiLCAiaXNPYmplY3QiLCAiQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeSIsICJDb21wb3NpdGVEZWZpbml0aW9uIiwgInRzUHJvdG9HbG9iYWxUaGlzIiwgIkNvbXBvc2l0ZSIsICJlbmdpbmUiLCAiY29tcG9zaXRlUHJvdmlkZXIiLCAiVHJhbnNmb3JtIiwgIk1hdGVyaWFsIiwgIk1lc2hSZW5kZXJlciIsICJNZXNoQ29sbGlkZXIiLCAiTmFtZSIsICJTY2FsYXIiLCAibGVuZ3RoIiwgIlZlY3RvcjMiLCAiYWRkIiwgInN1YnRyYWN0IiwgIm5lZ2F0ZSIsICJsZW5ndGgiLCAic2NhbGUiLCAiY2VudGVyIiwgIlF1YXRlcm5pb24iLCAidG9TdHJpbmciLCAiZXF1YWxzIiwgIm11bHRpcGx5IiwgImRpdmlkZSIsICJQbGFuZSIsICJWZWN0b3IzIiwgIk1hdHJpeCIsICJzZWxmIiwgInNjYWxlIiwgIm0iLCAidHJhbnNsYXRpb24iLCAiVmVjdG9yMyIsICJRdWF0ZXJuaW9uIiwgImFkZCIsICJtdWx0aXBseSIsICJlcXVhbHMiLCAiUXVhdGVybmlvbiIsICJhZGQiLCAibGVuZ3RoIiwgIlZlY3RvcjMiLCAibXVsdGlwbHkiLCAic2VsZiIsICJDb2xvcjQiLCAiYWRkIiwgInN1YnRyYWN0IiwgInNjYWxlIiwgIm11bHRpcGx5IiwgInRvU3RyaW5nIiwgIkNvbG9yMyIsICJ0b1N0cmluZyIsICJDb2xvcjQiLCAibXVsdGlwbHkiLCAiZXF1YWxzIiwgInNjYWxlIiwgImFkZCIsICJzdWJ0cmFjdCIsICJUcmFuc2Zvcm0iLCAiVmVjdG9yMyIsICJDb2xvcjQiLCAiUXVhdGVybmlvbiIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQXVkaW9Tb3VyY2UiLCAiTWVzaENvbGxpZGVyIiwgIlRyYW5zZm9ybSIsICJBdmF0YXJBdHRhY2giLCAiVHJhbnNmb3JtIiwgIlZlY3RvcjMiLCAiUXVhdGVybmlvbiIsICJJbnRlcnBvbGF0aW9uVHlwZSIsICJwcmlvcml0eSIsICJ0aW1lcnMiLCAiVG9nZ2xlU3RhdGUiLCAidGltZXJzIiwgInRvZ2dsZXMiLCAiVHJhbnNmb3JtIiwgIlZlY3RvcjMiLCAiUXVhdGVybmlvbiIsICJUcmFuc2Zvcm0iLCAiUXVhdGVybmlvbiIsICJUcmFuc2Zvcm0iLCAiVmVjdG9yMyIsICJRdWF0ZXJuaW9uIiwgIlRyYW5zZm9ybSIsICJNZXNoUmVuZGVyZXIiLCAiVmVjdG9yMyIsICJDb2xvcjMiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgImNhbGxiYWNrIiwgImFjdGlvbnMiLCAiR2x0ZkNvbnRhaW5lciIsICJUcmFuc2Zvcm0iLCAiVmVjdG9yMyIsICJRdWF0ZXJuaW9uIiwgIlBvaW50ZXJFdmVudHMiLCAiZW50aXR5IiwgIlZpc2liaWxpdHlDb21wb25lbnQiLCAiVHJhbnNmb3JtIiwgIkdsdGZDb250YWluZXIiLCAiVmVjdG9yMyIsICJRdWF0ZXJuaW9uIiwgIkF2YXRhckF0dGFjaCIsICJQb2ludGVyRXZlbnRzIiwgIlRyYW5zZm9ybSIsICJRdWF0ZXJuaW9uIiwgIlZlY3RvcjMiLCAiUG9pbnRlckV2ZW50cyIsICJHUk9VTkRfSEVJR0hUIiwgIlZlY3RvcjMiLCAiTWVzaENvbGxpZGVyIiwgIkdsdGZDb250YWluZXIiLCAiVHJhbnNmb3JtIiwgIlF1YXRlcm5pb24iLCAiaW1wb3J0X0VuZ2luZUFwaSIsICJyZW5kZXJlclRyYW5zcG9ydCIsICJzZW5kQmF0Y2giXQp9Cg==
